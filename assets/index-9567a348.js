var YGe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mmt=YGe((E1,b1)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xbe={exports:{}},nH={},wbe={exports:{}},uo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO=Symbol.for("react.element"),$Ge=Symbol.for("react.portal"),QGe=Symbol.for("react.fragment"),JGe=Symbol.for("react.strict_mode"),ZGe=Symbol.for("react.profiler"),eVe=Symbol.for("react.provider"),tVe=Symbol.for("react.context"),nVe=Symbol.for("react.forward_ref"),rVe=Symbol.for("react.suspense"),iVe=Symbol.for("react.memo"),aVe=Symbol.for("react.lazy"),E_e=Symbol.iterator;function oVe(t){return t===null||typeof t!="object"?null:(t=E_e&&t[E_e]||t["@@iterator"],typeof t=="function"?t:null)}var Ebe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bbe=Object.assign,Cbe={};function ZM(t,e,n){this.props=t,this.context=e,this.refs=Cbe,this.updater=n||Ebe}ZM.prototype.isReactComponent={};ZM.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ZM.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Abe(){}Abe.prototype=ZM.prototype;function CQ(t,e,n){this.props=t,this.context=e,this.refs=Cbe,this.updater=n||Ebe}var AQ=CQ.prototype=new Abe;AQ.constructor=CQ;bbe(AQ,ZM.prototype);AQ.isPureReactComponent=!0;var b_e=Array.isArray,Tbe=Object.prototype.hasOwnProperty,TQ={current:null},Mbe={key:!0,ref:!0,__self:!0,__source:!0};function Pbe(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Tbe.call(e,r)&&!Mbe.hasOwnProperty(r)&&(i[r]=e[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var h=Array(d),v=0;v<d;v++)h[v]=arguments[v+2];i.children=h}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:GO,type:t,key:o,ref:l,props:i,_owner:TQ.current}}function sVe(t,e){return{$$typeof:GO,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function MQ(t){return typeof t=="object"&&t!==null&&t.$$typeof===GO}function lVe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C_e=/\/+/g;function iq(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lVe(""+t.key):e.toString(36)}function I3(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case GO:case $Ge:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+iq(l,0):r,b_e(i)?(n="",t!=null&&(n=t.replace(C_e,"$&/")+"/"),I3(i,e,n,"",function(v){return v})):i!=null&&(MQ(i)&&(i=sVe(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C_e,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",b_e(t))for(var d=0;d<t.length;d++){o=t[d];var h=r+iq(o,d);l+=I3(o,e,n,h,i)}else if(h=oVe(t),typeof h=="function")for(t=h.call(t),d=0;!(o=t.next()).done;)o=o.value,h=r+iq(o,d++),l+=I3(o,e,n,h,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function l5(t,e,n){if(t==null)return t;var r=[],i=0;return I3(t,r,"","",function(o){return e.call(n,o,i++)}),r}function uVe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hp={current:null},k3={transition:null},cVe={ReactCurrentDispatcher:Hp,ReactCurrentBatchConfig:k3,ReactCurrentOwner:TQ};uo.Children={map:l5,forEach:function(t,e,n){l5(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return l5(t,function(){e++}),e},toArray:function(t){return l5(t,function(e){return e})||[]},only:function(t){if(!MQ(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};uo.Component=ZM;uo.Fragment=QGe;uo.Profiler=ZGe;uo.PureComponent=CQ;uo.StrictMode=JGe;uo.Suspense=rVe;uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cVe;uo.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bbe({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=TQ.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(h in e)Tbe.call(e,h)&&!Mbe.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&d!==void 0?d[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){d=Array(h);for(var v=0;v<h;v++)d[v]=arguments[v+2];r.children=d}return{$$typeof:GO,type:t.type,key:i,ref:o,props:r,_owner:l}};uo.createContext=function(t){return t={$$typeof:tVe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eVe,_context:t},t.Consumer=t};uo.createElement=Pbe;uo.createFactory=function(t){var e=Pbe.bind(null,t);return e.type=t,e};uo.createRef=function(){return{current:null}};uo.forwardRef=function(t){return{$$typeof:nVe,render:t}};uo.isValidElement=MQ;uo.lazy=function(t){return{$$typeof:aVe,_payload:{_status:-1,_result:t},_init:uVe}};uo.memo=function(t,e){return{$$typeof:iVe,type:t,compare:e===void 0?null:e}};uo.startTransition=function(t){var e=k3.transition;k3.transition={};try{t()}finally{k3.transition=e}};uo.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};uo.useCallback=function(t,e){return Hp.current.useCallback(t,e)};uo.useContext=function(t){return Hp.current.useContext(t)};uo.useDebugValue=function(){};uo.useDeferredValue=function(t){return Hp.current.useDeferredValue(t)};uo.useEffect=function(t,e){return Hp.current.useEffect(t,e)};uo.useId=function(){return Hp.current.useId()};uo.useImperativeHandle=function(t,e,n){return Hp.current.useImperativeHandle(t,e,n)};uo.useInsertionEffect=function(t,e){return Hp.current.useInsertionEffect(t,e)};uo.useLayoutEffect=function(t,e){return Hp.current.useLayoutEffect(t,e)};uo.useMemo=function(t,e){return Hp.current.useMemo(t,e)};uo.useReducer=function(t,e,n){return Hp.current.useReducer(t,e,n)};uo.useRef=function(t){return Hp.current.useRef(t)};uo.useState=function(t){return Hp.current.useState(t)};uo.useSyncExternalStore=function(t,e,n){return Hp.current.useSyncExternalStore(t,e,n)};uo.useTransition=function(){return Hp.current.useTransition()};uo.version="18.2.0";wbe.exports=uo;var St=wbe.exports;const eP=tH(St);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fVe=St,dVe=Symbol.for("react.element"),hVe=Symbol.for("react.fragment"),pVe=Object.prototype.hasOwnProperty,mVe=fVe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vVe={key:!0,ref:!0,__self:!0,__source:!0};function Rbe(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)pVe.call(e,r)&&!vVe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dVe,type:t,key:o,ref:l,props:i,_owner:mVe.current}}nH.Fragment=hVe;nH.jsx=Rbe;nH.jsxs=Rbe;xbe.exports=nH;var vr=xbe.exports,oY={},Ibe={exports:{}},Ev={},kbe={exports:{}},Dbe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_e,Se){var we=_e.length;_e.push(Se);e:for(;0<we;){var Pe=we-1>>>1,be=_e[Pe];if(0<i(be,Se))_e[Pe]=Se,_e[we]=be,we=Pe;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var Se=_e[0],we=_e.pop();if(we!==Se){_e[0]=we;e:for(var Pe=0,be=_e.length,Ce=be>>>1;Pe<Ce;){var qe=2*(Pe+1)-1,mt=_e[qe],We=qe+1,Mt=_e[We];if(0>i(mt,we))We<be&&0>i(Mt,mt)?(_e[Pe]=Mt,_e[We]=we,Pe=We):(_e[Pe]=mt,_e[qe]=we,Pe=qe);else if(We<be&&0>i(Mt,we))_e[Pe]=Mt,_e[We]=we,Pe=We;else break e}}return Se}function i(_e,Se){var we=_e.sortIndex-Se.sortIndex;return we!==0?we:_e.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],v=[],S=1,x=null,A=3,T=!1,R=!1,G=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(_e){for(var Se=n(v);Se!==null;){if(Se.callback===null)r(v);else if(Se.startTime<=_e)r(v),Se.sortIndex=Se.expirationTime,e(h,Se);else break;Se=n(v)}}function W(_e){if(G=!1,F(_e),!R)if(n(h)!==null)R=!0,ut(U);else{var Se=n(v);Se!==null&&st(W,Se.startTime-_e)}}function U(_e,Se){R=!1,G&&(G=!1,w(fe),fe=-1),T=!0;var we=A;try{for(F(Se),x=n(h);x!==null&&(!(x.expirationTime>Se)||_e&&!Te());){var Pe=x.callback;if(typeof Pe=="function"){x.callback=null,A=x.priorityLevel;var be=Pe(x.expirationTime<=Se);Se=t.unstable_now(),typeof be=="function"?x.callback=be:x===n(h)&&r(h),F(Se)}else r(h);x=n(h)}if(x!==null)var Ce=!0;else{var qe=n(v);qe!==null&&st(W,qe.startTime-Se),Ce=!1}return Ce}finally{x=null,A=we,T=!1}}var Q=!1,de=null,fe=-1,Z=5,he=-1;function Te(){return!(t.unstable_now()-he<Z)}function je(){if(de!==null){var _e=t.unstable_now();he=_e;var Se=!0;try{Se=de(!0,_e)}finally{Se?Ke():(Q=!1,de=null)}}else Q=!1}var Ke;if(typeof L=="function")Ke=function(){L(je)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ge=Le.port2;Le.port1.onmessage=je,Ke=function(){Ge.postMessage(null)}}else Ke=function(){j(je,0)};function ut(_e){de=_e,Q||(Q=!0,Ke())}function st(_e,Se){fe=j(function(){_e(t.unstable_now())},Se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,ut(U))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(_e){switch(A){case 1:case 2:case 3:var Se=3;break;default:Se=A}var we=A;A=Se;try{return _e()}finally{A=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,Se){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var we=A;A=_e;try{return Se()}finally{A=we}},t.unstable_scheduleCallback=function(_e,Se,we){var Pe=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Pe+we:Pe):we=Pe,_e){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=we+be,_e={id:S++,callback:Se,priorityLevel:_e,startTime:we,expirationTime:be,sortIndex:-1},we>Pe?(_e.sortIndex=we,e(v,_e),n(h)===null&&_e===n(v)&&(G?(w(fe),fe=-1):G=!0,st(W,we-Pe))):(_e.sortIndex=be,e(h,_e),R||T||(R=!0,ut(U))),_e},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(_e){var Se=A;return function(){var we=A;A=Se;try{return _e.apply(this,arguments)}finally{A=we}}}})(Dbe);kbe.exports=Dbe;var gVe=kbe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Obe=St,Sv=gVe;function sr(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bbe=new Set,eO={};function Db(t,e){IM(t,e),IM(t+"Capture",e)}function IM(t,e){for(eO[t]=e,t=0;t<e.length;t++)Bbe.add(e[t])}var P1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sY=Object.prototype.hasOwnProperty,yVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A_e={},T_e={};function _Ve(t){return sY.call(T_e,t)?!0:sY.call(A_e,t)?!1:yVe.test(t)?T_e[t]=!0:(A_e[t]=!0,!1)}function SVe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xVe(t,e,n,r){if(e===null||typeof e>"u"||SVe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jp(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ih={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ih[t]=new jp(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ih[e]=new jp(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ih[t]=new jp(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ih[t]=new jp(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ih[t]=new jp(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ih[t]=new jp(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ih[t]=new jp(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ih[t]=new jp(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ih[t]=new jp(t,5,!1,t.toLowerCase(),null,!1,!1)});var PQ=/[\-:]([a-z])/g;function RQ(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PQ,RQ);ih[e]=new jp(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PQ,RQ);ih[e]=new jp(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PQ,RQ);ih[e]=new jp(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ih[t]=new jp(t,1,!1,t.toLowerCase(),null,!1,!1)});ih.xlinkHref=new jp("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ih[t]=new jp(t,1,!1,t.toLowerCase(),null,!0,!0)});function IQ(t,e,n,r){var i=ih.hasOwnProperty(e)?ih[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xVe(e,n,i,r)&&(n=null),r||i===null?_Ve(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var L1=Obe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u5=Symbol.for("react.element"),$T=Symbol.for("react.portal"),QT=Symbol.for("react.fragment"),kQ=Symbol.for("react.strict_mode"),lY=Symbol.for("react.profiler"),Lbe=Symbol.for("react.provider"),Nbe=Symbol.for("react.context"),DQ=Symbol.for("react.forward_ref"),uY=Symbol.for("react.suspense"),cY=Symbol.for("react.suspense_list"),OQ=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),Fbe=Symbol.for("react.offscreen"),M_e=Symbol.iterator;function Gk(t){return t===null||typeof t!="object"?null:(t=M_e&&t[M_e]||t["@@iterator"],typeof t=="function"?t:null)}var Ru=Object.assign,aq;function bD(t){if(aq===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);aq=e&&e[1]||""}return`
`+aq+t}var oq=!1;function sq(t,e){if(!t||oq)return"";oq=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var r=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){r=v}t.call(e.prototype)}else{try{throw Error()}catch(v){r=v}t()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d]){var h=`
`+i[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=d);break}}}finally{oq=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bD(t):""}function wVe(t){switch(t.tag){case 5:return bD(t.type);case 16:return bD("Lazy");case 13:return bD("Suspense");case 19:return bD("SuspenseList");case 0:case 2:case 15:return t=sq(t.type,!1),t;case 11:return t=sq(t.type.render,!1),t;case 1:return t=sq(t.type,!0),t;default:return""}}function fY(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case QT:return"Fragment";case $T:return"Portal";case lY:return"Profiler";case kQ:return"StrictMode";case uY:return"Suspense";case cY:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nbe:return(t.displayName||"Context")+".Consumer";case Lbe:return(t._context.displayName||"Context")+".Provider";case DQ:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OQ:return e=t.displayName||null,e!==null?e:fY(t.type)||"Memo";case ox:e=t._payload,t=t._init;try{return fY(t(e))}catch{}}return null}function EVe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fY(e);case 8:return e===kQ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dx(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ube(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bVe(t){var e=Ube(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function c5(t){t._valueTracker||(t._valueTracker=bVe(t))}function zbe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ube(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function r4(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dY(t,e){var n=e.checked;return Ru({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P_e(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dx(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hbe(t,e){e=e.checked,e!=null&&IQ(t,"checked",e,!1)}function hY(t,e){Hbe(t,e);var n=Dx(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pY(t,e.type,n):e.hasOwnProperty("defaultValue")&&pY(t,e.type,Dx(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_e(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pY(t,e,n){(e!=="number"||r4(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var CD=Array.isArray;function yM(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dx(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mY(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(sr(91));return Ru({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I_e(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(sr(92));if(CD(n)){if(1<n.length)throw Error(sr(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dx(n)}}function jbe(t,e){var n=Dx(e.value),r=Dx(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function k_e(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gbe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vY(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gbe(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var f5,Vbe=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(f5=f5||document.createElement("div"),f5.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=f5.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tO(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kD={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CVe=["Webkit","ms","Moz","O"];Object.keys(kD).forEach(function(t){CVe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kD[e]=kD[t]})});function Wbe(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kD.hasOwnProperty(t)&&kD[t]?(""+e).trim():e+"px"}function Kbe(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wbe(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AVe=Ru({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gY(t,e){if(e){if(AVe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(sr(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(sr(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(sr(61))}if(e.style!=null&&typeof e.style!="object")throw Error(sr(62))}}function yY(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _Y=null;function BQ(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SY=null,_M=null,SM=null;function D_e(t){if(t=KO(t)){if(typeof SY!="function")throw Error(sr(280));var e=t.stateNode;e&&(e=sH(e),SY(t.stateNode,t.type,e))}}function qbe(t){_M?SM?SM.push(t):SM=[t]:_M=t}function Xbe(){if(_M){var t=_M,e=SM;if(SM=_M=null,D_e(t),e)for(t=0;t<e.length;t++)D_e(e[t])}}function Ybe(t,e){return t(e)}function $be(){}var lq=!1;function Qbe(t,e,n){if(lq)return t(e,n);lq=!0;try{return Ybe(t,e,n)}finally{lq=!1,(_M!==null||SM!==null)&&($be(),Xbe())}}function nO(t,e){var n=t.stateNode;if(n===null)return null;var r=sH(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(sr(231,e,typeof n));return n}var xY=!1;if(P1)try{var Vk={};Object.defineProperty(Vk,"passive",{get:function(){xY=!0}}),window.addEventListener("test",Vk,Vk),window.removeEventListener("test",Vk,Vk)}catch{xY=!1}function TVe(t,e,n,r,i,o,l,d,h){var v=Array.prototype.slice.call(arguments,3);try{e.apply(n,v)}catch(S){this.onError(S)}}var DD=!1,i4=null,a4=!1,wY=null,MVe={onError:function(t){DD=!0,i4=t}};function PVe(t,e,n,r,i,o,l,d,h){DD=!1,i4=null,TVe.apply(MVe,arguments)}function RVe(t,e,n,r,i,o,l,d,h){if(PVe.apply(this,arguments),DD){if(DD){var v=i4;DD=!1,i4=null}else throw Error(sr(198));a4||(a4=!0,wY=v)}}function Ob(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jbe(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O_e(t){if(Ob(t)!==t)throw Error(sr(188))}function IVe(t){var e=t.alternate;if(!e){if(e=Ob(t),e===null)throw Error(sr(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return O_e(i),t;if(o===r)return O_e(i),e;o=o.sibling}throw Error(sr(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,d=i.child;d;){if(d===n){l=!0,n=i,r=o;break}if(d===r){l=!0,r=i,n=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===n){l=!0,n=o,r=i;break}if(d===r){l=!0,r=o,n=i;break}d=d.sibling}if(!l)throw Error(sr(189))}}if(n.alternate!==r)throw Error(sr(190))}if(n.tag!==3)throw Error(sr(188));return n.stateNode.current===n?t:e}function Zbe(t){return t=IVe(t),t!==null?eCe(t):null}function eCe(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eCe(t);if(e!==null)return e;t=t.sibling}return null}var tCe=Sv.unstable_scheduleCallback,B_e=Sv.unstable_cancelCallback,kVe=Sv.unstable_shouldYield,DVe=Sv.unstable_requestPaint,Dc=Sv.unstable_now,OVe=Sv.unstable_getCurrentPriorityLevel,LQ=Sv.unstable_ImmediatePriority,nCe=Sv.unstable_UserBlockingPriority,o4=Sv.unstable_NormalPriority,BVe=Sv.unstable_LowPriority,rCe=Sv.unstable_IdlePriority,rH=null,Dy=null;function LVe(t){if(Dy&&typeof Dy.onCommitFiberRoot=="function")try{Dy.onCommitFiberRoot(rH,t,void 0,(t.current.flags&128)===128)}catch{}}var p0=Math.clz32?Math.clz32:UVe,NVe=Math.log,FVe=Math.LN2;function UVe(t){return t>>>=0,t===0?32:31-(NVe(t)/FVe|0)|0}var d5=64,h5=4194304;function AD(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function s4(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var d=l&~i;d!==0?r=AD(d):(o&=l,o!==0&&(r=AD(o)))}else l=n&~i,l!==0?r=AD(l):o!==0&&(r=AD(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-p0(e),i=1<<n,r|=t[n],e&=~i;return r}function zVe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HVe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-p0(o),d=1<<l,h=i[l];h===-1?(!(d&n)||d&r)&&(i[l]=zVe(d,e)):h<=e&&(t.expiredLanes|=d),o&=~d}}function EY(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iCe(){var t=d5;return d5<<=1,!(d5&4194240)&&(d5=64),t}function uq(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function VO(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-p0(e),t[e]=n}function jVe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-p0(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function NQ(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-p0(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ms=0;function aCe(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oCe,FQ,sCe,lCe,uCe,bY=!1,p5=[],gx=null,yx=null,_x=null,rO=new Map,iO=new Map,fx=[],GVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L_e(t,e){switch(t){case"focusin":case"focusout":gx=null;break;case"dragenter":case"dragleave":yx=null;break;case"mouseover":case"mouseout":_x=null;break;case"pointerover":case"pointerout":rO.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iO.delete(e.pointerId)}}function Wk(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=KO(e),e!==null&&FQ(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VVe(t,e,n,r,i){switch(e){case"focusin":return gx=Wk(gx,t,e,n,r,i),!0;case"dragenter":return yx=Wk(yx,t,e,n,r,i),!0;case"mouseover":return _x=Wk(_x,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return rO.set(o,Wk(rO.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,iO.set(o,Wk(iO.get(o)||null,t,e,n,r,i)),!0}return!1}function cCe(t){var e=sb(t.target);if(e!==null){var n=Ob(e);if(n!==null){if(e=n.tag,e===13){if(e=Jbe(n),e!==null){t.blockedOn=e,uCe(t.priority,function(){sCe(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function D3(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=CY(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_Y=r,n.target.dispatchEvent(r),_Y=null}else return e=KO(n),e!==null&&FQ(e),t.blockedOn=n,!1;e.shift()}return!0}function N_e(t,e,n){D3(t)&&n.delete(e)}function WVe(){bY=!1,gx!==null&&D3(gx)&&(gx=null),yx!==null&&D3(yx)&&(yx=null),_x!==null&&D3(_x)&&(_x=null),rO.forEach(N_e),iO.forEach(N_e)}function Kk(t,e){t.blockedOn===e&&(t.blockedOn=null,bY||(bY=!0,Sv.unstable_scheduleCallback(Sv.unstable_NormalPriority,WVe)))}function aO(t){function e(i){return Kk(i,t)}if(0<p5.length){Kk(p5[0],t);for(var n=1;n<p5.length;n++){var r=p5[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gx!==null&&Kk(gx,t),yx!==null&&Kk(yx,t),_x!==null&&Kk(_x,t),rO.forEach(e),iO.forEach(e),n=0;n<fx.length;n++)r=fx[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fx.length&&(n=fx[0],n.blockedOn===null);)cCe(n),n.blockedOn===null&&fx.shift()}var xM=L1.ReactCurrentBatchConfig,l4=!0;function KVe(t,e,n,r){var i=Ms,o=xM.transition;xM.transition=null;try{Ms=1,UQ(t,e,n,r)}finally{Ms=i,xM.transition=o}}function qVe(t,e,n,r){var i=Ms,o=xM.transition;xM.transition=null;try{Ms=4,UQ(t,e,n,r)}finally{Ms=i,xM.transition=o}}function UQ(t,e,n,r){if(l4){var i=CY(t,e,n,r);if(i===null)_q(t,e,r,u4,n),L_e(t,r);else if(VVe(i,t,e,n,r))r.stopPropagation();else if(L_e(t,r),e&4&&-1<GVe.indexOf(t)){for(;i!==null;){var o=KO(i);if(o!==null&&oCe(o),o=CY(t,e,n,r),o===null&&_q(t,e,r,u4,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _q(t,e,r,null,n)}}var u4=null;function CY(t,e,n,r){if(u4=null,t=BQ(r),t=sb(t),t!==null)if(e=Ob(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jbe(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return u4=t,null}function fCe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OVe()){case LQ:return 1;case nCe:return 4;case o4:case BVe:return 16;case rCe:return 536870912;default:return 16}default:return 16}}var hx=null,zQ=null,O3=null;function dCe(){if(O3)return O3;var t,e=zQ,n=e.length,r,i="value"in hx?hx.value:hx.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return O3=i.slice(t,1<r?1-r:void 0)}function B3(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function m5(){return!0}function F_e(){return!1}function bv(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?m5:F_e,this.isPropagationStopped=F_e,this}return Ru(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m5)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m5)},persist:function(){},isPersistent:m5}),e}var tP={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HQ=bv(tP),WO=Ru({},tP,{view:0,detail:0}),XVe=bv(WO),cq,fq,qk,iH=Ru({},WO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jQ,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qk&&(qk&&t.type==="mousemove"?(cq=t.screenX-qk.screenX,fq=t.screenY-qk.screenY):fq=cq=0,qk=t),cq)},movementY:function(t){return"movementY"in t?t.movementY:fq}}),U_e=bv(iH),YVe=Ru({},iH,{dataTransfer:0}),$Ve=bv(YVe),QVe=Ru({},WO,{relatedTarget:0}),dq=bv(QVe),JVe=Ru({},tP,{animationName:0,elapsedTime:0,pseudoElement:0}),ZVe=bv(JVe),e7e=Ru({},tP,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t7e=bv(e7e),n7e=Ru({},tP,{data:0}),z_e=bv(n7e),r7e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i7e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a7e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o7e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a7e[t])?!!e[t]:!1}function jQ(){return o7e}var s7e=Ru({},WO,{key:function(t){if(t.key){var e=r7e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=B3(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i7e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jQ,charCode:function(t){return t.type==="keypress"?B3(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?B3(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l7e=bv(s7e),u7e=Ru({},iH,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_e=bv(u7e),c7e=Ru({},WO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jQ}),f7e=bv(c7e),d7e=Ru({},tP,{propertyName:0,elapsedTime:0,pseudoElement:0}),h7e=bv(d7e),p7e=Ru({},iH,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m7e=bv(p7e),v7e=[9,13,27,32],GQ=P1&&"CompositionEvent"in window,OD=null;P1&&"documentMode"in document&&(OD=document.documentMode);var g7e=P1&&"TextEvent"in window&&!OD,hCe=P1&&(!GQ||OD&&8<OD&&11>=OD),j_e=String.fromCharCode(32),G_e=!1;function pCe(t,e){switch(t){case"keyup":return v7e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mCe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var JT=!1;function y7e(t,e){switch(t){case"compositionend":return mCe(e);case"keypress":return e.which!==32?null:(G_e=!0,j_e);case"textInput":return t=e.data,t===j_e&&G_e?null:t;default:return null}}function _7e(t,e){if(JT)return t==="compositionend"||!GQ&&pCe(t,e)?(t=dCe(),O3=zQ=hx=null,JT=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hCe&&e.locale!=="ko"?null:e.data;default:return null}}var S7e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_e(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S7e[t.type]:e==="textarea"}function vCe(t,e,n,r){qbe(r),e=c4(e,"onChange"),0<e.length&&(n=new HQ("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var BD=null,oO=null;function x7e(t){TCe(t,0)}function aH(t){var e=tM(t);if(zbe(e))return t}function w7e(t,e){if(t==="change")return e}var gCe=!1;if(P1){var hq;if(P1){var pq="oninput"in document;if(!pq){var W_e=document.createElement("div");W_e.setAttribute("oninput","return;"),pq=typeof W_e.oninput=="function"}hq=pq}else hq=!1;gCe=hq&&(!document.documentMode||9<document.documentMode)}function K_e(){BD&&(BD.detachEvent("onpropertychange",yCe),oO=BD=null)}function yCe(t){if(t.propertyName==="value"&&aH(oO)){var e=[];vCe(e,oO,t,BQ(t)),Qbe(x7e,e)}}function E7e(t,e,n){t==="focusin"?(K_e(),BD=e,oO=n,BD.attachEvent("onpropertychange",yCe)):t==="focusout"&&K_e()}function b7e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return aH(oO)}function C7e(t,e){if(t==="click")return aH(e)}function A7e(t,e){if(t==="input"||t==="change")return aH(e)}function T7e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g0=typeof Object.is=="function"?Object.is:T7e;function sO(t,e){if(g0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sY.call(e,i)||!g0(t[i],e[i]))return!1}return!0}function q_e(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X_e(t,e){var n=q_e(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q_e(n)}}function _Ce(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_Ce(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SCe(){for(var t=window,e=r4();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=r4(t.document)}return e}function VQ(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M7e(t){var e=SCe(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_Ce(n.ownerDocument.documentElement,n)){if(r!==null&&VQ(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=X_e(n,o);var l=X_e(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P7e=P1&&"documentMode"in document&&11>=document.documentMode,ZT=null,AY=null,LD=null,TY=!1;function Y_e(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;TY||ZT==null||ZT!==r4(r)||(r=ZT,"selectionStart"in r&&VQ(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),LD&&sO(LD,r)||(LD=r,r=c4(AY,"onSelect"),0<r.length&&(e=new HQ("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ZT)))}function v5(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eM={animationend:v5("Animation","AnimationEnd"),animationiteration:v5("Animation","AnimationIteration"),animationstart:v5("Animation","AnimationStart"),transitionend:v5("Transition","TransitionEnd")},mq={},xCe={};P1&&(xCe=document.createElement("div").style,"AnimationEvent"in window||(delete eM.animationend.animation,delete eM.animationiteration.animation,delete eM.animationstart.animation),"TransitionEvent"in window||delete eM.transitionend.transition);function oH(t){if(mq[t])return mq[t];if(!eM[t])return t;var e=eM[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xCe)return mq[t]=e[n];return t}var wCe=oH("animationend"),ECe=oH("animationiteration"),bCe=oH("animationstart"),CCe=oH("transitionend"),ACe=new Map,$_e="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wx(t,e){ACe.set(t,e),Db(e,[t])}for(var vq=0;vq<$_e.length;vq++){var gq=$_e[vq],R7e=gq.toLowerCase(),I7e=gq[0].toUpperCase()+gq.slice(1);Wx(R7e,"on"+I7e)}Wx(wCe,"onAnimationEnd");Wx(ECe,"onAnimationIteration");Wx(bCe,"onAnimationStart");Wx("dblclick","onDoubleClick");Wx("focusin","onFocus");Wx("focusout","onBlur");Wx(CCe,"onTransitionEnd");IM("onMouseEnter",["mouseout","mouseover"]);IM("onMouseLeave",["mouseout","mouseover"]);IM("onPointerEnter",["pointerout","pointerover"]);IM("onPointerLeave",["pointerout","pointerover"]);Db("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Db("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Db("onBeforeInput",["compositionend","keypress","textInput","paste"]);Db("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Db("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Db("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var TD="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k7e=new Set("cancel close invalid load scroll toggle".split(" ").concat(TD));function Q_e(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RVe(r,e,void 0,t),t.currentTarget=null}function TCe(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var d=r[l],h=d.instance,v=d.currentTarget;if(d=d.listener,h!==o&&i.isPropagationStopped())break e;Q_e(i,d,v),o=h}else for(l=0;l<r.length;l++){if(d=r[l],h=d.instance,v=d.currentTarget,d=d.listener,h!==o&&i.isPropagationStopped())break e;Q_e(i,d,v),o=h}}}if(a4)throw t=wY,a4=!1,wY=null,t}function Nl(t,e){var n=e[kY];n===void 0&&(n=e[kY]=new Set);var r=t+"__bubble";n.has(r)||(MCe(e,t,2,!1),n.add(r))}function yq(t,e,n){var r=0;e&&(r|=4),MCe(n,t,r,e)}var g5="_reactListening"+Math.random().toString(36).slice(2);function lO(t){if(!t[g5]){t[g5]=!0,Bbe.forEach(function(n){n!=="selectionchange"&&(k7e.has(n)||yq(n,!1,t),yq(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[g5]||(e[g5]=!0,yq("selectionchange",!1,e))}}function MCe(t,e,n,r){switch(fCe(e)){case 1:var i=KVe;break;case 4:i=qVe;break;default:i=UQ}n=i.bind(null,e,n,t),i=void 0,!xY||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _q(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;l=l.return}for(;d!==null;){if(l=sb(d),l===null)return;if(h=l.tag,h===5||h===6){r=o=l;continue e}d=d.parentNode}}r=r.return}Qbe(function(){var v=o,S=BQ(n),x=[];e:{var A=ACe.get(t);if(A!==void 0){var T=HQ,R=t;switch(t){case"keypress":if(B3(n)===0)break e;case"keydown":case"keyup":T=l7e;break;case"focusin":R="focus",T=dq;break;case"focusout":R="blur",T=dq;break;case"beforeblur":case"afterblur":T=dq;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=U_e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=$Ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=f7e;break;case wCe:case ECe:case bCe:T=ZVe;break;case CCe:T=h7e;break;case"scroll":T=XVe;break;case"wheel":T=m7e;break;case"copy":case"cut":case"paste":T=t7e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=H_e}var G=(e&4)!==0,j=!G&&t==="scroll",w=G?A!==null?A+"Capture":null:A;G=[];for(var L=v,F;L!==null;){F=L;var W=F.stateNode;if(F.tag===5&&W!==null&&(F=W,w!==null&&(W=nO(L,w),W!=null&&G.push(uO(L,W,F)))),j)break;L=L.return}0<G.length&&(A=new T(A,R,null,n,S),x.push({event:A,listeners:G}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",A&&n!==_Y&&(R=n.relatedTarget||n.fromElement)&&(sb(R)||R[R1]))break e;if((T||A)&&(A=S.window===S?S:(A=S.ownerDocument)?A.defaultView||A.parentWindow:window,T?(R=n.relatedTarget||n.toElement,T=v,R=R?sb(R):null,R!==null&&(j=Ob(R),R!==j||R.tag!==5&&R.tag!==6)&&(R=null)):(T=null,R=v),T!==R)){if(G=U_e,W="onMouseLeave",w="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(G=H_e,W="onPointerLeave",w="onPointerEnter",L="pointer"),j=T==null?A:tM(T),F=R==null?A:tM(R),A=new G(W,L+"leave",T,n,S),A.target=j,A.relatedTarget=F,W=null,sb(S)===v&&(G=new G(w,L+"enter",R,n,S),G.target=F,G.relatedTarget=j,W=G),j=W,T&&R)t:{for(G=T,w=R,L=0,F=G;F;F=gT(F))L++;for(F=0,W=w;W;W=gT(W))F++;for(;0<L-F;)G=gT(G),L--;for(;0<F-L;)w=gT(w),F--;for(;L--;){if(G===w||w!==null&&G===w.alternate)break t;G=gT(G),w=gT(w)}G=null}else G=null;T!==null&&J_e(x,A,T,G,!1),R!==null&&j!==null&&J_e(x,j,R,G,!0)}}e:{if(A=v?tM(v):window,T=A.nodeName&&A.nodeName.toLowerCase(),T==="select"||T==="input"&&A.type==="file")var U=w7e;else if(V_e(A))if(gCe)U=A7e;else{U=b7e;var Q=E7e}else(T=A.nodeName)&&T.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(U=C7e);if(U&&(U=U(t,v))){vCe(x,U,n,S);break e}Q&&Q(t,A,v),t==="focusout"&&(Q=A._wrapperState)&&Q.controlled&&A.type==="number"&&pY(A,"number",A.value)}switch(Q=v?tM(v):window,t){case"focusin":(V_e(Q)||Q.contentEditable==="true")&&(ZT=Q,AY=v,LD=null);break;case"focusout":LD=AY=ZT=null;break;case"mousedown":TY=!0;break;case"contextmenu":case"mouseup":case"dragend":TY=!1,Y_e(x,n,S);break;case"selectionchange":if(P7e)break;case"keydown":case"keyup":Y_e(x,n,S)}var de;if(GQ)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else JT?pCe(t,n)&&(fe="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(hCe&&n.locale!=="ko"&&(JT||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&JT&&(de=dCe()):(hx=S,zQ="value"in hx?hx.value:hx.textContent,JT=!0)),Q=c4(v,fe),0<Q.length&&(fe=new z_e(fe,t,null,n,S),x.push({event:fe,listeners:Q}),de?fe.data=de:(de=mCe(n),de!==null&&(fe.data=de)))),(de=g7e?y7e(t,n):_7e(t,n))&&(v=c4(v,"onBeforeInput"),0<v.length&&(S=new z_e("onBeforeInput","beforeinput",null,n,S),x.push({event:S,listeners:v}),S.data=de))}TCe(x,e)})}function uO(t,e,n){return{instance:t,listener:e,currentTarget:n}}function c4(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=nO(t,n),o!=null&&r.unshift(uO(t,o,i)),o=nO(t,e),o!=null&&r.push(uO(t,o,i))),t=t.return}return r}function gT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J_e(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var d=n,h=d.alternate,v=d.stateNode;if(h!==null&&h===r)break;d.tag===5&&v!==null&&(d=v,i?(h=nO(n,o),h!=null&&l.unshift(uO(n,h,d))):i||(h=nO(n,o),h!=null&&l.push(uO(n,h,d)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var D7e=/\r\n?/g,O7e=/\u0000|\uFFFD/g;function Z_e(t){return(typeof t=="string"?t:""+t).replace(D7e,`
`).replace(O7e,"")}function y5(t,e,n){if(e=Z_e(e),Z_e(t)!==e&&n)throw Error(sr(425))}function f4(){}var MY=null,PY=null;function RY(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IY=typeof setTimeout=="function"?setTimeout:void 0,B7e=typeof clearTimeout=="function"?clearTimeout:void 0,e1e=typeof Promise=="function"?Promise:void 0,L7e=typeof queueMicrotask=="function"?queueMicrotask:typeof e1e<"u"?function(t){return e1e.resolve(null).then(t).catch(N7e)}:IY;function N7e(t){setTimeout(function(){throw t})}function Sq(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),aO(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);aO(e)}function Sx(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t1e(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nP=Math.random().toString(36).slice(2),My="__reactFiber$"+nP,cO="__reactProps$"+nP,R1="__reactContainer$"+nP,kY="__reactEvents$"+nP,F7e="__reactListeners$"+nP,U7e="__reactHandles$"+nP;function sb(t){var e=t[My];if(e)return e;for(var n=t.parentNode;n;){if(e=n[R1]||n[My]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t1e(t);t!==null;){if(n=t[My])return n;t=t1e(t)}return e}t=n,n=t.parentNode}return null}function KO(t){return t=t[My]||t[R1],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tM(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(sr(33))}function sH(t){return t[cO]||null}var DY=[],nM=-1;function Kx(t){return{current:t}}function Hl(t){0>nM||(t.current=DY[nM],DY[nM]=null,nM--)}function wl(t,e){nM++,DY[nM]=t.current,t.current=e}var Ox={},$h=Kx(Ox),Tm=Kx(!1),bb=Ox;function kM(t,e){var n=t.type.contextTypes;if(!n)return Ox;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mm(t){return t=t.childContextTypes,t!=null}function d4(){Hl(Tm),Hl($h)}function n1e(t,e,n){if($h.current!==Ox)throw Error(sr(168));wl($h,e),wl(Tm,n)}function PCe(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(sr(108,EVe(t)||"Unknown",i));return Ru({},n,r)}function h4(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ox,bb=$h.current,wl($h,t),wl(Tm,Tm.current),!0}function r1e(t,e,n){var r=t.stateNode;if(!r)throw Error(sr(169));n?(t=PCe(t,e,bb),r.__reactInternalMemoizedMergedChildContext=t,Hl(Tm),Hl($h),wl($h,t)):Hl(Tm),wl(Tm,n)}var m1=null,lH=!1,xq=!1;function RCe(t){m1===null?m1=[t]:m1.push(t)}function z7e(t){lH=!0,RCe(t)}function qx(){if(!xq&&m1!==null){xq=!0;var t=0,e=Ms;try{var n=m1;for(Ms=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}m1=null,lH=!1}catch(i){throw m1!==null&&(m1=m1.slice(t+1)),tCe(LQ,qx),i}finally{Ms=e,xq=!1}}return null}var rM=[],iM=0,p4=null,m4=0,fg=[],dg=0,Cb=null,g1=1,y1="";function $E(t,e){rM[iM++]=m4,rM[iM++]=p4,p4=t,m4=e}function ICe(t,e,n){fg[dg++]=g1,fg[dg++]=y1,fg[dg++]=Cb,Cb=t;var r=g1;t=y1;var i=32-p0(r)-1;r&=~(1<<i),n+=1;var o=32-p0(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,g1=1<<32-p0(e)+i|n<<i|r,y1=o+t}else g1=1<<o|n<<i|r,y1=t}function WQ(t){t.return!==null&&($E(t,1),ICe(t,1,0))}function KQ(t){for(;t===p4;)p4=rM[--iM],rM[iM]=null,m4=rM[--iM],rM[iM]=null;for(;t===Cb;)Cb=fg[--dg],fg[dg]=null,y1=fg[--dg],fg[dg]=null,g1=fg[--dg],fg[dg]=null}var yv=null,mv=null,au=!1,d0=null;function kCe(t,e){var n=pg(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i1e(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yv=t,mv=Sx(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yv=t,mv=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cb!==null?{id:g1,overflow:y1}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pg(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yv=t,mv=null,!0):!1;default:return!1}}function OY(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BY(t){if(au){var e=mv;if(e){var n=e;if(!i1e(t,e)){if(OY(t))throw Error(sr(418));e=Sx(n.nextSibling);var r=yv;e&&i1e(t,e)?kCe(r,n):(t.flags=t.flags&-4097|2,au=!1,yv=t)}}else{if(OY(t))throw Error(sr(418));t.flags=t.flags&-4097|2,au=!1,yv=t}}}function a1e(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yv=t}function _5(t){if(t!==yv)return!1;if(!au)return a1e(t),au=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RY(t.type,t.memoizedProps)),e&&(e=mv)){if(OY(t))throw DCe(),Error(sr(418));for(;e;)kCe(t,e),e=Sx(e.nextSibling)}if(a1e(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(sr(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mv=Sx(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mv=null}}else mv=yv?Sx(t.stateNode.nextSibling):null;return!0}function DCe(){for(var t=mv;t;)t=Sx(t.nextSibling)}function DM(){mv=yv=null,au=!1}function qQ(t){d0===null?d0=[t]:d0.push(t)}var H7e=L1.ReactCurrentBatchConfig;function l0(t,e){if(t&&t.defaultProps){e=Ru({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var v4=Kx(null),g4=null,aM=null,XQ=null;function YQ(){XQ=aM=g4=null}function $Q(t){var e=v4.current;Hl(v4),t._currentValue=e}function LY(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wM(t,e){g4=t,XQ=aM=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cm=!0),t.firstContext=null)}function _g(t){var e=t._currentValue;if(XQ!==t)if(t={context:t,memoizedValue:e,next:null},aM===null){if(g4===null)throw Error(sr(308));aM=t,g4.dependencies={lanes:0,firstContext:t}}else aM=aM.next=t;return e}var lb=null;function QQ(t){lb===null?lb=[t]:lb.push(t)}function OCe(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,QQ(e)):(n.next=i.next,i.next=n),e.interleaved=n,I1(t,r)}function I1(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sx=!1;function JQ(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BCe(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function C1(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xx(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Io&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,I1(t,n)}return i=r.interleaved,i===null?(e.next=e,QQ(r)):(e.next=i.next,i.next=e),r.interleaved=e,I1(t,n)}function L3(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NQ(t,n)}}function o1e(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function y4(t,e,n,r){var i=t.updateQueue;sx=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var h=d,v=h.next;h.next=null,l===null?o=v:l.next=v,l=h;var S=t.alternate;S!==null&&(S=S.updateQueue,d=S.lastBaseUpdate,d!==l&&(d===null?S.firstBaseUpdate=v:d.next=v,S.lastBaseUpdate=h))}if(o!==null){var x=i.baseState;l=0,S=v=h=null,d=o;do{var A=d.lane,T=d.eventTime;if((r&A)===A){S!==null&&(S=S.next={eventTime:T,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var R=t,G=d;switch(A=e,T=n,G.tag){case 1:if(R=G.payload,typeof R=="function"){x=R.call(T,x,A);break e}x=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=G.payload,A=typeof R=="function"?R.call(T,x,A):R,A==null)break e;x=Ru({},x,A);break e;case 2:sx=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[d]:A.push(d))}else T={eventTime:T,lane:A,tag:d.tag,payload:d.payload,callback:d.callback,next:null},S===null?(v=S=T,h=x):S=S.next=T,l|=A;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;A=d,d=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(1);if(S===null&&(h=x),i.baseState=h,i.firstBaseUpdate=v,i.lastBaseUpdate=S,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Tb|=l,t.lanes=l,t.memoizedState=x}}function s1e(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(sr(191,i));i.call(r)}}}var LCe=new Obe.Component().refs;function NY(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ru({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uH={isMounted:function(t){return(t=t._reactInternals)?Ob(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zp(),i=Ex(t),o=C1(r,i);o.payload=e,n!=null&&(o.callback=n),e=xx(t,o,i),e!==null&&(m0(e,t,i,r),L3(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zp(),i=Ex(t),o=C1(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xx(t,o,i),e!==null&&(m0(e,t,i,r),L3(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zp(),r=Ex(t),i=C1(n,r);i.tag=2,e!=null&&(i.callback=e),e=xx(t,i,r),e!==null&&(m0(e,t,r,n),L3(e,t,r))}};function l1e(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!sO(n,r)||!sO(i,o):!0}function NCe(t,e,n){var r=!1,i=Ox,o=e.contextType;return typeof o=="object"&&o!==null?o=_g(o):(i=Mm(e)?bb:$h.current,r=e.contextTypes,o=(r=r!=null)?kM(t,i):Ox),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uH,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function u1e(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uH.enqueueReplaceState(e,e.state,null)}function FY(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=LCe,JQ(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=_g(o):(o=Mm(e)?bb:$h.current,i.context=kM(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(NY(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uH.enqueueReplaceState(i,i.state,null),y4(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xk(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(sr(309));var r=n.stateNode}if(!r)throw Error(sr(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var d=i.refs;d===LCe&&(d=i.refs={}),l===null?delete d[o]:d[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(sr(284));if(!n._owner)throw Error(sr(290,t))}return t}function S5(t,e){throw t=Object.prototype.toString.call(e),Error(sr(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c1e(t){var e=t._init;return e(t._payload)}function FCe(t){function e(w,L){if(t){var F=w.deletions;F===null?(w.deletions=[L],w.flags|=16):F.push(L)}}function n(w,L){if(!t)return null;for(;L!==null;)e(w,L),L=L.sibling;return null}function r(w,L){for(w=new Map;L!==null;)L.key!==null?w.set(L.key,L):w.set(L.index,L),L=L.sibling;return w}function i(w,L){return w=bx(w,L),w.index=0,w.sibling=null,w}function o(w,L,F){return w.index=F,t?(F=w.alternate,F!==null?(F=F.index,F<L?(w.flags|=2,L):F):(w.flags|=2,L)):(w.flags|=1048576,L)}function l(w){return t&&w.alternate===null&&(w.flags|=2),w}function d(w,L,F,W){return L===null||L.tag!==6?(L=Mq(F,w.mode,W),L.return=w,L):(L=i(L,F),L.return=w,L)}function h(w,L,F,W){var U=F.type;return U===QT?S(w,L,F.props.children,W,F.key):L!==null&&(L.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ox&&c1e(U)===L.type)?(W=i(L,F.props),W.ref=Xk(w,L,F),W.return=w,W):(W=j3(F.type,F.key,F.props,null,w.mode,W),W.ref=Xk(w,L,F),W.return=w,W)}function v(w,L,F,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Pq(F,w.mode,W),L.return=w,L):(L=i(L,F.children||[]),L.return=w,L)}function S(w,L,F,W,U){return L===null||L.tag!==7?(L=yb(F,w.mode,W,U),L.return=w,L):(L=i(L,F),L.return=w,L)}function x(w,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Mq(""+L,w.mode,F),L.return=w,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case u5:return F=j3(L.type,L.key,L.props,null,w.mode,F),F.ref=Xk(w,null,L),F.return=w,F;case $T:return L=Pq(L,w.mode,F),L.return=w,L;case ox:var W=L._init;return x(w,W(L._payload),F)}if(CD(L)||Gk(L))return L=yb(L,w.mode,F,null),L.return=w,L;S5(w,L)}return null}function A(w,L,F,W){var U=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return U!==null?null:d(w,L,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u5:return F.key===U?h(w,L,F,W):null;case $T:return F.key===U?v(w,L,F,W):null;case ox:return U=F._init,A(w,L,U(F._payload),W)}if(CD(F)||Gk(F))return U!==null?null:S(w,L,F,W,null);S5(w,F)}return null}function T(w,L,F,W,U){if(typeof W=="string"&&W!==""||typeof W=="number")return w=w.get(F)||null,d(L,w,""+W,U);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case u5:return w=w.get(W.key===null?F:W.key)||null,h(L,w,W,U);case $T:return w=w.get(W.key===null?F:W.key)||null,v(L,w,W,U);case ox:var Q=W._init;return T(w,L,F,Q(W._payload),U)}if(CD(W)||Gk(W))return w=w.get(F)||null,S(L,w,W,U,null);S5(L,W)}return null}function R(w,L,F,W){for(var U=null,Q=null,de=L,fe=L=0,Z=null;de!==null&&fe<F.length;fe++){de.index>fe?(Z=de,de=null):Z=de.sibling;var he=A(w,de,F[fe],W);if(he===null){de===null&&(de=Z);break}t&&de&&he.alternate===null&&e(w,de),L=o(he,L,fe),Q===null?U=he:Q.sibling=he,Q=he,de=Z}if(fe===F.length)return n(w,de),au&&$E(w,fe),U;if(de===null){for(;fe<F.length;fe++)de=x(w,F[fe],W),de!==null&&(L=o(de,L,fe),Q===null?U=de:Q.sibling=de,Q=de);return au&&$E(w,fe),U}for(de=r(w,de);fe<F.length;fe++)Z=T(de,w,fe,F[fe],W),Z!==null&&(t&&Z.alternate!==null&&de.delete(Z.key===null?fe:Z.key),L=o(Z,L,fe),Q===null?U=Z:Q.sibling=Z,Q=Z);return t&&de.forEach(function(Te){return e(w,Te)}),au&&$E(w,fe),U}function G(w,L,F,W){var U=Gk(F);if(typeof U!="function")throw Error(sr(150));if(F=U.call(F),F==null)throw Error(sr(151));for(var Q=U=null,de=L,fe=L=0,Z=null,he=F.next();de!==null&&!he.done;fe++,he=F.next()){de.index>fe?(Z=de,de=null):Z=de.sibling;var Te=A(w,de,he.value,W);if(Te===null){de===null&&(de=Z);break}t&&de&&Te.alternate===null&&e(w,de),L=o(Te,L,fe),Q===null?U=Te:Q.sibling=Te,Q=Te,de=Z}if(he.done)return n(w,de),au&&$E(w,fe),U;if(de===null){for(;!he.done;fe++,he=F.next())he=x(w,he.value,W),he!==null&&(L=o(he,L,fe),Q===null?U=he:Q.sibling=he,Q=he);return au&&$E(w,fe),U}for(de=r(w,de);!he.done;fe++,he=F.next())he=T(de,w,fe,he.value,W),he!==null&&(t&&he.alternate!==null&&de.delete(he.key===null?fe:he.key),L=o(he,L,fe),Q===null?U=he:Q.sibling=he,Q=he);return t&&de.forEach(function(je){return e(w,je)}),au&&$E(w,fe),U}function j(w,L,F,W){if(typeof F=="object"&&F!==null&&F.type===QT&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case u5:e:{for(var U=F.key,Q=L;Q!==null;){if(Q.key===U){if(U=F.type,U===QT){if(Q.tag===7){n(w,Q.sibling),L=i(Q,F.props.children),L.return=w,w=L;break e}}else if(Q.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ox&&c1e(U)===Q.type){n(w,Q.sibling),L=i(Q,F.props),L.ref=Xk(w,Q,F),L.return=w,w=L;break e}n(w,Q);break}else e(w,Q);Q=Q.sibling}F.type===QT?(L=yb(F.props.children,w.mode,W,F.key),L.return=w,w=L):(W=j3(F.type,F.key,F.props,null,w.mode,W),W.ref=Xk(w,L,F),W.return=w,w=W)}return l(w);case $T:e:{for(Q=F.key;L!==null;){if(L.key===Q)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){n(w,L.sibling),L=i(L,F.children||[]),L.return=w,w=L;break e}else{n(w,L);break}else e(w,L);L=L.sibling}L=Pq(F,w.mode,W),L.return=w,w=L}return l(w);case ox:return Q=F._init,j(w,L,Q(F._payload),W)}if(CD(F))return R(w,L,F,W);if(Gk(F))return G(w,L,F,W);S5(w,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,L!==null&&L.tag===6?(n(w,L.sibling),L=i(L,F),L.return=w,w=L):(n(w,L),L=Mq(F,w.mode,W),L.return=w,w=L),l(w)):n(w,L)}return j}var OM=FCe(!0),UCe=FCe(!1),qO={},Oy=Kx(qO),fO=Kx(qO),dO=Kx(qO);function ub(t){if(t===qO)throw Error(sr(174));return t}function ZQ(t,e){switch(wl(dO,e),wl(fO,t),wl(Oy,qO),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vY(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vY(e,t)}Hl(Oy),wl(Oy,e)}function BM(){Hl(Oy),Hl(fO),Hl(dO)}function zCe(t){ub(dO.current);var e=ub(Oy.current),n=vY(e,t.type);e!==n&&(wl(fO,t),wl(Oy,n))}function eJ(t){fO.current===t&&(Hl(Oy),Hl(fO))}var Cu=Kx(0);function _4(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wq=[];function tJ(){for(var t=0;t<wq.length;t++)wq[t]._workInProgressVersionPrimary=null;wq.length=0}var N3=L1.ReactCurrentDispatcher,Eq=L1.ReactCurrentBatchConfig,Ab=0,Pu=null,Af=null,cd=null,S4=!1,ND=!1,hO=0,j7e=0;function Gh(){throw Error(sr(321))}function nJ(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!g0(t[n],e[n]))return!1;return!0}function rJ(t,e,n,r,i,o){if(Ab=o,Pu=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N3.current=t===null||t.memoizedState===null?K7e:q7e,t=n(r,i),ND){o=0;do{if(ND=!1,hO=0,25<=o)throw Error(sr(301));o+=1,cd=Af=null,e.updateQueue=null,N3.current=X7e,t=n(r,i)}while(ND)}if(N3.current=x4,e=Af!==null&&Af.next!==null,Ab=0,cd=Af=Pu=null,S4=!1,e)throw Error(sr(300));return t}function iJ(){var t=hO!==0;return hO=0,t}function Cy(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cd===null?Pu.memoizedState=cd=t:cd=cd.next=t,cd}function Sg(){if(Af===null){var t=Pu.alternate;t=t!==null?t.memoizedState:null}else t=Af.next;var e=cd===null?Pu.memoizedState:cd.next;if(e!==null)cd=e,Af=t;else{if(t===null)throw Error(sr(310));Af=t,t={memoizedState:Af.memoizedState,baseState:Af.baseState,baseQueue:Af.baseQueue,queue:Af.queue,next:null},cd===null?Pu.memoizedState=cd=t:cd=cd.next=t}return cd}function pO(t,e){return typeof e=="function"?e(t):e}function bq(t){var e=Sg(),n=e.queue;if(n===null)throw Error(sr(311));n.lastRenderedReducer=t;var r=Af,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=l=null,h=null,v=o;do{var S=v.lane;if((Ab&S)===S)h!==null&&(h=h.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:t(r,v.action);else{var x={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};h===null?(d=h=x,l=r):h=h.next=x,Pu.lanes|=S,Tb|=S}v=v.next}while(v!==null&&v!==o);h===null?l=r:h.next=d,g0(r,e.memoizedState)||(Cm=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Pu.lanes|=o,Tb|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cq(t){var e=Sg(),n=e.queue;if(n===null)throw Error(sr(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);g0(o,e.memoizedState)||(Cm=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function HCe(){}function jCe(t,e){var n=Pu,r=Sg(),i=e(),o=!g0(r.memoizedState,i);if(o&&(r.memoizedState=i,Cm=!0),r=r.queue,aJ(WCe.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||cd!==null&&cd.memoizedState.tag&1){if(n.flags|=2048,mO(9,VCe.bind(null,n,r,i,e),void 0,null),fd===null)throw Error(sr(349));Ab&30||GCe(n,e,i)}return i}function GCe(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pu.updateQueue,e===null?(e={lastEffect:null,stores:null},Pu.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VCe(t,e,n,r){e.value=n,e.getSnapshot=r,KCe(e)&&qCe(t)}function WCe(t,e,n){return n(function(){KCe(e)&&qCe(t)})}function KCe(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g0(t,n)}catch{return!0}}function qCe(t){var e=I1(t,1);e!==null&&m0(e,t,1,-1)}function f1e(t){var e=Cy();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pO,lastRenderedState:t},e.queue=t,t=t.dispatch=W7e.bind(null,Pu,t),[e.memoizedState,t]}function mO(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pu.updateQueue,e===null?(e={lastEffect:null,stores:null},Pu.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XCe(){return Sg().memoizedState}function F3(t,e,n,r){var i=Cy();Pu.flags|=t,i.memoizedState=mO(1|e,n,void 0,r===void 0?null:r)}function cH(t,e,n,r){var i=Sg();r=r===void 0?null:r;var o=void 0;if(Af!==null){var l=Af.memoizedState;if(o=l.destroy,r!==null&&nJ(r,l.deps)){i.memoizedState=mO(e,n,o,r);return}}Pu.flags|=t,i.memoizedState=mO(1|e,n,o,r)}function d1e(t,e){return F3(8390656,8,t,e)}function aJ(t,e){return cH(2048,8,t,e)}function YCe(t,e){return cH(4,2,t,e)}function $Ce(t,e){return cH(4,4,t,e)}function QCe(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JCe(t,e,n){return n=n!=null?n.concat([t]):null,cH(4,4,QCe.bind(null,e,t),n)}function oJ(){}function ZCe(t,e){var n=Sg();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nJ(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eAe(t,e){var n=Sg();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nJ(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tAe(t,e,n){return Ab&21?(g0(n,e)||(n=iCe(),Pu.lanes|=n,Tb|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cm=!0),t.memoizedState=n)}function G7e(t,e){var n=Ms;Ms=n!==0&&4>n?n:4,t(!0);var r=Eq.transition;Eq.transition={};try{t(!1),e()}finally{Ms=n,Eq.transition=r}}function nAe(){return Sg().memoizedState}function V7e(t,e,n){var r=Ex(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rAe(t))iAe(e,n);else if(n=OCe(t,e,n,r),n!==null){var i=zp();m0(n,t,r,i),aAe(n,e,r)}}function W7e(t,e,n){var r=Ex(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rAe(t))iAe(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,d=o(l,n);if(i.hasEagerState=!0,i.eagerState=d,g0(d,l)){var h=e.interleaved;h===null?(i.next=i,QQ(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=OCe(t,e,i,r),n!==null&&(i=zp(),m0(n,t,r,i),aAe(n,e,r))}}function rAe(t){var e=t.alternate;return t===Pu||e!==null&&e===Pu}function iAe(t,e){ND=S4=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aAe(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NQ(t,n)}}var x4={readContext:_g,useCallback:Gh,useContext:Gh,useEffect:Gh,useImperativeHandle:Gh,useInsertionEffect:Gh,useLayoutEffect:Gh,useMemo:Gh,useReducer:Gh,useRef:Gh,useState:Gh,useDebugValue:Gh,useDeferredValue:Gh,useTransition:Gh,useMutableSource:Gh,useSyncExternalStore:Gh,useId:Gh,unstable_isNewReconciler:!1},K7e={readContext:_g,useCallback:function(t,e){return Cy().memoizedState=[t,e===void 0?null:e],t},useContext:_g,useEffect:d1e,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,F3(4194308,4,QCe.bind(null,e,t),n)},useLayoutEffect:function(t,e){return F3(4194308,4,t,e)},useInsertionEffect:function(t,e){return F3(4,2,t,e)},useMemo:function(t,e){var n=Cy();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cy();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V7e.bind(null,Pu,t),[r.memoizedState,t]},useRef:function(t){var e=Cy();return t={current:t},e.memoizedState=t},useState:f1e,useDebugValue:oJ,useDeferredValue:function(t){return Cy().memoizedState=t},useTransition:function(){var t=f1e(!1),e=t[0];return t=G7e.bind(null,t[1]),Cy().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pu,i=Cy();if(au){if(n===void 0)throw Error(sr(407));n=n()}else{if(n=e(),fd===null)throw Error(sr(349));Ab&30||GCe(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,d1e(WCe.bind(null,r,o,t),[t]),r.flags|=2048,mO(9,VCe.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cy(),e=fd.identifierPrefix;if(au){var n=y1,r=g1;n=(r&~(1<<32-p0(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hO++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j7e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q7e={readContext:_g,useCallback:ZCe,useContext:_g,useEffect:aJ,useImperativeHandle:JCe,useInsertionEffect:YCe,useLayoutEffect:$Ce,useMemo:eAe,useReducer:bq,useRef:XCe,useState:function(){return bq(pO)},useDebugValue:oJ,useDeferredValue:function(t){var e=Sg();return tAe(e,Af.memoizedState,t)},useTransition:function(){var t=bq(pO)[0],e=Sg().memoizedState;return[t,e]},useMutableSource:HCe,useSyncExternalStore:jCe,useId:nAe,unstable_isNewReconciler:!1},X7e={readContext:_g,useCallback:ZCe,useContext:_g,useEffect:aJ,useImperativeHandle:JCe,useInsertionEffect:YCe,useLayoutEffect:$Ce,useMemo:eAe,useReducer:Cq,useRef:XCe,useState:function(){return Cq(pO)},useDebugValue:oJ,useDeferredValue:function(t){var e=Sg();return Af===null?e.memoizedState=t:tAe(e,Af.memoizedState,t)},useTransition:function(){var t=Cq(pO)[0],e=Sg().memoizedState;return[t,e]},useMutableSource:HCe,useSyncExternalStore:jCe,useId:nAe,unstable_isNewReconciler:!1};function LM(t,e){try{var n="",r=e;do n+=wVe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Aq(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UY(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y7e=typeof WeakMap=="function"?WeakMap:Map;function oAe(t,e,n){n=C1(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){E4||(E4=!0,YY=r),UY(t,e)},n}function sAe(t,e,n){n=C1(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){UY(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){UY(t,e),typeof r!="function"&&(wx===null?wx=new Set([this]):wx.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function h1e(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y7e;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uWe.bind(null,t,e,n),e.then(t,t))}function p1e(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m1e(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=C1(-1,1),e.tag=2,xx(n,e,1))),n.lanes|=1),t)}var $7e=L1.ReactCurrentOwner,Cm=!1;function Np(t,e,n,r){e.child=t===null?UCe(e,null,n,r):OM(e,t.child,n,r)}function v1e(t,e,n,r,i){n=n.render;var o=e.ref;return wM(e,i),r=rJ(t,e,n,r,o,i),n=iJ(),t!==null&&!Cm?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,k1(t,e,i)):(au&&n&&WQ(e),e.flags|=1,Np(t,e,r,i),e.child)}function g1e(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!pJ(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lAe(t,e,o,r,i)):(t=j3(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:sO,n(l,r)&&t.ref===e.ref)return k1(t,e,i)}return e.flags|=1,t=bx(o,r),t.ref=e.ref,t.return=e,e.child=t}function lAe(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(sO(o,r)&&t.ref===e.ref)if(Cm=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Cm=!0);else return e.lanes=t.lanes,k1(t,e,i)}return zY(t,e,n,r,i)}function uAe(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wl(sM,fv),fv|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wl(sM,fv),fv|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,wl(sM,fv),fv|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,wl(sM,fv),fv|=r;return Np(t,e,i,n),e.child}function cAe(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zY(t,e,n,r,i){var o=Mm(n)?bb:$h.current;return o=kM(e,o),wM(e,i),n=rJ(t,e,n,r,o,i),r=iJ(),t!==null&&!Cm?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,k1(t,e,i)):(au&&r&&WQ(e),e.flags|=1,Np(t,e,n,i),e.child)}function y1e(t,e,n,r,i){if(Mm(n)){var o=!0;h4(e)}else o=!1;if(wM(e,i),e.stateNode===null)U3(t,e),NCe(e,n,r),FY(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,d=e.memoizedProps;l.props=d;var h=l.context,v=n.contextType;typeof v=="object"&&v!==null?v=_g(v):(v=Mm(n)?bb:$h.current,v=kM(e,v));var S=n.getDerivedStateFromProps,x=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||h!==v)&&u1e(e,l,r,v),sx=!1;var A=e.memoizedState;l.state=A,y4(e,r,l,i),h=e.memoizedState,d!==r||A!==h||Tm.current||sx?(typeof S=="function"&&(NY(e,n,S,r),h=e.memoizedState),(d=sx||l1e(e,n,d,r,A,h,v))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),l.props=r,l.state=h,l.context=v,r=d):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,BCe(t,e),d=e.memoizedProps,v=e.type===e.elementType?d:l0(e.type,d),l.props=v,x=e.pendingProps,A=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=_g(h):(h=Mm(n)?bb:$h.current,h=kM(e,h));var T=n.getDerivedStateFromProps;(S=typeof T=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==x||A!==h)&&u1e(e,l,r,h),sx=!1,A=e.memoizedState,l.state=A,y4(e,r,l,i);var R=e.memoizedState;d!==x||A!==R||Tm.current||sx?(typeof T=="function"&&(NY(e,n,T,r),R=e.memoizedState),(v=sx||l1e(e,n,v,r,A,R,h)||!1)?(S||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,R,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,R,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),l.props=r,l.state=R,l.context=h,r=v):(typeof l.componentDidUpdate!="function"||d===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),r=!1)}return HY(t,e,n,r,o,i)}function HY(t,e,n,r,i,o){cAe(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&r1e(e,n,!1),k1(t,e,o);r=e.stateNode,$7e.current=e;var d=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=OM(e,t.child,null,o),e.child=OM(e,null,d,o)):Np(t,e,d,o),e.memoizedState=r.state,i&&r1e(e,n,!0),e.child}function fAe(t){var e=t.stateNode;e.pendingContext?n1e(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n1e(t,e.context,!1),ZQ(t,e.containerInfo)}function _1e(t,e,n,r,i){return DM(),qQ(i),e.flags|=256,Np(t,e,n,r),e.child}var jY={dehydrated:null,treeContext:null,retryLane:0};function GY(t){return{baseLanes:t,cachePool:null,transitions:null}}function dAe(t,e,n){var r=e.pendingProps,i=Cu.current,o=!1,l=(e.flags&128)!==0,d;if((d=l)||(d=t!==null&&t.memoizedState===null?!1:(i&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wl(Cu,i&1),t===null)return BY(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=hH(l,r,0,null),t=yb(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=GY(n),e.memoizedState=jY,t):sJ(e,l));if(i=t.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return Q7e(t,e,l,r,d,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,d=i.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=bx(i,h),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=bx(d,o):(o=yb(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?GY(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=jY,r}return o=t.child,t=o.sibling,r=bx(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sJ(t,e){return e=hH({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function x5(t,e,n,r){return r!==null&&qQ(r),OM(e,t.child,null,n),t=sJ(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q7e(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Aq(Error(sr(422))),x5(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hH({mode:"visible",children:r.children},i,0,null),o=yb(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&OM(e,t.child,null,l),e.child.memoizedState=GY(l),e.memoizedState=jY,o);if(!(e.mode&1))return x5(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(sr(419)),r=Aq(o,r,void 0),x5(t,e,l,r)}if(d=(l&t.childLanes)!==0,Cm||d){if(r=fd,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,I1(t,i),m0(r,t,i,-1))}return hJ(),r=Aq(Error(sr(421))),x5(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cWe.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mv=Sx(i.nextSibling),yv=e,au=!0,d0=null,t!==null&&(fg[dg++]=g1,fg[dg++]=y1,fg[dg++]=Cb,g1=t.id,y1=t.overflow,Cb=e),e=sJ(e,r.children),e.flags|=4096,e)}function S1e(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),LY(t.return,e,n)}function Tq(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hAe(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Np(t,e,r.children,n),r=Cu.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S1e(t,n,e);else if(t.tag===19)S1e(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wl(Cu,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_4(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tq(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_4(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tq(e,!0,n,null,o);break;case"together":Tq(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function U3(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function k1(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tb|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(sr(153));if(e.child!==null){for(t=e.child,n=bx(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bx(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J7e(t,e,n){switch(e.tag){case 3:fAe(e),DM();break;case 5:zCe(e);break;case 1:Mm(e.type)&&h4(e);break;case 4:ZQ(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wl(v4,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wl(Cu,Cu.current&1),e.flags|=128,null):n&e.child.childLanes?dAe(t,e,n):(wl(Cu,Cu.current&1),t=k1(t,e,n),t!==null?t.sibling:null);wl(Cu,Cu.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hAe(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wl(Cu,Cu.current),r)break;return null;case 22:case 23:return e.lanes=0,uAe(t,e,n)}return k1(t,e,n)}var pAe,VY,mAe,vAe;pAe=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};VY=function(){};mAe=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ub(Oy.current);var o=null;switch(n){case"input":i=dY(t,i),r=dY(t,r),o=[];break;case"select":i=Ru({},i,{value:void 0}),r=Ru({},r,{value:void 0}),o=[];break;case"textarea":i=mY(t,i),r=mY(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=f4)}gY(n,r);var l;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var d=i[v];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(eO.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var h=r[v];if(d=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&h!==d&&(h!=null||d!=null))if(v==="style")if(d){for(l in d)!d.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&d[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(v,n)),n=h;else v==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(o=o||[]).push(v,h)):v==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(v,""+h):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(eO.hasOwnProperty(v)?(h!=null&&v==="onScroll"&&Nl("scroll",t),o||d===h||(o=[])):(o=o||[]).push(v,h))}n&&(o=o||[]).push("style",n);var v=o;(e.updateQueue=v)&&(e.flags|=4)}};vAe=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yk(t,e){if(!au)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vh(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z7e(t,e,n){var r=e.pendingProps;switch(KQ(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vh(e),null;case 1:return Mm(e.type)&&d4(),Vh(e),null;case 3:return r=e.stateNode,BM(),Hl(Tm),Hl($h),tJ(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_5(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,d0!==null&&(JY(d0),d0=null))),VY(t,e),Vh(e),null;case 5:eJ(e);var i=ub(dO.current);if(n=e.type,t!==null&&e.stateNode!=null)mAe(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(sr(166));return Vh(e),null}if(t=ub(Oy.current),_5(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[My]=e,r[cO]=o,t=(e.mode&1)!==0,n){case"dialog":Nl("cancel",r),Nl("close",r);break;case"iframe":case"object":case"embed":Nl("load",r);break;case"video":case"audio":for(i=0;i<TD.length;i++)Nl(TD[i],r);break;case"source":Nl("error",r);break;case"img":case"image":case"link":Nl("error",r),Nl("load",r);break;case"details":Nl("toggle",r);break;case"input":P_e(r,o),Nl("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nl("invalid",r);break;case"textarea":I_e(r,o),Nl("invalid",r)}gY(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&y5(r.textContent,d,t),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&y5(r.textContent,d,t),i=["children",""+d]):eO.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Nl("scroll",r)}switch(n){case"input":c5(r),R_e(r,o,!0);break;case"textarea":c5(r),k_e(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=f4)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gbe(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[My]=e,t[cO]=r,pAe(t,e,!1,!1),e.stateNode=t;e:{switch(l=yY(n,r),n){case"dialog":Nl("cancel",t),Nl("close",t),i=r;break;case"iframe":case"object":case"embed":Nl("load",t),i=r;break;case"video":case"audio":for(i=0;i<TD.length;i++)Nl(TD[i],t);i=r;break;case"source":Nl("error",t),i=r;break;case"img":case"image":case"link":Nl("error",t),Nl("load",t),i=r;break;case"details":Nl("toggle",t),i=r;break;case"input":P_e(t,r),i=dY(t,r),Nl("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ru({},r,{value:void 0}),Nl("invalid",t);break;case"textarea":I_e(t,r),i=mY(t,r),Nl("invalid",t);break;default:i=r}gY(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var h=d[o];o==="style"?Kbe(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Vbe(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&tO(t,h):typeof h=="number"&&tO(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(eO.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Nl("scroll",t):h!=null&&IQ(t,o,h,l))}switch(n){case"input":c5(t),R_e(t,r,!1);break;case"textarea":c5(t),k_e(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dx(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?yM(t,!!r.multiple,o,!1):r.defaultValue!=null&&yM(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=f4)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vh(e),null;case 6:if(t&&e.stateNode!=null)vAe(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(sr(166));if(n=ub(dO.current),ub(Oy.current),_5(e)){if(r=e.stateNode,n=e.memoizedProps,r[My]=e,(o=r.nodeValue!==n)&&(t=yv,t!==null))switch(t.tag){case 3:y5(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&y5(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[My]=e,e.stateNode=r}return Vh(e),null;case 13:if(Hl(Cu),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(au&&mv!==null&&e.mode&1&&!(e.flags&128))DCe(),DM(),e.flags|=98560,o=!1;else if(o=_5(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(sr(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(sr(317));o[My]=e}else DM(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vh(e),o=!1}else d0!==null&&(JY(d0),d0=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Cu.current&1?Rf===0&&(Rf=3):hJ())),e.updateQueue!==null&&(e.flags|=4),Vh(e),null);case 4:return BM(),VY(t,e),t===null&&lO(e.stateNode.containerInfo),Vh(e),null;case 10:return $Q(e.type._context),Vh(e),null;case 17:return Mm(e.type)&&d4(),Vh(e),null;case 19:if(Hl(Cu),o=e.memoizedState,o===null)return Vh(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)Yk(o,!1);else{if(Rf!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=_4(t),l!==null){for(e.flags|=128,Yk(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wl(Cu,Cu.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dc()>NM&&(e.flags|=128,r=!0,Yk(o,!1),e.lanes=4194304)}else{if(!r)if(t=_4(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yk(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!au)return Vh(e),null}else 2*Dc()-o.renderingStartTime>NM&&n!==1073741824&&(e.flags|=128,r=!0,Yk(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dc(),e.sibling=null,n=Cu.current,wl(Cu,r?n&1|2:n&1),e):(Vh(e),null);case 22:case 23:return dJ(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fv&1073741824&&(Vh(e),e.subtreeFlags&6&&(e.flags|=8192)):Vh(e),null;case 24:return null;case 25:return null}throw Error(sr(156,e.tag))}function eWe(t,e){switch(KQ(e),e.tag){case 1:return Mm(e.type)&&d4(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return BM(),Hl(Tm),Hl($h),tJ(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eJ(e),null;case 13:if(Hl(Cu),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(sr(340));DM()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hl(Cu),null;case 4:return BM(),null;case 10:return $Q(e.type._context),null;case 22:case 23:return dJ(),null;case 24:return null;default:return null}}var w5=!1,qh=!1,tWe=typeof WeakSet=="function"?WeakSet:Set,ai=null;function oM(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nc(t,e,r)}else n.current=null}function WY(t,e,n){try{n()}catch(r){nc(t,e,r)}}var x1e=!1;function nWe(t,e){if(MY=l4,t=SCe(),VQ(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,d=-1,h=-1,v=0,S=0,x=t,A=null;t:for(;;){for(var T;x!==n||i!==0&&x.nodeType!==3||(d=l+i),x!==o||r!==0&&x.nodeType!==3||(h=l+r),x.nodeType===3&&(l+=x.nodeValue.length),(T=x.firstChild)!==null;)A=x,x=T;for(;;){if(x===t)break t;if(A===n&&++v===i&&(d=l),A===o&&++S===r&&(h=l),(T=x.nextSibling)!==null)break;x=A,A=x.parentNode}x=T}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(PY={focusedElem:t,selectionRange:n},l4=!1,ai=e;ai!==null;)if(e=ai,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ai=t;else for(;ai!==null;){e=ai;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var G=R.memoizedProps,j=R.memoizedState,w=e.stateNode,L=w.getSnapshotBeforeUpdate(e.elementType===e.type?G:l0(e.type,G),j);w.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var F=e.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(sr(163))}}catch(W){nc(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,ai=t;break}ai=e.return}return R=x1e,x1e=!1,R}function FD(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&WY(e,n,o)}i=i.next}while(i!==r)}}function fH(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function KY(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gAe(t){var e=t.alternate;e!==null&&(t.alternate=null,gAe(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[My],delete e[cO],delete e[kY],delete e[F7e],delete e[U7e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yAe(t){return t.tag===5||t.tag===3||t.tag===4}function w1e(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yAe(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qY(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=f4));else if(r!==4&&(t=t.child,t!==null))for(qY(t,e,n),t=t.sibling;t!==null;)qY(t,e,n),t=t.sibling}function XY(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(XY(t,e,n),t=t.sibling;t!==null;)XY(t,e,n),t=t.sibling}var Qd=null,f0=!1;function XS(t,e,n){for(n=n.child;n!==null;)_Ae(t,e,n),n=n.sibling}function _Ae(t,e,n){if(Dy&&typeof Dy.onCommitFiberUnmount=="function")try{Dy.onCommitFiberUnmount(rH,n)}catch{}switch(n.tag){case 5:qh||oM(n,e);case 6:var r=Qd,i=f0;Qd=null,XS(t,e,n),Qd=r,f0=i,Qd!==null&&(f0?(t=Qd,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qd.removeChild(n.stateNode));break;case 18:Qd!==null&&(f0?(t=Qd,n=n.stateNode,t.nodeType===8?Sq(t.parentNode,n):t.nodeType===1&&Sq(t,n),aO(t)):Sq(Qd,n.stateNode));break;case 4:r=Qd,i=f0,Qd=n.stateNode.containerInfo,f0=!0,XS(t,e,n),Qd=r,f0=i;break;case 0:case 11:case 14:case 15:if(!qh&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&WY(n,e,l),i=i.next}while(i!==r)}XS(t,e,n);break;case 1:if(!qh&&(oM(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){nc(n,e,d)}XS(t,e,n);break;case 21:XS(t,e,n);break;case 22:n.mode&1?(qh=(r=qh)||n.memoizedState!==null,XS(t,e,n),qh=r):XS(t,e,n);break;default:XS(t,e,n)}}function E1e(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tWe),e.forEach(function(r){var i=fWe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function n0(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,d=l;e:for(;d!==null;){switch(d.tag){case 5:Qd=d.stateNode,f0=!1;break e;case 3:Qd=d.stateNode.containerInfo,f0=!0;break e;case 4:Qd=d.stateNode.containerInfo,f0=!0;break e}d=d.return}if(Qd===null)throw Error(sr(160));_Ae(o,l,i),Qd=null,f0=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(v){nc(i,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SAe(e,t),e=e.sibling}function SAe(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(n0(e,t),Ey(t),r&4){try{FD(3,t,t.return),fH(3,t)}catch(G){nc(t,t.return,G)}try{FD(5,t,t.return)}catch(G){nc(t,t.return,G)}}break;case 1:n0(e,t),Ey(t),r&512&&n!==null&&oM(n,n.return);break;case 5:if(n0(e,t),Ey(t),r&512&&n!==null&&oM(n,n.return),t.flags&32){var i=t.stateNode;try{tO(i,"")}catch(G){nc(t,t.return,G)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,d=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&Hbe(i,o),yY(d,l);var v=yY(d,o);for(l=0;l<h.length;l+=2){var S=h[l],x=h[l+1];S==="style"?Kbe(i,x):S==="dangerouslySetInnerHTML"?Vbe(i,x):S==="children"?tO(i,x):IQ(i,S,x,v)}switch(d){case"input":hY(i,o);break;case"textarea":jbe(i,o);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?yM(i,!!o.multiple,T,!1):A!==!!o.multiple&&(o.defaultValue!=null?yM(i,!!o.multiple,o.defaultValue,!0):yM(i,!!o.multiple,o.multiple?[]:"",!1))}i[cO]=o}catch(G){nc(t,t.return,G)}}break;case 6:if(n0(e,t),Ey(t),r&4){if(t.stateNode===null)throw Error(sr(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(G){nc(t,t.return,G)}}break;case 3:if(n0(e,t),Ey(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aO(e.containerInfo)}catch(G){nc(t,t.return,G)}break;case 4:n0(e,t),Ey(t);break;case 13:n0(e,t),Ey(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cJ=Dc())),r&4&&E1e(t);break;case 22:if(S=n!==null&&n.memoizedState!==null,t.mode&1?(qh=(v=qh)||S,n0(e,t),qh=v):n0(e,t),Ey(t),r&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!S&&t.mode&1)for(ai=t,S=t.child;S!==null;){for(x=ai=S;ai!==null;){switch(A=ai,T=A.child,A.tag){case 0:case 11:case 14:case 15:FD(4,A,A.return);break;case 1:oM(A,A.return);var R=A.stateNode;if(typeof R.componentWillUnmount=="function"){r=A,n=A.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(G){nc(r,n,G)}}break;case 5:oM(A,A.return);break;case 22:if(A.memoizedState!==null){C1e(x);continue}}T!==null?(T.return=A,ai=T):C1e(x)}S=S.sibling}e:for(S=null,x=t;;){if(x.tag===5){if(S===null){S=x;try{i=x.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=x.stateNode,h=x.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=Wbe("display",l))}catch(G){nc(t,t.return,G)}}}else if(x.tag===6){if(S===null)try{x.stateNode.nodeValue=v?"":x.memoizedProps}catch(G){nc(t,t.return,G)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;S===x&&(S=null),x=x.return}S===x&&(S=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:n0(e,t),Ey(t),r&4&&E1e(t);break;case 21:break;default:n0(e,t),Ey(t)}}function Ey(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yAe(n)){var r=n;break e}n=n.return}throw Error(sr(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tO(i,""),r.flags&=-33);var o=w1e(t);XY(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,d=w1e(t);qY(t,d,l);break;default:throw Error(sr(161))}}catch(h){nc(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rWe(t,e,n){ai=t,xAe(t)}function xAe(t,e,n){for(var r=(t.mode&1)!==0;ai!==null;){var i=ai,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||w5;if(!l){var d=i.alternate,h=d!==null&&d.memoizedState!==null||qh;d=w5;var v=qh;if(w5=l,(qh=h)&&!v)for(ai=i;ai!==null;)l=ai,h=l.child,l.tag===22&&l.memoizedState!==null?A1e(i):h!==null?(h.return=l,ai=h):A1e(i);for(;o!==null;)ai=o,xAe(o),o=o.sibling;ai=i,w5=d,qh=v}b1e(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ai=o):b1e(t)}}function b1e(t){for(;ai!==null;){var e=ai;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qh||fH(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qh)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:l0(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&s1e(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s1e(e,l,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var x=S.dehydrated;x!==null&&aO(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(sr(163))}qh||e.flags&512&&KY(e)}catch(A){nc(e,e.return,A)}}if(e===t){ai=null;break}if(n=e.sibling,n!==null){n.return=e.return,ai=n;break}ai=e.return}}function C1e(t){for(;ai!==null;){var e=ai;if(e===t){ai=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ai=n;break}ai=e.return}}function A1e(t){for(;ai!==null;){var e=ai;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fH(4,e)}catch(h){nc(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){nc(e,i,h)}}var o=e.return;try{KY(e)}catch(h){nc(e,o,h)}break;case 5:var l=e.return;try{KY(e)}catch(h){nc(e,l,h)}}}catch(h){nc(e,e.return,h)}if(e===t){ai=null;break}var d=e.sibling;if(d!==null){d.return=e.return,ai=d;break}ai=e.return}}var iWe=Math.ceil,w4=L1.ReactCurrentDispatcher,lJ=L1.ReactCurrentOwner,mg=L1.ReactCurrentBatchConfig,Io=0,fd=null,rf=null,nh=0,fv=0,sM=Kx(0),Rf=0,vO=null,Tb=0,dH=0,uJ=0,UD=null,Em=null,cJ=0,NM=1/0,d1=null,E4=!1,YY=null,wx=null,E5=!1,px=null,b4=0,zD=0,$Y=null,z3=-1,H3=0;function zp(){return Io&6?Dc():z3!==-1?z3:z3=Dc()}function Ex(t){return t.mode&1?Io&2&&nh!==0?nh&-nh:H7e.transition!==null?(H3===0&&(H3=iCe()),H3):(t=Ms,t!==0||(t=window.event,t=t===void 0?16:fCe(t.type)),t):1}function m0(t,e,n,r){if(50<zD)throw zD=0,$Y=null,Error(sr(185));VO(t,n,r),(!(Io&2)||t!==fd)&&(t===fd&&(!(Io&2)&&(dH|=n),Rf===4&&dx(t,nh)),Pm(t,r),n===1&&Io===0&&!(e.mode&1)&&(NM=Dc()+500,lH&&qx()))}function Pm(t,e){var n=t.callbackNode;HVe(t,e);var r=s4(t,t===fd?nh:0);if(r===0)n!==null&&B_e(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B_e(n),e===1)t.tag===0?z7e(T1e.bind(null,t)):RCe(T1e.bind(null,t)),L7e(function(){!(Io&6)&&qx()}),n=null;else{switch(aCe(r)){case 1:n=LQ;break;case 4:n=nCe;break;case 16:n=o4;break;case 536870912:n=rCe;break;default:n=o4}n=PAe(n,wAe.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wAe(t,e){if(z3=-1,H3=0,Io&6)throw Error(sr(327));var n=t.callbackNode;if(EM()&&t.callbackNode!==n)return null;var r=s4(t,t===fd?nh:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=C4(t,r);else{e=r;var i=Io;Io|=2;var o=bAe();(fd!==t||nh!==e)&&(d1=null,NM=Dc()+500,gb(t,e));do try{sWe();break}catch(d){EAe(t,d)}while(1);YQ(),w4.current=o,Io=i,rf!==null?e=0:(fd=null,nh=0,e=Rf)}if(e!==0){if(e===2&&(i=EY(t),i!==0&&(r=i,e=QY(t,i))),e===1)throw n=vO,gb(t,0),dx(t,r),Pm(t,Dc()),n;if(e===6)dx(t,r);else{if(i=t.current.alternate,!(r&30)&&!aWe(i)&&(e=C4(t,r),e===2&&(o=EY(t),o!==0&&(r=o,e=QY(t,o))),e===1))throw n=vO,gb(t,0),dx(t,r),Pm(t,Dc()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(sr(345));case 2:QE(t,Em,d1);break;case 3:if(dx(t,r),(r&130023424)===r&&(e=cJ+500-Dc(),10<e)){if(s4(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zp(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=IY(QE.bind(null,t,Em,d1),e);break}QE(t,Em,d1);break;case 4:if(dx(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-p0(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=Dc()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iWe(r/1960))-r,10<r){t.timeoutHandle=IY(QE.bind(null,t,Em,d1),r);break}QE(t,Em,d1);break;case 5:QE(t,Em,d1);break;default:throw Error(sr(329))}}}return Pm(t,Dc()),t.callbackNode===n?wAe.bind(null,t):null}function QY(t,e){var n=UD;return t.current.memoizedState.isDehydrated&&(gb(t,e).flags|=256),t=C4(t,e),t!==2&&(e=Em,Em=n,e!==null&&JY(e)),t}function JY(t){Em===null?Em=t:Em.push.apply(Em,t)}function aWe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!g0(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dx(t,e){for(e&=~uJ,e&=~dH,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-p0(e),r=1<<n;t[n]=-1,e&=~r}}function T1e(t){if(Io&6)throw Error(sr(327));EM();var e=s4(t,0);if(!(e&1))return Pm(t,Dc()),null;var n=C4(t,e);if(t.tag!==0&&n===2){var r=EY(t);r!==0&&(e=r,n=QY(t,r))}if(n===1)throw n=vO,gb(t,0),dx(t,e),Pm(t,Dc()),n;if(n===6)throw Error(sr(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,QE(t,Em,d1),Pm(t,Dc()),null}function fJ(t,e){var n=Io;Io|=1;try{return t(e)}finally{Io=n,Io===0&&(NM=Dc()+500,lH&&qx())}}function Mb(t){px!==null&&px.tag===0&&!(Io&6)&&EM();var e=Io;Io|=1;var n=mg.transition,r=Ms;try{if(mg.transition=null,Ms=1,t)return t()}finally{Ms=r,mg.transition=n,Io=e,!(Io&6)&&qx()}}function dJ(){fv=sM.current,Hl(sM)}function gb(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B7e(n)),rf!==null)for(n=rf.return;n!==null;){var r=n;switch(KQ(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&d4();break;case 3:BM(),Hl(Tm),Hl($h),tJ();break;case 5:eJ(r);break;case 4:BM();break;case 13:Hl(Cu);break;case 19:Hl(Cu);break;case 10:$Q(r.type._context);break;case 22:case 23:dJ()}n=n.return}if(fd=t,rf=t=bx(t.current,null),nh=fv=e,Rf=0,vO=null,uJ=dH=Tb=0,Em=UD=null,lb!==null){for(e=0;e<lb.length;e++)if(n=lb[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}lb=null}return t}function EAe(t,e){do{var n=rf;try{if(YQ(),N3.current=x4,S4){for(var r=Pu.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}S4=!1}if(Ab=0,cd=Af=Pu=null,ND=!1,hO=0,lJ.current=null,n===null||n.return===null){Rf=1,vO=e,rf=null;break}e:{var o=t,l=n.return,d=n,h=e;if(e=nh,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var v=h,S=d,x=S.tag;if(!(S.mode&1)&&(x===0||x===11||x===15)){var A=S.alternate;A?(S.updateQueue=A.updateQueue,S.memoizedState=A.memoizedState,S.lanes=A.lanes):(S.updateQueue=null,S.memoizedState=null)}var T=p1e(l);if(T!==null){T.flags&=-257,m1e(T,l,d,o,e),T.mode&1&&h1e(o,v,e),e=T,h=v;var R=e.updateQueue;if(R===null){var G=new Set;G.add(h),e.updateQueue=G}else R.add(h);break e}else{if(!(e&1)){h1e(o,v,e),hJ();break e}h=Error(sr(426))}}else if(au&&d.mode&1){var j=p1e(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),m1e(j,l,d,o,e),qQ(LM(h,d));break e}}o=h=LM(h,d),Rf!==4&&(Rf=2),UD===null?UD=[o]:UD.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=oAe(o,h,e);o1e(o,w);break e;case 1:d=h;var L=o.type,F=o.stateNode;if(!(o.flags&128)&&(typeof L.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(wx===null||!wx.has(F)))){o.flags|=65536,e&=-e,o.lanes|=e;var W=sAe(o,d,e);o1e(o,W);break e}}o=o.return}while(o!==null)}AAe(n)}catch(U){e=U,rf===n&&n!==null&&(rf=n=n.return);continue}break}while(1)}function bAe(){var t=w4.current;return w4.current=x4,t===null?x4:t}function hJ(){(Rf===0||Rf===3||Rf===2)&&(Rf=4),fd===null||!(Tb&268435455)&&!(dH&268435455)||dx(fd,nh)}function C4(t,e){var n=Io;Io|=2;var r=bAe();(fd!==t||nh!==e)&&(d1=null,gb(t,e));do try{oWe();break}catch(i){EAe(t,i)}while(1);if(YQ(),Io=n,w4.current=r,rf!==null)throw Error(sr(261));return fd=null,nh=0,Rf}function oWe(){for(;rf!==null;)CAe(rf)}function sWe(){for(;rf!==null&&!kVe();)CAe(rf)}function CAe(t){var e=MAe(t.alternate,t,fv);t.memoizedProps=t.pendingProps,e===null?AAe(t):rf=e,lJ.current=null}function AAe(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eWe(n,e),n!==null){n.flags&=32767,rf=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rf=6,rf=null;return}}else if(n=Z7e(n,e,fv),n!==null){rf=n;return}if(e=e.sibling,e!==null){rf=e;return}rf=e=t}while(e!==null);Rf===0&&(Rf=5)}function QE(t,e,n){var r=Ms,i=mg.transition;try{mg.transition=null,Ms=1,lWe(t,e,n,r)}finally{mg.transition=i,Ms=r}return null}function lWe(t,e,n,r){do EM();while(px!==null);if(Io&6)throw Error(sr(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(sr(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jVe(t,o),t===fd&&(rf=fd=null,nh=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||E5||(E5=!0,PAe(o4,function(){return EM(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mg.transition,mg.transition=null;var l=Ms;Ms=1;var d=Io;Io|=4,lJ.current=null,nWe(t,n),SAe(n,t),M7e(PY),l4=!!MY,PY=MY=null,t.current=n,rWe(n),DVe(),Io=d,Ms=l,mg.transition=o}else t.current=n;if(E5&&(E5=!1,px=t,b4=i),o=t.pendingLanes,o===0&&(wx=null),LVe(n.stateNode),Pm(t,Dc()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(E4)throw E4=!1,t=YY,YY=null,t;return b4&1&&t.tag!==0&&EM(),o=t.pendingLanes,o&1?t===$Y?zD++:(zD=0,$Y=t):zD=0,qx(),null}function EM(){if(px!==null){var t=aCe(b4),e=mg.transition,n=Ms;try{if(mg.transition=null,Ms=16>t?16:t,px===null)var r=!1;else{if(t=px,px=null,b4=0,Io&6)throw Error(sr(331));var i=Io;for(Io|=4,ai=t.current;ai!==null;){var o=ai,l=o.child;if(ai.flags&16){var d=o.deletions;if(d!==null){for(var h=0;h<d.length;h++){var v=d[h];for(ai=v;ai!==null;){var S=ai;switch(S.tag){case 0:case 11:case 15:FD(8,S,o)}var x=S.child;if(x!==null)x.return=S,ai=x;else for(;ai!==null;){S=ai;var A=S.sibling,T=S.return;if(gAe(S),S===v){ai=null;break}if(A!==null){A.return=T,ai=A;break}ai=T}}}var R=o.alternate;if(R!==null){var G=R.child;if(G!==null){R.child=null;do{var j=G.sibling;G.sibling=null,G=j}while(G!==null)}}ai=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ai=l;else e:for(;ai!==null;){if(o=ai,o.flags&2048)switch(o.tag){case 0:case 11:case 15:FD(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ai=w;break e}ai=o.return}}var L=t.current;for(ai=L;ai!==null;){l=ai;var F=l.child;if(l.subtreeFlags&2064&&F!==null)F.return=l,ai=F;else e:for(l=L;ai!==null;){if(d=ai,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:fH(9,d)}}catch(U){nc(d,d.return,U)}if(d===l){ai=null;break e}var W=d.sibling;if(W!==null){W.return=d.return,ai=W;break e}ai=d.return}}if(Io=i,qx(),Dy&&typeof Dy.onPostCommitFiberRoot=="function")try{Dy.onPostCommitFiberRoot(rH,t)}catch{}r=!0}return r}finally{Ms=n,mg.transition=e}}return!1}function M1e(t,e,n){e=LM(n,e),e=oAe(t,e,1),t=xx(t,e,1),e=zp(),t!==null&&(VO(t,1,e),Pm(t,e))}function nc(t,e,n){if(t.tag===3)M1e(t,t,n);else for(;e!==null;){if(e.tag===3){M1e(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wx===null||!wx.has(r))){t=LM(n,t),t=sAe(e,t,1),e=xx(e,t,1),t=zp(),e!==null&&(VO(e,1,t),Pm(e,t));break}}e=e.return}}function uWe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zp(),t.pingedLanes|=t.suspendedLanes&n,fd===t&&(nh&n)===n&&(Rf===4||Rf===3&&(nh&130023424)===nh&&500>Dc()-cJ?gb(t,0):uJ|=n),Pm(t,e)}function TAe(t,e){e===0&&(t.mode&1?(e=h5,h5<<=1,!(h5&130023424)&&(h5=4194304)):e=1);var n=zp();t=I1(t,e),t!==null&&(VO(t,e,n),Pm(t,n))}function cWe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TAe(t,n)}function fWe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(sr(314))}r!==null&&r.delete(e),TAe(t,n)}var MAe;MAe=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tm.current)Cm=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cm=!1,J7e(t,e,n);Cm=!!(t.flags&131072)}else Cm=!1,au&&e.flags&1048576&&ICe(e,m4,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;U3(t,e),t=e.pendingProps;var i=kM(e,$h.current);wM(e,n),i=rJ(null,e,r,t,i,n);var o=iJ();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mm(r)?(o=!0,h4(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JQ(e),i.updater=uH,e.stateNode=i,i._reactInternals=e,FY(e,r,t,n),e=HY(null,e,r,!0,o,n)):(e.tag=0,au&&o&&WQ(e),Np(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(U3(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hWe(r),t=l0(r,t),i){case 0:e=zY(null,e,r,t,n);break e;case 1:e=y1e(null,e,r,t,n);break e;case 11:e=v1e(null,e,r,t,n);break e;case 14:e=g1e(null,e,r,l0(r.type,t),n);break e}throw Error(sr(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:l0(r,i),zY(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:l0(r,i),y1e(t,e,r,i,n);case 3:e:{if(fAe(e),t===null)throw Error(sr(387));r=e.pendingProps,o=e.memoizedState,i=o.element,BCe(t,e),y4(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=LM(Error(sr(423)),e),e=_1e(t,e,r,n,i);break e}else if(r!==i){i=LM(Error(sr(424)),e),e=_1e(t,e,r,n,i);break e}else for(mv=Sx(e.stateNode.containerInfo.firstChild),yv=e,au=!0,d0=null,n=UCe(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(DM(),r===i){e=k1(t,e,n);break e}Np(t,e,r,n)}e=e.child}return e;case 5:return zCe(e),t===null&&BY(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,RY(r,i)?l=null:o!==null&&RY(r,o)&&(e.flags|=32),cAe(t,e),Np(t,e,l,n),e.child;case 6:return t===null&&BY(e),null;case 13:return dAe(t,e,n);case 4:return ZQ(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=OM(e,null,r,n):Np(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:l0(r,i),v1e(t,e,r,i,n);case 7:return Np(t,e,e.pendingProps,n),e.child;case 8:return Np(t,e,e.pendingProps.children,n),e.child;case 12:return Np(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,wl(v4,r._currentValue),r._currentValue=l,o!==null)if(g0(o.value,l)){if(o.children===i.children&&!Tm.current){e=k1(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var h=d.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=C1(-1,n&-n),h.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?h.next=h:(h.next=S.next,S.next=h),v.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),LY(o.return,n,e),d.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(sr(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),LY(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Np(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wM(e,n),i=_g(i),r=r(i),e.flags|=1,Np(t,e,r,n),e.child;case 14:return r=e.type,i=l0(r,e.pendingProps),i=l0(r.type,i),g1e(t,e,r,i,n);case 15:return lAe(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:l0(r,i),U3(t,e),e.tag=1,Mm(r)?(t=!0,h4(e)):t=!1,wM(e,n),NCe(e,r,i),FY(e,r,i,n),HY(null,e,r,!0,t,n);case 19:return hAe(t,e,n);case 22:return uAe(t,e,n)}throw Error(sr(156,e.tag))};function PAe(t,e){return tCe(t,e)}function dWe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pg(t,e,n,r){return new dWe(t,e,n,r)}function pJ(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hWe(t){if(typeof t=="function")return pJ(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DQ)return 11;if(t===OQ)return 14}return 2}function bx(t,e){var n=t.alternate;return n===null?(n=pg(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function j3(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")pJ(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case QT:return yb(n.children,i,o,e);case kQ:l=8,i|=8;break;case lY:return t=pg(12,n,e,i|2),t.elementType=lY,t.lanes=o,t;case uY:return t=pg(13,n,e,i),t.elementType=uY,t.lanes=o,t;case cY:return t=pg(19,n,e,i),t.elementType=cY,t.lanes=o,t;case Fbe:return hH(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lbe:l=10;break e;case Nbe:l=9;break e;case DQ:l=11;break e;case OQ:l=14;break e;case ox:l=16,r=null;break e}throw Error(sr(130,t==null?t:typeof t,""))}return e=pg(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function yb(t,e,n,r){return t=pg(7,t,r,e),t.lanes=n,t}function hH(t,e,n,r){return t=pg(22,t,r,e),t.elementType=Fbe,t.lanes=n,t.stateNode={isHidden:!1},t}function Mq(t,e,n){return t=pg(6,t,null,e),t.lanes=n,t}function Pq(t,e,n){return e=pg(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pWe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uq(0),this.expirationTimes=uq(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uq(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mJ(t,e,n,r,i,o,l,d,h){return t=new pWe(t,e,n,d,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=pg(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JQ(o),t}function mWe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$T,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RAe(t){if(!t)return Ox;t=t._reactInternals;e:{if(Ob(t)!==t||t.tag!==1)throw Error(sr(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mm(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(sr(171))}if(t.tag===1){var n=t.type;if(Mm(n))return PCe(t,n,e)}return e}function IAe(t,e,n,r,i,o,l,d,h){return t=mJ(n,r,!0,t,i,o,l,d,h),t.context=RAe(null),n=t.current,r=zp(),i=Ex(n),o=C1(r,i),o.callback=e??null,xx(n,o,i),t.current.lanes=i,VO(t,i,r),Pm(t,r),t}function pH(t,e,n,r){var i=e.current,o=zp(),l=Ex(i);return n=RAe(n),e.context===null?e.context=n:e.pendingContext=n,e=C1(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xx(i,e,l),t!==null&&(m0(t,i,l,o),L3(t,i,l)),l}function A4(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P1e(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vJ(t,e){P1e(t,e),(t=t.alternate)&&P1e(t,e)}function vWe(){return null}var kAe=typeof reportError=="function"?reportError:function(t){console.error(t)};function gJ(t){this._internalRoot=t}mH.prototype.render=gJ.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(sr(409));pH(t,e,null,null)};mH.prototype.unmount=gJ.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mb(function(){pH(null,t,null,null)}),e[R1]=null}};function mH(t){this._internalRoot=t}mH.prototype.unstable_scheduleHydration=function(t){if(t){var e=lCe();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fx.length&&e!==0&&e<fx[n].priority;n++);fx.splice(n,0,t),n===0&&cCe(t)}};function yJ(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vH(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R1e(){}function gWe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=A4(l);o.call(v)}}var l=IAe(e,r,t,0,null,!1,!1,"",R1e);return t._reactRootContainer=l,t[R1]=l.current,lO(t.nodeType===8?t.parentNode:t),Mb(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var v=A4(h);d.call(v)}}var h=mJ(t,0,!1,null,null,!1,!1,"",R1e);return t._reactRootContainer=h,t[R1]=h.current,lO(t.nodeType===8?t.parentNode:t),Mb(function(){pH(e,h,n,r)}),h}function gH(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var d=i;i=function(){var h=A4(l);d.call(h)}}pH(e,l,t,i)}else l=gWe(n,e,t,i,r);return A4(l)}oCe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=AD(e.pendingLanes);n!==0&&(NQ(e,n|1),Pm(e,Dc()),!(Io&6)&&(NM=Dc()+500,qx()))}break;case 13:Mb(function(){var r=I1(t,1);if(r!==null){var i=zp();m0(r,t,1,i)}}),vJ(t,1)}};FQ=function(t){if(t.tag===13){var e=I1(t,134217728);if(e!==null){var n=zp();m0(e,t,134217728,n)}vJ(t,134217728)}};sCe=function(t){if(t.tag===13){var e=Ex(t),n=I1(t,e);if(n!==null){var r=zp();m0(n,t,e,r)}vJ(t,e)}};lCe=function(){return Ms};uCe=function(t,e){var n=Ms;try{return Ms=t,e()}finally{Ms=n}};SY=function(t,e,n){switch(e){case"input":if(hY(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sH(r);if(!i)throw Error(sr(90));zbe(r),hY(r,i)}}}break;case"textarea":jbe(t,n);break;case"select":e=n.value,e!=null&&yM(t,!!n.multiple,e,!1)}};Ybe=fJ;$be=Mb;var yWe={usingClientEntryPoint:!1,Events:[KO,tM,sH,qbe,Xbe,fJ]},$k={findFiberByHostInstance:sb,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_We={bundleType:$k.bundleType,version:$k.version,rendererPackageName:$k.rendererPackageName,rendererConfig:$k.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L1.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zbe(t),t===null?null:t.stateNode},findFiberByHostInstance:$k.findFiberByHostInstance||vWe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var b5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b5.isDisabled&&b5.supportsFiber)try{rH=b5.inject(_We),Dy=b5}catch{}}Ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yWe;Ev.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yJ(e))throw Error(sr(200));return mWe(t,e,null,n)};Ev.createRoot=function(t,e){if(!yJ(t))throw Error(sr(299));var n=!1,r="",i=kAe;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mJ(t,1,!1,null,null,n,!1,r,i),t[R1]=e.current,lO(t.nodeType===8?t.parentNode:t),new gJ(e)};Ev.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(sr(188)):(t=Object.keys(t).join(","),Error(sr(268,t)));return t=Zbe(e),t=t===null?null:t.stateNode,t};Ev.flushSync=function(t){return Mb(t)};Ev.hydrate=function(t,e,n){if(!vH(e))throw Error(sr(200));return gH(null,t,e,!0,n)};Ev.hydrateRoot=function(t,e,n){if(!yJ(t))throw Error(sr(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=kAe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=IAe(e,null,t,1,n??null,i,!1,o,l),t[R1]=e.current,lO(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mH(e)};Ev.render=function(t,e,n){if(!vH(e))throw Error(sr(200));return gH(null,t,e,!1,n)};Ev.unmountComponentAtNode=function(t){if(!vH(t))throw Error(sr(40));return t._reactRootContainer?(Mb(function(){gH(null,null,t,!1,function(){t._reactRootContainer=null,t[R1]=null})}),!0):!1};Ev.unstable_batchedUpdates=fJ;Ev.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vH(n))throw Error(sr(200));if(t==null||t._reactInternals===void 0)throw Error(sr(38));return gH(t,e,n,!1,r)};Ev.version="18.2.0-next-9e3b772b8-20220608";function DAe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DAe)}catch(t){console.error(t)}}DAe(),Ibe.exports=Ev;var SWe=Ibe.exports,I1e=SWe;oY.createRoot=I1e.createRoot,oY.hydrateRoot=I1e.hydrateRoot;function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gO.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Bb="153",JE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ZE={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},OAe=0,ZY=1,BAe=2,xWe=3,LAe=0,yH=1,bM=2,u0=3,y0=0,If=1,Mf=2,wWe=2,rh=0,_b=1,e$=2,t$=3,n$=4,NAe=5,ab=100,FAe=101,UAe=102,r$=103,i$=104,zAe=200,HAe=201,jAe=202,GAe=203,_J=204,SJ=205,VAe=206,WAe=207,KAe=208,qAe=209,XAe=210,YAe=0,$Ae=1,QAe=2,T4=3,JAe=4,ZAe=5,eTe=6,tTe=7,XO=0,nTe=1,rTe=2,vg=0,iTe=1,aTe=2,oTe=3,_H=4,sTe=5,SH=300,D1=301,Bx=302,FM=303,yO=304,rP=306,Lx=1e3,eh=1001,UM=1002,Vs=1003,_O=1004,EWe=1004,CM=1005,bWe=1005,as=1006,xH=1007,CWe=1007,zy=1008,AWe=1008,Of=1009,lTe=1010,uTe=1011,wH=1012,xJ=1013,Py=1014,kf=1015,Yh=1016,wJ=1017,EJ=1018,A1=1020,cTe=1021,Up=1023,fTe=1024,dTe=1025,Cx=1026,Nx=1027,bJ=1028,CJ=1029,hTe=1030,AJ=1031,TJ=1033,G3=33776,V3=33777,W3=33778,K3=33779,a$=35840,o$=35841,s$=35842,l$=35843,pTe=36196,u$=37492,c$=37496,f$=37808,d$=37809,h$=37810,p$=37811,m$=37812,v$=37813,g$=37814,y$=37815,_$=37816,S$=37817,x$=37818,w$=37819,E$=37820,b$=37821,q3=36492,mTe=36283,C$=36284,A$=36285,T$=36286,vTe=2200,gTe=2201,yTe=2202,zM=2300,Pb=2301,X3=2302,cb=2400,fb=2401,SO=2402,EH=2500,MJ=2501,_Te=0,PJ=1,M4=2,YO=3e3,gg=3001,xg=3200,HM=3201,Xx=0,STe=1,Ax="",Ta="srgb",_0="srgb-linear",RJ="display-p3",TWe=0,Y3=7680,MWe=7681,PWe=7682,RWe=7683,IWe=34055,kWe=34056,DWe=5386,OWe=512,BWe=513,LWe=514,NWe=515,FWe=516,UWe=517,zWe=518,xTe=519,wTe=512,ETe=513,bTe=514,CTe=515,ATe=516,TTe=517,MTe=518,PTe=519,xO=35044,HWe=35048,jWe=35040,GWe=35045,VWe=35049,WWe=35041,KWe=35046,qWe=35050,XWe=35042,YWe="100",P4="300 es",R4=1035,Ry=2e3,wO=2001;class Cv{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,l=i.length;o<l;o++)i[o].call(this,e);e.target=null}}}const Wh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let k1e=1234567;const Sb=Math.PI/180,jM=180/Math.PI;function _v(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wh[t&255]+Wh[t>>8&255]+Wh[t>>16&255]+Wh[t>>24&255]+"-"+Wh[e&255]+Wh[e>>8&255]+"-"+Wh[e>>16&15|64]+Wh[e>>24&255]+"-"+Wh[n&63|128]+Wh[n>>8&255]+"-"+Wh[n>>16&255]+Wh[n>>24&255]+Wh[r&255]+Wh[r>>8&255]+Wh[r>>16&255]+Wh[r>>24&255]).toLowerCase()}function rc(t,e,n){return Math.max(e,Math.min(n,t))}function IJ(t,e){return(t%e+e)%e}function $We(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function QWe(t,e,n){return t!==e?(n-t)/(e-t):0}function HD(t,e,n){return(1-n)*t+n*e}function JWe(t,e,n,r){return HD(t,e,1-Math.exp(-n*r))}function ZWe(t,e=1){return e-Math.abs(IJ(t,e*2)-e)}function eKe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function tKe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function nKe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function rKe(t,e){return t+Math.random()*(e-t)}function iKe(t){return t*(.5-Math.random())}function aKe(t){t!==void 0&&(k1e=t);let e=k1e+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function oKe(t){return t*Sb}function sKe(t){return t*jM}function M$(t){return(t&t-1)===0&&t!==0}function RTe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function I4(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function lKe(t,e,n,r,i){const o=Math.cos,l=Math.sin,d=o(n/2),h=l(n/2),v=o((e+r)/2),S=l((e+r)/2),x=o((e-r)/2),A=l((e-r)/2),T=o((r-e)/2),R=l((r-e)/2);switch(i){case"XYX":t.set(d*S,h*x,h*A,d*v);break;case"YZY":t.set(h*A,d*S,h*x,d*v);break;case"ZXZ":t.set(h*x,h*A,d*S,d*v);break;case"XZX":t.set(d*S,h*R,h*T,d*v);break;case"YXY":t.set(h*T,d*S,h*R,d*v);break;case"ZYZ":t.set(h*R,h*T,d*S,d*v);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function vv(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ha(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ITe={DEG2RAD:Sb,RAD2DEG:jM,generateUUID:_v,clamp:rc,euclideanModulo:IJ,mapLinear:$We,inverseLerp:QWe,lerp:HD,damp:JWe,pingpong:ZWe,smoothstep:eKe,smootherstep:tKe,randInt:nKe,randFloat:rKe,randFloatSpread:iKe,seededRandom:aKe,degToRad:oKe,radToDeg:sKe,isPowerOfTwo:M$,ceilPowerOfTwo:RTe,floorPowerOfTwo:I4,setQuaternionFromProperEuler:lKe,normalize:Ha,denormalize:vv};class vn{constructor(e=0,n=0){vn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(rc(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*i+e.x,this.y=o*i+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class za{constructor(e,n,r,i,o,l,d,h,v){za.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,l,d,h,v)}set(e,n,r,i,o,l,d,h,v){const S=this.elements;return S[0]=e,S[1]=i,S[2]=d,S[3]=n,S[4]=o,S[5]=h,S[6]=r,S[7]=l,S[8]=v,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,l=r[0],d=r[3],h=r[6],v=r[1],S=r[4],x=r[7],A=r[2],T=r[5],R=r[8],G=i[0],j=i[3],w=i[6],L=i[1],F=i[4],W=i[7],U=i[2],Q=i[5],de=i[8];return o[0]=l*G+d*L+h*U,o[3]=l*j+d*F+h*Q,o[6]=l*w+d*W+h*de,o[1]=v*G+S*L+x*U,o[4]=v*j+S*F+x*Q,o[7]=v*w+S*W+x*de,o[2]=A*G+T*L+R*U,o[5]=A*j+T*F+R*Q,o[8]=A*w+T*W+R*de,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],l=e[4],d=e[5],h=e[6],v=e[7],S=e[8];return n*l*S-n*d*v-r*o*S+r*d*h+i*o*v-i*l*h}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],l=e[4],d=e[5],h=e[6],v=e[7],S=e[8],x=S*l-d*v,A=d*h-S*o,T=v*o-l*h,R=n*x+r*A+i*T;if(R===0)return this.set(0,0,0,0,0,0,0,0,0);const G=1/R;return e[0]=x*G,e[1]=(i*v-S*r)*G,e[2]=(d*r-i*l)*G,e[3]=A*G,e[4]=(S*n-i*h)*G,e[5]=(i*o-d*n)*G,e[6]=T*G,e[7]=(r*h-v*n)*G,e[8]=(l*n-r*o)*G,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,l,d){const h=Math.cos(o),v=Math.sin(o);return this.set(r*h,r*v,-r*(h*l+v*d)+l+e,-i*v,i*h,-i*(-v*l+h*d)+d+n,0,0,1),this}scale(e,n){return this.premultiply(Rq.makeScale(e,n)),this}rotate(e){return this.premultiply(Rq.makeRotation(-e)),this}translate(e,n){return this.premultiply(Rq.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Rq=new za;function kTe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const uKe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function lM(t,e){return new uKe[t](e)}function EO(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const D1e={};function jD(t){t in D1e||(D1e[t]=!0,console.warn(t))}function AM(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Iq(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const cKe=new za().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),fKe=new za().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function dKe(t){return t.convertSRGBToLinear().applyMatrix3(fKe)}function hKe(t){return t.applyMatrix3(cKe).convertLinearToSRGB()}const pKe={[_0]:t=>t,[Ta]:t=>t.convertSRGBToLinear(),[RJ]:dKe},mKe={[_0]:t=>t,[Ta]:t=>t.convertLinearToSRGB(),[RJ]:hKe},lg={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return _0},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=pKe[e],i=mKe[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let yT;class kJ{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{yT===void 0&&(yT=EO("canvas")),yT.width=e.width,yT.height=e.height;const r=yT.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=yT}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=EO("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let l=0;l<o.length;l++)o[l]=AM(o[l]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(AM(n[r]/255)*255):n[r]=AM(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let vKe=0;class db{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:vKe++}),this.uuid=_v(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let l=0,d=i.length;l<d;l++)i[l].isDataTexture?o.push(kq(i[l].image)):o.push(kq(i[l]))}else o=kq(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function kq(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?kJ.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gKe=0;class Ws extends Cv{constructor(e=Ws.DEFAULT_IMAGE,n=Ws.DEFAULT_MAPPING,r=eh,i=eh,o=as,l=zy,d=Up,h=Of,v=Ws.DEFAULT_ANISOTROPY,S=Ax){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gKe++}),this.uuid=_v(),this.name="",this.source=new db(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=l,this.anisotropy=v,this.format=d,this.internalFormat=null,this.type=h,this.offset=new vn(0,0),this.repeat=new vn(1,1),this.center=new vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new za,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof S=="string"?this.colorSpace=S:(jD("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=S===gg?Ta:Ax),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==SH)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Lx:e.x=e.x-Math.floor(e.x);break;case eh:e.x=e.x<0?0:1;break;case UM:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Lx:e.y=e.y-Math.floor(e.y);break;case eh:e.y=e.y<0?0:1;break;case UM:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return jD("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ta?gg:YO}set encoding(e){jD("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===gg?Ta:Ax}}Ws.DEFAULT_IMAGE=null;Ws.DEFAULT_MAPPING=SH;Ws.DEFAULT_ANISOTROPY=1;class go{constructor(e=0,n=0,r=0,i=1){go.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,l=e.elements;return this.x=l[0]*n+l[4]*r+l[8]*i+l[12]*o,this.y=l[1]*n+l[5]*r+l[9]*i+l[13]*o,this.z=l[2]*n+l[6]*r+l[10]*i+l[14]*o,this.w=l[3]*n+l[7]*r+l[11]*i+l[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const h=e.elements,v=h[0],S=h[4],x=h[8],A=h[1],T=h[5],R=h[9],G=h[2],j=h[6],w=h[10];if(Math.abs(S-A)<.01&&Math.abs(x-G)<.01&&Math.abs(R-j)<.01){if(Math.abs(S+A)<.1&&Math.abs(x+G)<.1&&Math.abs(R+j)<.1&&Math.abs(v+T+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const F=(v+1)/2,W=(T+1)/2,U=(w+1)/2,Q=(S+A)/4,de=(x+G)/4,fe=(R+j)/4;return F>W&&F>U?F<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(F),i=Q/r,o=de/r):W>U?W<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(W),r=Q/i,o=fe/i):U<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(U),r=de/o,i=fe/o),this.set(r,i,o,n),this}let L=Math.sqrt((j-R)*(j-R)+(x-G)*(x-G)+(A-S)*(A-S));return Math.abs(L)<.001&&(L=1),this.x=(j-R)/L,this.y=(x-G)/L,this.z=(A-S)/L,this.w=Math.acos((v+T+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class af extends Cv{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new go(0,0,e,n),this.scissorTest=!1,this.viewport=new go(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(jD("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===gg?Ta:Ax),this.texture=new Ws(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:as,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new db(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bH extends Ws{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Vs,this.minFilter=Vs,this.wrapR=eh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yKe extends af{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new bH(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class DJ extends Ws{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Vs,this.minFilter=Vs,this.wrapR=eh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _Ke extends af{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new DJ(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class SKe extends af{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let l=0;l<r;l++)this.texture[l]=o.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class to{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,l,d){let h=r[i+0],v=r[i+1],S=r[i+2],x=r[i+3];const A=o[l+0],T=o[l+1],R=o[l+2],G=o[l+3];if(d===0){e[n+0]=h,e[n+1]=v,e[n+2]=S,e[n+3]=x;return}if(d===1){e[n+0]=A,e[n+1]=T,e[n+2]=R,e[n+3]=G;return}if(x!==G||h!==A||v!==T||S!==R){let j=1-d;const w=h*A+v*T+S*R+x*G,L=w>=0?1:-1,F=1-w*w;if(F>Number.EPSILON){const U=Math.sqrt(F),Q=Math.atan2(U,w*L);j=Math.sin(j*Q)/U,d=Math.sin(d*Q)/U}const W=d*L;if(h=h*j+A*W,v=v*j+T*W,S=S*j+R*W,x=x*j+G*W,j===1-d){const U=1/Math.sqrt(h*h+v*v+S*S+x*x);h*=U,v*=U,S*=U,x*=U}}e[n]=h,e[n+1]=v,e[n+2]=S,e[n+3]=x}static multiplyQuaternionsFlat(e,n,r,i,o,l){const d=r[i],h=r[i+1],v=r[i+2],S=r[i+3],x=o[l],A=o[l+1],T=o[l+2],R=o[l+3];return e[n]=d*R+S*x+h*T-v*A,e[n+1]=h*R+S*A+v*x-d*T,e[n+2]=v*R+S*T+d*A-h*x,e[n+3]=S*R-d*x-h*A-v*T,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,o=e._z,l=e._order,d=Math.cos,h=Math.sin,v=d(r/2),S=d(i/2),x=d(o/2),A=h(r/2),T=h(i/2),R=h(o/2);switch(l){case"XYZ":this._x=A*S*x+v*T*R,this._y=v*T*x-A*S*R,this._z=v*S*R+A*T*x,this._w=v*S*x-A*T*R;break;case"YXZ":this._x=A*S*x+v*T*R,this._y=v*T*x-A*S*R,this._z=v*S*R-A*T*x,this._w=v*S*x+A*T*R;break;case"ZXY":this._x=A*S*x-v*T*R,this._y=v*T*x+A*S*R,this._z=v*S*R+A*T*x,this._w=v*S*x-A*T*R;break;case"ZYX":this._x=A*S*x-v*T*R,this._y=v*T*x+A*S*R,this._z=v*S*R-A*T*x,this._w=v*S*x+A*T*R;break;case"YZX":this._x=A*S*x+v*T*R,this._y=v*T*x+A*S*R,this._z=v*S*R-A*T*x,this._w=v*S*x-A*T*R;break;case"XZY":this._x=A*S*x-v*T*R,this._y=v*T*x-A*S*R,this._z=v*S*R+A*T*x,this._w=v*S*x+A*T*R;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],l=n[1],d=n[5],h=n[9],v=n[2],S=n[6],x=n[10],A=r+d+x;if(A>0){const T=.5/Math.sqrt(A+1);this._w=.25/T,this._x=(S-h)*T,this._y=(o-v)*T,this._z=(l-i)*T}else if(r>d&&r>x){const T=2*Math.sqrt(1+r-d-x);this._w=(S-h)/T,this._x=.25*T,this._y=(i+l)/T,this._z=(o+v)/T}else if(d>x){const T=2*Math.sqrt(1+d-r-x);this._w=(o-v)/T,this._x=(i+l)/T,this._y=.25*T,this._z=(h+S)/T}else{const T=2*Math.sqrt(1+x-r-d);this._w=(l-i)/T,this._x=(o+v)/T,this._y=(h+S)/T,this._z=.25*T}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rc(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,l=e._w,d=n._x,h=n._y,v=n._z,S=n._w;return this._x=r*S+l*d+i*v-o*h,this._y=i*S+l*h+o*d-r*v,this._z=o*S+l*v+r*h-i*d,this._w=l*S-r*d-i*h-o*v,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,l=this._w;let d=l*e._w+r*e._x+i*e._y+o*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=l,this._x=r,this._y=i,this._z=o,this;const h=1-d*d;if(h<=Number.EPSILON){const T=1-n;return this._w=T*l+n*this._w,this._x=T*r+n*this._x,this._y=T*i+n*this._y,this._z=T*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const v=Math.sqrt(h),S=Math.atan2(v,d),x=Math.sin((1-n)*S)/v,A=Math.sin(n*S)/v;return this._w=l*x+this._w*A,this._x=r*x+this._x*A,this._y=i*x+this._y*A,this._z=o*x+this._z*A,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ve{constructor(e=0,n=0,r=0){Ve.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(O1e.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(O1e.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,l=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*l,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*l,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*l,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,l=e.y,d=e.z,h=e.w,v=h*n+l*i-d*r,S=h*r+d*n-o*i,x=h*i+o*r-l*n,A=-o*n-l*r-d*i;return this.x=v*h+A*-o+S*-d-x*-l,this.y=S*h+A*-l+x*-o-v*-d,this.z=x*h+A*-d+v*-l-S*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,l=n.x,d=n.y,h=n.z;return this.x=i*h-o*d,this.y=o*l-r*h,this.z=r*d-i*l,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Dq.copy(this).projectOnVector(e),this.sub(Dq)}reflect(e){return this.sub(Dq.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(rc(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Dq=new Ve,O1e=new to;class S0{constructor(e=new Ve(1/0,1/0,1/0),n=new Ve(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(i1.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(i1.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=i1.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),_T.copy(e.boundingBox),_T.applyMatrix4(e.matrixWorld),this.union(_T);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const o=i.attributes.position;for(let l=0,d=o.count;l<d;l++)i1.fromBufferAttribute(o,l).applyMatrix4(e.matrixWorld),this.expandByPoint(i1)}else i.boundingBox===null&&i.computeBoundingBox(),_T.copy(i.boundingBox),_T.applyMatrix4(e.matrixWorld),this.union(_T)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,i1),i1.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qk),C5.subVectors(this.max,Qk),ST.subVectors(e.a,Qk),xT.subVectors(e.b,Qk),wT.subVectors(e.c,Qk),YS.subVectors(xT,ST),$S.subVectors(wT,xT),LE.subVectors(ST,wT);let n=[0,-YS.z,YS.y,0,-$S.z,$S.y,0,-LE.z,LE.y,YS.z,0,-YS.x,$S.z,0,-$S.x,LE.z,0,-LE.x,-YS.y,YS.x,0,-$S.y,$S.x,0,-LE.y,LE.x,0];return!Oq(n,ST,xT,wT,C5)||(n=[1,0,0,0,1,0,0,0,1],!Oq(n,ST,xT,wT,C5))?!1:(A5.crossVectors(YS,$S),n=[A5.x,A5.y,A5.z],Oq(n,ST,xT,wT,C5))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,i1).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(i1).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(r1[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),r1[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),r1[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),r1[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),r1[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),r1[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),r1[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),r1[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(r1),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const r1=[new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve,new Ve],i1=new Ve,_T=new S0,ST=new Ve,xT=new Ve,wT=new Ve,YS=new Ve,$S=new Ve,LE=new Ve,Qk=new Ve,C5=new Ve,A5=new Ve,NE=new Ve;function Oq(t,e,n,r,i){for(let o=0,l=t.length-3;o<=l;o+=3){NE.fromArray(t,o);const d=i.x*Math.abs(NE.x)+i.y*Math.abs(NE.y)+i.z*Math.abs(NE.z),h=e.dot(NE),v=n.dot(NE),S=r.dot(NE);if(Math.max(-Math.max(h,v,S),Math.min(h,v,S))>d)return!1}return!0}const xKe=new S0,Jk=new Ve,Bq=new Ve;let wg=class{constructor(e=new Ve,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):xKe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,l=e.length;o<l;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jk.subVectors(e,this.center);const n=Jk.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Jk,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Bq.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jk.copy(e.center).add(Bq)),this.expandByPoint(Jk.copy(e.center).sub(Bq))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const a1=new Ve,Lq=new Ve,T5=new Ve,QS=new Ve,Nq=new Ve,M5=new Ve,Fq=new Ve;class iP{constructor(e=new Ve,n=new Ve(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,a1)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=a1.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(a1.copy(this.origin).addScaledVector(this.direction,n),a1.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Lq.copy(e).add(n).multiplyScalar(.5),T5.copy(n).sub(e).normalize(),QS.copy(this.origin).sub(Lq);const o=e.distanceTo(n)*.5,l=-this.direction.dot(T5),d=QS.dot(this.direction),h=-QS.dot(T5),v=QS.lengthSq(),S=Math.abs(1-l*l);let x,A,T,R;if(S>0)if(x=l*h-d,A=l*d-h,R=o*S,x>=0)if(A>=-R)if(A<=R){const G=1/S;x*=G,A*=G,T=x*(x+l*A+2*d)+A*(l*x+A+2*h)+v}else A=o,x=Math.max(0,-(l*A+d)),T=-x*x+A*(A+2*h)+v;else A=-o,x=Math.max(0,-(l*A+d)),T=-x*x+A*(A+2*h)+v;else A<=-R?(x=Math.max(0,-(-l*o+d)),A=x>0?-o:Math.min(Math.max(-o,-h),o),T=-x*x+A*(A+2*h)+v):A<=R?(x=0,A=Math.min(Math.max(-o,-h),o),T=A*(A+2*h)+v):(x=Math.max(0,-(l*o+d)),A=x>0?o:Math.min(Math.max(-o,-h),o),T=-x*x+A*(A+2*h)+v);else A=l>0?-o:o,x=Math.max(0,-(l*A+d)),T=-x*x+A*(A+2*h)+v;return r&&r.copy(this.origin).addScaledVector(this.direction,x),i&&i.copy(Lq).addScaledVector(T5,A),T}intersectSphere(e,n){a1.subVectors(e.center,this.origin);const r=a1.dot(this.direction),i=a1.dot(a1)-r*r,o=e.radius*e.radius;if(i>o)return null;const l=Math.sqrt(o-i),d=r-l,h=r+l;return h<0?null:d<0?this.at(h,n):this.at(d,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,l,d,h;const v=1/this.direction.x,S=1/this.direction.y,x=1/this.direction.z,A=this.origin;return v>=0?(r=(e.min.x-A.x)*v,i=(e.max.x-A.x)*v):(r=(e.max.x-A.x)*v,i=(e.min.x-A.x)*v),S>=0?(o=(e.min.y-A.y)*S,l=(e.max.y-A.y)*S):(o=(e.max.y-A.y)*S,l=(e.min.y-A.y)*S),r>l||o>i||((o>r||isNaN(r))&&(r=o),(l<i||isNaN(i))&&(i=l),x>=0?(d=(e.min.z-A.z)*x,h=(e.max.z-A.z)*x):(d=(e.max.z-A.z)*x,h=(e.min.z-A.z)*x),r>h||d>i)||((d>r||r!==r)&&(r=d),(h<i||i!==i)&&(i=h),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,a1)!==null}intersectTriangle(e,n,r,i,o){Nq.subVectors(n,e),M5.subVectors(r,e),Fq.crossVectors(Nq,M5);let l=this.direction.dot(Fq),d;if(l>0){if(i)return null;d=1}else if(l<0)d=-1,l=-l;else return null;QS.subVectors(this.origin,e);const h=d*this.direction.dot(M5.crossVectors(QS,M5));if(h<0)return null;const v=d*this.direction.dot(Nq.cross(QS));if(v<0||h+v>l)return null;const S=-d*QS.dot(Fq);return S<0?null:this.at(S/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ea{constructor(e,n,r,i,o,l,d,h,v,S,x,A,T,R,G,j){ea.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,l,d,h,v,S,x,A,T,R,G,j)}set(e,n,r,i,o,l,d,h,v,S,x,A,T,R,G,j){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=o,w[5]=l,w[9]=d,w[13]=h,w[2]=v,w[6]=S,w[10]=x,w[14]=A,w[3]=T,w[7]=R,w[11]=G,w[15]=j,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ea().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ET.setFromMatrixColumn(e,0).length(),o=1/ET.setFromMatrixColumn(e,1).length(),l=1/ET.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*l,n[9]=r[9]*l,n[10]=r[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,l=Math.cos(r),d=Math.sin(r),h=Math.cos(i),v=Math.sin(i),S=Math.cos(o),x=Math.sin(o);if(e.order==="XYZ"){const A=l*S,T=l*x,R=d*S,G=d*x;n[0]=h*S,n[4]=-h*x,n[8]=v,n[1]=T+R*v,n[5]=A-G*v,n[9]=-d*h,n[2]=G-A*v,n[6]=R+T*v,n[10]=l*h}else if(e.order==="YXZ"){const A=h*S,T=h*x,R=v*S,G=v*x;n[0]=A+G*d,n[4]=R*d-T,n[8]=l*v,n[1]=l*x,n[5]=l*S,n[9]=-d,n[2]=T*d-R,n[6]=G+A*d,n[10]=l*h}else if(e.order==="ZXY"){const A=h*S,T=h*x,R=v*S,G=v*x;n[0]=A-G*d,n[4]=-l*x,n[8]=R+T*d,n[1]=T+R*d,n[5]=l*S,n[9]=G-A*d,n[2]=-l*v,n[6]=d,n[10]=l*h}else if(e.order==="ZYX"){const A=l*S,T=l*x,R=d*S,G=d*x;n[0]=h*S,n[4]=R*v-T,n[8]=A*v+G,n[1]=h*x,n[5]=G*v+A,n[9]=T*v-R,n[2]=-v,n[6]=d*h,n[10]=l*h}else if(e.order==="YZX"){const A=l*h,T=l*v,R=d*h,G=d*v;n[0]=h*S,n[4]=G-A*x,n[8]=R*x+T,n[1]=x,n[5]=l*S,n[9]=-d*S,n[2]=-v*S,n[6]=T*x+R,n[10]=A-G*x}else if(e.order==="XZY"){const A=l*h,T=l*v,R=d*h,G=d*v;n[0]=h*S,n[4]=-x,n[8]=v*S,n[1]=A*x+G,n[5]=l*S,n[9]=T*x-R,n[2]=R*x-T,n[6]=d*S,n[10]=G*x+A}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wKe,e,EKe)}lookAt(e,n,r){const i=this.elements;return lv.subVectors(e,n),lv.lengthSq()===0&&(lv.z=1),lv.normalize(),JS.crossVectors(r,lv),JS.lengthSq()===0&&(Math.abs(r.z)===1?lv.x+=1e-4:lv.z+=1e-4,lv.normalize(),JS.crossVectors(r,lv)),JS.normalize(),P5.crossVectors(lv,JS),i[0]=JS.x,i[4]=P5.x,i[8]=lv.x,i[1]=JS.y,i[5]=P5.y,i[9]=lv.y,i[2]=JS.z,i[6]=P5.z,i[10]=lv.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,l=r[0],d=r[4],h=r[8],v=r[12],S=r[1],x=r[5],A=r[9],T=r[13],R=r[2],G=r[6],j=r[10],w=r[14],L=r[3],F=r[7],W=r[11],U=r[15],Q=i[0],de=i[4],fe=i[8],Z=i[12],he=i[1],Te=i[5],je=i[9],Ke=i[13],Le=i[2],Ge=i[6],ut=i[10],st=i[14],_e=i[3],Se=i[7],we=i[11],Pe=i[15];return o[0]=l*Q+d*he+h*Le+v*_e,o[4]=l*de+d*Te+h*Ge+v*Se,o[8]=l*fe+d*je+h*ut+v*we,o[12]=l*Z+d*Ke+h*st+v*Pe,o[1]=S*Q+x*he+A*Le+T*_e,o[5]=S*de+x*Te+A*Ge+T*Se,o[9]=S*fe+x*je+A*ut+T*we,o[13]=S*Z+x*Ke+A*st+T*Pe,o[2]=R*Q+G*he+j*Le+w*_e,o[6]=R*de+G*Te+j*Ge+w*Se,o[10]=R*fe+G*je+j*ut+w*we,o[14]=R*Z+G*Ke+j*st+w*Pe,o[3]=L*Q+F*he+W*Le+U*_e,o[7]=L*de+F*Te+W*Ge+U*Se,o[11]=L*fe+F*je+W*ut+U*we,o[15]=L*Z+F*Ke+W*st+U*Pe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],l=e[1],d=e[5],h=e[9],v=e[13],S=e[2],x=e[6],A=e[10],T=e[14],R=e[3],G=e[7],j=e[11],w=e[15];return R*(+o*h*x-i*v*x-o*d*A+r*v*A+i*d*T-r*h*T)+G*(+n*h*T-n*v*A+o*l*A-i*l*T+i*v*S-o*h*S)+j*(+n*v*x-n*d*T-o*l*x+r*l*T+o*d*S-r*v*S)+w*(-i*d*S-n*h*x+n*d*A+i*l*x-r*l*A+r*h*S)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],l=e[4],d=e[5],h=e[6],v=e[7],S=e[8],x=e[9],A=e[10],T=e[11],R=e[12],G=e[13],j=e[14],w=e[15],L=x*j*v-G*A*v+G*h*T-d*j*T-x*h*w+d*A*w,F=R*A*v-S*j*v-R*h*T+l*j*T+S*h*w-l*A*w,W=S*G*v-R*x*v+R*d*T-l*G*T-S*d*w+l*x*w,U=R*x*h-S*G*h-R*d*A+l*G*A+S*d*j-l*x*j,Q=n*L+r*F+i*W+o*U;if(Q===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const de=1/Q;return e[0]=L*de,e[1]=(G*A*o-x*j*o-G*i*T+r*j*T+x*i*w-r*A*w)*de,e[2]=(d*j*o-G*h*o+G*i*v-r*j*v-d*i*w+r*h*w)*de,e[3]=(x*h*o-d*A*o-x*i*v+r*A*v+d*i*T-r*h*T)*de,e[4]=F*de,e[5]=(S*j*o-R*A*o+R*i*T-n*j*T-S*i*w+n*A*w)*de,e[6]=(R*h*o-l*j*o-R*i*v+n*j*v+l*i*w-n*h*w)*de,e[7]=(l*A*o-S*h*o+S*i*v-n*A*v-l*i*T+n*h*T)*de,e[8]=W*de,e[9]=(R*x*o-S*G*o-R*r*T+n*G*T+S*r*w-n*x*w)*de,e[10]=(l*G*o-R*d*o+R*r*v-n*G*v-l*r*w+n*d*w)*de,e[11]=(S*d*o-l*x*o-S*r*v+n*x*v+l*r*T-n*d*T)*de,e[12]=U*de,e[13]=(S*G*i-R*x*i+R*r*A-n*G*A-S*r*j+n*x*j)*de,e[14]=(R*d*i-l*G*i-R*r*h+n*G*h+l*r*j-n*d*j)*de,e[15]=(l*x*i-S*d*i+S*r*h-n*x*h-l*r*A+n*d*A)*de,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,l=e.x,d=e.y,h=e.z,v=o*l,S=o*d;return this.set(v*l+r,v*d-i*h,v*h+i*d,0,v*d+i*h,S*d+r,S*h-i*l,0,v*h-i*d,S*h+i*l,o*h*h+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,l){return this.set(1,r,o,0,e,1,l,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,l=n._y,d=n._z,h=n._w,v=o+o,S=l+l,x=d+d,A=o*v,T=o*S,R=o*x,G=l*S,j=l*x,w=d*x,L=h*v,F=h*S,W=h*x,U=r.x,Q=r.y,de=r.z;return i[0]=(1-(G+w))*U,i[1]=(T+W)*U,i[2]=(R-F)*U,i[3]=0,i[4]=(T-W)*Q,i[5]=(1-(A+w))*Q,i[6]=(j+L)*Q,i[7]=0,i[8]=(R+F)*de,i[9]=(j-L)*de,i[10]=(1-(A+G))*de,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=ET.set(i[0],i[1],i[2]).length();const l=ET.set(i[4],i[5],i[6]).length(),d=ET.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],r0.copy(this);const v=1/o,S=1/l,x=1/d;return r0.elements[0]*=v,r0.elements[1]*=v,r0.elements[2]*=v,r0.elements[4]*=S,r0.elements[5]*=S,r0.elements[6]*=S,r0.elements[8]*=x,r0.elements[9]*=x,r0.elements[10]*=x,n.setFromRotationMatrix(r0),r.x=o,r.y=l,r.z=d,this}makePerspective(e,n,r,i,o,l,d=Ry){const h=this.elements,v=2*o/(n-e),S=2*o/(r-i),x=(n+e)/(n-e),A=(r+i)/(r-i);let T,R;if(d===Ry)T=-(l+o)/(l-o),R=-2*l*o/(l-o);else if(d===wO)T=-l/(l-o),R=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);return h[0]=v,h[4]=0,h[8]=x,h[12]=0,h[1]=0,h[5]=S,h[9]=A,h[13]=0,h[2]=0,h[6]=0,h[10]=T,h[14]=R,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,n,r,i,o,l,d=Ry){const h=this.elements,v=1/(n-e),S=1/(r-i),x=1/(l-o),A=(n+e)*v,T=(r+i)*S;let R,G;if(d===Ry)R=(l+o)*x,G=-2*x;else if(d===wO)R=o*x,G=-1*x;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);return h[0]=2*v,h[4]=0,h[8]=0,h[12]=-A,h[1]=0,h[5]=2*S,h[9]=0,h[13]=-T,h[2]=0,h[6]=0,h[10]=G,h[14]=-R,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ET=new Ve,r0=new ea,wKe=new Ve(0,0,0),EKe=new Ve(1,1,1),JS=new Ve,P5=new Ve,lv=new Ve,B1e=new ea,L1e=new to;class Lb{constructor(e=0,n=0,r=0,i=Lb.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],l=i[4],d=i[8],h=i[1],v=i[5],S=i[9],x=i[2],A=i[6],T=i[10];switch(n){case"XYZ":this._y=Math.asin(rc(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-S,T),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(A,v),this._z=0);break;case"YXZ":this._x=Math.asin(-rc(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(d,T),this._z=Math.atan2(h,v)):(this._y=Math.atan2(-x,o),this._z=0);break;case"ZXY":this._x=Math.asin(rc(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(-x,T),this._z=Math.atan2(-l,v)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-rc(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(A,T),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-l,v));break;case"YZX":this._z=Math.asin(rc(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-S,v),this._y=Math.atan2(-x,o)):(this._x=0,this._y=Math.atan2(d,T));break;case"XZY":this._z=Math.asin(-rc(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(A,v),this._y=Math.atan2(d,o)):(this._x=Math.atan2(-S,T),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return B1e.makeRotationFromQuaternion(e),this.setFromRotationMatrix(B1e,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return L1e.setFromEuler(this),this.setFromQuaternion(L1e,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Lb.DEFAULT_ORDER="XYZ";class By{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bKe=0;const N1e=new Ve,bT=new to,o1=new ea,R5=new Ve,Zk=new Ve,CKe=new Ve,AKe=new to,F1e=new Ve(1,0,0),U1e=new Ve(0,1,0),z1e=new Ve(0,0,1),TKe={type:"added"},H1e={type:"removed"};class Ya extends Cv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bKe++}),this.uuid=_v(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ya.DEFAULT_UP.clone();const e=new Ve,n=new Lb,r=new to,i=new Ve(1,1,1);function o(){r.setFromEuler(n,!1)}function l(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ea},normalMatrix:{value:new za}}),this.matrix=new ea,this.matrixWorld=new ea,this.matrixAutoUpdate=Ya.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ya.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new By,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return bT.setFromAxisAngle(e,n),this.quaternion.multiply(bT),this}rotateOnWorldAxis(e,n){return bT.setFromAxisAngle(e,n),this.quaternion.premultiply(bT),this}rotateX(e){return this.rotateOnAxis(F1e,e)}rotateY(e){return this.rotateOnAxis(U1e,e)}rotateZ(e){return this.rotateOnAxis(z1e,e)}translateOnAxis(e,n){return N1e.copy(e).applyQuaternion(this.quaternion),this.position.add(N1e.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(F1e,e)}translateY(e){return this.translateOnAxis(U1e,e)}translateZ(e){return this.translateOnAxis(z1e,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(o1.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?R5.copy(e):R5.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Zk.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?o1.lookAt(Zk,R5,this.up):o1.lookAt(R5,Zk,this.up),this.quaternion.setFromRotationMatrix(o1),i&&(o1.extractRotation(i.matrixWorld),bT.setFromRotationMatrix(o1),this.quaternion.premultiply(bT.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(TKe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(H1e)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(H1e)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),o1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),o1.multiply(e.parent.matrixWorld)),e.applyMatrix4(o1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const l=this.children[r].getObjectByProperty(e,n);if(l!==void 0)return l}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,o=this.children.length;i<o;i++){const l=this.children[i].getObjectsByProperty(e,n);l.length>0&&(r=r.concat(l))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zk,e,CKe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zk,AKe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,l=i.length;o<l;o++){const d=i[o];d.matrixWorldAutoUpdate===!0&&d.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(d,h){return d[h.uuid]===void 0&&(d[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const h=d.shapes;if(Array.isArray(h))for(let v=0,S=h.length;v<S;v++){const x=h[v];o(e.shapes,x)}else o(e.shapes,h)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let h=0,v=this.material.length;h<v;h++)d.push(o(e.materials,this.material[h]));i.material=d}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let d=0;d<this.animations.length;d++){const h=this.animations[d];i.animations.push(o(e.animations,h))}}if(n){const d=l(e.geometries),h=l(e.materials),v=l(e.textures),S=l(e.images),x=l(e.shapes),A=l(e.skeletons),T=l(e.animations),R=l(e.nodes);d.length>0&&(r.geometries=d),h.length>0&&(r.materials=h),v.length>0&&(r.textures=v),S.length>0&&(r.images=S),x.length>0&&(r.shapes=x),A.length>0&&(r.skeletons=A),T.length>0&&(r.animations=T),R.length>0&&(r.nodes=R)}return r.object=i,r;function l(d){const h=[];for(const v in d){const S=d[v];delete S.metadata,h.push(S)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ya.DEFAULT_UP=new Ve(0,1,0);Ya.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ya.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const i0=new Ve,s1=new Ve,Uq=new Ve,l1=new Ve,CT=new Ve,AT=new Ve,j1e=new Ve,zq=new Ve,Hq=new Ve,jq=new Ve;let I5=!1;class bm{constructor(e=new Ve,n=new Ve,r=new Ve){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),i0.subVectors(e,n),i.cross(i0);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){i0.subVectors(i,n),s1.subVectors(r,n),Uq.subVectors(e,n);const l=i0.dot(i0),d=i0.dot(s1),h=i0.dot(Uq),v=s1.dot(s1),S=s1.dot(Uq),x=l*v-d*d;if(x===0)return o.set(-2,-1,-1);const A=1/x,T=(v*h-d*S)*A,R=(l*S-d*h)*A;return o.set(1-T-R,R,T)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,l1),l1.x>=0&&l1.y>=0&&l1.x+l1.y<=1}static getUV(e,n,r,i,o,l,d,h){return I5===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),I5=!0),this.getInterpolation(e,n,r,i,o,l,d,h)}static getInterpolation(e,n,r,i,o,l,d,h){return this.getBarycoord(e,n,r,i,l1),h.setScalar(0),h.addScaledVector(o,l1.x),h.addScaledVector(l,l1.y),h.addScaledVector(d,l1.z),h}static isFrontFacing(e,n,r,i){return i0.subVectors(r,n),s1.subVectors(e,n),i0.cross(s1).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return i0.subVectors(this.c,this.b),s1.subVectors(this.a,this.b),i0.cross(s1).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bm.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return bm.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return I5===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),I5=!0),bm.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return bm.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return bm.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bm.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let l,d;CT.subVectors(i,r),AT.subVectors(o,r),zq.subVectors(e,r);const h=CT.dot(zq),v=AT.dot(zq);if(h<=0&&v<=0)return n.copy(r);Hq.subVectors(e,i);const S=CT.dot(Hq),x=AT.dot(Hq);if(S>=0&&x<=S)return n.copy(i);const A=h*x-S*v;if(A<=0&&h>=0&&S<=0)return l=h/(h-S),n.copy(r).addScaledVector(CT,l);jq.subVectors(e,o);const T=CT.dot(jq),R=AT.dot(jq);if(R>=0&&T<=R)return n.copy(o);const G=T*v-h*R;if(G<=0&&v>=0&&R<=0)return d=v/(v-R),n.copy(r).addScaledVector(AT,d);const j=S*R-T*x;if(j<=0&&x-S>=0&&T-R>=0)return j1e.subVectors(o,i),d=(x-S)/(x-S+(T-R)),n.copy(i).addScaledVector(j1e,d);const w=1/(j+G+A);return l=G*w,d=A*w,n.copy(r).addScaledVector(CT,l).addScaledVector(AT,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let MKe=0;class ac extends Cv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:MKe++}),this.uuid=_v(),this.name="",this.type="Material",this.blending=_b,this.side=y0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=_J,this.blendDst=SJ,this.blendEquation=ab,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=T4,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=xTe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Y3,this.stencilZFail=Y3,this.stencilZPass=Y3,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_b&&(r.blending=this.blending),this.side!==y0&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const l=[];for(const d in o){const h=o[d];delete h.metadata,l.push(h)}return l}if(n){const o=i(e.textures),l=i(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const DTe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},a0={h:0,s:0,l:0},k5={h:0,s:0,l:0};function Gq(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ur{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ta){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,lg.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=lg.workingColorSpace){return this.r=e,this.g=n,this.b=r,lg.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=lg.workingColorSpace){if(e=IJ(e,1),n=rc(n,0,1),r=rc(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,l=2*r-o;this.r=Gq(l,o,e+1/3),this.g=Gq(l,o,e),this.b=Gq(l,o,e-1/3)}return lg.toWorkingColorSpace(this,i),this}setStyle(e,n=Ta){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=i[1],d=i[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(l===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ta){const r=DTe[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=AM(e.r),this.g=AM(e.g),this.b=AM(e.b),this}copyLinearToSRGB(e){return this.r=Iq(e.r),this.g=Iq(e.g),this.b=Iq(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ta){return lg.fromWorkingColorSpace(Kh.copy(this),e),Math.round(rc(Kh.r*255,0,255))*65536+Math.round(rc(Kh.g*255,0,255))*256+Math.round(rc(Kh.b*255,0,255))}getHexString(e=Ta){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=lg.workingColorSpace){lg.fromWorkingColorSpace(Kh.copy(this),n);const r=Kh.r,i=Kh.g,o=Kh.b,l=Math.max(r,i,o),d=Math.min(r,i,o);let h,v;const S=(d+l)/2;if(d===l)h=0,v=0;else{const x=l-d;switch(v=S<=.5?x/(l+d):x/(2-l-d),l){case r:h=(i-o)/x+(i<o?6:0);break;case i:h=(o-r)/x+2;break;case o:h=(r-i)/x+4;break}h/=6}return e.h=h,e.s=v,e.l=S,e}getRGB(e,n=lg.workingColorSpace){return lg.fromWorkingColorSpace(Kh.copy(this),n),e.r=Kh.r,e.g=Kh.g,e.b=Kh.b,e}getStyle(e=Ta){lg.fromWorkingColorSpace(Kh.copy(this),e);const n=Kh.r,r=Kh.g,i=Kh.b;return e!==Ta?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(a0),a0.h+=e,a0.s+=n,a0.l+=r,this.setHSL(a0.h,a0.s,a0.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(a0),e.getHSL(k5);const r=HD(a0.h,k5.h,n),i=HD(a0.s,k5.s,n),o=HD(a0.l,k5.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Kh=new ur;ur.NAMES=DTe;class th extends ac{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ur(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=XO,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const v1=PKe();function PKe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let h=0;h<256;++h){const v=h-127;v<-27?(r[h]=0,r[h|256]=32768,i[h]=24,i[h|256]=24):v<-14?(r[h]=1024>>-v-14,r[h|256]=1024>>-v-14|32768,i[h]=-v-1,i[h|256]=-v-1):v<=15?(r[h]=v+15<<10,r[h|256]=v+15<<10|32768,i[h]=13,i[h|256]=13):v<128?(r[h]=31744,r[h|256]=64512,i[h]=24,i[h|256]=24):(r[h]=31744,r[h|256]=64512,i[h]=13,i[h|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),d=new Uint32Array(64);for(let h=1;h<1024;++h){let v=h<<13,S=0;for(;!(v&8388608);)v<<=1,S-=8388608;v&=-8388609,S+=947912704,o[h]=v|S}for(let h=1024;h<2048;++h)o[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(d[h]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:l,offsetTable:d}}function xm(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=rc(t,-65504,65504),v1.floatView[0]=t;const e=v1.uint32View[0],n=e>>23&511;return v1.baseTable[n]+((e&8388607)>>v1.shiftTable[n])}function MD(t){const e=t>>10;return v1.uint32View[0]=v1.mantissaTable[v1.offsetTable[e]+(t&1023)]+v1.exponentTable[e],v1.floatView[0]}const hb={toHalfFloat:xm,fromHalfFloat:MD},tf=new Ve,D5=new vn;class lo{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=xO,this.updateRange={offset:0,count:-1},this.gpuType=kf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)D5.fromBufferAttribute(this,n),D5.applyMatrix3(e),this.setXY(n,D5.x,D5.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)tf.fromBufferAttribute(this,n),tf.applyMatrix3(e),this.setXYZ(n,tf.x,tf.y,tf.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)tf.fromBufferAttribute(this,n),tf.applyMatrix4(e),this.setXYZ(n,tf.x,tf.y,tf.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)tf.fromBufferAttribute(this,n),tf.applyNormalMatrix(e),this.setXYZ(n,tf.x,tf.y,tf.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)tf.fromBufferAttribute(this,n),tf.transformDirection(e),this.setXYZ(n,tf.x,tf.y,tf.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=vv(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=vv(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=vv(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=vv(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array),o=Ha(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xO&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class RKe extends lo{constructor(e,n,r){super(new Int8Array(e),n,r)}}class IKe extends lo{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class kKe extends lo{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class DKe extends lo{constructor(e,n,r){super(new Int16Array(e),n,r)}}class OJ extends lo{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class OKe extends lo{constructor(e,n,r){super(new Int32Array(e),n,r)}}class BJ extends lo{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class BKe extends lo{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=MD(this.array[e*this.itemSize]);return this.normalized&&(n=vv(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize]=xm(n),this}getY(e){let n=MD(this.array[e*this.itemSize+1]);return this.normalized&&(n=vv(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+1]=xm(n),this}getZ(e){let n=MD(this.array[e*this.itemSize+2]);return this.normalized&&(n=vv(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+2]=xm(n),this}getW(e){let n=MD(this.array[e*this.itemSize+3]);return this.normalized&&(n=vv(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ha(n,this.array)),this.array[e*this.itemSize+3]=xm(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array)),this.array[e+0]=xm(n),this.array[e+1]=xm(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array)),this.array[e+0]=xm(n),this.array[e+1]=xm(r),this.array[e+2]=xm(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array),o=Ha(o,this.array)),this.array[e+0]=xm(n),this.array[e+1]=xm(r),this.array[e+2]=xm(i),this.array[e+3]=xm(o),this}}class li extends lo{constructor(e,n,r){super(new Float32Array(e),n,r)}}class LKe extends lo{constructor(e,n,r){super(new Float64Array(e),n,r)}}let NKe=0;const ag=new ea,Vq=new Ya,TT=new Ve,uv=new S0,eD=new S0,sd=new Ve;class da extends Cv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NKe++}),this.uuid=_v(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kTe(e)?BJ:OJ)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new za().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ag.makeRotationFromQuaternion(e),this.applyMatrix4(ag),this}rotateX(e){return ag.makeRotationX(e),this.applyMatrix4(ag),this}rotateY(e){return ag.makeRotationY(e),this.applyMatrix4(ag),this}rotateZ(e){return ag.makeRotationZ(e),this.applyMatrix4(ag),this}translate(e,n,r){return ag.makeTranslation(e,n,r),this.applyMatrix4(ag),this}scale(e,n,r){return ag.makeScale(e,n,r),this.applyMatrix4(ag),this}lookAt(e){return Vq.lookAt(e),Vq.updateMatrix(),this.applyMatrix4(Vq.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(TT).negate(),this.translate(TT.x,TT.y,TT.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new li(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new S0);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ve(-1/0,-1/0,-1/0),new Ve(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];uv.setFromBufferAttribute(o),this.morphTargetsRelative?(sd.addVectors(this.boundingBox.min,uv.min),this.boundingBox.expandByPoint(sd),sd.addVectors(this.boundingBox.max,uv.max),this.boundingBox.expandByPoint(sd)):(this.boundingBox.expandByPoint(uv.min),this.boundingBox.expandByPoint(uv.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wg);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ve,1/0);return}if(e){const r=this.boundingSphere.center;if(uv.setFromBufferAttribute(e),n)for(let o=0,l=n.length;o<l;o++){const d=n[o];eD.setFromBufferAttribute(d),this.morphTargetsRelative?(sd.addVectors(uv.min,eD.min),uv.expandByPoint(sd),sd.addVectors(uv.max,eD.max),uv.expandByPoint(sd)):(uv.expandByPoint(eD.min),uv.expandByPoint(eD.max))}uv.getCenter(r);let i=0;for(let o=0,l=e.count;o<l;o++)sd.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(sd));if(n)for(let o=0,l=n.length;o<l;o++){const d=n[o],h=this.morphTargetsRelative;for(let v=0,S=d.count;v<S;v++)sd.fromBufferAttribute(d,v),h&&(TT.fromBufferAttribute(e,v),sd.add(TT)),i=Math.max(i,r.distanceToSquared(sd))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,l=n.uv.array,d=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lo(new Float32Array(4*d),4));const h=this.getAttribute("tangent").array,v=[],S=[];for(let he=0;he<d;he++)v[he]=new Ve,S[he]=new Ve;const x=new Ve,A=new Ve,T=new Ve,R=new vn,G=new vn,j=new vn,w=new Ve,L=new Ve;function F(he,Te,je){x.fromArray(i,he*3),A.fromArray(i,Te*3),T.fromArray(i,je*3),R.fromArray(l,he*2),G.fromArray(l,Te*2),j.fromArray(l,je*2),A.sub(x),T.sub(x),G.sub(R),j.sub(R);const Ke=1/(G.x*j.y-j.x*G.y);isFinite(Ke)&&(w.copy(A).multiplyScalar(j.y).addScaledVector(T,-G.y).multiplyScalar(Ke),L.copy(T).multiplyScalar(G.x).addScaledVector(A,-j.x).multiplyScalar(Ke),v[he].add(w),v[Te].add(w),v[je].add(w),S[he].add(L),S[Te].add(L),S[je].add(L))}let W=this.groups;W.length===0&&(W=[{start:0,count:r.length}]);for(let he=0,Te=W.length;he<Te;++he){const je=W[he],Ke=je.start,Le=je.count;for(let Ge=Ke,ut=Ke+Le;Ge<ut;Ge+=3)F(r[Ge+0],r[Ge+1],r[Ge+2])}const U=new Ve,Q=new Ve,de=new Ve,fe=new Ve;function Z(he){de.fromArray(o,he*3),fe.copy(de);const Te=v[he];U.copy(Te),U.sub(de.multiplyScalar(de.dot(Te))).normalize(),Q.crossVectors(fe,Te);const Ke=Q.dot(S[he])<0?-1:1;h[he*4]=U.x,h[he*4+1]=U.y,h[he*4+2]=U.z,h[he*4+3]=Ke}for(let he=0,Te=W.length;he<Te;++he){const je=W[he],Ke=je.start,Le=je.count;for(let Ge=Ke,ut=Ke+Le;Ge<ut;Ge+=3)Z(r[Ge+0]),Z(r[Ge+1]),Z(r[Ge+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new lo(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let A=0,T=r.count;A<T;A++)r.setXYZ(A,0,0,0);const i=new Ve,o=new Ve,l=new Ve,d=new Ve,h=new Ve,v=new Ve,S=new Ve,x=new Ve;if(e)for(let A=0,T=e.count;A<T;A+=3){const R=e.getX(A+0),G=e.getX(A+1),j=e.getX(A+2);i.fromBufferAttribute(n,R),o.fromBufferAttribute(n,G),l.fromBufferAttribute(n,j),S.subVectors(l,o),x.subVectors(i,o),S.cross(x),d.fromBufferAttribute(r,R),h.fromBufferAttribute(r,G),v.fromBufferAttribute(r,j),d.add(S),h.add(S),v.add(S),r.setXYZ(R,d.x,d.y,d.z),r.setXYZ(G,h.x,h.y,h.z),r.setXYZ(j,v.x,v.y,v.z)}else for(let A=0,T=n.count;A<T;A+=3)i.fromBufferAttribute(n,A+0),o.fromBufferAttribute(n,A+1),l.fromBufferAttribute(n,A+2),S.subVectors(l,o),x.subVectors(i,o),S.cross(x),r.setXYZ(A+0,S.x,S.y,S.z),r.setXYZ(A+1,S.x,S.y,S.z),r.setXYZ(A+2,S.x,S.y,S.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)sd.fromBufferAttribute(e,n),sd.normalize(),e.setXYZ(n,sd.x,sd.y,sd.z)}toNonIndexed(){function e(d,h){const v=d.array,S=d.itemSize,x=d.normalized,A=new v.constructor(h.length*S);let T=0,R=0;for(let G=0,j=h.length;G<j;G++){d.isInterleavedBufferAttribute?T=h[G]*d.data.stride+d.offset:T=h[G]*S;for(let w=0;w<S;w++)A[R++]=v[T++]}return new lo(A,S,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new da,r=this.index.array,i=this.attributes;for(const d in i){const h=i[d],v=e(h,r);n.setAttribute(d,v)}const o=this.morphAttributes;for(const d in o){const h=[],v=o[d];for(let S=0,x=v.length;S<x;S++){const A=v[S],T=e(A,r);h.push(T)}n.morphAttributes[d]=h}n.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let d=0,h=l.length;d<h;d++){const v=l[d];n.addGroup(v.start,v.count,v.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const v in h)h[v]!==void 0&&(e[v]=h[v]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const h in r){const v=r[h];e.data.attributes[h]=v.toJSON(e.data)}const i={};let o=!1;for(const h in this.morphAttributes){const v=this.morphAttributes[h],S=[];for(let x=0,A=v.length;x<A;x++){const T=v[x];S.push(T.toJSON(e.data))}S.length>0&&(i[h]=S,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const v in i){const S=i[v];this.setAttribute(v,S.clone(n))}const o=e.morphAttributes;for(const v in o){const S=[],x=o[v];for(let A=0,T=x.length;A<T;A++)S.push(x[A].clone(n));this.morphAttributes[v]=S}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let v=0,S=l.length;v<S;v++){const x=l[v];this.addGroup(x.start,x.count,x.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const G1e=new ea,FE=new iP,O5=new wg,V1e=new Ve,MT=new Ve,PT=new Ve,RT=new Ve,Wq=new Ve,B5=new Ve,L5=new vn,N5=new vn,F5=new vn,W1e=new Ve,K1e=new Ve,q1e=new Ve,U5=new Ve,z5=new Ve;class Yr extends Ya{constructor(e=new da,n=new th){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const d=this.morphTargetInfluences;if(o&&d){B5.set(0,0,0);for(let h=0,v=o.length;h<v;h++){const S=d[h],x=o[h];S!==0&&(Wq.fromBufferAttribute(x,e),l?B5.addScaledVector(Wq,S):B5.addScaledVector(Wq.sub(n),S))}n.add(B5)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),O5.copy(r.boundingSphere),O5.applyMatrix4(o),FE.copy(e.ray).recast(e.near),!(O5.containsPoint(FE.origin)===!1&&(FE.intersectSphere(O5,V1e)===null||FE.origin.distanceToSquared(V1e)>(e.far-e.near)**2))&&(G1e.copy(o).invert(),FE.copy(e.ray).applyMatrix4(G1e),!(r.boundingBox!==null&&FE.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,FE)))}_computeIntersections(e,n,r){let i;const o=this.geometry,l=this.material,d=o.index,h=o.attributes.position,v=o.attributes.uv,S=o.attributes.uv1,x=o.attributes.normal,A=o.groups,T=o.drawRange;if(d!==null)if(Array.isArray(l))for(let R=0,G=A.length;R<G;R++){const j=A[R],w=l[j.materialIndex],L=Math.max(j.start,T.start),F=Math.min(d.count,Math.min(j.start+j.count,T.start+T.count));for(let W=L,U=F;W<U;W+=3){const Q=d.getX(W),de=d.getX(W+1),fe=d.getX(W+2);i=H5(this,w,e,r,v,S,x,Q,de,fe),i&&(i.faceIndex=Math.floor(W/3),i.face.materialIndex=j.materialIndex,n.push(i))}}else{const R=Math.max(0,T.start),G=Math.min(d.count,T.start+T.count);for(let j=R,w=G;j<w;j+=3){const L=d.getX(j),F=d.getX(j+1),W=d.getX(j+2);i=H5(this,l,e,r,v,S,x,L,F,W),i&&(i.faceIndex=Math.floor(j/3),n.push(i))}}else if(h!==void 0)if(Array.isArray(l))for(let R=0,G=A.length;R<G;R++){const j=A[R],w=l[j.materialIndex],L=Math.max(j.start,T.start),F=Math.min(h.count,Math.min(j.start+j.count,T.start+T.count));for(let W=L,U=F;W<U;W+=3){const Q=W,de=W+1,fe=W+2;i=H5(this,w,e,r,v,S,x,Q,de,fe),i&&(i.faceIndex=Math.floor(W/3),i.face.materialIndex=j.materialIndex,n.push(i))}}else{const R=Math.max(0,T.start),G=Math.min(h.count,T.start+T.count);for(let j=R,w=G;j<w;j+=3){const L=j,F=j+1,W=j+2;i=H5(this,l,e,r,v,S,x,L,F,W),i&&(i.faceIndex=Math.floor(j/3),n.push(i))}}}}function FKe(t,e,n,r,i,o,l,d){let h;if(e.side===If?h=r.intersectTriangle(l,o,i,!0,d):h=r.intersectTriangle(i,o,l,e.side===y0,d),h===null)return null;z5.copy(d),z5.applyMatrix4(t.matrixWorld);const v=n.ray.origin.distanceTo(z5);return v<n.near||v>n.far?null:{distance:v,point:z5.clone(),object:t}}function H5(t,e,n,r,i,o,l,d,h,v){t.getVertexPosition(d,MT),t.getVertexPosition(h,PT),t.getVertexPosition(v,RT);const S=FKe(t,e,n,r,MT,PT,RT,U5);if(S){i&&(L5.fromBufferAttribute(i,d),N5.fromBufferAttribute(i,h),F5.fromBufferAttribute(i,v),S.uv=bm.getInterpolation(U5,MT,PT,RT,L5,N5,F5,new vn)),o&&(L5.fromBufferAttribute(o,d),N5.fromBufferAttribute(o,h),F5.fromBufferAttribute(o,v),S.uv1=bm.getInterpolation(U5,MT,PT,RT,L5,N5,F5,new vn),S.uv2=S.uv1),l&&(W1e.fromBufferAttribute(l,d),K1e.fromBufferAttribute(l,h),q1e.fromBufferAttribute(l,v),S.normal=bm.getInterpolation(U5,MT,PT,RT,W1e,K1e,q1e,new Ve),S.normal.dot(r.direction)>0&&S.normal.multiplyScalar(-1));const x={a:d,b:h,c:v,normal:new Ve,materialIndex:0};bm.getNormal(MT,PT,RT,x.normal),S.face=x}return S}class Fp extends da{constructor(e=1,n=1,r=1,i=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:l};const d=this;i=Math.floor(i),o=Math.floor(o),l=Math.floor(l);const h=[],v=[],S=[],x=[];let A=0,T=0;R("z","y","x",-1,-1,r,n,e,l,o,0),R("z","y","x",1,-1,r,n,-e,l,o,1),R("x","z","y",1,1,e,r,n,i,l,2),R("x","z","y",1,-1,e,r,-n,i,l,3),R("x","y","z",1,-1,e,n,r,i,o,4),R("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(h),this.setAttribute("position",new li(v,3)),this.setAttribute("normal",new li(S,3)),this.setAttribute("uv",new li(x,2));function R(G,j,w,L,F,W,U,Q,de,fe,Z){const he=W/de,Te=U/fe,je=W/2,Ke=U/2,Le=Q/2,Ge=de+1,ut=fe+1;let st=0,_e=0;const Se=new Ve;for(let we=0;we<ut;we++){const Pe=we*Te-Ke;for(let be=0;be<Ge;be++){const Ce=be*he-je;Se[G]=Ce*L,Se[j]=Pe*F,Se[w]=Le,v.push(Se.x,Se.y,Se.z),Se[G]=0,Se[j]=0,Se[w]=Q>0?1:-1,S.push(Se.x,Se.y,Se.z),x.push(be/de),x.push(1-we/fe),st+=1}}for(let we=0;we<fe;we++)for(let Pe=0;Pe<de;Pe++){const be=A+Pe+Ge*we,Ce=A+Pe+Ge*(we+1),qe=A+(Pe+1)+Ge*(we+1),mt=A+(Pe+1)+Ge*we;h.push(be,Ce,mt),h.push(Ce,qe,mt),_e+=6}d.addGroup(T,_e,Z),T+=_e,A+=st}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function GM(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Bp(t){const e={};for(let n=0;n<t.length;n++){const r=GM(t[n]);for(const i in r)e[i]=r[i]}return e}function UKe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function OTe(t){return t.getRenderTarget()===null?t.outputColorSpace:_0}const BTe={clone:GM,merge:Bp};var zKe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HKe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Oc extends ac{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zKe,this.fragmentShader=HKe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=GM(e.uniforms),this.uniformsGroups=UKe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const l=this.uniforms[i].value;l&&l.isTexture?n.uniforms[i]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?n.uniforms[i]={type:"c",value:l.getHex()}:l&&l.isVector2?n.uniforms[i]={type:"v2",value:l.toArray()}:l&&l.isVector3?n.uniforms[i]={type:"v3",value:l.toArray()}:l&&l.isVector4?n.uniforms[i]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?n.uniforms[i]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?n.uniforms[i]={type:"m4",value:l.toArray()}:n.uniforms[i]={value:l}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Fx extends Ya{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ea,this.projectionMatrix=new ea,this.projectionMatrixInverse=new ea,this.coordinateSystem=Ry}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let ys=class extends Fx{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=jM*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Sb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return jM*2*Math.atan(Math.tan(Sb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,l){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Sb*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,v=l.fullHeight;o+=l.offsetX*i/h,n-=l.offsetY*r/v,i*=l.width/h,r*=l.height/v}const d=this.filmOffset;d!==0&&(o+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const IT=-90,kT=1;class LTe extends Ya{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new ys(IT,kT,e,n);i.layers=this.layers,this.add(i);const o=new ys(IT,kT,e,n);o.layers=this.layers,this.add(o);const l=new ys(IT,kT,e,n);l.layers=this.layers,this.add(l);const d=new ys(IT,kT,e,n);d.layers=this.layers,this.add(d);const h=new ys(IT,kT,e,n);h.layers=this.layers,this.add(h);const v=new ys(IT,kT,e,n);v.layers=this.layers,this.add(v)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,l,d,h]=n;for(const v of n)this.remove(v);if(e===Ry)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),d.up.set(0,1,0),d.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===wO)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),d.up.set(0,-1,0),d.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const v of n)this.add(v),v.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,d,h,v]=this.children,S=e.getRenderTarget(),x=e.toneMapping,A=e.xr.enabled;e.toneMapping=vg,e.xr.enabled=!1;const T=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,l),e.setRenderTarget(r,3),e.render(n,d),e.setRenderTarget(r,4),e.render(n,h),r.texture.generateMipmaps=T,e.setRenderTarget(r,5),e.render(n,v),e.setRenderTarget(S),e.toneMapping=x,e.xr.enabled=A,r.texture.needsPMREMUpdate=!0}}class $O extends Ws{constructor(e,n,r,i,o,l,d,h,v,S){e=e!==void 0?e:[],n=n!==void 0?n:D1,super(e,n,r,i,o,l,d,h,v,S),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LJ extends af{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(jD("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===gg?Ta:Ax),this.texture=new $O(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:as}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fp(5,5,5),o=new Oc({name:"CubemapFromEquirect",uniforms:GM(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:If,blending:rh});o.uniforms.tEquirect.value=n;const l=new Yr(i,o),d=n.minFilter;return n.minFilter===zy&&(n.minFilter=as),new LTe(1,10,this).update(e,l),n.minFilter=d,l.geometry.dispose(),l.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(n,r,i);e.setRenderTarget(o)}}const Kq=new Ve,jKe=new Ve,GKe=new za;class lx{constructor(e=new Ve(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Kq.subVectors(r,n).cross(jKe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Kq),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||GKe.getNormalMatrix(e),i=this.coplanarPoint(Kq).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const UE=new wg,j5=new Ve;class CH{constructor(e=new lx,n=new lx,r=new lx,i=new lx,o=new lx,l=new lx){this.planes=[e,n,r,i,o,l]}set(e,n,r,i,o,l){const d=this.planes;return d[0].copy(e),d[1].copy(n),d[2].copy(r),d[3].copy(i),d[4].copy(o),d[5].copy(l),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ry){const r=this.planes,i=e.elements,o=i[0],l=i[1],d=i[2],h=i[3],v=i[4],S=i[5],x=i[6],A=i[7],T=i[8],R=i[9],G=i[10],j=i[11],w=i[12],L=i[13],F=i[14],W=i[15];if(r[0].setComponents(h-o,A-v,j-T,W-w).normalize(),r[1].setComponents(h+o,A+v,j+T,W+w).normalize(),r[2].setComponents(h+l,A+S,j+R,W+L).normalize(),r[3].setComponents(h-l,A-S,j-R,W-L).normalize(),r[4].setComponents(h-d,A-x,j-G,W-F).normalize(),n===Ry)r[5].setComponents(h+d,A+x,j+G,W+F).normalize();else if(n===wO)r[5].setComponents(d,x,G,F).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),UE.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),UE.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(UE)}intersectsSprite(e){return UE.center.set(0,0,0),UE.radius=.7071067811865476,UE.applyMatrix4(e.matrixWorld),this.intersectsSphere(UE)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(j5.x=i.normal.x>0?e.max.x:e.min.x,j5.y=i.normal.y>0?e.max.y:e.min.y,j5.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(j5)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function NTe(){let t=null,e=!1,n=null,r=null;function i(o,l){n(o,l),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function VKe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(v,S){const x=v.array,A=v.usage,T=t.createBuffer();t.bindBuffer(S,T),t.bufferData(S,x,A),v.onUploadCallback();let R;if(x instanceof Float32Array)R=t.FLOAT;else if(x instanceof Uint16Array)if(v.isFloat16BufferAttribute)if(n)R=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else R=t.UNSIGNED_SHORT;else if(x instanceof Int16Array)R=t.SHORT;else if(x instanceof Uint32Array)R=t.UNSIGNED_INT;else if(x instanceof Int32Array)R=t.INT;else if(x instanceof Int8Array)R=t.BYTE;else if(x instanceof Uint8Array)R=t.UNSIGNED_BYTE;else if(x instanceof Uint8ClampedArray)R=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+x);return{buffer:T,type:R,bytesPerElement:x.BYTES_PER_ELEMENT,version:v.version}}function o(v,S,x){const A=S.array,T=S.updateRange;t.bindBuffer(x,v),T.count===-1?t.bufferSubData(x,0,A):(n?t.bufferSubData(x,T.offset*A.BYTES_PER_ELEMENT,A,T.offset,T.count):t.bufferSubData(x,T.offset*A.BYTES_PER_ELEMENT,A.subarray(T.offset,T.offset+T.count)),T.count=-1),S.onUploadCallback()}function l(v){return v.isInterleavedBufferAttribute&&(v=v.data),r.get(v)}function d(v){v.isInterleavedBufferAttribute&&(v=v.data);const S=r.get(v);S&&(t.deleteBuffer(S.buffer),r.delete(v))}function h(v,S){if(v.isGLBufferAttribute){const A=r.get(v);(!A||A.version<v.version)&&r.set(v,{buffer:v.buffer,type:v.type,bytesPerElement:v.elementSize,version:v.version});return}v.isInterleavedBufferAttribute&&(v=v.data);const x=r.get(v);x===void 0?r.set(v,i(v,S)):x.version<v.version&&(o(x.buffer,v,S),x.version=v.version)}return{get:l,remove:d,update:h}}class hv extends da{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,l=n/2,d=Math.floor(r),h=Math.floor(i),v=d+1,S=h+1,x=e/d,A=n/h,T=[],R=[],G=[],j=[];for(let w=0;w<S;w++){const L=w*A-l;for(let F=0;F<v;F++){const W=F*x-o;R.push(W,-L,0),G.push(0,0,1),j.push(F/d),j.push(1-w/h)}}for(let w=0;w<h;w++)for(let L=0;L<d;L++){const F=L+v*w,W=L+v*(w+1),U=L+1+v*(w+1),Q=L+1+v*w;T.push(F,W,Q),T.push(W,U,Q)}this.setIndex(T),this.setAttribute("position",new li(R,3)),this.setAttribute("normal",new li(G,3)),this.setAttribute("uv",new li(j,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hv(e.width,e.height,e.widthSegments,e.heightSegments)}}var WKe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,KKe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qKe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,XKe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,YKe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,$Ke=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QKe="vec3 transformed = vec3( position );",JKe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ZKe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,eqe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tqe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nqe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,rqe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iqe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aqe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oqe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sqe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lqe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,uqe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,cqe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fqe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dqe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hqe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pqe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mqe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vqe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gqe="gl_FragColor = linearToOutputTexel( gl_FragColor );",yqe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,_qe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Sqe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xqe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wqe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Eqe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bqe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Cqe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Aqe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tqe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Mqe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pqe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Rqe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Iqe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kqe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Dqe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Oqe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Bqe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lqe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Nqe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Fqe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Uqe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,zqe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Hqe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jqe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gqe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Vqe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wqe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Kqe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qqe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xqe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Yqe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$qe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qqe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jqe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Zqe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,eXe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tXe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,nXe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,rXe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,iXe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,aXe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oXe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sXe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lXe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uXe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cXe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fXe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,dXe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hXe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pXe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mXe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,vXe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gXe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yXe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_Xe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SXe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,xXe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wXe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,EXe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bXe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,CXe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AXe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,TXe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,MXe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PXe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,RXe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,IXe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kXe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DXe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OXe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,BXe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,LXe=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NXe=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,FXe=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,UXe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const zXe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,HXe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jXe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GXe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,VXe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,WXe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KXe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qXe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XXe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YXe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$Xe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,QXe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,JXe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ZXe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eYe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tYe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nYe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rYe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iYe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aYe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oYe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sYe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lYe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uYe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cYe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fYe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dYe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hYe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pYe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mYe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vYe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gYe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yYe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_Ye=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,va={alphamap_fragment:WKe,alphamap_pars_fragment:KKe,alphatest_fragment:qKe,alphatest_pars_fragment:XKe,aomap_fragment:YKe,aomap_pars_fragment:$Ke,begin_vertex:QKe,beginnormal_vertex:JKe,bsdfs:ZKe,iridescence_fragment:eqe,bumpmap_pars_fragment:tqe,clipping_planes_fragment:nqe,clipping_planes_pars_fragment:rqe,clipping_planes_pars_vertex:iqe,clipping_planes_vertex:aqe,color_fragment:oqe,color_pars_fragment:sqe,color_pars_vertex:lqe,color_vertex:uqe,common:cqe,cube_uv_reflection_fragment:fqe,defaultnormal_vertex:dqe,displacementmap_pars_vertex:hqe,displacementmap_vertex:pqe,emissivemap_fragment:mqe,emissivemap_pars_fragment:vqe,encodings_fragment:gqe,encodings_pars_fragment:yqe,envmap_fragment:_qe,envmap_common_pars_fragment:Sqe,envmap_pars_fragment:xqe,envmap_pars_vertex:wqe,envmap_physical_pars_fragment:Oqe,envmap_vertex:Eqe,fog_vertex:bqe,fog_pars_vertex:Cqe,fog_fragment:Aqe,fog_pars_fragment:Tqe,gradientmap_pars_fragment:Mqe,lightmap_fragment:Pqe,lightmap_pars_fragment:Rqe,lights_lambert_fragment:Iqe,lights_lambert_pars_fragment:kqe,lights_pars_begin:Dqe,lights_toon_fragment:Bqe,lights_toon_pars_fragment:Lqe,lights_phong_fragment:Nqe,lights_phong_pars_fragment:Fqe,lights_physical_fragment:Uqe,lights_physical_pars_fragment:zqe,lights_fragment_begin:Hqe,lights_fragment_maps:jqe,lights_fragment_end:Gqe,logdepthbuf_fragment:Vqe,logdepthbuf_pars_fragment:Wqe,logdepthbuf_pars_vertex:Kqe,logdepthbuf_vertex:qqe,map_fragment:Xqe,map_pars_fragment:Yqe,map_particle_fragment:$qe,map_particle_pars_fragment:Qqe,metalnessmap_fragment:Jqe,metalnessmap_pars_fragment:Zqe,morphcolor_vertex:eXe,morphnormal_vertex:tXe,morphtarget_pars_vertex:nXe,morphtarget_vertex:rXe,normal_fragment_begin:iXe,normal_fragment_maps:aXe,normal_pars_fragment:oXe,normal_pars_vertex:sXe,normal_vertex:lXe,normalmap_pars_fragment:uXe,clearcoat_normal_fragment_begin:cXe,clearcoat_normal_fragment_maps:fXe,clearcoat_pars_fragment:dXe,iridescence_pars_fragment:hXe,output_fragment:pXe,packing:mXe,premultiplied_alpha_fragment:vXe,project_vertex:gXe,dithering_fragment:yXe,dithering_pars_fragment:_Xe,roughnessmap_fragment:SXe,roughnessmap_pars_fragment:xXe,shadowmap_pars_fragment:wXe,shadowmap_pars_vertex:EXe,shadowmap_vertex:bXe,shadowmask_pars_fragment:CXe,skinbase_vertex:AXe,skinning_pars_vertex:TXe,skinning_vertex:MXe,skinnormal_vertex:PXe,specularmap_fragment:RXe,specularmap_pars_fragment:IXe,tonemapping_fragment:kXe,tonemapping_pars_fragment:DXe,transmission_fragment:OXe,transmission_pars_fragment:BXe,uv_pars_fragment:LXe,uv_pars_vertex:NXe,uv_vertex:FXe,worldpos_vertex:UXe,background_vert:zXe,background_frag:HXe,backgroundCube_vert:jXe,backgroundCube_frag:GXe,cube_vert:VXe,cube_frag:WXe,depth_vert:KXe,depth_frag:qXe,distanceRGBA_vert:XXe,distanceRGBA_frag:YXe,equirect_vert:$Xe,equirect_frag:QXe,linedashed_vert:JXe,linedashed_frag:ZXe,meshbasic_vert:eYe,meshbasic_frag:tYe,meshlambert_vert:nYe,meshlambert_frag:rYe,meshmatcap_vert:iYe,meshmatcap_frag:aYe,meshnormal_vert:oYe,meshnormal_frag:sYe,meshphong_vert:lYe,meshphong_frag:uYe,meshphysical_vert:cYe,meshphysical_frag:fYe,meshtoon_vert:dYe,meshtoon_frag:hYe,points_vert:pYe,points_frag:mYe,shadow_vert:vYe,shadow_frag:gYe,sprite_vert:yYe,sprite_frag:_Ye},kr={common:{diffuse:{value:new ur(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new za},alphaMap:{value:null},alphaMapTransform:{value:new za},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new za}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new za}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new za}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new za},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new za},normalScale:{value:new vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new za},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new za}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new za}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new za}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ur(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ur(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new za},alphaTest:{value:0},uvTransform:{value:new za}},sprite:{diffuse:{value:new ur(16777215)},opacity:{value:1},center:{value:new vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new za},alphaMap:{value:null},alphaMapTransform:{value:new za},alphaTest:{value:0}}},h0={basic:{uniforms:Bp([kr.common,kr.specularmap,kr.envmap,kr.aomap,kr.lightmap,kr.fog]),vertexShader:va.meshbasic_vert,fragmentShader:va.meshbasic_frag},lambert:{uniforms:Bp([kr.common,kr.specularmap,kr.envmap,kr.aomap,kr.lightmap,kr.emissivemap,kr.bumpmap,kr.normalmap,kr.displacementmap,kr.fog,kr.lights,{emissive:{value:new ur(0)}}]),vertexShader:va.meshlambert_vert,fragmentShader:va.meshlambert_frag},phong:{uniforms:Bp([kr.common,kr.specularmap,kr.envmap,kr.aomap,kr.lightmap,kr.emissivemap,kr.bumpmap,kr.normalmap,kr.displacementmap,kr.fog,kr.lights,{emissive:{value:new ur(0)},specular:{value:new ur(1118481)},shininess:{value:30}}]),vertexShader:va.meshphong_vert,fragmentShader:va.meshphong_frag},standard:{uniforms:Bp([kr.common,kr.envmap,kr.aomap,kr.lightmap,kr.emissivemap,kr.bumpmap,kr.normalmap,kr.displacementmap,kr.roughnessmap,kr.metalnessmap,kr.fog,kr.lights,{emissive:{value:new ur(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:va.meshphysical_vert,fragmentShader:va.meshphysical_frag},toon:{uniforms:Bp([kr.common,kr.aomap,kr.lightmap,kr.emissivemap,kr.bumpmap,kr.normalmap,kr.displacementmap,kr.gradientmap,kr.fog,kr.lights,{emissive:{value:new ur(0)}}]),vertexShader:va.meshtoon_vert,fragmentShader:va.meshtoon_frag},matcap:{uniforms:Bp([kr.common,kr.bumpmap,kr.normalmap,kr.displacementmap,kr.fog,{matcap:{value:null}}]),vertexShader:va.meshmatcap_vert,fragmentShader:va.meshmatcap_frag},points:{uniforms:Bp([kr.points,kr.fog]),vertexShader:va.points_vert,fragmentShader:va.points_frag},dashed:{uniforms:Bp([kr.common,kr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:va.linedashed_vert,fragmentShader:va.linedashed_frag},depth:{uniforms:Bp([kr.common,kr.displacementmap]),vertexShader:va.depth_vert,fragmentShader:va.depth_frag},normal:{uniforms:Bp([kr.common,kr.bumpmap,kr.normalmap,kr.displacementmap,{opacity:{value:1}}]),vertexShader:va.meshnormal_vert,fragmentShader:va.meshnormal_frag},sprite:{uniforms:Bp([kr.sprite,kr.fog]),vertexShader:va.sprite_vert,fragmentShader:va.sprite_frag},background:{uniforms:{uvTransform:{value:new za},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:va.background_vert,fragmentShader:va.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:va.backgroundCube_vert,fragmentShader:va.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:va.cube_vert,fragmentShader:va.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:va.equirect_vert,fragmentShader:va.equirect_frag},distanceRGBA:{uniforms:Bp([kr.common,kr.displacementmap,{referencePosition:{value:new Ve},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:va.distanceRGBA_vert,fragmentShader:va.distanceRGBA_frag},shadow:{uniforms:Bp([kr.lights,kr.fog,{color:{value:new ur(0)},opacity:{value:1}}]),vertexShader:va.shadow_vert,fragmentShader:va.shadow_frag}};h0.physical={uniforms:Bp([h0.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new za},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new za},clearcoatNormalScale:{value:new vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new za},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new za},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new za},sheen:{value:0},sheenColor:{value:new ur(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new za},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new za},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new za},transmissionSamplerSize:{value:new vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new za},attenuationDistance:{value:0},attenuationColor:{value:new ur(0)},specularColor:{value:new ur(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new za},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new za},anisotropyVector:{value:new vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new za}}]),vertexShader:va.meshphysical_vert,fragmentShader:va.meshphysical_frag};const G5={r:0,b:0,g:0};function SYe(t,e,n,r,i,o,l){const d=new ur(0);let h=o===!0?0:1,v,S,x=null,A=0,T=null;function R(j,w){let L=!1,F=w.isScene===!0?w.background:null;switch(F&&F.isTexture&&(F=(w.backgroundBlurriness>0?n:e).get(F)),F===null?G(d,h):F&&F.isColor&&(G(F,1),L=!0),t.xr.getEnvironmentBlendMode()){case"opaque":L=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,l),L=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,l),L=!0;break}(t.autoClear||L)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),F&&(F.isCubeTexture||F.mapping===rP)?(S===void 0&&(S=new Yr(new Fp(1,1,1),new Oc({name:"BackgroundCubeMaterial",uniforms:GM(h0.backgroundCube.uniforms),vertexShader:h0.backgroundCube.vertexShader,fragmentShader:h0.backgroundCube.fragmentShader,side:If,depthTest:!1,depthWrite:!1,fog:!1})),S.geometry.deleteAttribute("normal"),S.geometry.deleteAttribute("uv"),S.onBeforeRender=function(Q,de,fe){this.matrixWorld.copyPosition(fe.matrixWorld)},Object.defineProperty(S.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(S)),S.material.uniforms.envMap.value=F,S.material.uniforms.flipEnvMap.value=F.isCubeTexture&&F.isRenderTargetTexture===!1?-1:1,S.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,S.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,S.material.toneMapped=F.colorSpace!==Ta,(x!==F||A!==F.version||T!==t.toneMapping)&&(S.material.needsUpdate=!0,x=F,A=F.version,T=t.toneMapping),S.layers.enableAll(),j.unshift(S,S.geometry,S.material,0,0,null)):F&&F.isTexture&&(v===void 0&&(v=new Yr(new hv(2,2),new Oc({name:"BackgroundMaterial",uniforms:GM(h0.background.uniforms),vertexShader:h0.background.vertexShader,fragmentShader:h0.background.fragmentShader,side:y0,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(v)),v.material.uniforms.t2D.value=F,v.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,v.material.toneMapped=F.colorSpace!==Ta,F.matrixAutoUpdate===!0&&F.updateMatrix(),v.material.uniforms.uvTransform.value.copy(F.matrix),(x!==F||A!==F.version||T!==t.toneMapping)&&(v.material.needsUpdate=!0,x=F,A=F.version,T=t.toneMapping),v.layers.enableAll(),j.unshift(v,v.geometry,v.material,0,0,null))}function G(j,w){j.getRGB(G5,OTe(t)),r.buffers.color.setClear(G5.r,G5.g,G5.b,w,l)}return{getClearColor:function(){return d},setClearColor:function(j,w=1){d.set(j),h=w,G(d,h)},getClearAlpha:function(){return h},setClearAlpha:function(j){h=j,G(d,h)},render:R}}function xYe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),l=r.isWebGL2||o!==null,d={},h=j(null);let v=h,S=!1;function x(Le,Ge,ut,st,_e){let Se=!1;if(l){const we=G(st,ut,Ge);v!==we&&(v=we,T(v.object)),Se=w(Le,st,ut,_e),Se&&L(Le,st,ut,_e)}else{const we=Ge.wireframe===!0;(v.geometry!==st.id||v.program!==ut.id||v.wireframe!==we)&&(v.geometry=st.id,v.program=ut.id,v.wireframe=we,Se=!0)}_e!==null&&n.update(_e,t.ELEMENT_ARRAY_BUFFER),(Se||S)&&(S=!1,fe(Le,Ge,ut,st),_e!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(_e).buffer))}function A(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function T(Le){return r.isWebGL2?t.bindVertexArray(Le):o.bindVertexArrayOES(Le)}function R(Le){return r.isWebGL2?t.deleteVertexArray(Le):o.deleteVertexArrayOES(Le)}function G(Le,Ge,ut){const st=ut.wireframe===!0;let _e=d[Le.id];_e===void 0&&(_e={},d[Le.id]=_e);let Se=_e[Ge.id];Se===void 0&&(Se={},_e[Ge.id]=Se);let we=Se[st];return we===void 0&&(we=j(A()),Se[st]=we),we}function j(Le){const Ge=[],ut=[],st=[];for(let _e=0;_e<i;_e++)Ge[_e]=0,ut[_e]=0,st[_e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ge,enabledAttributes:ut,attributeDivisors:st,object:Le,attributes:{},index:null}}function w(Le,Ge,ut,st){const _e=v.attributes,Se=Ge.attributes;let we=0;const Pe=ut.getAttributes();for(const be in Pe)if(Pe[be].location>=0){const qe=_e[be];let mt=Se[be];if(mt===void 0&&(be==="instanceMatrix"&&Le.instanceMatrix&&(mt=Le.instanceMatrix),be==="instanceColor"&&Le.instanceColor&&(mt=Le.instanceColor)),qe===void 0||qe.attribute!==mt||mt&&qe.data!==mt.data)return!0;we++}return v.attributesNum!==we||v.index!==st}function L(Le,Ge,ut,st){const _e={},Se=Ge.attributes;let we=0;const Pe=ut.getAttributes();for(const be in Pe)if(Pe[be].location>=0){let qe=Se[be];qe===void 0&&(be==="instanceMatrix"&&Le.instanceMatrix&&(qe=Le.instanceMatrix),be==="instanceColor"&&Le.instanceColor&&(qe=Le.instanceColor));const mt={};mt.attribute=qe,qe&&qe.data&&(mt.data=qe.data),_e[be]=mt,we++}v.attributes=_e,v.attributesNum=we,v.index=st}function F(){const Le=v.newAttributes;for(let Ge=0,ut=Le.length;Ge<ut;Ge++)Le[Ge]=0}function W(Le){U(Le,0)}function U(Le,Ge){const ut=v.newAttributes,st=v.enabledAttributes,_e=v.attributeDivisors;ut[Le]=1,st[Le]===0&&(t.enableVertexAttribArray(Le),st[Le]=1),_e[Le]!==Ge&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Le,Ge),_e[Le]=Ge)}function Q(){const Le=v.newAttributes,Ge=v.enabledAttributes;for(let ut=0,st=Ge.length;ut<st;ut++)Ge[ut]!==Le[ut]&&(t.disableVertexAttribArray(ut),Ge[ut]=0)}function de(Le,Ge,ut,st,_e,Se,we){we===!0?t.vertexAttribIPointer(Le,Ge,ut,_e,Se):t.vertexAttribPointer(Le,Ge,ut,st,_e,Se)}function fe(Le,Ge,ut,st){if(r.isWebGL2===!1&&(Le.isInstancedMesh||st.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;F();const _e=st.attributes,Se=ut.getAttributes(),we=Ge.defaultAttributeValues;for(const Pe in Se){const be=Se[Pe];if(be.location>=0){let Ce=_e[Pe];if(Ce===void 0&&(Pe==="instanceMatrix"&&Le.instanceMatrix&&(Ce=Le.instanceMatrix),Pe==="instanceColor"&&Le.instanceColor&&(Ce=Le.instanceColor)),Ce!==void 0){const qe=Ce.normalized,mt=Ce.itemSize,We=n.get(Ce);if(We===void 0)continue;const Mt=We.buffer,dt=We.type,en=We.bytesPerElement,cn=r.isWebGL2===!0&&(dt===t.INT||dt===t.UNSIGNED_INT||Ce.gpuType===xJ);if(Ce.isInterleavedBufferAttribute){const sn=Ce.data,$e=sn.stride,Gt=Ce.offset;if(sn.isInstancedInterleavedBuffer){for(let Ut=0;Ut<be.locationSize;Ut++)U(be.location+Ut,sn.meshPerAttribute);Le.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=sn.meshPerAttribute*sn.count)}else for(let Ut=0;Ut<be.locationSize;Ut++)W(be.location+Ut);t.bindBuffer(t.ARRAY_BUFFER,Mt);for(let Ut=0;Ut<be.locationSize;Ut++)de(be.location+Ut,mt/be.locationSize,dt,qe,$e*en,(Gt+mt/be.locationSize*Ut)*en,cn)}else{if(Ce.isInstancedBufferAttribute){for(let sn=0;sn<be.locationSize;sn++)U(be.location+sn,Ce.meshPerAttribute);Le.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let sn=0;sn<be.locationSize;sn++)W(be.location+sn);t.bindBuffer(t.ARRAY_BUFFER,Mt);for(let sn=0;sn<be.locationSize;sn++)de(be.location+sn,mt/be.locationSize,dt,qe,mt*en,mt/be.locationSize*sn*en,cn)}}else if(we!==void 0){const qe=we[Pe];if(qe!==void 0)switch(qe.length){case 2:t.vertexAttrib2fv(be.location,qe);break;case 3:t.vertexAttrib3fv(be.location,qe);break;case 4:t.vertexAttrib4fv(be.location,qe);break;default:t.vertexAttrib1fv(be.location,qe)}}}}Q()}function Z(){je();for(const Le in d){const Ge=d[Le];for(const ut in Ge){const st=Ge[ut];for(const _e in st)R(st[_e].object),delete st[_e];delete Ge[ut]}delete d[Le]}}function he(Le){if(d[Le.id]===void 0)return;const Ge=d[Le.id];for(const ut in Ge){const st=Ge[ut];for(const _e in st)R(st[_e].object),delete st[_e];delete Ge[ut]}delete d[Le.id]}function Te(Le){for(const Ge in d){const ut=d[Ge];if(ut[Le.id]===void 0)continue;const st=ut[Le.id];for(const _e in st)R(st[_e].object),delete st[_e];delete ut[Le.id]}}function je(){Ke(),S=!0,v!==h&&(v=h,T(v.object))}function Ke(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:x,reset:je,resetDefaultState:Ke,dispose:Z,releaseStatesOfGeometry:he,releaseStatesOfProgram:Te,initAttributes:F,enableAttribute:W,disableUnusedAttributes:Q}}function wYe(t,e,n,r){const i=r.isWebGL2;let o;function l(v){o=v}function d(v,S){t.drawArrays(o,v,S),n.update(S,o,1)}function h(v,S,x){if(x===0)return;let A,T;if(i)A=t,T="drawArraysInstanced";else if(A=e.get("ANGLE_instanced_arrays"),T="drawArraysInstancedANGLE",A===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[T](o,v,S,x),n.update(S,o,x)}this.setMode=l,this.render=d,this.renderInstances=h}function EYe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(de.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(de){if(de==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";de="mediump"}return de==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let d=n.precision!==void 0?n.precision:"highp";const h=o(d);h!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",h,"instead."),d=h);const v=l||e.has("WEBGL_draw_buffers"),S=n.logarithmicDepthBuffer===!0,x=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=t.getParameter(t.MAX_TEXTURE_SIZE),R=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),G=t.getParameter(t.MAX_VERTEX_ATTRIBS),j=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),L=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),F=A>0,W=l||e.has("OES_texture_float"),U=F&&W,Q=l?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:v,getMaxAnisotropy:i,getMaxPrecision:o,precision:d,logarithmicDepthBuffer:S,maxTextures:x,maxVertexTextures:A,maxTextureSize:T,maxCubemapSize:R,maxAttributes:G,maxVertexUniforms:j,maxVaryings:w,maxFragmentUniforms:L,vertexTextures:F,floatFragmentTextures:W,floatVertexTextures:U,maxSamples:Q}}function bYe(t){const e=this;let n=null,r=0,i=!1,o=!1;const l=new lx,d=new za,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(x,A){const T=x.length!==0||A||r!==0||i;return i=A,r=x.length,T},this.beginShadows=function(){o=!0,S(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(x,A){n=S(x,A,0)},this.setState=function(x,A,T){const R=x.clippingPlanes,G=x.clipIntersection,j=x.clipShadows,w=t.get(x);if(!i||R===null||R.length===0||o&&!j)o?S(null):v();else{const L=o?0:r,F=L*4;let W=w.clippingState||null;h.value=W,W=S(R,A,F,T);for(let U=0;U!==F;++U)W[U]=n[U];w.clippingState=W,this.numIntersection=G?this.numPlanes:0,this.numPlanes+=L}};function v(){h.value!==n&&(h.value=n,h.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function S(x,A,T,R){const G=x!==null?x.length:0;let j=null;if(G!==0){if(j=h.value,R!==!0||j===null){const w=T+G*4,L=A.matrixWorldInverse;d.getNormalMatrix(L),(j===null||j.length<w)&&(j=new Float32Array(w));for(let F=0,W=T;F!==G;++F,W+=4)l.copy(x[F]).applyMatrix4(L,d),l.normal.toArray(j,W),j[W+3]=l.constant}h.value=j,h.needsUpdate=!0}return e.numPlanes=G,e.numIntersection=0,j}}function CYe(t){let e=new WeakMap;function n(l,d){return d===FM?l.mapping=D1:d===yO&&(l.mapping=Bx),l}function r(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const d=l.mapping;if(d===FM||d===yO)if(e.has(l)){const h=e.get(l).texture;return n(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const v=new LJ(h.height/2);return v.fromEquirectangularTexture(t,l),e.set(l,v),l.addEventListener("dispose",i),n(v.texture,l.mapping)}else return null}}return l}function i(l){const d=l.target;d.removeEventListener("dispose",i);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class yg extends Fx{constructor(e=-1,n=1,r=1,i=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,l=r+e,d=i+n,h=i-n;if(this.view!==null&&this.view.enabled){const v=(this.right-this.left)/this.view.fullWidth/this.zoom,S=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=v*this.view.offsetX,l=o+v*this.view.width,d-=S*this.view.offsetY,h=d-S*this.view.height}this.projectionMatrix.makeOrthographic(o,l,d,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const uM=4,X1e=[.125,.215,.35,.446,.526,.582],ob=20,qq=new yg,Y1e=new ur;let Xq=null;const eb=(1+Math.sqrt(5))/2,DT=1/eb,$1e=[new Ve(1,1,1),new Ve(-1,1,1),new Ve(1,1,-1),new Ve(-1,1,-1),new Ve(0,eb,DT),new Ve(0,eb,-DT),new Ve(DT,0,eb),new Ve(-DT,0,eb),new Ve(eb,DT,0),new Ve(-eb,DT,0)];class P${constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Xq=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Z1e(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=J1e(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Xq),e.scissorTest=!1,V5(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===D1||e.mapping===Bx?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Xq=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:as,minFilter:as,generateMipmaps:!1,type:Yh,format:Up,colorSpace:_0,depthBuffer:!1},i=Q1e(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Q1e(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=AYe(o)),this._blurMaterial=TYe(o,e,n)}return i}_compileMaterial(e){const n=new Yr(this._lodPlanes[0],e);this._renderer.compile(n,qq)}_sceneToCubeUV(e,n,r,i){const d=new ys(90,1,n,r),h=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],S=this._renderer,x=S.autoClear,A=S.toneMapping;S.getClearColor(Y1e),S.toneMapping=vg,S.autoClear=!1;const T=new th({name:"PMREM.Background",side:If,depthWrite:!1,depthTest:!1}),R=new Yr(new Fp,T);let G=!1;const j=e.background;j?j.isColor&&(T.color.copy(j),e.background=null,G=!0):(T.color.copy(Y1e),G=!0);for(let w=0;w<6;w++){const L=w%3;L===0?(d.up.set(0,h[w],0),d.lookAt(v[w],0,0)):L===1?(d.up.set(0,0,h[w]),d.lookAt(0,v[w],0)):(d.up.set(0,h[w],0),d.lookAt(0,0,v[w]));const F=this._cubeSize;V5(i,L*F,w>2?F:0,F,F),S.setRenderTarget(i),G&&S.render(R,d),S.render(e,d)}R.geometry.dispose(),R.material.dispose(),S.toneMapping=A,S.autoClear=x,e.background=j}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===D1||e.mapping===Bx;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Z1e()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=J1e());const o=i?this._cubemapMaterial:this._equirectMaterial,l=new Yr(this._lodPlanes[0],o),d=o.uniforms;d.envMap.value=e;const h=this._cubeSize;V5(n,0,0,3*h,2*h),r.setRenderTarget(n),r.render(l,qq)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=$1e[(i-1)%$1e.length];this._blur(e,i-1,i,o,l)}n.autoClear=r}_blur(e,n,r,i,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,n,r,i,"latitudinal",o),this._halfBlur(l,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,l,d){const h=this._renderer,v=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const S=3,x=new Yr(this._lodPlanes[i],v),A=v.uniforms,T=this._sizeLods[r]-1,R=isFinite(o)?Math.PI/(2*T):2*Math.PI/(2*ob-1),G=o/R,j=isFinite(o)?1+Math.floor(S*G):ob;j>ob&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${j} samples when the maximum is set to ${ob}`);const w=[];let L=0;for(let de=0;de<ob;++de){const fe=de/G,Z=Math.exp(-fe*fe/2);w.push(Z),de===0?L+=Z:de<j&&(L+=2*Z)}for(let de=0;de<w.length;de++)w[de]=w[de]/L;A.envMap.value=e.texture,A.samples.value=j,A.weights.value=w,A.latitudinal.value=l==="latitudinal",d&&(A.poleAxis.value=d);const{_lodMax:F}=this;A.dTheta.value=R,A.mipInt.value=F-r;const W=this._sizeLods[i],U=3*W*(i>F-uM?i-F+uM:0),Q=4*(this._cubeSize-W);V5(n,U,Q,3*W,2*W),h.setRenderTarget(n),h.render(x,qq)}}function AYe(t){const e=[],n=[],r=[];let i=t;const o=t-uM+1+X1e.length;for(let l=0;l<o;l++){const d=Math.pow(2,i);n.push(d);let h=1/d;l>t-uM?h=X1e[l-t+uM-1]:l===0&&(h=0),r.push(h);const v=1/(d-2),S=-v,x=1+v,A=[S,S,x,S,x,x,S,S,x,x,S,x],T=6,R=6,G=3,j=2,w=1,L=new Float32Array(G*R*T),F=new Float32Array(j*R*T),W=new Float32Array(w*R*T);for(let Q=0;Q<T;Q++){const de=Q%3*2/3-1,fe=Q>2?0:-1,Z=[de,fe,0,de+2/3,fe,0,de+2/3,fe+1,0,de,fe,0,de+2/3,fe+1,0,de,fe+1,0];L.set(Z,G*R*Q),F.set(A,j*R*Q);const he=[Q,Q,Q,Q,Q,Q];W.set(he,w*R*Q)}const U=new da;U.setAttribute("position",new lo(L,G)),U.setAttribute("uv",new lo(F,j)),U.setAttribute("faceIndex",new lo(W,w)),e.push(U),i>uM&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Q1e(t,e,n){const r=new af(t,e,n);return r.texture.mapping=rP,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function V5(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function TYe(t,e,n){const r=new Float32Array(ob),i=new Ve(0,1,0);return new Oc({name:"SphericalGaussianBlur",defines:{n:ob,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:NJ(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function J1e(){return new Oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:NJ(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function Z1e(){return new Oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:NJ(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:rh,depthTest:!1,depthWrite:!1})}function NJ(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function MYe(t){let e=new WeakMap,n=null;function r(d){if(d&&d.isTexture){const h=d.mapping,v=h===FM||h===yO,S=h===D1||h===Bx;if(v||S)if(d.isRenderTargetTexture&&d.needsPMREMUpdate===!0){d.needsPMREMUpdate=!1;let x=e.get(d);return n===null&&(n=new P$(t)),x=v?n.fromEquirectangular(d,x):n.fromCubemap(d,x),e.set(d,x),x.texture}else{if(e.has(d))return e.get(d).texture;{const x=d.image;if(v&&x&&x.height>0||S&&x&&i(x)){n===null&&(n=new P$(t));const A=v?n.fromEquirectangular(d):n.fromCubemap(d);return e.set(d,A),d.addEventListener("dispose",o),A.texture}else return null}}}return d}function i(d){let h=0;const v=6;for(let S=0;S<v;S++)d[S]!==void 0&&h++;return h===v}function o(d){const h=d.target;h.removeEventListener("dispose",o);const v=e.get(h);v!==void 0&&(e.delete(h),v.dispose())}function l(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:l}}function PYe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function RYe(t,e,n,r){const i={},o=new WeakMap;function l(x){const A=x.target;A.index!==null&&e.remove(A.index);for(const R in A.attributes)e.remove(A.attributes[R]);for(const R in A.morphAttributes){const G=A.morphAttributes[R];for(let j=0,w=G.length;j<w;j++)e.remove(G[j])}A.removeEventListener("dispose",l),delete i[A.id];const T=o.get(A);T&&(e.remove(T),o.delete(A)),r.releaseStatesOfGeometry(A),A.isInstancedBufferGeometry===!0&&delete A._maxInstanceCount,n.memory.geometries--}function d(x,A){return i[A.id]===!0||(A.addEventListener("dispose",l),i[A.id]=!0,n.memory.geometries++),A}function h(x){const A=x.attributes;for(const R in A)e.update(A[R],t.ARRAY_BUFFER);const T=x.morphAttributes;for(const R in T){const G=T[R];for(let j=0,w=G.length;j<w;j++)e.update(G[j],t.ARRAY_BUFFER)}}function v(x){const A=[],T=x.index,R=x.attributes.position;let G=0;if(T!==null){const L=T.array;G=T.version;for(let F=0,W=L.length;F<W;F+=3){const U=L[F+0],Q=L[F+1],de=L[F+2];A.push(U,Q,Q,de,de,U)}}else{const L=R.array;G=R.version;for(let F=0,W=L.length/3-1;F<W;F+=3){const U=F+0,Q=F+1,de=F+2;A.push(U,Q,Q,de,de,U)}}const j=new(kTe(A)?BJ:OJ)(A,1);j.version=G;const w=o.get(x);w&&e.remove(w),o.set(x,j)}function S(x){const A=o.get(x);if(A){const T=x.index;T!==null&&A.version<T.version&&v(x)}else v(x);return o.get(x)}return{get:d,update:h,getWireframeAttribute:S}}function IYe(t,e,n,r){const i=r.isWebGL2;let o;function l(A){o=A}let d,h;function v(A){d=A.type,h=A.bytesPerElement}function S(A,T){t.drawElements(o,T,d,A*h),n.update(T,o,1)}function x(A,T,R){if(R===0)return;let G,j;if(i)G=t,j="drawElementsInstanced";else if(G=e.get("ANGLE_instanced_arrays"),j="drawElementsInstancedANGLE",G===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}G[j](o,T,d,A*h,R),n.update(T,o,R)}this.setMode=l,this.setIndex=v,this.render=S,this.renderInstances=x}function kYe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,l,d){switch(n.calls++,l){case t.TRIANGLES:n.triangles+=d*(o/3);break;case t.LINES:n.lines+=d*(o/2);break;case t.LINE_STRIP:n.lines+=d*(o-1);break;case t.LINE_LOOP:n.lines+=d*o;break;case t.POINTS:n.points+=d*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function DYe(t,e){return t[0]-e[0]}function OYe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function BYe(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,l=new go,d=[];for(let v=0;v<8;v++)d[v]=[v,0];function h(v,S,x){const A=v.morphTargetInfluences;if(e.isWebGL2===!0){const R=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,G=R!==void 0?R.length:0;let j=o.get(S);if(j===void 0||j.count!==G){let Ge=function(){Ke.dispose(),o.delete(S),S.removeEventListener("dispose",Ge)};var T=Ge;j!==void 0&&j.texture.dispose();const F=S.morphAttributes.position!==void 0,W=S.morphAttributes.normal!==void 0,U=S.morphAttributes.color!==void 0,Q=S.morphAttributes.position||[],de=S.morphAttributes.normal||[],fe=S.morphAttributes.color||[];let Z=0;F===!0&&(Z=1),W===!0&&(Z=2),U===!0&&(Z=3);let he=S.attributes.position.count*Z,Te=1;he>e.maxTextureSize&&(Te=Math.ceil(he/e.maxTextureSize),he=e.maxTextureSize);const je=new Float32Array(he*Te*4*G),Ke=new bH(je,he,Te,G);Ke.type=kf,Ke.needsUpdate=!0;const Le=Z*4;for(let ut=0;ut<G;ut++){const st=Q[ut],_e=de[ut],Se=fe[ut],we=he*Te*4*ut;for(let Pe=0;Pe<st.count;Pe++){const be=Pe*Le;F===!0&&(l.fromBufferAttribute(st,Pe),je[we+be+0]=l.x,je[we+be+1]=l.y,je[we+be+2]=l.z,je[we+be+3]=0),W===!0&&(l.fromBufferAttribute(_e,Pe),je[we+be+4]=l.x,je[we+be+5]=l.y,je[we+be+6]=l.z,je[we+be+7]=0),U===!0&&(l.fromBufferAttribute(Se,Pe),je[we+be+8]=l.x,je[we+be+9]=l.y,je[we+be+10]=l.z,je[we+be+11]=Se.itemSize===4?l.w:1)}}j={count:G,texture:Ke,size:new vn(he,Te)},o.set(S,j),S.addEventListener("dispose",Ge)}let w=0;for(let F=0;F<A.length;F++)w+=A[F];const L=S.morphTargetsRelative?1:1-w;x.getUniforms().setValue(t,"morphTargetBaseInfluence",L),x.getUniforms().setValue(t,"morphTargetInfluences",A),x.getUniforms().setValue(t,"morphTargetsTexture",j.texture,n),x.getUniforms().setValue(t,"morphTargetsTextureSize",j.size)}else{const R=A===void 0?0:A.length;let G=r[S.id];if(G===void 0||G.length!==R){G=[];for(let W=0;W<R;W++)G[W]=[W,0];r[S.id]=G}for(let W=0;W<R;W++){const U=G[W];U[0]=W,U[1]=A[W]}G.sort(OYe);for(let W=0;W<8;W++)W<R&&G[W][1]?(d[W][0]=G[W][0],d[W][1]=G[W][1]):(d[W][0]=Number.MAX_SAFE_INTEGER,d[W][1]=0);d.sort(DYe);const j=S.morphAttributes.position,w=S.morphAttributes.normal;let L=0;for(let W=0;W<8;W++){const U=d[W],Q=U[0],de=U[1];Q!==Number.MAX_SAFE_INTEGER&&de?(j&&S.getAttribute("morphTarget"+W)!==j[Q]&&S.setAttribute("morphTarget"+W,j[Q]),w&&S.getAttribute("morphNormal"+W)!==w[Q]&&S.setAttribute("morphNormal"+W,w[Q]),i[W]=de,L+=de):(j&&S.hasAttribute("morphTarget"+W)===!0&&S.deleteAttribute("morphTarget"+W),w&&S.hasAttribute("morphNormal"+W)===!0&&S.deleteAttribute("morphNormal"+W),i[W]=0)}const F=S.morphTargetsRelative?1:1-L;x.getUniforms().setValue(t,"morphTargetBaseInfluence",F),x.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:h}}function LYe(t,e,n,r){let i=new WeakMap;function o(h){const v=r.render.frame,S=h.geometry,x=e.get(h,S);return i.get(x)!==v&&(e.update(x),i.set(x,v)),h.isInstancedMesh&&(h.hasEventListener("dispose",d)===!1&&h.addEventListener("dispose",d),n.update(h.instanceMatrix,t.ARRAY_BUFFER),h.instanceColor!==null&&n.update(h.instanceColor,t.ARRAY_BUFFER)),x}function l(){i=new WeakMap}function d(h){const v=h.target;v.removeEventListener("dispose",d),n.remove(v.instanceMatrix),v.instanceColor!==null&&n.remove(v.instanceColor)}return{update:o,dispose:l}}const FTe=new Ws,UTe=new bH,zTe=new DJ,HTe=new $O,eSe=[],tSe=[],nSe=new Float32Array(16),rSe=new Float32Array(9),iSe=new Float32Array(4);function aP(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=eSe[i];if(o===void 0&&(o=new Float32Array(i),eSe[i]=o),e!==0){r.toArray(o,0);for(let l=1,d=0;l!==e;++l)d+=n,t[l].toArray(o,d)}return o}function Bf(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Lf(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function AH(t,e){let n=tSe[e];n===void 0&&(n=new Int32Array(e),tSe[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function NYe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function FYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bf(n,e))return;t.uniform2fv(this.addr,e),Lf(n,e)}}function UYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bf(n,e))return;t.uniform3fv(this.addr,e),Lf(n,e)}}function zYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bf(n,e))return;t.uniform4fv(this.addr,e),Lf(n,e)}}function HYe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bf(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Lf(n,e)}else{if(Bf(n,r))return;iSe.set(r),t.uniformMatrix2fv(this.addr,!1,iSe),Lf(n,r)}}function jYe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bf(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Lf(n,e)}else{if(Bf(n,r))return;rSe.set(r),t.uniformMatrix3fv(this.addr,!1,rSe),Lf(n,r)}}function GYe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bf(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Lf(n,e)}else{if(Bf(n,r))return;nSe.set(r),t.uniformMatrix4fv(this.addr,!1,nSe),Lf(n,r)}}function VYe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function WYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bf(n,e))return;t.uniform2iv(this.addr,e),Lf(n,e)}}function KYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bf(n,e))return;t.uniform3iv(this.addr,e),Lf(n,e)}}function qYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bf(n,e))return;t.uniform4iv(this.addr,e),Lf(n,e)}}function XYe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function YYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bf(n,e))return;t.uniform2uiv(this.addr,e),Lf(n,e)}}function $Ye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bf(n,e))return;t.uniform3uiv(this.addr,e),Lf(n,e)}}function QYe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bf(n,e))return;t.uniform4uiv(this.addr,e),Lf(n,e)}}function JYe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||FTe,i)}function ZYe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||zTe,i)}function e$e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||HTe,i)}function t$e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||UTe,i)}function n$e(t){switch(t){case 5126:return NYe;case 35664:return FYe;case 35665:return UYe;case 35666:return zYe;case 35674:return HYe;case 35675:return jYe;case 35676:return GYe;case 5124:case 35670:return VYe;case 35667:case 35671:return WYe;case 35668:case 35672:return KYe;case 35669:case 35673:return qYe;case 5125:return XYe;case 36294:return YYe;case 36295:return $Ye;case 36296:return QYe;case 35678:case 36198:case 36298:case 36306:case 35682:return JYe;case 35679:case 36299:case 36307:return ZYe;case 35680:case 36300:case 36308:case 36293:return e$e;case 36289:case 36303:case 36311:case 36292:return t$e}}function r$e(t,e){t.uniform1fv(this.addr,e)}function i$e(t,e){const n=aP(e,this.size,2);t.uniform2fv(this.addr,n)}function a$e(t,e){const n=aP(e,this.size,3);t.uniform3fv(this.addr,n)}function o$e(t,e){const n=aP(e,this.size,4);t.uniform4fv(this.addr,n)}function s$e(t,e){const n=aP(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function l$e(t,e){const n=aP(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function u$e(t,e){const n=aP(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function c$e(t,e){t.uniform1iv(this.addr,e)}function f$e(t,e){t.uniform2iv(this.addr,e)}function d$e(t,e){t.uniform3iv(this.addr,e)}function h$e(t,e){t.uniform4iv(this.addr,e)}function p$e(t,e){t.uniform1uiv(this.addr,e)}function m$e(t,e){t.uniform2uiv(this.addr,e)}function v$e(t,e){t.uniform3uiv(this.addr,e)}function g$e(t,e){t.uniform4uiv(this.addr,e)}function y$e(t,e,n){const r=this.cache,i=e.length,o=AH(n,i);Bf(r,o)||(t.uniform1iv(this.addr,o),Lf(r,o));for(let l=0;l!==i;++l)n.setTexture2D(e[l]||FTe,o[l])}function _$e(t,e,n){const r=this.cache,i=e.length,o=AH(n,i);Bf(r,o)||(t.uniform1iv(this.addr,o),Lf(r,o));for(let l=0;l!==i;++l)n.setTexture3D(e[l]||zTe,o[l])}function S$e(t,e,n){const r=this.cache,i=e.length,o=AH(n,i);Bf(r,o)||(t.uniform1iv(this.addr,o),Lf(r,o));for(let l=0;l!==i;++l)n.setTextureCube(e[l]||HTe,o[l])}function x$e(t,e,n){const r=this.cache,i=e.length,o=AH(n,i);Bf(r,o)||(t.uniform1iv(this.addr,o),Lf(r,o));for(let l=0;l!==i;++l)n.setTexture2DArray(e[l]||UTe,o[l])}function w$e(t){switch(t){case 5126:return r$e;case 35664:return i$e;case 35665:return a$e;case 35666:return o$e;case 35674:return s$e;case 35675:return l$e;case 35676:return u$e;case 5124:case 35670:return c$e;case 35667:case 35671:return f$e;case 35668:case 35672:return d$e;case 35669:case 35673:return h$e;case 5125:return p$e;case 36294:return m$e;case 36295:return v$e;case 36296:return g$e;case 35678:case 36198:case 36298:case 36306:case 35682:return y$e;case 35679:case 36299:case 36307:return _$e;case 35680:case 36300:case 36308:case 36293:return S$e;case 36289:case 36303:case 36311:case 36292:return x$e}}class E$e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=n$e(n.type)}}class b$e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=w$e(n.type)}}class C$e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,l=i.length;o!==l;++o){const d=i[o];d.setValue(e,n[d.id],r)}}}const Yq=/(\w+)(\])?(\[|\.)?/g;function aSe(t,e){t.seq.push(e),t.map[e.id]=e}function A$e(t,e,n){const r=t.name,i=r.length;for(Yq.lastIndex=0;;){const o=Yq.exec(r),l=Yq.lastIndex;let d=o[1];const h=o[2]==="]",v=o[3];if(h&&(d=d|0),v===void 0||v==="["&&l+2===i){aSe(n,v===void 0?new E$e(d,t,e):new b$e(d,t,e));break}else{let x=n.map[d];x===void 0&&(x=new C$e(d),aSe(n,x)),n=x}}}class $3{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),l=e.getUniformLocation(n,o.name);A$e(o,l,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,l=n.length;o!==l;++o){const d=n[o],h=r[d.id];h.needsUpdate!==!1&&d.setValue(e,h.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const l=e[i];l.id in n&&r.push(l)}return r}}function oSe(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let T$e=0;function M$e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let l=i;l<o;l++){const d=l+1;r.push(`${d===e?">":" "} ${d}: ${n[l]}`)}return r.join(`
`)}function P$e(t){switch(t){case _0:return["Linear","( value )"];case Ta:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function sSe(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const l=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+M$e(t.getShaderSource(e),l)}else return i}function R$e(t,e){const n=P$e(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function I$e(t,e){let n;switch(e){case iTe:n="Linear";break;case aTe:n="Reinhard";break;case oTe:n="OptimizedCineon";break;case _H:n="ACESFilmic";break;case sTe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function k$e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(PD).join(`
`)}function D$e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function O$e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),l=o.name;let d=1;o.type===t.FLOAT_MAT2&&(d=2),o.type===t.FLOAT_MAT3&&(d=3),o.type===t.FLOAT_MAT4&&(d=4),n[l]={type:o.type,location:t.getAttribLocation(e,l),locationSize:d}}return n}function PD(t){return t!==""}function lSe(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uSe(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const B$e=/^[ \t]*#include +<([\w\d./]+)>/gm;function R$(t){return t.replace(B$e,L$e)}function L$e(t,e){const n=va[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return R$(n)}const N$e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cSe(t){return t.replace(N$e,F$e)}function F$e(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function fSe(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function U$e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===yH?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===bM?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===u0&&(e="SHADOWMAP_TYPE_VSM"),e}function z$e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case D1:case Bx:e="ENVMAP_TYPE_CUBE";break;case rP:e="ENVMAP_TYPE_CUBE_UV";break}return e}function H$e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Bx:e="ENVMAP_MODE_REFRACTION";break}return e}function j$e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case XO:e="ENVMAP_BLENDING_MULTIPLY";break;case nTe:e="ENVMAP_BLENDING_MIX";break;case rTe:e="ENVMAP_BLENDING_ADD";break}return e}function G$e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function V$e(t,e,n,r){const i=t.getContext(),o=n.defines;let l=n.vertexShader,d=n.fragmentShader;const h=U$e(n),v=z$e(n),S=H$e(n),x=j$e(n),A=G$e(n),T=n.isWebGL2?"":k$e(n),R=D$e(o),G=i.createProgram();let j,w,L=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(j=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,R].filter(PD).join(`
`),j.length>0&&(j+=`
`),w=[T,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,R].filter(PD).join(`
`),w.length>0&&(w+=`
`)):(j=[fSe(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,R,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+S:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(PD).join(`
`),w=[T,fSe(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,R,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+v:"",n.envMap?"#define "+S:"",n.envMap?"#define "+x:"",A?"#define CUBEUV_TEXEL_WIDTH "+A.texelWidth:"",A?"#define CUBEUV_TEXEL_HEIGHT "+A.texelHeight:"",A?"#define CUBEUV_MAX_MIP "+A.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==vg?"#define TONE_MAPPING":"",n.toneMapping!==vg?va.tonemapping_pars_fragment:"",n.toneMapping!==vg?I$e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",va.encodings_pars_fragment,R$e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(PD).join(`
`)),l=R$(l),l=lSe(l,n),l=uSe(l,n),d=R$(d),d=lSe(d,n),d=uSe(d,n),l=cSe(l),d=cSe(d),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(L=`#version 300 es
`,j=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+j,w=["#define varying in",n.glslVersion===P4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===P4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const F=L+j+l,W=L+w+d,U=oSe(i,i.VERTEX_SHADER,F),Q=oSe(i,i.FRAGMENT_SHADER,W);if(i.attachShader(G,U),i.attachShader(G,Q),n.index0AttributeName!==void 0?i.bindAttribLocation(G,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(G,0,"position"),i.linkProgram(G),t.debug.checkShaderErrors){const Z=i.getProgramInfoLog(G).trim(),he=i.getShaderInfoLog(U).trim(),Te=i.getShaderInfoLog(Q).trim();let je=!0,Ke=!0;if(i.getProgramParameter(G,i.LINK_STATUS)===!1)if(je=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,G,U,Q);else{const Le=sSe(i,U,"vertex"),Ge=sSe(i,Q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(G,i.VALIDATE_STATUS)+`

Program Info Log: `+Z+`
`+Le+`
`+Ge)}else Z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Z):(he===""||Te==="")&&(Ke=!1);Ke&&(this.diagnostics={runnable:je,programLog:Z,vertexShader:{log:he,prefix:j},fragmentShader:{log:Te,prefix:w}})}i.deleteShader(U),i.deleteShader(Q);let de;this.getUniforms=function(){return de===void 0&&(de=new $3(i,G)),de};let fe;return this.getAttributes=function(){return fe===void 0&&(fe=O$e(i,G)),fe},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(G),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=T$e++,this.cacheKey=e,this.usedTimes=1,this.program=G,this.vertexShader=U,this.fragmentShader=Q,this}let W$e=0;class K$e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(i)===!1&&(l.add(i),i.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new q$e(e),n.set(e,r)),r}}class q$e{constructor(e){this.id=W$e++,this.code=e,this.usedTimes=0}}function X$e(t,e,n,r,i,o,l){const d=new By,h=new K$e,v=[],S=i.isWebGL2,x=i.logarithmicDepthBuffer,A=i.vertexTextures;let T=i.precision;const R={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function G(Z){return Z===0?"uv":`uv${Z}`}function j(Z,he,Te,je,Ke){const Le=je.fog,Ge=Ke.geometry,ut=Z.isMeshStandardMaterial?je.environment:null,st=(Z.isMeshStandardMaterial?n:e).get(Z.envMap||ut),_e=st&&st.mapping===rP?st.image.height:null,Se=R[Z.type];Z.precision!==null&&(T=i.getMaxPrecision(Z.precision),T!==Z.precision&&console.warn("THREE.WebGLProgram.getParameters:",Z.precision,"not supported, using",T,"instead."));const we=Ge.morphAttributes.position||Ge.morphAttributes.normal||Ge.morphAttributes.color,Pe=we!==void 0?we.length:0;let be=0;Ge.morphAttributes.position!==void 0&&(be=1),Ge.morphAttributes.normal!==void 0&&(be=2),Ge.morphAttributes.color!==void 0&&(be=3);let Ce,qe,mt,We;if(Se){const Ra=h0[Se];Ce=Ra.vertexShader,qe=Ra.fragmentShader}else Ce=Z.vertexShader,qe=Z.fragmentShader,h.update(Z),mt=h.getVertexShaderID(Z),We=h.getFragmentShaderID(Z);const Mt=t.getRenderTarget(),dt=Ke.isInstancedMesh===!0,en=!!Z.map,cn=!!Z.matcap,sn=!!st,$e=!!Z.aoMap,Gt=!!Z.lightMap,Ut=!!Z.bumpMap,Kt=!!Z.normalMap,Yt=!!Z.displacementMap,Cn=!!Z.emissiveMap,Dn=!!Z.metalnessMap,nr=!!Z.roughnessMap,dr=Z.anisotropy>0,Jr=Z.clearcoat>0,Hi=Z.iridescence>0,et=Z.sheen>0,Be=Z.transmission>0,Nt=dr&&!!Z.anisotropyMap,Pn=Jr&&!!Z.clearcoatMap,kn=Jr&&!!Z.clearcoatNormalMap,Nn=Jr&&!!Z.clearcoatRoughnessMap,Ar=Hi&&!!Z.iridescenceMap,Zn=Hi&&!!Z.iridescenceThicknessMap,Je=et&&!!Z.sheenColorMap,Jt=et&&!!Z.sheenRoughnessMap,On=!!Z.specularMap,Bn=!!Z.specularColorMap,Wn=!!Z.specularIntensityMap,Yn=Be&&!!Z.transmissionMap,Dr=Be&&!!Z.thicknessMap,cr=!!Z.gradientMap,ht=!!Z.alphaMap,Ot=Z.alphaTest>0,Rt=!!Z.extensions,ir=!!Ge.attributes.uv1,hr=!!Ge.attributes.uv2,Li=!!Ge.attributes.uv3;return{isWebGL2:S,shaderID:Se,shaderType:Z.type,shaderName:Z.name,vertexShader:Ce,fragmentShader:qe,defines:Z.defines,customVertexShaderID:mt,customFragmentShaderID:We,isRawShaderMaterial:Z.isRawShaderMaterial===!0,glslVersion:Z.glslVersion,precision:T,instancing:dt,instancingColor:dt&&Ke.instanceColor!==null,supportsVertexTextures:A,outputColorSpace:Mt===null?t.outputColorSpace:Mt.isXRRenderTarget===!0?Mt.texture.colorSpace:_0,map:en,matcap:cn,envMap:sn,envMapMode:sn&&st.mapping,envMapCubeUVHeight:_e,aoMap:$e,lightMap:Gt,bumpMap:Ut,normalMap:Kt,displacementMap:A&&Yt,emissiveMap:Cn,normalMapObjectSpace:Kt&&Z.normalMapType===STe,normalMapTangentSpace:Kt&&Z.normalMapType===Xx,metalnessMap:Dn,roughnessMap:nr,anisotropy:dr,anisotropyMap:Nt,clearcoat:Jr,clearcoatMap:Pn,clearcoatNormalMap:kn,clearcoatRoughnessMap:Nn,iridescence:Hi,iridescenceMap:Ar,iridescenceThicknessMap:Zn,sheen:et,sheenColorMap:Je,sheenRoughnessMap:Jt,specularMap:On,specularColorMap:Bn,specularIntensityMap:Wn,transmission:Be,transmissionMap:Yn,thicknessMap:Dr,gradientMap:cr,opaque:Z.transparent===!1&&Z.blending===_b,alphaMap:ht,alphaTest:Ot,combine:Z.combine,mapUv:en&&G(Z.map.channel),aoMapUv:$e&&G(Z.aoMap.channel),lightMapUv:Gt&&G(Z.lightMap.channel),bumpMapUv:Ut&&G(Z.bumpMap.channel),normalMapUv:Kt&&G(Z.normalMap.channel),displacementMapUv:Yt&&G(Z.displacementMap.channel),emissiveMapUv:Cn&&G(Z.emissiveMap.channel),metalnessMapUv:Dn&&G(Z.metalnessMap.channel),roughnessMapUv:nr&&G(Z.roughnessMap.channel),anisotropyMapUv:Nt&&G(Z.anisotropyMap.channel),clearcoatMapUv:Pn&&G(Z.clearcoatMap.channel),clearcoatNormalMapUv:kn&&G(Z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Nn&&G(Z.clearcoatRoughnessMap.channel),iridescenceMapUv:Ar&&G(Z.iridescenceMap.channel),iridescenceThicknessMapUv:Zn&&G(Z.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&G(Z.sheenColorMap.channel),sheenRoughnessMapUv:Jt&&G(Z.sheenRoughnessMap.channel),specularMapUv:On&&G(Z.specularMap.channel),specularColorMapUv:Bn&&G(Z.specularColorMap.channel),specularIntensityMapUv:Wn&&G(Z.specularIntensityMap.channel),transmissionMapUv:Yn&&G(Z.transmissionMap.channel),thicknessMapUv:Dr&&G(Z.thicknessMap.channel),alphaMapUv:ht&&G(Z.alphaMap.channel),vertexTangents:!!Ge.attributes.tangent&&(Kt||dr),vertexColors:Z.vertexColors,vertexAlphas:Z.vertexColors===!0&&!!Ge.attributes.color&&Ge.attributes.color.itemSize===4,vertexUv1s:ir,vertexUv2s:hr,vertexUv3s:Li,pointsUvs:Ke.isPoints===!0&&!!Ge.attributes.uv&&(en||ht),fog:!!Le,useFog:Z.fog===!0,fogExp2:Le&&Le.isFogExp2,flatShading:Z.flatShading===!0,sizeAttenuation:Z.sizeAttenuation===!0,logarithmicDepthBuffer:x,skinning:Ke.isSkinnedMesh===!0,morphTargets:Ge.morphAttributes.position!==void 0,morphNormals:Ge.morphAttributes.normal!==void 0,morphColors:Ge.morphAttributes.color!==void 0,morphTargetsCount:Pe,morphTextureStride:be,numDirLights:he.directional.length,numPointLights:he.point.length,numSpotLights:he.spot.length,numSpotLightMaps:he.spotLightMap.length,numRectAreaLights:he.rectArea.length,numHemiLights:he.hemi.length,numDirLightShadows:he.directionalShadowMap.length,numPointLightShadows:he.pointShadowMap.length,numSpotLightShadows:he.spotShadowMap.length,numSpotLightShadowsWithMaps:he.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:Z.dithering,shadowMapEnabled:t.shadowMap.enabled&&Te.length>0,shadowMapType:t.shadowMap.type,toneMapping:Z.toneMapped?t.toneMapping:vg,useLegacyLights:t.useLegacyLights,premultipliedAlpha:Z.premultipliedAlpha,doubleSided:Z.side===Mf,flipSided:Z.side===If,useDepthPacking:Z.depthPacking>=0,depthPacking:Z.depthPacking||0,index0AttributeName:Z.index0AttributeName,extensionDerivatives:Rt&&Z.extensions.derivatives===!0,extensionFragDepth:Rt&&Z.extensions.fragDepth===!0,extensionDrawBuffers:Rt&&Z.extensions.drawBuffers===!0,extensionShaderTextureLOD:Rt&&Z.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:S||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:S||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:S||r.has("EXT_shader_texture_lod"),customProgramCacheKey:Z.customProgramCacheKey()}}function w(Z){const he=[];if(Z.shaderID?he.push(Z.shaderID):(he.push(Z.customVertexShaderID),he.push(Z.customFragmentShaderID)),Z.defines!==void 0)for(const Te in Z.defines)he.push(Te),he.push(Z.defines[Te]);return Z.isRawShaderMaterial===!1&&(L(he,Z),F(he,Z),he.push(t.outputColorSpace)),he.push(Z.customProgramCacheKey),he.join()}function L(Z,he){Z.push(he.precision),Z.push(he.outputColorSpace),Z.push(he.envMapMode),Z.push(he.envMapCubeUVHeight),Z.push(he.mapUv),Z.push(he.alphaMapUv),Z.push(he.lightMapUv),Z.push(he.aoMapUv),Z.push(he.bumpMapUv),Z.push(he.normalMapUv),Z.push(he.displacementMapUv),Z.push(he.emissiveMapUv),Z.push(he.metalnessMapUv),Z.push(he.roughnessMapUv),Z.push(he.anisotropyMapUv),Z.push(he.clearcoatMapUv),Z.push(he.clearcoatNormalMapUv),Z.push(he.clearcoatRoughnessMapUv),Z.push(he.iridescenceMapUv),Z.push(he.iridescenceThicknessMapUv),Z.push(he.sheenColorMapUv),Z.push(he.sheenRoughnessMapUv),Z.push(he.specularMapUv),Z.push(he.specularColorMapUv),Z.push(he.specularIntensityMapUv),Z.push(he.transmissionMapUv),Z.push(he.thicknessMapUv),Z.push(he.combine),Z.push(he.fogExp2),Z.push(he.sizeAttenuation),Z.push(he.morphTargetsCount),Z.push(he.morphAttributeCount),Z.push(he.numDirLights),Z.push(he.numPointLights),Z.push(he.numSpotLights),Z.push(he.numSpotLightMaps),Z.push(he.numHemiLights),Z.push(he.numRectAreaLights),Z.push(he.numDirLightShadows),Z.push(he.numPointLightShadows),Z.push(he.numSpotLightShadows),Z.push(he.numSpotLightShadowsWithMaps),Z.push(he.shadowMapType),Z.push(he.toneMapping),Z.push(he.numClippingPlanes),Z.push(he.numClipIntersection),Z.push(he.depthPacking)}function F(Z,he){d.disableAll(),he.isWebGL2&&d.enable(0),he.supportsVertexTextures&&d.enable(1),he.instancing&&d.enable(2),he.instancingColor&&d.enable(3),he.matcap&&d.enable(4),he.envMap&&d.enable(5),he.normalMapObjectSpace&&d.enable(6),he.normalMapTangentSpace&&d.enable(7),he.clearcoat&&d.enable(8),he.iridescence&&d.enable(9),he.alphaTest&&d.enable(10),he.vertexColors&&d.enable(11),he.vertexAlphas&&d.enable(12),he.vertexUv1s&&d.enable(13),he.vertexUv2s&&d.enable(14),he.vertexUv3s&&d.enable(15),he.vertexTangents&&d.enable(16),he.anisotropy&&d.enable(17),Z.push(d.mask),d.disableAll(),he.fog&&d.enable(0),he.useFog&&d.enable(1),he.flatShading&&d.enable(2),he.logarithmicDepthBuffer&&d.enable(3),he.skinning&&d.enable(4),he.morphTargets&&d.enable(5),he.morphNormals&&d.enable(6),he.morphColors&&d.enable(7),he.premultipliedAlpha&&d.enable(8),he.shadowMapEnabled&&d.enable(9),he.useLegacyLights&&d.enable(10),he.doubleSided&&d.enable(11),he.flipSided&&d.enable(12),he.useDepthPacking&&d.enable(13),he.dithering&&d.enable(14),he.transmission&&d.enable(15),he.sheen&&d.enable(16),he.opaque&&d.enable(17),he.pointsUvs&&d.enable(18),Z.push(d.mask)}function W(Z){const he=R[Z.type];let Te;if(he){const je=h0[he];Te=BTe.clone(je.uniforms)}else Te=Z.uniforms;return Te}function U(Z,he){let Te;for(let je=0,Ke=v.length;je<Ke;je++){const Le=v[je];if(Le.cacheKey===he){Te=Le,++Te.usedTimes;break}}return Te===void 0&&(Te=new V$e(t,he,Z,o),v.push(Te)),Te}function Q(Z){if(--Z.usedTimes===0){const he=v.indexOf(Z);v[he]=v[v.length-1],v.pop(),Z.destroy()}}function de(Z){h.remove(Z)}function fe(){h.dispose()}return{getParameters:j,getProgramCacheKey:w,getUniforms:W,acquireProgram:U,releaseProgram:Q,releaseShaderCache:de,programs:v,dispose:fe}}function Y$e(){let t=new WeakMap;function e(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function n(o){t.delete(o)}function r(o,l,d){t.get(o)[l]=d}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function $$e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dSe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function hSe(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function l(x,A,T,R,G,j){let w=t[e];return w===void 0?(w={id:x.id,object:x,geometry:A,material:T,groupOrder:R,renderOrder:x.renderOrder,z:G,group:j},t[e]=w):(w.id=x.id,w.object=x,w.geometry=A,w.material=T,w.groupOrder=R,w.renderOrder=x.renderOrder,w.z=G,w.group=j),e++,w}function d(x,A,T,R,G,j){const w=l(x,A,T,R,G,j);T.transmission>0?r.push(w):T.transparent===!0?i.push(w):n.push(w)}function h(x,A,T,R,G,j){const w=l(x,A,T,R,G,j);T.transmission>0?r.unshift(w):T.transparent===!0?i.unshift(w):n.unshift(w)}function v(x,A){n.length>1&&n.sort(x||$$e),r.length>1&&r.sort(A||dSe),i.length>1&&i.sort(A||dSe)}function S(){for(let x=e,A=t.length;x<A;x++){const T=t[x];if(T.id===null)break;T.id=null,T.object=null,T.geometry=null,T.material=null,T.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:d,unshift:h,finish:S,sort:v}}function Q$e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let l;return o===void 0?(l=new hSe,t.set(r,[l])):i>=o.length?(l=new hSe,o.push(l)):l=o[i],l}function n(){t=new WeakMap}return{get:e,dispose:n}}function J$e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Ve,color:new ur};break;case"SpotLight":n={position:new Ve,direction:new Ve,color:new ur,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ve,color:new ur,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ve,skyColor:new ur,groundColor:new ur};break;case"RectAreaLight":n={color:new ur,position:new Ve,halfWidth:new Ve,halfHeight:new Ve};break}return t[e.id]=n,n}}}function Z$e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let eQe=0;function tQe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function nQe(t,e){const n=new J$e,r=Z$e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let S=0;S<9;S++)i.probe.push(new Ve);const o=new Ve,l=new ea,d=new ea;function h(S,x){let A=0,T=0,R=0;for(let Te=0;Te<9;Te++)i.probe[Te].set(0,0,0);let G=0,j=0,w=0,L=0,F=0,W=0,U=0,Q=0,de=0,fe=0;S.sort(tQe);const Z=x===!0?Math.PI:1;for(let Te=0,je=S.length;Te<je;Te++){const Ke=S[Te],Le=Ke.color,Ge=Ke.intensity,ut=Ke.distance,st=Ke.shadow&&Ke.shadow.map?Ke.shadow.map.texture:null;if(Ke.isAmbientLight)A+=Le.r*Ge*Z,T+=Le.g*Ge*Z,R+=Le.b*Ge*Z;else if(Ke.isLightProbe)for(let _e=0;_e<9;_e++)i.probe[_e].addScaledVector(Ke.sh.coefficients[_e],Ge);else if(Ke.isDirectionalLight){const _e=n.get(Ke);if(_e.color.copy(Ke.color).multiplyScalar(Ke.intensity*Z),Ke.castShadow){const Se=Ke.shadow,we=r.get(Ke);we.shadowBias=Se.bias,we.shadowNormalBias=Se.normalBias,we.shadowRadius=Se.radius,we.shadowMapSize=Se.mapSize,i.directionalShadow[G]=we,i.directionalShadowMap[G]=st,i.directionalShadowMatrix[G]=Ke.shadow.matrix,W++}i.directional[G]=_e,G++}else if(Ke.isSpotLight){const _e=n.get(Ke);_e.position.setFromMatrixPosition(Ke.matrixWorld),_e.color.copy(Le).multiplyScalar(Ge*Z),_e.distance=ut,_e.coneCos=Math.cos(Ke.angle),_e.penumbraCos=Math.cos(Ke.angle*(1-Ke.penumbra)),_e.decay=Ke.decay,i.spot[w]=_e;const Se=Ke.shadow;if(Ke.map&&(i.spotLightMap[de]=Ke.map,de++,Se.updateMatrices(Ke),Ke.castShadow&&fe++),i.spotLightMatrix[w]=Se.matrix,Ke.castShadow){const we=r.get(Ke);we.shadowBias=Se.bias,we.shadowNormalBias=Se.normalBias,we.shadowRadius=Se.radius,we.shadowMapSize=Se.mapSize,i.spotShadow[w]=we,i.spotShadowMap[w]=st,Q++}w++}else if(Ke.isRectAreaLight){const _e=n.get(Ke);_e.color.copy(Le).multiplyScalar(Ge),_e.halfWidth.set(Ke.width*.5,0,0),_e.halfHeight.set(0,Ke.height*.5,0),i.rectArea[L]=_e,L++}else if(Ke.isPointLight){const _e=n.get(Ke);if(_e.color.copy(Ke.color).multiplyScalar(Ke.intensity*Z),_e.distance=Ke.distance,_e.decay=Ke.decay,Ke.castShadow){const Se=Ke.shadow,we=r.get(Ke);we.shadowBias=Se.bias,we.shadowNormalBias=Se.normalBias,we.shadowRadius=Se.radius,we.shadowMapSize=Se.mapSize,we.shadowCameraNear=Se.camera.near,we.shadowCameraFar=Se.camera.far,i.pointShadow[j]=we,i.pointShadowMap[j]=st,i.pointShadowMatrix[j]=Ke.shadow.matrix,U++}i.point[j]=_e,j++}else if(Ke.isHemisphereLight){const _e=n.get(Ke);_e.skyColor.copy(Ke.color).multiplyScalar(Ge*Z),_e.groundColor.copy(Ke.groundColor).multiplyScalar(Ge*Z),i.hemi[F]=_e,F++}}L>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=kr.LTC_FLOAT_1,i.rectAreaLTC2=kr.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=kr.LTC_HALF_1,i.rectAreaLTC2=kr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=A,i.ambient[1]=T,i.ambient[2]=R;const he=i.hash;(he.directionalLength!==G||he.pointLength!==j||he.spotLength!==w||he.rectAreaLength!==L||he.hemiLength!==F||he.numDirectionalShadows!==W||he.numPointShadows!==U||he.numSpotShadows!==Q||he.numSpotMaps!==de)&&(i.directional.length=G,i.spot.length=w,i.rectArea.length=L,i.point.length=j,i.hemi.length=F,i.directionalShadow.length=W,i.directionalShadowMap.length=W,i.pointShadow.length=U,i.pointShadowMap.length=U,i.spotShadow.length=Q,i.spotShadowMap.length=Q,i.directionalShadowMatrix.length=W,i.pointShadowMatrix.length=U,i.spotLightMatrix.length=Q+de-fe,i.spotLightMap.length=de,i.numSpotLightShadowsWithMaps=fe,he.directionalLength=G,he.pointLength=j,he.spotLength=w,he.rectAreaLength=L,he.hemiLength=F,he.numDirectionalShadows=W,he.numPointShadows=U,he.numSpotShadows=Q,he.numSpotMaps=de,i.version=eQe++)}function v(S,x){let A=0,T=0,R=0,G=0,j=0;const w=x.matrixWorldInverse;for(let L=0,F=S.length;L<F;L++){const W=S[L];if(W.isDirectionalLight){const U=i.directional[A];U.direction.setFromMatrixPosition(W.matrixWorld),o.setFromMatrixPosition(W.target.matrixWorld),U.direction.sub(o),U.direction.transformDirection(w),A++}else if(W.isSpotLight){const U=i.spot[R];U.position.setFromMatrixPosition(W.matrixWorld),U.position.applyMatrix4(w),U.direction.setFromMatrixPosition(W.matrixWorld),o.setFromMatrixPosition(W.target.matrixWorld),U.direction.sub(o),U.direction.transformDirection(w),R++}else if(W.isRectAreaLight){const U=i.rectArea[G];U.position.setFromMatrixPosition(W.matrixWorld),U.position.applyMatrix4(w),d.identity(),l.copy(W.matrixWorld),l.premultiply(w),d.extractRotation(l),U.halfWidth.set(W.width*.5,0,0),U.halfHeight.set(0,W.height*.5,0),U.halfWidth.applyMatrix4(d),U.halfHeight.applyMatrix4(d),G++}else if(W.isPointLight){const U=i.point[T];U.position.setFromMatrixPosition(W.matrixWorld),U.position.applyMatrix4(w),T++}else if(W.isHemisphereLight){const U=i.hemi[j];U.direction.setFromMatrixPosition(W.matrixWorld),U.direction.transformDirection(w),j++}}}return{setup:h,setupView:v,state:i}}function pSe(t,e){const n=new nQe(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function l(x){r.push(x)}function d(x){i.push(x)}function h(x){n.setup(r,x)}function v(x){n.setupView(r,x)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:h,setupLightsView:v,pushLight:l,pushShadow:d}}function rQe(t,e){let n=new WeakMap;function r(o,l=0){const d=n.get(o);let h;return d===void 0?(h=new pSe(t,e),n.set(o,[h])):l>=d.length?(h=new pSe(t,e),d.push(h)):h=d[l],h}function i(){n=new WeakMap}return{get:r,dispose:i}}class FJ extends ac{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xg,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class UJ extends ac{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const iQe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,aQe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function oQe(t,e,n){let r=new CH;const i=new vn,o=new vn,l=new go,d=new FJ({depthPacking:HM}),h=new UJ,v={},S=n.maxTextureSize,x={[y0]:If,[If]:y0,[Mf]:Mf},A=new Oc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new vn},radius:{value:4}},vertexShader:iQe,fragmentShader:aQe}),T=A.clone();T.defines.HORIZONTAL_PASS=1;const R=new da;R.setAttribute("position",new lo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const G=new Yr(R,A),j=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=yH;let w=this.type;this.render=function(U,Q,de){if(j.enabled===!1||j.autoUpdate===!1&&j.needsUpdate===!1||U.length===0)return;const fe=t.getRenderTarget(),Z=t.getActiveCubeFace(),he=t.getActiveMipmapLevel(),Te=t.state;Te.setBlending(rh),Te.buffers.color.setClear(1,1,1,1),Te.buffers.depth.setTest(!0),Te.setScissorTest(!1);const je=w!==u0&&this.type===u0,Ke=w===u0&&this.type!==u0;for(let Le=0,Ge=U.length;Le<Ge;Le++){const ut=U[Le],st=ut.shadow;if(st===void 0){console.warn("THREE.WebGLShadowMap:",ut,"has no shadow.");continue}if(st.autoUpdate===!1&&st.needsUpdate===!1)continue;i.copy(st.mapSize);const _e=st.getFrameExtents();if(i.multiply(_e),o.copy(st.mapSize),(i.x>S||i.y>S)&&(i.x>S&&(o.x=Math.floor(S/_e.x),i.x=o.x*_e.x,st.mapSize.x=o.x),i.y>S&&(o.y=Math.floor(S/_e.y),i.y=o.y*_e.y,st.mapSize.y=o.y)),st.map===null||je===!0||Ke===!0){const we=this.type!==u0?{minFilter:Vs,magFilter:Vs}:{};st.map!==null&&st.map.dispose(),st.map=new af(i.x,i.y,we),st.map.texture.name=ut.name+".shadowMap",st.camera.updateProjectionMatrix()}t.setRenderTarget(st.map),t.clear();const Se=st.getViewportCount();for(let we=0;we<Se;we++){const Pe=st.getViewport(we);l.set(o.x*Pe.x,o.y*Pe.y,o.x*Pe.z,o.y*Pe.w),Te.viewport(l),st.updateMatrices(ut,we),r=st.getFrustum(),W(Q,de,st.camera,ut,this.type)}st.isPointLightShadow!==!0&&this.type===u0&&L(st,de),st.needsUpdate=!1}w=this.type,j.needsUpdate=!1,t.setRenderTarget(fe,Z,he)};function L(U,Q){const de=e.update(G);A.defines.VSM_SAMPLES!==U.blurSamples&&(A.defines.VSM_SAMPLES=U.blurSamples,T.defines.VSM_SAMPLES=U.blurSamples,A.needsUpdate=!0,T.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new af(i.x,i.y)),A.uniforms.shadow_pass.value=U.map.texture,A.uniforms.resolution.value=U.mapSize,A.uniforms.radius.value=U.radius,t.setRenderTarget(U.mapPass),t.clear(),t.renderBufferDirect(Q,null,de,A,G,null),T.uniforms.shadow_pass.value=U.mapPass.texture,T.uniforms.resolution.value=U.mapSize,T.uniforms.radius.value=U.radius,t.setRenderTarget(U.map),t.clear(),t.renderBufferDirect(Q,null,de,T,G,null)}function F(U,Q,de,fe){let Z=null;const he=de.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(he!==void 0)Z=he;else if(Z=de.isPointLight===!0?h:d,t.localClippingEnabled&&Q.clipShadows===!0&&Array.isArray(Q.clippingPlanes)&&Q.clippingPlanes.length!==0||Q.displacementMap&&Q.displacementScale!==0||Q.alphaMap&&Q.alphaTest>0||Q.map&&Q.alphaTest>0){const Te=Z.uuid,je=Q.uuid;let Ke=v[Te];Ke===void 0&&(Ke={},v[Te]=Ke);let Le=Ke[je];Le===void 0&&(Le=Z.clone(),Ke[je]=Le),Z=Le}if(Z.visible=Q.visible,Z.wireframe=Q.wireframe,fe===u0?Z.side=Q.shadowSide!==null?Q.shadowSide:Q.side:Z.side=Q.shadowSide!==null?Q.shadowSide:x[Q.side],Z.alphaMap=Q.alphaMap,Z.alphaTest=Q.alphaTest,Z.map=Q.map,Z.clipShadows=Q.clipShadows,Z.clippingPlanes=Q.clippingPlanes,Z.clipIntersection=Q.clipIntersection,Z.displacementMap=Q.displacementMap,Z.displacementScale=Q.displacementScale,Z.displacementBias=Q.displacementBias,Z.wireframeLinewidth=Q.wireframeLinewidth,Z.linewidth=Q.linewidth,de.isPointLight===!0&&Z.isMeshDistanceMaterial===!0){const Te=t.properties.get(Z);Te.light=de}return Z}function W(U,Q,de,fe,Z){if(U.visible===!1)return;if(U.layers.test(Q.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&Z===u0)&&(!U.frustumCulled||r.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,U.matrixWorld);const je=e.update(U),Ke=U.material;if(Array.isArray(Ke)){const Le=je.groups;for(let Ge=0,ut=Le.length;Ge<ut;Ge++){const st=Le[Ge],_e=Ke[st.materialIndex];if(_e&&_e.visible){const Se=F(U,_e,fe,Z);t.renderBufferDirect(de,null,je,Se,U,st)}}}else if(Ke.visible){const Le=F(U,Ke,fe,Z);t.renderBufferDirect(de,null,je,Le,U,null)}}const Te=U.children;for(let je=0,Ke=Te.length;je<Ke;je++)W(Te[je],Q,de,fe,Z)}}function sQe(t,e,n){const r=n.isWebGL2;function i(){let ht=!1;const Ot=new go;let Rt=null;const ir=new go(0,0,0,0);return{setMask:function(hr){Rt!==hr&&!ht&&(t.colorMask(hr,hr,hr,hr),Rt=hr)},setLocked:function(hr){ht=hr},setClear:function(hr,Li,Pa,Ra,ft){ft===!0&&(hr*=Ra,Li*=Ra,Pa*=Ra),Ot.set(hr,Li,Pa,Ra),ir.equals(Ot)===!1&&(t.clearColor(hr,Li,Pa,Ra),ir.copy(Ot))},reset:function(){ht=!1,Rt=null,ir.set(-1,0,0,0)}}}function o(){let ht=!1,Ot=null,Rt=null,ir=null;return{setTest:function(hr){hr?Mt(t.DEPTH_TEST):dt(t.DEPTH_TEST)},setMask:function(hr){Ot!==hr&&!ht&&(t.depthMask(hr),Ot=hr)},setFunc:function(hr){if(Rt!==hr){switch(hr){case YAe:t.depthFunc(t.NEVER);break;case $Ae:t.depthFunc(t.ALWAYS);break;case QAe:t.depthFunc(t.LESS);break;case T4:t.depthFunc(t.LEQUAL);break;case JAe:t.depthFunc(t.EQUAL);break;case ZAe:t.depthFunc(t.GEQUAL);break;case eTe:t.depthFunc(t.GREATER);break;case tTe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Rt=hr}},setLocked:function(hr){ht=hr},setClear:function(hr){ir!==hr&&(t.clearDepth(hr),ir=hr)},reset:function(){ht=!1,Ot=null,Rt=null,ir=null}}}function l(){let ht=!1,Ot=null,Rt=null,ir=null,hr=null,Li=null,Pa=null,Ra=null,ft=null;return{setTest:function(kt){ht||(kt?Mt(t.STENCIL_TEST):dt(t.STENCIL_TEST))},setMask:function(kt){Ot!==kt&&!ht&&(t.stencilMask(kt),Ot=kt)},setFunc:function(kt,Bt,Un){(Rt!==kt||ir!==Bt||hr!==Un)&&(t.stencilFunc(kt,Bt,Un),Rt=kt,ir=Bt,hr=Un)},setOp:function(kt,Bt,Un){(Li!==kt||Pa!==Bt||Ra!==Un)&&(t.stencilOp(kt,Bt,Un),Li=kt,Pa=Bt,Ra=Un)},setLocked:function(kt){ht=kt},setClear:function(kt){ft!==kt&&(t.clearStencil(kt),ft=kt)},reset:function(){ht=!1,Ot=null,Rt=null,ir=null,hr=null,Li=null,Pa=null,Ra=null,ft=null}}}const d=new i,h=new o,v=new l,S=new WeakMap,x=new WeakMap;let A={},T={},R=new WeakMap,G=[],j=null,w=!1,L=null,F=null,W=null,U=null,Q=null,de=null,fe=null,Z=!1,he=null,Te=null,je=null,Ke=null,Le=null;const Ge=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ut=!1,st=0;const _e=t.getParameter(t.VERSION);_e.indexOf("WebGL")!==-1?(st=parseFloat(/^WebGL (\d)/.exec(_e)[1]),ut=st>=1):_e.indexOf("OpenGL ES")!==-1&&(st=parseFloat(/^OpenGL ES (\d)/.exec(_e)[1]),ut=st>=2);let Se=null,we={};const Pe=t.getParameter(t.SCISSOR_BOX),be=t.getParameter(t.VIEWPORT),Ce=new go().fromArray(Pe),qe=new go().fromArray(be);function mt(ht,Ot,Rt,ir){const hr=new Uint8Array(4),Li=t.createTexture();t.bindTexture(ht,Li),t.texParameteri(ht,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ht,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Pa=0;Pa<Rt;Pa++)r&&(ht===t.TEXTURE_3D||ht===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ot,0,t.RGBA,1,1,ir,0,t.RGBA,t.UNSIGNED_BYTE,hr):t.texImage2D(Ot+Pa,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,hr);return Li}const We={};We[t.TEXTURE_2D]=mt(t.TEXTURE_2D,t.TEXTURE_2D,1),We[t.TEXTURE_CUBE_MAP]=mt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(We[t.TEXTURE_2D_ARRAY]=mt(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),We[t.TEXTURE_3D]=mt(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),d.setClear(0,0,0,1),h.setClear(1),v.setClear(0),Mt(t.DEPTH_TEST),h.setFunc(T4),Yt(!1),Cn(ZY),Mt(t.CULL_FACE),Ut(rh);function Mt(ht){A[ht]!==!0&&(t.enable(ht),A[ht]=!0)}function dt(ht){A[ht]!==!1&&(t.disable(ht),A[ht]=!1)}function en(ht,Ot){return T[ht]!==Ot?(t.bindFramebuffer(ht,Ot),T[ht]=Ot,r&&(ht===t.DRAW_FRAMEBUFFER&&(T[t.FRAMEBUFFER]=Ot),ht===t.FRAMEBUFFER&&(T[t.DRAW_FRAMEBUFFER]=Ot)),!0):!1}function cn(ht,Ot){let Rt=G,ir=!1;if(ht)if(Rt=R.get(Ot),Rt===void 0&&(Rt=[],R.set(Ot,Rt)),ht.isWebGLMultipleRenderTargets){const hr=ht.texture;if(Rt.length!==hr.length||Rt[0]!==t.COLOR_ATTACHMENT0){for(let Li=0,Pa=hr.length;Li<Pa;Li++)Rt[Li]=t.COLOR_ATTACHMENT0+Li;Rt.length=hr.length,ir=!0}}else Rt[0]!==t.COLOR_ATTACHMENT0&&(Rt[0]=t.COLOR_ATTACHMENT0,ir=!0);else Rt[0]!==t.BACK&&(Rt[0]=t.BACK,ir=!0);ir&&(n.isWebGL2?t.drawBuffers(Rt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Rt))}function sn(ht){return j!==ht?(t.useProgram(ht),j=ht,!0):!1}const $e={[ab]:t.FUNC_ADD,[FAe]:t.FUNC_SUBTRACT,[UAe]:t.FUNC_REVERSE_SUBTRACT};if(r)$e[r$]=t.MIN,$e[i$]=t.MAX;else{const ht=e.get("EXT_blend_minmax");ht!==null&&($e[r$]=ht.MIN_EXT,$e[i$]=ht.MAX_EXT)}const Gt={[zAe]:t.ZERO,[HAe]:t.ONE,[jAe]:t.SRC_COLOR,[_J]:t.SRC_ALPHA,[XAe]:t.SRC_ALPHA_SATURATE,[KAe]:t.DST_COLOR,[VAe]:t.DST_ALPHA,[GAe]:t.ONE_MINUS_SRC_COLOR,[SJ]:t.ONE_MINUS_SRC_ALPHA,[qAe]:t.ONE_MINUS_DST_COLOR,[WAe]:t.ONE_MINUS_DST_ALPHA};function Ut(ht,Ot,Rt,ir,hr,Li,Pa,Ra){if(ht===rh){w===!0&&(dt(t.BLEND),w=!1);return}if(w===!1&&(Mt(t.BLEND),w=!0),ht!==NAe){if(ht!==L||Ra!==Z){if((F!==ab||Q!==ab)&&(t.blendEquation(t.FUNC_ADD),F=ab,Q=ab),Ra)switch(ht){case _b:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case e$:t.blendFunc(t.ONE,t.ONE);break;case t$:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case n$:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ht);break}else switch(ht){case _b:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case e$:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case t$:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case n$:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ht);break}W=null,U=null,de=null,fe=null,L=ht,Z=Ra}return}hr=hr||Ot,Li=Li||Rt,Pa=Pa||ir,(Ot!==F||hr!==Q)&&(t.blendEquationSeparate($e[Ot],$e[hr]),F=Ot,Q=hr),(Rt!==W||ir!==U||Li!==de||Pa!==fe)&&(t.blendFuncSeparate(Gt[Rt],Gt[ir],Gt[Li],Gt[Pa]),W=Rt,U=ir,de=Li,fe=Pa),L=ht,Z=!1}function Kt(ht,Ot){ht.side===Mf?dt(t.CULL_FACE):Mt(t.CULL_FACE);let Rt=ht.side===If;Ot&&(Rt=!Rt),Yt(Rt),ht.blending===_b&&ht.transparent===!1?Ut(rh):Ut(ht.blending,ht.blendEquation,ht.blendSrc,ht.blendDst,ht.blendEquationAlpha,ht.blendSrcAlpha,ht.blendDstAlpha,ht.premultipliedAlpha),h.setFunc(ht.depthFunc),h.setTest(ht.depthTest),h.setMask(ht.depthWrite),d.setMask(ht.colorWrite);const ir=ht.stencilWrite;v.setTest(ir),ir&&(v.setMask(ht.stencilWriteMask),v.setFunc(ht.stencilFunc,ht.stencilRef,ht.stencilFuncMask),v.setOp(ht.stencilFail,ht.stencilZFail,ht.stencilZPass)),nr(ht.polygonOffset,ht.polygonOffsetFactor,ht.polygonOffsetUnits),ht.alphaToCoverage===!0?Mt(t.SAMPLE_ALPHA_TO_COVERAGE):dt(t.SAMPLE_ALPHA_TO_COVERAGE)}function Yt(ht){he!==ht&&(ht?t.frontFace(t.CW):t.frontFace(t.CCW),he=ht)}function Cn(ht){ht!==OAe?(Mt(t.CULL_FACE),ht!==Te&&(ht===ZY?t.cullFace(t.BACK):ht===BAe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):dt(t.CULL_FACE),Te=ht}function Dn(ht){ht!==je&&(ut&&t.lineWidth(ht),je=ht)}function nr(ht,Ot,Rt){ht?(Mt(t.POLYGON_OFFSET_FILL),(Ke!==Ot||Le!==Rt)&&(t.polygonOffset(Ot,Rt),Ke=Ot,Le=Rt)):dt(t.POLYGON_OFFSET_FILL)}function dr(ht){ht?Mt(t.SCISSOR_TEST):dt(t.SCISSOR_TEST)}function Jr(ht){ht===void 0&&(ht=t.TEXTURE0+Ge-1),Se!==ht&&(t.activeTexture(ht),Se=ht)}function Hi(ht,Ot,Rt){Rt===void 0&&(Se===null?Rt=t.TEXTURE0+Ge-1:Rt=Se);let ir=we[Rt];ir===void 0&&(ir={type:void 0,texture:void 0},we[Rt]=ir),(ir.type!==ht||ir.texture!==Ot)&&(Se!==Rt&&(t.activeTexture(Rt),Se=Rt),t.bindTexture(ht,Ot||We[ht]),ir.type=ht,ir.texture=Ot)}function et(){const ht=we[Se];ht!==void 0&&ht.type!==void 0&&(t.bindTexture(ht.type,null),ht.type=void 0,ht.texture=void 0)}function Be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Nt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Pn(){try{t.texSubImage2D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function kn(){try{t.texSubImage3D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Nn(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Ar(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Zn(){try{t.texStorage2D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Je(){try{t.texStorage3D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Jt(){try{t.texImage2D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function On(){try{t.texImage3D.apply(t,arguments)}catch(ht){console.error("THREE.WebGLState:",ht)}}function Bn(ht){Ce.equals(ht)===!1&&(t.scissor(ht.x,ht.y,ht.z,ht.w),Ce.copy(ht))}function Wn(ht){qe.equals(ht)===!1&&(t.viewport(ht.x,ht.y,ht.z,ht.w),qe.copy(ht))}function Yn(ht,Ot){let Rt=x.get(Ot);Rt===void 0&&(Rt=new WeakMap,x.set(Ot,Rt));let ir=Rt.get(ht);ir===void 0&&(ir=t.getUniformBlockIndex(Ot,ht.name),Rt.set(ht,ir))}function Dr(ht,Ot){const ir=x.get(Ot).get(ht);S.get(Ot)!==ir&&(t.uniformBlockBinding(Ot,ir,ht.__bindingPointIndex),S.set(Ot,ir))}function cr(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),A={},Se=null,we={},T={},R=new WeakMap,G=[],j=null,w=!1,L=null,F=null,W=null,U=null,Q=null,de=null,fe=null,Z=!1,he=null,Te=null,je=null,Ke=null,Le=null,Ce.set(0,0,t.canvas.width,t.canvas.height),qe.set(0,0,t.canvas.width,t.canvas.height),d.reset(),h.reset(),v.reset()}return{buffers:{color:d,depth:h,stencil:v},enable:Mt,disable:dt,bindFramebuffer:en,drawBuffers:cn,useProgram:sn,setBlending:Ut,setMaterial:Kt,setFlipSided:Yt,setCullFace:Cn,setLineWidth:Dn,setPolygonOffset:nr,setScissorTest:dr,activeTexture:Jr,bindTexture:Hi,unbindTexture:et,compressedTexImage2D:Be,compressedTexImage3D:Nt,texImage2D:Jt,texImage3D:On,updateUBOMapping:Yn,uniformBlockBinding:Dr,texStorage2D:Zn,texStorage3D:Je,texSubImage2D:Pn,texSubImage3D:kn,compressedTexSubImage2D:Nn,compressedTexSubImage3D:Ar,scissor:Bn,viewport:Wn,reset:cr}}function lQe(t,e,n,r,i,o,l){const d=i.isWebGL2,h=i.maxTextures,v=i.maxCubemapSize,S=i.maxTextureSize,x=i.maxSamples,A=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,T=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),R=new WeakMap;let G;const j=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function L(et,Be){return w?new OffscreenCanvas(et,Be):EO("canvas")}function F(et,Be,Nt,Pn){let kn=1;if((et.width>Pn||et.height>Pn)&&(kn=Pn/Math.max(et.width,et.height)),kn<1||Be===!0)if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap){const Nn=Be?I4:Math.floor,Ar=Nn(kn*et.width),Zn=Nn(kn*et.height);G===void 0&&(G=L(Ar,Zn));const Je=Nt?L(Ar,Zn):G;return Je.width=Ar,Je.height=Zn,Je.getContext("2d").drawImage(et,0,0,Ar,Zn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+Ar+"x"+Zn+")."),Je}else return"data"in et&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),et;return et}function W(et){return M$(et.width)&&M$(et.height)}function U(et){return d?!1:et.wrapS!==eh||et.wrapT!==eh||et.minFilter!==Vs&&et.minFilter!==as}function Q(et,Be){return et.generateMipmaps&&Be&&et.minFilter!==Vs&&et.minFilter!==as}function de(et){t.generateMipmap(et)}function fe(et,Be,Nt,Pn,kn=!1){if(d===!1)return Be;if(et!==null){if(t[et]!==void 0)return t[et];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+et+"'")}let Nn=Be;return Be===t.RED&&(Nt===t.FLOAT&&(Nn=t.R32F),Nt===t.HALF_FLOAT&&(Nn=t.R16F),Nt===t.UNSIGNED_BYTE&&(Nn=t.R8)),Be===t.RG&&(Nt===t.FLOAT&&(Nn=t.RG32F),Nt===t.HALF_FLOAT&&(Nn=t.RG16F),Nt===t.UNSIGNED_BYTE&&(Nn=t.RG8)),Be===t.RGBA&&(Nt===t.FLOAT&&(Nn=t.RGBA32F),Nt===t.HALF_FLOAT&&(Nn=t.RGBA16F),Nt===t.UNSIGNED_BYTE&&(Nn=Pn===Ta&&kn===!1?t.SRGB8_ALPHA8:t.RGBA8),Nt===t.UNSIGNED_SHORT_4_4_4_4&&(Nn=t.RGBA4),Nt===t.UNSIGNED_SHORT_5_5_5_1&&(Nn=t.RGB5_A1)),(Nn===t.R16F||Nn===t.R32F||Nn===t.RG16F||Nn===t.RG32F||Nn===t.RGBA16F||Nn===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Nn}function Z(et,Be,Nt){return Q(et,Nt)===!0||et.isFramebufferTexture&&et.minFilter!==Vs&&et.minFilter!==as?Math.log2(Math.max(Be.width,Be.height))+1:et.mipmaps!==void 0&&et.mipmaps.length>0?et.mipmaps.length:et.isCompressedTexture&&Array.isArray(et.image)?Be.mipmaps.length:1}function he(et){return et===Vs||et===_O||et===CM?t.NEAREST:t.LINEAR}function Te(et){const Be=et.target;Be.removeEventListener("dispose",Te),Ke(Be),Be.isVideoTexture&&R.delete(Be)}function je(et){const Be=et.target;Be.removeEventListener("dispose",je),Ge(Be)}function Ke(et){const Be=r.get(et);if(Be.__webglInit===void 0)return;const Nt=et.source,Pn=j.get(Nt);if(Pn){const kn=Pn[Be.__cacheKey];kn.usedTimes--,kn.usedTimes===0&&Le(et),Object.keys(Pn).length===0&&j.delete(Nt)}r.remove(et)}function Le(et){const Be=r.get(et);t.deleteTexture(Be.__webglTexture);const Nt=et.source,Pn=j.get(Nt);delete Pn[Be.__cacheKey],l.memory.textures--}function Ge(et){const Be=et.texture,Nt=r.get(et),Pn=r.get(Be);if(Pn.__webglTexture!==void 0&&(t.deleteTexture(Pn.__webglTexture),l.memory.textures--),et.depthTexture&&et.depthTexture.dispose(),et.isWebGLCubeRenderTarget)for(let kn=0;kn<6;kn++)t.deleteFramebuffer(Nt.__webglFramebuffer[kn]),Nt.__webglDepthbuffer&&t.deleteRenderbuffer(Nt.__webglDepthbuffer[kn]);else{if(t.deleteFramebuffer(Nt.__webglFramebuffer),Nt.__webglDepthbuffer&&t.deleteRenderbuffer(Nt.__webglDepthbuffer),Nt.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Nt.__webglMultisampledFramebuffer),Nt.__webglColorRenderbuffer)for(let kn=0;kn<Nt.__webglColorRenderbuffer.length;kn++)Nt.__webglColorRenderbuffer[kn]&&t.deleteRenderbuffer(Nt.__webglColorRenderbuffer[kn]);Nt.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Nt.__webglDepthRenderbuffer)}if(et.isWebGLMultipleRenderTargets)for(let kn=0,Nn=Be.length;kn<Nn;kn++){const Ar=r.get(Be[kn]);Ar.__webglTexture&&(t.deleteTexture(Ar.__webglTexture),l.memory.textures--),r.remove(Be[kn])}r.remove(Be),r.remove(et)}let ut=0;function st(){ut=0}function _e(){const et=ut;return et>=h&&console.warn("THREE.WebGLTextures: Trying to use "+et+" texture units while this GPU supports only "+h),ut+=1,et}function Se(et){const Be=[];return Be.push(et.wrapS),Be.push(et.wrapT),Be.push(et.wrapR||0),Be.push(et.magFilter),Be.push(et.minFilter),Be.push(et.anisotropy),Be.push(et.internalFormat),Be.push(et.format),Be.push(et.type),Be.push(et.generateMipmaps),Be.push(et.premultiplyAlpha),Be.push(et.flipY),Be.push(et.unpackAlignment),Be.push(et.colorSpace),Be.join()}function we(et,Be){const Nt=r.get(et);if(et.isVideoTexture&&Jr(et),et.isRenderTargetTexture===!1&&et.version>0&&Nt.__version!==et.version){const Pn=et.image;if(Pn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{en(Nt,et,Be);return}}n.bindTexture(t.TEXTURE_2D,Nt.__webglTexture,t.TEXTURE0+Be)}function Pe(et,Be){const Nt=r.get(et);if(et.version>0&&Nt.__version!==et.version){en(Nt,et,Be);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Nt.__webglTexture,t.TEXTURE0+Be)}function be(et,Be){const Nt=r.get(et);if(et.version>0&&Nt.__version!==et.version){en(Nt,et,Be);return}n.bindTexture(t.TEXTURE_3D,Nt.__webglTexture,t.TEXTURE0+Be)}function Ce(et,Be){const Nt=r.get(et);if(et.version>0&&Nt.__version!==et.version){cn(Nt,et,Be);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Nt.__webglTexture,t.TEXTURE0+Be)}const qe={[Lx]:t.REPEAT,[eh]:t.CLAMP_TO_EDGE,[UM]:t.MIRRORED_REPEAT},mt={[Vs]:t.NEAREST,[_O]:t.NEAREST_MIPMAP_NEAREST,[CM]:t.NEAREST_MIPMAP_LINEAR,[as]:t.LINEAR,[xH]:t.LINEAR_MIPMAP_NEAREST,[zy]:t.LINEAR_MIPMAP_LINEAR},We={[wTe]:t.NEVER,[PTe]:t.ALWAYS,[ETe]:t.LESS,[CTe]:t.LEQUAL,[bTe]:t.EQUAL,[MTe]:t.GEQUAL,[ATe]:t.GREATER,[TTe]:t.NOTEQUAL};function Mt(et,Be,Nt){if(Nt?(t.texParameteri(et,t.TEXTURE_WRAP_S,qe[Be.wrapS]),t.texParameteri(et,t.TEXTURE_WRAP_T,qe[Be.wrapT]),(et===t.TEXTURE_3D||et===t.TEXTURE_2D_ARRAY)&&t.texParameteri(et,t.TEXTURE_WRAP_R,qe[Be.wrapR]),t.texParameteri(et,t.TEXTURE_MAG_FILTER,mt[Be.magFilter]),t.texParameteri(et,t.TEXTURE_MIN_FILTER,mt[Be.minFilter])):(t.texParameteri(et,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(et,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(et===t.TEXTURE_3D||et===t.TEXTURE_2D_ARRAY)&&t.texParameteri(et,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(Be.wrapS!==eh||Be.wrapT!==eh)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(et,t.TEXTURE_MAG_FILTER,he(Be.magFilter)),t.texParameteri(et,t.TEXTURE_MIN_FILTER,he(Be.minFilter)),Be.minFilter!==Vs&&Be.minFilter!==as&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Be.compareFunction&&(t.texParameteri(et,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(et,t.TEXTURE_COMPARE_FUNC,We[Be.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Pn=e.get("EXT_texture_filter_anisotropic");if(Be.magFilter===Vs||Be.minFilter!==CM&&Be.minFilter!==zy||Be.type===kf&&e.has("OES_texture_float_linear")===!1||d===!1&&Be.type===Yh&&e.has("OES_texture_half_float_linear")===!1)return;(Be.anisotropy>1||r.get(Be).__currentAnisotropy)&&(t.texParameterf(et,Pn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Be.anisotropy,i.getMaxAnisotropy())),r.get(Be).__currentAnisotropy=Be.anisotropy)}}function dt(et,Be){let Nt=!1;et.__webglInit===void 0&&(et.__webglInit=!0,Be.addEventListener("dispose",Te));const Pn=Be.source;let kn=j.get(Pn);kn===void 0&&(kn={},j.set(Pn,kn));const Nn=Se(Be);if(Nn!==et.__cacheKey){kn[Nn]===void 0&&(kn[Nn]={texture:t.createTexture(),usedTimes:0},l.memory.textures++,Nt=!0),kn[Nn].usedTimes++;const Ar=kn[et.__cacheKey];Ar!==void 0&&(kn[et.__cacheKey].usedTimes--,Ar.usedTimes===0&&Le(Be)),et.__cacheKey=Nn,et.__webglTexture=kn[Nn].texture}return Nt}function en(et,Be,Nt){let Pn=t.TEXTURE_2D;(Be.isDataArrayTexture||Be.isCompressedArrayTexture)&&(Pn=t.TEXTURE_2D_ARRAY),Be.isData3DTexture&&(Pn=t.TEXTURE_3D);const kn=dt(et,Be),Nn=Be.source;n.bindTexture(Pn,et.__webglTexture,t.TEXTURE0+Nt);const Ar=r.get(Nn);if(Nn.version!==Ar.__version||kn===!0){n.activeTexture(t.TEXTURE0+Nt),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Be.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Be.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Zn=U(Be)&&W(Be.image)===!1;let Je=F(Be.image,Zn,!1,S);Je=Hi(Be,Je);const Jt=W(Je)||d,On=o.convert(Be.format,Be.colorSpace);let Bn=o.convert(Be.type),Wn=fe(Be.internalFormat,On,Bn,Be.colorSpace);Mt(Pn,Be,Jt);let Yn;const Dr=Be.mipmaps,cr=d&&Be.isVideoTexture!==!0,ht=Ar.__version===void 0||kn===!0,Ot=Z(Be,Je,Jt);if(Be.isDepthTexture)Wn=t.DEPTH_COMPONENT,d?Be.type===kf?Wn=t.DEPTH_COMPONENT32F:Be.type===Py?Wn=t.DEPTH_COMPONENT24:Be.type===A1?Wn=t.DEPTH24_STENCIL8:Wn=t.DEPTH_COMPONENT16:Be.type===kf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Be.format===Cx&&Wn===t.DEPTH_COMPONENT&&Be.type!==wH&&Be.type!==Py&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Be.type=Py,Bn=o.convert(Be.type)),Be.format===Nx&&Wn===t.DEPTH_COMPONENT&&(Wn=t.DEPTH_STENCIL,Be.type!==A1&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Be.type=A1,Bn=o.convert(Be.type))),ht&&(cr?n.texStorage2D(t.TEXTURE_2D,1,Wn,Je.width,Je.height):n.texImage2D(t.TEXTURE_2D,0,Wn,Je.width,Je.height,0,On,Bn,null));else if(Be.isDataTexture)if(Dr.length>0&&Jt){cr&&ht&&n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Dr[0].width,Dr[0].height);for(let Rt=0,ir=Dr.length;Rt<ir;Rt++)Yn=Dr[Rt],cr?n.texSubImage2D(t.TEXTURE_2D,Rt,0,0,Yn.width,Yn.height,On,Bn,Yn.data):n.texImage2D(t.TEXTURE_2D,Rt,Wn,Yn.width,Yn.height,0,On,Bn,Yn.data);Be.generateMipmaps=!1}else cr?(ht&&n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Je.width,Je.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Je.width,Je.height,On,Bn,Je.data)):n.texImage2D(t.TEXTURE_2D,0,Wn,Je.width,Je.height,0,On,Bn,Je.data);else if(Be.isCompressedTexture)if(Be.isCompressedArrayTexture){cr&&ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ot,Wn,Dr[0].width,Dr[0].height,Je.depth);for(let Rt=0,ir=Dr.length;Rt<ir;Rt++)Yn=Dr[Rt],Be.format!==Up?On!==null?cr?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Rt,0,0,0,Yn.width,Yn.height,Je.depth,On,Yn.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Rt,Wn,Yn.width,Yn.height,Je.depth,0,Yn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):cr?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Rt,0,0,0,Yn.width,Yn.height,Je.depth,On,Bn,Yn.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Rt,Wn,Yn.width,Yn.height,Je.depth,0,On,Bn,Yn.data)}else{cr&&ht&&n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Dr[0].width,Dr[0].height);for(let Rt=0,ir=Dr.length;Rt<ir;Rt++)Yn=Dr[Rt],Be.format!==Up?On!==null?cr?n.compressedTexSubImage2D(t.TEXTURE_2D,Rt,0,0,Yn.width,Yn.height,On,Yn.data):n.compressedTexImage2D(t.TEXTURE_2D,Rt,Wn,Yn.width,Yn.height,0,Yn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):cr?n.texSubImage2D(t.TEXTURE_2D,Rt,0,0,Yn.width,Yn.height,On,Bn,Yn.data):n.texImage2D(t.TEXTURE_2D,Rt,Wn,Yn.width,Yn.height,0,On,Bn,Yn.data)}else if(Be.isDataArrayTexture)cr?(ht&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ot,Wn,Je.width,Je.height,Je.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,On,Bn,Je.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Wn,Je.width,Je.height,Je.depth,0,On,Bn,Je.data);else if(Be.isData3DTexture)cr?(ht&&n.texStorage3D(t.TEXTURE_3D,Ot,Wn,Je.width,Je.height,Je.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,On,Bn,Je.data)):n.texImage3D(t.TEXTURE_3D,0,Wn,Je.width,Je.height,Je.depth,0,On,Bn,Je.data);else if(Be.isFramebufferTexture){if(ht)if(cr)n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Je.width,Je.height);else{let Rt=Je.width,ir=Je.height;for(let hr=0;hr<Ot;hr++)n.texImage2D(t.TEXTURE_2D,hr,Wn,Rt,ir,0,On,Bn,null),Rt>>=1,ir>>=1}}else if(Dr.length>0&&Jt){cr&&ht&&n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Dr[0].width,Dr[0].height);for(let Rt=0,ir=Dr.length;Rt<ir;Rt++)Yn=Dr[Rt],cr?n.texSubImage2D(t.TEXTURE_2D,Rt,0,0,On,Bn,Yn):n.texImage2D(t.TEXTURE_2D,Rt,Wn,On,Bn,Yn);Be.generateMipmaps=!1}else cr?(ht&&n.texStorage2D(t.TEXTURE_2D,Ot,Wn,Je.width,Je.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,On,Bn,Je)):n.texImage2D(t.TEXTURE_2D,0,Wn,On,Bn,Je);Q(Be,Jt)&&de(Pn),Ar.__version=Nn.version,Be.onUpdate&&Be.onUpdate(Be)}et.__version=Be.version}function cn(et,Be,Nt){if(Be.image.length!==6)return;const Pn=dt(et,Be),kn=Be.source;n.bindTexture(t.TEXTURE_CUBE_MAP,et.__webglTexture,t.TEXTURE0+Nt);const Nn=r.get(kn);if(kn.version!==Nn.__version||Pn===!0){n.activeTexture(t.TEXTURE0+Nt),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Be.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Be.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ar=Be.isCompressedTexture||Be.image[0].isCompressedTexture,Zn=Be.image[0]&&Be.image[0].isDataTexture,Je=[];for(let Rt=0;Rt<6;Rt++)!Ar&&!Zn?Je[Rt]=F(Be.image[Rt],!1,!0,v):Je[Rt]=Zn?Be.image[Rt].image:Be.image[Rt],Je[Rt]=Hi(Be,Je[Rt]);const Jt=Je[0],On=W(Jt)||d,Bn=o.convert(Be.format,Be.colorSpace),Wn=o.convert(Be.type),Yn=fe(Be.internalFormat,Bn,Wn,Be.colorSpace),Dr=d&&Be.isVideoTexture!==!0,cr=Nn.__version===void 0||Pn===!0;let ht=Z(Be,Jt,On);Mt(t.TEXTURE_CUBE_MAP,Be,On);let Ot;if(Ar){Dr&&cr&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ht,Yn,Jt.width,Jt.height);for(let Rt=0;Rt<6;Rt++){Ot=Je[Rt].mipmaps;for(let ir=0;ir<Ot.length;ir++){const hr=Ot[ir];Be.format!==Up?Bn!==null?Dr?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir,0,0,hr.width,hr.height,Bn,hr.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir,Yn,hr.width,hr.height,0,hr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Dr?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir,0,0,hr.width,hr.height,Bn,Wn,hr.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir,Yn,hr.width,hr.height,0,Bn,Wn,hr.data)}}}else{Ot=Be.mipmaps,Dr&&cr&&(Ot.length>0&&ht++,n.texStorage2D(t.TEXTURE_CUBE_MAP,ht,Yn,Je[0].width,Je[0].height));for(let Rt=0;Rt<6;Rt++)if(Zn){Dr?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0,0,0,Je[Rt].width,Je[Rt].height,Bn,Wn,Je[Rt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0,Yn,Je[Rt].width,Je[Rt].height,0,Bn,Wn,Je[Rt].data);for(let ir=0;ir<Ot.length;ir++){const Li=Ot[ir].image[Rt].image;Dr?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir+1,0,0,Li.width,Li.height,Bn,Wn,Li.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir+1,Yn,Li.width,Li.height,0,Bn,Wn,Li.data)}}else{Dr?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0,0,0,Bn,Wn,Je[Rt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0,Yn,Bn,Wn,Je[Rt]);for(let ir=0;ir<Ot.length;ir++){const hr=Ot[ir];Dr?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir+1,0,0,Bn,Wn,hr.image[Rt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,ir+1,Yn,Bn,Wn,hr.image[Rt])}}}Q(Be,On)&&de(t.TEXTURE_CUBE_MAP),Nn.__version=kn.version,Be.onUpdate&&Be.onUpdate(Be)}et.__version=Be.version}function sn(et,Be,Nt,Pn,kn){const Nn=o.convert(Nt.format,Nt.colorSpace),Ar=o.convert(Nt.type),Zn=fe(Nt.internalFormat,Nn,Ar,Nt.colorSpace);r.get(Be).__hasExternalTextures||(kn===t.TEXTURE_3D||kn===t.TEXTURE_2D_ARRAY?n.texImage3D(kn,0,Zn,Be.width,Be.height,Be.depth,0,Nn,Ar,null):n.texImage2D(kn,0,Zn,Be.width,Be.height,0,Nn,Ar,null)),n.bindFramebuffer(t.FRAMEBUFFER,et),dr(Be)?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Pn,kn,r.get(Nt).__webglTexture,0,nr(Be)):(kn===t.TEXTURE_2D||kn>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&kn<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Pn,kn,r.get(Nt).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function $e(et,Be,Nt){if(t.bindRenderbuffer(t.RENDERBUFFER,et),Be.depthBuffer&&!Be.stencilBuffer){let Pn=t.DEPTH_COMPONENT16;if(Nt||dr(Be)){const kn=Be.depthTexture;kn&&kn.isDepthTexture&&(kn.type===kf?Pn=t.DEPTH_COMPONENT32F:kn.type===Py&&(Pn=t.DEPTH_COMPONENT24));const Nn=nr(Be);dr(Be)?A.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Nn,Pn,Be.width,Be.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Nn,Pn,Be.width,Be.height)}else t.renderbufferStorage(t.RENDERBUFFER,Pn,Be.width,Be.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,et)}else if(Be.depthBuffer&&Be.stencilBuffer){const Pn=nr(Be);Nt&&dr(Be)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Pn,t.DEPTH24_STENCIL8,Be.width,Be.height):dr(Be)?A.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Pn,t.DEPTH24_STENCIL8,Be.width,Be.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,Be.width,Be.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,et)}else{const Pn=Be.isWebGLMultipleRenderTargets===!0?Be.texture:[Be.texture];for(let kn=0;kn<Pn.length;kn++){const Nn=Pn[kn],Ar=o.convert(Nn.format,Nn.colorSpace),Zn=o.convert(Nn.type),Je=fe(Nn.internalFormat,Ar,Zn,Nn.colorSpace),Jt=nr(Be);Nt&&dr(Be)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Jt,Je,Be.width,Be.height):dr(Be)?A.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Jt,Je,Be.width,Be.height):t.renderbufferStorage(t.RENDERBUFFER,Je,Be.width,Be.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Gt(et,Be){if(Be&&Be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,et),!(Be.depthTexture&&Be.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Be.depthTexture).__webglTexture||Be.depthTexture.image.width!==Be.width||Be.depthTexture.image.height!==Be.height)&&(Be.depthTexture.image.width=Be.width,Be.depthTexture.image.height=Be.height,Be.depthTexture.needsUpdate=!0),we(Be.depthTexture,0);const Pn=r.get(Be.depthTexture).__webglTexture,kn=nr(Be);if(Be.depthTexture.format===Cx)dr(Be)?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Pn,0,kn):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Pn,0);else if(Be.depthTexture.format===Nx)dr(Be)?A.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Pn,0,kn):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Pn,0);else throw new Error("Unknown depthTexture format")}function Ut(et){const Be=r.get(et),Nt=et.isWebGLCubeRenderTarget===!0;if(et.depthTexture&&!Be.__autoAllocateDepthBuffer){if(Nt)throw new Error("target.depthTexture not supported in Cube render targets");Gt(Be.__webglFramebuffer,et)}else if(Nt){Be.__webglDepthbuffer=[];for(let Pn=0;Pn<6;Pn++)n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer[Pn]),Be.__webglDepthbuffer[Pn]=t.createRenderbuffer(),$e(Be.__webglDepthbuffer[Pn],et,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),Be.__webglDepthbuffer=t.createRenderbuffer(),$e(Be.__webglDepthbuffer,et,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Kt(et,Be,Nt){const Pn=r.get(et);Be!==void 0&&sn(Pn.__webglFramebuffer,et,et.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),Nt!==void 0&&Ut(et)}function Yt(et){const Be=et.texture,Nt=r.get(et),Pn=r.get(Be);et.addEventListener("dispose",je),et.isWebGLMultipleRenderTargets!==!0&&(Pn.__webglTexture===void 0&&(Pn.__webglTexture=t.createTexture()),Pn.__version=Be.version,l.memory.textures++);const kn=et.isWebGLCubeRenderTarget===!0,Nn=et.isWebGLMultipleRenderTargets===!0,Ar=W(et)||d;if(kn){Nt.__webglFramebuffer=[];for(let Zn=0;Zn<6;Zn++)Nt.__webglFramebuffer[Zn]=t.createFramebuffer()}else{if(Nt.__webglFramebuffer=t.createFramebuffer(),Nn)if(i.drawBuffers){const Zn=et.texture;for(let Je=0,Jt=Zn.length;Je<Jt;Je++){const On=r.get(Zn[Je]);On.__webglTexture===void 0&&(On.__webglTexture=t.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&et.samples>0&&dr(et)===!1){const Zn=Nn?Be:[Be];Nt.__webglMultisampledFramebuffer=t.createFramebuffer(),Nt.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Nt.__webglMultisampledFramebuffer);for(let Je=0;Je<Zn.length;Je++){const Jt=Zn[Je];Nt.__webglColorRenderbuffer[Je]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Nt.__webglColorRenderbuffer[Je]);const On=o.convert(Jt.format,Jt.colorSpace),Bn=o.convert(Jt.type),Wn=fe(Jt.internalFormat,On,Bn,Jt.colorSpace,et.isXRRenderTarget===!0),Yn=nr(et);t.renderbufferStorageMultisample(t.RENDERBUFFER,Yn,Wn,et.width,et.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,Nt.__webglColorRenderbuffer[Je])}t.bindRenderbuffer(t.RENDERBUFFER,null),et.depthBuffer&&(Nt.__webglDepthRenderbuffer=t.createRenderbuffer(),$e(Nt.__webglDepthRenderbuffer,et,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(kn){n.bindTexture(t.TEXTURE_CUBE_MAP,Pn.__webglTexture),Mt(t.TEXTURE_CUBE_MAP,Be,Ar);for(let Zn=0;Zn<6;Zn++)sn(Nt.__webglFramebuffer[Zn],et,Be,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Zn);Q(Be,Ar)&&de(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Nn){const Zn=et.texture;for(let Je=0,Jt=Zn.length;Je<Jt;Je++){const On=Zn[Je],Bn=r.get(On);n.bindTexture(t.TEXTURE_2D,Bn.__webglTexture),Mt(t.TEXTURE_2D,On,Ar),sn(Nt.__webglFramebuffer,et,On,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D),Q(On,Ar)&&de(t.TEXTURE_2D)}n.unbindTexture()}else{let Zn=t.TEXTURE_2D;(et.isWebGL3DRenderTarget||et.isWebGLArrayRenderTarget)&&(d?Zn=et.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Zn,Pn.__webglTexture),Mt(Zn,Be,Ar),sn(Nt.__webglFramebuffer,et,Be,t.COLOR_ATTACHMENT0,Zn),Q(Be,Ar)&&de(Zn),n.unbindTexture()}et.depthBuffer&&Ut(et)}function Cn(et){const Be=W(et)||d,Nt=et.isWebGLMultipleRenderTargets===!0?et.texture:[et.texture];for(let Pn=0,kn=Nt.length;Pn<kn;Pn++){const Nn=Nt[Pn];if(Q(Nn,Be)){const Ar=et.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Zn=r.get(Nn).__webglTexture;n.bindTexture(Ar,Zn),de(Ar),n.unbindTexture()}}}function Dn(et){if(d&&et.samples>0&&dr(et)===!1){const Be=et.isWebGLMultipleRenderTargets?et.texture:[et.texture],Nt=et.width,Pn=et.height;let kn=t.COLOR_BUFFER_BIT;const Nn=[],Ar=et.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Zn=r.get(et),Je=et.isWebGLMultipleRenderTargets===!0;if(Je)for(let Jt=0;Jt<Be.length;Jt++)n.bindFramebuffer(t.FRAMEBUFFER,Zn.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Jt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Zn.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Jt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Zn.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Zn.__webglFramebuffer);for(let Jt=0;Jt<Be.length;Jt++){Nn.push(t.COLOR_ATTACHMENT0+Jt),et.depthBuffer&&Nn.push(Ar);const On=Zn.__ignoreDepthValues!==void 0?Zn.__ignoreDepthValues:!1;if(On===!1&&(et.depthBuffer&&(kn|=t.DEPTH_BUFFER_BIT),et.stencilBuffer&&(kn|=t.STENCIL_BUFFER_BIT)),Je&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Zn.__webglColorRenderbuffer[Jt]),On===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ar]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ar])),Je){const Bn=r.get(Be[Jt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Bn,0)}t.blitFramebuffer(0,0,Nt,Pn,0,0,Nt,Pn,kn,t.NEAREST),T&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Nn)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Je)for(let Jt=0;Jt<Be.length;Jt++){n.bindFramebuffer(t.FRAMEBUFFER,Zn.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Jt,t.RENDERBUFFER,Zn.__webglColorRenderbuffer[Jt]);const On=r.get(Be[Jt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Zn.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Jt,t.TEXTURE_2D,On,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Zn.__webglMultisampledFramebuffer)}}function nr(et){return Math.min(x,et.samples)}function dr(et){const Be=r.get(et);return d&&et.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Be.__useRenderToTexture!==!1}function Jr(et){const Be=l.render.frame;R.get(et)!==Be&&(R.set(et,Be),et.update())}function Hi(et,Be){const Nt=et.colorSpace,Pn=et.format,kn=et.type;return et.isCompressedTexture===!0||et.format===R4||Nt!==_0&&Nt!==Ax&&(Nt===Ta?d===!1?e.has("EXT_sRGB")===!0&&Pn===Up?(et.format=R4,et.minFilter=as,et.generateMipmaps=!1):Be=kJ.sRGBToLinear(Be):(Pn!==Up||kn!==Of)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Nt)),Be}this.allocateTextureUnit=_e,this.resetTextureUnits=st,this.setTexture2D=we,this.setTexture2DArray=Pe,this.setTexture3D=be,this.setTextureCube=Ce,this.rebindTextures=Kt,this.setupRenderTarget=Yt,this.updateRenderTargetMipmap=Cn,this.updateMultisampleRenderTarget=Dn,this.setupDepthRenderbuffer=Ut,this.setupFrameBufferTexture=sn,this.useMultisampledRTT=dr}function jTe(t,e,n){const r=n.isWebGL2;function i(o,l=Ax){let d;if(o===Of)return t.UNSIGNED_BYTE;if(o===wJ)return t.UNSIGNED_SHORT_4_4_4_4;if(o===EJ)return t.UNSIGNED_SHORT_5_5_5_1;if(o===lTe)return t.BYTE;if(o===uTe)return t.SHORT;if(o===wH)return t.UNSIGNED_SHORT;if(o===xJ)return t.INT;if(o===Py)return t.UNSIGNED_INT;if(o===kf)return t.FLOAT;if(o===Yh)return r?t.HALF_FLOAT:(d=e.get("OES_texture_half_float"),d!==null?d.HALF_FLOAT_OES:null);if(o===cTe)return t.ALPHA;if(o===Up)return t.RGBA;if(o===fTe)return t.LUMINANCE;if(o===dTe)return t.LUMINANCE_ALPHA;if(o===Cx)return t.DEPTH_COMPONENT;if(o===Nx)return t.DEPTH_STENCIL;if(o===R4)return d=e.get("EXT_sRGB"),d!==null?d.SRGB_ALPHA_EXT:null;if(o===bJ)return t.RED;if(o===CJ)return t.RED_INTEGER;if(o===hTe)return t.RG;if(o===AJ)return t.RG_INTEGER;if(o===TJ)return t.RGBA_INTEGER;if(o===G3||o===V3||o===W3||o===K3)if(l===Ta)if(d=e.get("WEBGL_compressed_texture_s3tc_srgb"),d!==null){if(o===G3)return d.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===V3)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===W3)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===K3)return d.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(d=e.get("WEBGL_compressed_texture_s3tc"),d!==null){if(o===G3)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===V3)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===W3)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===K3)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===a$||o===o$||o===s$||o===l$)if(d=e.get("WEBGL_compressed_texture_pvrtc"),d!==null){if(o===a$)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===o$)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===s$)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===l$)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===pTe)return d=e.get("WEBGL_compressed_texture_etc1"),d!==null?d.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===u$||o===c$)if(d=e.get("WEBGL_compressed_texture_etc"),d!==null){if(o===u$)return l===Ta?d.COMPRESSED_SRGB8_ETC2:d.COMPRESSED_RGB8_ETC2;if(o===c$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:d.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===f$||o===d$||o===h$||o===p$||o===m$||o===v$||o===g$||o===y$||o===_$||o===S$||o===x$||o===w$||o===E$||o===b$)if(d=e.get("WEBGL_compressed_texture_astc"),d!==null){if(o===f$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:d.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===d$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:d.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===h$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:d.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===p$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:d.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===m$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:d.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===v$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:d.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===g$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:d.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===y$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:d.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===_$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:d.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===S$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:d.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===x$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:d.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===w$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:d.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===E$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:d.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===b$)return l===Ta?d.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:d.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===q3)if(d=e.get("EXT_texture_compression_bptc"),d!==null){if(o===q3)return l===Ta?d.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:d.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===mTe||o===C$||o===A$||o===T$)if(d=e.get("EXT_texture_compression_rgtc"),d!==null){if(o===q3)return d.COMPRESSED_RED_RGTC1_EXT;if(o===C$)return d.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===A$)return d.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===T$)return d.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===A1?r?t.UNSIGNED_INT_24_8:(d=e.get("WEBGL_depth_texture"),d!==null?d.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class GTe extends ys{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Iy extends Ya{constructor(){super(),this.isGroup=!0,this.type="Group"}}const uQe={type:"move"};class $q{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Iy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Iy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ve,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ve),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Iy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ve,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ve),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,l=null;const d=this._targetRay,h=this._grip,v=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(v&&e.hand){l=!0;for(const G of e.hand.values()){const j=n.getJointPose(G,r),w=this._getHandJoint(v,G);j!==null&&(w.matrix.fromArray(j.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=j.radius),w.visible=j!==null}const S=v.joints["index-finger-tip"],x=v.joints["thumb-tip"],A=S.position.distanceTo(x.position),T=.02,R=.005;v.inputState.pinching&&A>T+R?(v.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!v.inputState.pinching&&A<=T-R&&(v.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));d!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(d.matrix.fromArray(i.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,i.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(i.linearVelocity)):d.hasLinearVelocity=!1,i.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(i.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(uQe)))}return d!==null&&(d.visible=i!==null),h!==null&&(h.visible=o!==null),v!==null&&(v.visible=l!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Iy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class zJ extends Ws{constructor(e,n,r,i,o,l,d,h,v,S){if(S=S!==void 0?S:Cx,S!==Cx&&S!==Nx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&S===Cx&&(r=Py),r===void 0&&S===Nx&&(r=A1),super(null,i,o,l,d,h,S,r,v),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=d!==void 0?d:Vs,this.minFilter=h!==void 0?h:Vs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class cQe extends Cv{constructor(e,n){super();const r=this;let i=null,o=1,l=null,d="local-floor",h=1,v=null,S=null,x=null,A=null,T=null,R=null;const G=n.getContextAttributes();let j=null,w=null;const L=[],F=[];let W=null;const U=new ys;U.layers.enable(1),U.viewport=new go;const Q=new ys;Q.layers.enable(2),Q.viewport=new go;const de=[U,Q],fe=new GTe;fe.layers.enable(1),fe.layers.enable(2);let Z=null,he=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(be){W=be},this.getController=function(be){let Ce=L[be];return Ce===void 0&&(Ce=new $q,L[be]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(be){let Ce=L[be];return Ce===void 0&&(Ce=new $q,L[be]=Ce),Ce.getGripSpace()},this.getHand=function(be){let Ce=L[be];return Ce===void 0&&(Ce=new $q,L[be]=Ce),Ce.getHandSpace()};function Te(be){const Ce=F.indexOf(be.inputSource);if(Ce===-1)return;const qe=L[Ce];qe!==void 0&&(qe.update(be.inputSource,be.frame,v||l),qe.dispatchEvent({type:be.type,data:be.inputSource}))}function je(){i.removeEventListener("select",Te),i.removeEventListener("selectstart",Te),i.removeEventListener("selectend",Te),i.removeEventListener("squeeze",Te),i.removeEventListener("squeezestart",Te),i.removeEventListener("squeezeend",Te),i.removeEventListener("end",je),i.removeEventListener("inputsourceschange",Ke);for(let be=0;be<L.length;be++){const Ce=F[be];Ce!==null&&(F[be]=null,L[be].disconnect(Ce))}Z=null,he=null,e.setRenderTarget(j),T=null,A=null,x=null,i=null,w=null,Pe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(be){o=be,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(be){d=be,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return v||l},this.setReferenceSpace=function(be){v=be},this.getBaseLayer=function(){return A!==null?A:T},this.getBinding=function(){return x},this.getFrame=function(){return R},this.getSession=function(){return i},this.setSession=async function(be){if(i=be,i!==null){if(j=e.getRenderTarget(),i.addEventListener("select",Te),i.addEventListener("selectstart",Te),i.addEventListener("selectend",Te),i.addEventListener("squeeze",Te),i.addEventListener("squeezestart",Te),i.addEventListener("squeezeend",Te),i.addEventListener("end",je),i.addEventListener("inputsourceschange",Ke),G.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Ce={antialias:i.renderState.layers===void 0?G.antialias:!0,alpha:!0,depth:G.depth,stencil:G.stencil,framebufferScaleFactor:o};T=new XRWebGLLayer(i,n,Ce),i.updateRenderState({baseLayer:T}),w=new af(T.framebufferWidth,T.framebufferHeight,{format:Up,type:Of,colorSpace:e.outputColorSpace,stencilBuffer:G.stencil})}else{let Ce=null,qe=null,mt=null;G.depth&&(mt=G.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ce=G.stencil?Nx:Cx,qe=G.stencil?A1:Py);const We={colorFormat:n.RGBA8,depthFormat:mt,scaleFactor:o};x=new XRWebGLBinding(i,n),A=x.createProjectionLayer(We),i.updateRenderState({layers:[A]}),w=new af(A.textureWidth,A.textureHeight,{format:Up,type:Of,depthTexture:new zJ(A.textureWidth,A.textureHeight,qe,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:G.stencil,colorSpace:e.outputColorSpace,samples:G.antialias?4:0});const Mt=e.properties.get(w);Mt.__ignoreDepthValues=A.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(h),v=null,l=await i.requestReferenceSpace(d),Pe.setContext(i),Pe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Ke(be){for(let Ce=0;Ce<be.removed.length;Ce++){const qe=be.removed[Ce],mt=F.indexOf(qe);mt>=0&&(F[mt]=null,L[mt].disconnect(qe))}for(let Ce=0;Ce<be.added.length;Ce++){const qe=be.added[Ce];let mt=F.indexOf(qe);if(mt===-1){for(let Mt=0;Mt<L.length;Mt++)if(Mt>=F.length){F.push(qe),mt=Mt;break}else if(F[Mt]===null){F[Mt]=qe,mt=Mt;break}if(mt===-1)break}const We=L[mt];We&&We.connect(qe)}}const Le=new Ve,Ge=new Ve;function ut(be,Ce,qe){Le.setFromMatrixPosition(Ce.matrixWorld),Ge.setFromMatrixPosition(qe.matrixWorld);const mt=Le.distanceTo(Ge),We=Ce.projectionMatrix.elements,Mt=qe.projectionMatrix.elements,dt=We[14]/(We[10]-1),en=We[14]/(We[10]+1),cn=(We[9]+1)/We[5],sn=(We[9]-1)/We[5],$e=(We[8]-1)/We[0],Gt=(Mt[8]+1)/Mt[0],Ut=dt*$e,Kt=dt*Gt,Yt=mt/(-$e+Gt),Cn=Yt*-$e;Ce.matrixWorld.decompose(be.position,be.quaternion,be.scale),be.translateX(Cn),be.translateZ(Yt),be.matrixWorld.compose(be.position,be.quaternion,be.scale),be.matrixWorldInverse.copy(be.matrixWorld).invert();const Dn=dt+Yt,nr=en+Yt,dr=Ut-Cn,Jr=Kt+(mt-Cn),Hi=cn*en/nr*Dn,et=sn*en/nr*Dn;be.projectionMatrix.makePerspective(dr,Jr,Hi,et,Dn,nr),be.projectionMatrixInverse.copy(be.projectionMatrix).invert()}function st(be,Ce){Ce===null?be.matrixWorld.copy(be.matrix):be.matrixWorld.multiplyMatrices(Ce.matrixWorld,be.matrix),be.matrixWorldInverse.copy(be.matrixWorld).invert()}this.updateCameraXR=function(be){if(i===null)return be;W&&(be=W),fe.near=Q.near=U.near=be.near,fe.far=Q.far=U.far=be.far,(Z!==fe.near||he!==fe.far)&&(i.updateRenderState({depthNear:fe.near,depthFar:fe.far}),Z=fe.near,he=fe.far);const Ce=be.parent,qe=fe.cameras;st(fe,Ce);for(let mt=0;mt<qe.length;mt++)st(qe[mt],Ce);return qe.length===2?ut(fe,U,Q):fe.projectionMatrix.copy(U.projectionMatrix),W&&_e(fe,Ce),fe};function _e(be,Ce){const qe=W;Ce===null?qe.matrix.copy(be.matrixWorld):(qe.matrix.copy(Ce.matrixWorld),qe.matrix.invert(),qe.matrix.multiply(be.matrixWorld)),qe.matrix.decompose(qe.position,qe.quaternion,qe.scale),qe.updateMatrixWorld(!0);const mt=qe.children;for(let We=0,Mt=mt.length;We<Mt;We++)mt[We].updateMatrixWorld(!0);qe.projectionMatrix.copy(be.projectionMatrix),qe.projectionMatrixInverse.copy(be.projectionMatrixInverse),qe.isPerspectiveCamera&&(qe.fov=jM*2*Math.atan(1/qe.projectionMatrix.elements[5]),qe.zoom=1)}this.getFoveation=function(){if(!(A===null&&T===null))return h},this.setFoveation=function(be){h=be,A!==null&&(A.fixedFoveation=be),T!==null&&T.fixedFoveation!==void 0&&(T.fixedFoveation=be)};let Se=null;function we(be,Ce){if(S=Ce.getViewerPose(v||l),R=Ce,S!==null){const qe=S.views;T!==null&&(e.setRenderTargetFramebuffer(w,T.framebuffer),e.setRenderTarget(w));let mt=!1;qe.length!==fe.cameras.length&&(fe.cameras.length=0,mt=!0);for(let We=0;We<qe.length;We++){const Mt=qe[We];let dt=null;if(T!==null)dt=T.getViewport(Mt);else{const cn=x.getViewSubImage(A,Mt);dt=cn.viewport,We===0&&(e.setRenderTargetTextures(w,cn.colorTexture,A.ignoreDepthValues?void 0:cn.depthStencilTexture),e.setRenderTarget(w))}let en=de[We];en===void 0&&(en=new ys,en.layers.enable(We),en.viewport=new go,de[We]=en),en.matrix.fromArray(Mt.transform.matrix),en.matrix.decompose(en.position,en.quaternion,en.scale),en.projectionMatrix.fromArray(Mt.projectionMatrix),en.projectionMatrixInverse.copy(en.projectionMatrix).invert(),en.viewport.set(dt.x,dt.y,dt.width,dt.height),We===0&&(fe.matrix.copy(en.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale)),mt===!0&&fe.cameras.push(en)}}for(let qe=0;qe<L.length;qe++){const mt=F[qe],We=L[qe];mt!==null&&We!==void 0&&We.update(mt,Ce,v||l)}Se&&Se(be,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),R=null}const Pe=new NTe;Pe.setAnimationLoop(we),this.setAnimationLoop=function(be){Se=be},this.dispose=function(){}}}function fQe(t,e){function n(j,w){j.matrixAutoUpdate===!0&&j.updateMatrix(),w.value.copy(j.matrix)}function r(j,w){w.color.getRGB(j.fogColor.value,OTe(t)),w.isFog?(j.fogNear.value=w.near,j.fogFar.value=w.far):w.isFogExp2&&(j.fogDensity.value=w.density)}function i(j,w,L,F,W){w.isMeshBasicMaterial||w.isMeshLambertMaterial?o(j,w):w.isMeshToonMaterial?(o(j,w),x(j,w)):w.isMeshPhongMaterial?(o(j,w),S(j,w)):w.isMeshStandardMaterial?(o(j,w),A(j,w),w.isMeshPhysicalMaterial&&T(j,w,W)):w.isMeshMatcapMaterial?(o(j,w),R(j,w)):w.isMeshDepthMaterial?o(j,w):w.isMeshDistanceMaterial?(o(j,w),G(j,w)):w.isMeshNormalMaterial?o(j,w):w.isLineBasicMaterial?(l(j,w),w.isLineDashedMaterial&&d(j,w)):w.isPointsMaterial?h(j,w,L,F):w.isSpriteMaterial?v(j,w):w.isShadowMaterial?(j.color.value.copy(w.color),j.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function o(j,w){j.opacity.value=w.opacity,w.color&&j.diffuse.value.copy(w.color),w.emissive&&j.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(j.map.value=w.map,n(w.map,j.mapTransform)),w.alphaMap&&(j.alphaMap.value=w.alphaMap,n(w.alphaMap,j.alphaMapTransform)),w.bumpMap&&(j.bumpMap.value=w.bumpMap,n(w.bumpMap,j.bumpMapTransform),j.bumpScale.value=w.bumpScale,w.side===If&&(j.bumpScale.value*=-1)),w.normalMap&&(j.normalMap.value=w.normalMap,n(w.normalMap,j.normalMapTransform),j.normalScale.value.copy(w.normalScale),w.side===If&&j.normalScale.value.negate()),w.displacementMap&&(j.displacementMap.value=w.displacementMap,n(w.displacementMap,j.displacementMapTransform),j.displacementScale.value=w.displacementScale,j.displacementBias.value=w.displacementBias),w.emissiveMap&&(j.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,j.emissiveMapTransform)),w.specularMap&&(j.specularMap.value=w.specularMap,n(w.specularMap,j.specularMapTransform)),w.alphaTest>0&&(j.alphaTest.value=w.alphaTest);const L=e.get(w).envMap;if(L&&(j.envMap.value=L,j.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,j.reflectivity.value=w.reflectivity,j.ior.value=w.ior,j.refractionRatio.value=w.refractionRatio),w.lightMap){j.lightMap.value=w.lightMap;const F=t.useLegacyLights===!0?Math.PI:1;j.lightMapIntensity.value=w.lightMapIntensity*F,n(w.lightMap,j.lightMapTransform)}w.aoMap&&(j.aoMap.value=w.aoMap,j.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,j.aoMapTransform))}function l(j,w){j.diffuse.value.copy(w.color),j.opacity.value=w.opacity,w.map&&(j.map.value=w.map,n(w.map,j.mapTransform))}function d(j,w){j.dashSize.value=w.dashSize,j.totalSize.value=w.dashSize+w.gapSize,j.scale.value=w.scale}function h(j,w,L,F){j.diffuse.value.copy(w.color),j.opacity.value=w.opacity,j.size.value=w.size*L,j.scale.value=F*.5,w.map&&(j.map.value=w.map,n(w.map,j.uvTransform)),w.alphaMap&&(j.alphaMap.value=w.alphaMap,n(w.alphaMap,j.alphaMapTransform)),w.alphaTest>0&&(j.alphaTest.value=w.alphaTest)}function v(j,w){j.diffuse.value.copy(w.color),j.opacity.value=w.opacity,j.rotation.value=w.rotation,w.map&&(j.map.value=w.map,n(w.map,j.mapTransform)),w.alphaMap&&(j.alphaMap.value=w.alphaMap,n(w.alphaMap,j.alphaMapTransform)),w.alphaTest>0&&(j.alphaTest.value=w.alphaTest)}function S(j,w){j.specular.value.copy(w.specular),j.shininess.value=Math.max(w.shininess,1e-4)}function x(j,w){w.gradientMap&&(j.gradientMap.value=w.gradientMap)}function A(j,w){j.metalness.value=w.metalness,w.metalnessMap&&(j.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,j.metalnessMapTransform)),j.roughness.value=w.roughness,w.roughnessMap&&(j.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,j.roughnessMapTransform)),e.get(w).envMap&&(j.envMapIntensity.value=w.envMapIntensity)}function T(j,w,L){j.ior.value=w.ior,w.sheen>0&&(j.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),j.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(j.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,j.sheenColorMapTransform)),w.sheenRoughnessMap&&(j.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,j.sheenRoughnessMapTransform))),w.clearcoat>0&&(j.clearcoat.value=w.clearcoat,j.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(j.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,j.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(j.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,j.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(j.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,j.clearcoatNormalMapTransform),j.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===If&&j.clearcoatNormalScale.value.negate())),w.iridescence>0&&(j.iridescence.value=w.iridescence,j.iridescenceIOR.value=w.iridescenceIOR,j.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],j.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(j.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,j.iridescenceMapTransform)),w.iridescenceThicknessMap&&(j.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,j.iridescenceThicknessMapTransform))),w.transmission>0&&(j.transmission.value=w.transmission,j.transmissionSamplerMap.value=L.texture,j.transmissionSamplerSize.value.set(L.width,L.height),w.transmissionMap&&(j.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,j.transmissionMapTransform)),j.thickness.value=w.thickness,w.thicknessMap&&(j.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,j.thicknessMapTransform)),j.attenuationDistance.value=w.attenuationDistance,j.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(j.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(j.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,j.anisotropyMapTransform))),j.specularIntensity.value=w.specularIntensity,j.specularColor.value.copy(w.specularColor),w.specularColorMap&&(j.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,j.specularColorMapTransform)),w.specularIntensityMap&&(j.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,j.specularIntensityMapTransform))}function R(j,w){w.matcap&&(j.matcap.value=w.matcap)}function G(j,w){const L=e.get(w).light;j.referencePosition.value.setFromMatrixPosition(L.matrixWorld),j.nearDistance.value=L.shadow.camera.near,j.farDistance.value=L.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function dQe(t,e,n,r){let i={},o={},l=[];const d=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(L,F){const W=F.program;r.uniformBlockBinding(L,W)}function v(L,F){let W=i[L.id];W===void 0&&(R(L),W=S(L),i[L.id]=W,L.addEventListener("dispose",j));const U=F.program;r.updateUBOMapping(L,U);const Q=e.render.frame;o[L.id]!==Q&&(A(L),o[L.id]=Q)}function S(L){const F=x();L.__bindingPointIndex=F;const W=t.createBuffer(),U=L.__size,Q=L.usage;return t.bindBuffer(t.UNIFORM_BUFFER,W),t.bufferData(t.UNIFORM_BUFFER,U,Q),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,F,W),W}function x(){for(let L=0;L<d;L++)if(l.indexOf(L)===-1)return l.push(L),L;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function A(L){const F=i[L.id],W=L.uniforms,U=L.__cache;t.bindBuffer(t.UNIFORM_BUFFER,F);for(let Q=0,de=W.length;Q<de;Q++){const fe=W[Q];if(T(fe,Q,U)===!0){const Z=fe.__offset,he=Array.isArray(fe.value)?fe.value:[fe.value];let Te=0;for(let je=0;je<he.length;je++){const Ke=he[je],Le=G(Ke);typeof Ke=="number"?(fe.__data[0]=Ke,t.bufferSubData(t.UNIFORM_BUFFER,Z+Te,fe.__data)):Ke.isMatrix3?(fe.__data[0]=Ke.elements[0],fe.__data[1]=Ke.elements[1],fe.__data[2]=Ke.elements[2],fe.__data[3]=Ke.elements[0],fe.__data[4]=Ke.elements[3],fe.__data[5]=Ke.elements[4],fe.__data[6]=Ke.elements[5],fe.__data[7]=Ke.elements[0],fe.__data[8]=Ke.elements[6],fe.__data[9]=Ke.elements[7],fe.__data[10]=Ke.elements[8],fe.__data[11]=Ke.elements[0]):(Ke.toArray(fe.__data,Te),Te+=Le.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,Z,fe.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function T(L,F,W){const U=L.value;if(W[F]===void 0){if(typeof U=="number")W[F]=U;else{const Q=Array.isArray(U)?U:[U],de=[];for(let fe=0;fe<Q.length;fe++)de.push(Q[fe].clone());W[F]=de}return!0}else if(typeof U=="number"){if(W[F]!==U)return W[F]=U,!0}else{const Q=Array.isArray(W[F])?W[F]:[W[F]],de=Array.isArray(U)?U:[U];for(let fe=0;fe<Q.length;fe++){const Z=Q[fe];if(Z.equals(de[fe])===!1)return Z.copy(de[fe]),!0}}return!1}function R(L){const F=L.uniforms;let W=0;const U=16;let Q=0;for(let de=0,fe=F.length;de<fe;de++){const Z=F[de],he={boundary:0,storage:0},Te=Array.isArray(Z.value)?Z.value:[Z.value];for(let je=0,Ke=Te.length;je<Ke;je++){const Le=Te[je],Ge=G(Le);he.boundary+=Ge.boundary,he.storage+=Ge.storage}if(Z.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=W,de>0){Q=W%U;const je=U-Q;Q!==0&&je-he.boundary<0&&(W+=U-Q,Z.__offset=W)}W+=he.storage}return Q=W%U,Q>0&&(W+=U-Q),L.__size=W,L.__cache={},this}function G(L){const F={boundary:0,storage:0};return typeof L=="number"?(F.boundary=4,F.storage=4):L.isVector2?(F.boundary=8,F.storage=8):L.isVector3||L.isColor?(F.boundary=16,F.storage=12):L.isVector4?(F.boundary=16,F.storage=16):L.isMatrix3?(F.boundary=48,F.storage=48):L.isMatrix4?(F.boundary=64,F.storage=64):L.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",L),F}function j(L){const F=L.target;F.removeEventListener("dispose",j);const W=l.indexOf(F.__bindingPointIndex);l.splice(W,1),t.deleteBuffer(i[F.id]),delete i[F.id],delete o[F.id]}function w(){for(const L in i)t.deleteBuffer(i[L]);l=[],i={},o={}}return{bind:h,update:v,dispose:w}}function hQe(){const t=EO("canvas");return t.style.display="block",t}class TH{constructor(e={}){const{canvas:n=hQe(),context:r=null,depth:i=!0,stencil:o=!0,alpha:l=!1,antialias:d=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:v=!1,powerPreference:S="default",failIfMajorPerformanceCaveat:x=!1}=e;this.isWebGLRenderer=!0;let A;r!==null?A=r.getContextAttributes().alpha:A=l;const T=new Uint32Array(4),R=new Int32Array(4);let G=null,j=null;const w=[],L=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ta,this.useLegacyLights=!0,this.toneMapping=vg,this.toneMappingExposure=1;const F=this;let W=!1,U=0,Q=0,de=null,fe=-1,Z=null;const he=new go,Te=new go;let je=null;const Ke=new ur(0);let Le=0,Ge=n.width,ut=n.height,st=1,_e=null,Se=null;const we=new go(0,0,Ge,ut),Pe=new go(0,0,Ge,ut);let be=!1;const Ce=new CH;let qe=!1,mt=!1,We=null;const Mt=new ea,dt=new vn,en=new Ve,cn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function sn(){return de===null?st:1}let $e=r;function Gt(oe,ke){for(let Ze=0;Ze<oe.length;Ze++){const Xe=oe[Ze],rt=n.getContext(Xe,ke);if(rt!==null)return rt}return null}try{const oe={alpha:!0,depth:i,stencil:o,antialias:d,premultipliedAlpha:h,preserveDrawingBuffer:v,powerPreference:S,failIfMajorPerformanceCaveat:x};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Bb}`),n.addEventListener("webglcontextlost",Ot,!1),n.addEventListener("webglcontextrestored",Rt,!1),n.addEventListener("webglcontextcreationerror",ir,!1),$e===null){const ke=["webgl2","webgl","experimental-webgl"];if(F.isWebGL1Renderer===!0&&ke.shift(),$e=Gt(ke,oe),$e===null)throw Gt(ke)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$e instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),$e.getShaderPrecisionFormat===void 0&&($e.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let Ut,Kt,Yt,Cn,Dn,nr,dr,Jr,Hi,et,Be,Nt,Pn,kn,Nn,Ar,Zn,Je,Jt,On,Bn,Wn,Yn,Dr;function cr(){Ut=new PYe($e),Kt=new EYe($e,Ut,e),Ut.init(Kt),Wn=new jTe($e,Ut,Kt),Yt=new sQe($e,Ut,Kt),Cn=new kYe($e),Dn=new Y$e,nr=new lQe($e,Ut,Yt,Dn,Kt,Wn,Cn),dr=new CYe(F),Jr=new MYe(F),Hi=new VKe($e,Kt),Yn=new xYe($e,Ut,Hi,Kt),et=new RYe($e,Hi,Cn,Yn),Be=new LYe($e,et,Hi,Cn),Jt=new BYe($e,Kt,nr),Ar=new bYe(Dn),Nt=new X$e(F,dr,Jr,Ut,Kt,Yn,Ar),Pn=new fQe(F,Dn),kn=new Q$e,Nn=new rQe(Ut,Kt),Je=new SYe(F,dr,Jr,Yt,Be,A,h),Zn=new oQe(F,Be,Kt),Dr=new dQe($e,Cn,Kt,Yt),On=new wYe($e,Ut,Cn,Kt),Bn=new IYe($e,Ut,Cn,Kt),Cn.programs=Nt.programs,F.capabilities=Kt,F.extensions=Ut,F.properties=Dn,F.renderLists=kn,F.shadowMap=Zn,F.state=Yt,F.info=Cn}cr();const ht=new cQe(F,$e);this.xr=ht,this.getContext=function(){return $e},this.getContextAttributes=function(){return $e.getContextAttributes()},this.forceContextLoss=function(){const oe=Ut.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=Ut.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return st},this.setPixelRatio=function(oe){oe!==void 0&&(st=oe,this.setSize(Ge,ut,!1))},this.getSize=function(oe){return oe.set(Ge,ut)},this.setSize=function(oe,ke,Ze=!0){if(ht.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ge=oe,ut=ke,n.width=Math.floor(oe*st),n.height=Math.floor(ke*st),Ze===!0&&(n.style.width=oe+"px",n.style.height=ke+"px"),this.setViewport(0,0,oe,ke)},this.getDrawingBufferSize=function(oe){return oe.set(Ge*st,ut*st).floor()},this.setDrawingBufferSize=function(oe,ke,Ze){Ge=oe,ut=ke,st=Ze,n.width=Math.floor(oe*Ze),n.height=Math.floor(ke*Ze),this.setViewport(0,0,oe,ke)},this.getCurrentViewport=function(oe){return oe.copy(he)},this.getViewport=function(oe){return oe.copy(we)},this.setViewport=function(oe,ke,Ze,Xe){oe.isVector4?we.set(oe.x,oe.y,oe.z,oe.w):we.set(oe,ke,Ze,Xe),Yt.viewport(he.copy(we).multiplyScalar(st).floor())},this.getScissor=function(oe){return oe.copy(Pe)},this.setScissor=function(oe,ke,Ze,Xe){oe.isVector4?Pe.set(oe.x,oe.y,oe.z,oe.w):Pe.set(oe,ke,Ze,Xe),Yt.scissor(Te.copy(Pe).multiplyScalar(st).floor())},this.getScissorTest=function(){return be},this.setScissorTest=function(oe){Yt.setScissorTest(be=oe)},this.setOpaqueSort=function(oe){_e=oe},this.setTransparentSort=function(oe){Se=oe},this.getClearColor=function(oe){return oe.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor.apply(Je,arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha.apply(Je,arguments)},this.clear=function(oe=!0,ke=!0,Ze=!0){let Xe=0;if(oe){let rt=!1;if(de!==null){const It=de.texture.format;rt=It===TJ||It===AJ||It===CJ}if(rt){const It=de.texture.type,Dt=It===Of||It===Py||It===wH||It===A1||It===wJ||It===EJ,ln=Je.getClearColor(),dn=Je.getClearAlpha(),_n=ln.r,$t=ln.g,Rn=ln.b,wn=Dn.get(de).__webglFramebuffer;Dt?(T[0]=_n,T[1]=$t,T[2]=Rn,T[3]=dn,$e.clearBufferuiv($e.COLOR,wn,T)):(R[0]=_n,R[1]=$t,R[2]=Rn,R[3]=dn,$e.clearBufferiv($e.COLOR,wn,R))}else Xe|=$e.COLOR_BUFFER_BIT}ke&&(Xe|=$e.DEPTH_BUFFER_BIT),Ze&&(Xe|=$e.STENCIL_BUFFER_BIT),$e.clear(Xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ot,!1),n.removeEventListener("webglcontextrestored",Rt,!1),n.removeEventListener("webglcontextcreationerror",ir,!1),kn.dispose(),Nn.dispose(),Dn.dispose(),dr.dispose(),Jr.dispose(),Be.dispose(),Yn.dispose(),Dr.dispose(),Nt.dispose(),ht.dispose(),ht.removeEventListener("sessionstart",kt),ht.removeEventListener("sessionend",Bt),We&&(We.dispose(),We=null),Un.stop()};function Ot(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),W=!0}function Rt(){console.log("THREE.WebGLRenderer: Context Restored."),W=!1;const oe=Cn.autoReset,ke=Zn.enabled,Ze=Zn.autoUpdate,Xe=Zn.needsUpdate,rt=Zn.type;cr(),Cn.autoReset=oe,Zn.enabled=ke,Zn.autoUpdate=Ze,Zn.needsUpdate=Xe,Zn.type=rt}function ir(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function hr(oe){const ke=oe.target;ke.removeEventListener("dispose",hr),Li(ke)}function Li(oe){Pa(oe),Dn.remove(oe)}function Pa(oe){const ke=Dn.get(oe).programs;ke!==void 0&&(ke.forEach(function(Ze){Nt.releaseProgram(Ze)}),oe.isShaderMaterial&&Nt.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,ke,Ze,Xe,rt,It){ke===null&&(ke=cn);const Dt=rt.isMesh&&rt.matrixWorld.determinant()<0,ln=ja(oe,ke,Ze,Xe,rt);Yt.setMaterial(Xe,Dt);let dn=Ze.index,_n=1;Xe.wireframe===!0&&(dn=et.getWireframeAttribute(Ze),_n=2);const $t=Ze.drawRange,Rn=Ze.attributes.position;let wn=$t.start*_n,er=($t.start+$t.count)*_n;It!==null&&(wn=Math.max(wn,It.start*_n),er=Math.min(er,(It.start+It.count)*_n)),dn!==null?(wn=Math.max(wn,0),er=Math.min(er,dn.count)):Rn!=null&&(wn=Math.max(wn,0),er=Math.min(er,Rn.count));const tr=er-wn;if(tr<0||tr===1/0)return;Yn.setup(rt,Xe,ln,Ze,dn);let Tr,Wr=On;if(dn!==null&&(Tr=Hi.get(dn),Wr=Bn,Wr.setIndex(Tr)),rt.isMesh)Xe.wireframe===!0?(Yt.setLineWidth(Xe.wireframeLinewidth*sn()),Wr.setMode($e.LINES)):Wr.setMode($e.TRIANGLES);else if(rt.isLine){let pr=Xe.linewidth;pr===void 0&&(pr=1),Yt.setLineWidth(pr*sn()),rt.isLineSegments?Wr.setMode($e.LINES):rt.isLineLoop?Wr.setMode($e.LINE_LOOP):Wr.setMode($e.LINE_STRIP)}else rt.isPoints?Wr.setMode($e.POINTS):rt.isSprite&&Wr.setMode($e.TRIANGLES);if(rt.isInstancedMesh)Wr.renderInstances(wn,tr,rt.count);else if(Ze.isInstancedBufferGeometry){const pr=Ze._maxInstanceCount!==void 0?Ze._maxInstanceCount:1/0,Rr=Math.min(Ze.instanceCount,pr);Wr.renderInstances(wn,tr,Rr)}else Wr.render(wn,tr)},this.compile=function(oe,ke){function Ze(Xe,rt,It){Xe.transparent===!0&&Xe.side===Mf&&Xe.forceSinglePass===!1?(Xe.side=If,Xe.needsUpdate=!0,oa(Xe,rt,It),Xe.side=y0,Xe.needsUpdate=!0,oa(Xe,rt,It),Xe.side=Mf):oa(Xe,rt,It)}j=Nn.get(oe),j.init(),L.push(j),oe.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(ke.layers)&&(j.pushLight(Xe),Xe.castShadow&&j.pushShadow(Xe))}),j.setupLights(F.useLegacyLights),oe.traverse(function(Xe){const rt=Xe.material;if(rt)if(Array.isArray(rt))for(let It=0;It<rt.length;It++){const Dt=rt[It];Ze(Dt,oe,Xe)}else Ze(rt,oe,Xe)}),L.pop(),j=null};let Ra=null;function ft(oe){Ra&&Ra(oe)}function kt(){Un.stop()}function Bt(){Un.start()}const Un=new NTe;Un.setAnimationLoop(ft),typeof self<"u"&&Un.setContext(self),this.setAnimationLoop=function(oe){Ra=oe,ht.setAnimationLoop(oe),oe===null?Un.stop():Un.start()},ht.addEventListener("sessionstart",kt),ht.addEventListener("sessionend",Bt),this.render=function(oe,ke){if(ke!==void 0&&ke.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(W===!0)return;oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),ke.parent===null&&ke.matrixWorldAutoUpdate===!0&&ke.updateMatrixWorld(),ht.enabled===!0&&ht.isPresenting===!0&&(ke=ht.updateCameraXR(ke)),oe.isScene===!0&&oe.onBeforeRender(F,oe,ke,de),j=Nn.get(oe,L.length),j.init(),L.push(j),Mt.multiplyMatrices(ke.projectionMatrix,ke.matrixWorldInverse),Ce.setFromProjectionMatrix(Mt),mt=this.localClippingEnabled,qe=Ar.init(this.clippingPlanes,mt),G=kn.get(oe,w.length),G.init(),w.push(G),Pr(oe,ke,0,F.sortObjects),G.finish(),F.sortObjects===!0&&G.sort(_e,Se),qe===!0&&Ar.beginShadows();const Ze=j.state.shadowsArray;if(Zn.render(Ze,oe,ke),qe===!0&&Ar.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,Je.render(G,oe),j.setupLights(F.useLegacyLights),ke.isArrayCamera){const Xe=ke.cameras;for(let rt=0,It=Xe.length;rt<It;rt++){const Dt=Xe[rt];yr(G,oe,Dt,Dt.viewport)}}else yr(G,oe,ke);de!==null&&(nr.updateMultisampleRenderTarget(de),nr.updateRenderTargetMipmap(de)),oe.isScene===!0&&oe.onAfterRender(F,oe,ke),Yn.resetDefaultState(),fe=-1,Z=null,L.pop(),L.length>0?j=L[L.length-1]:j=null,w.pop(),w.length>0?G=w[w.length-1]:G=null};function Pr(oe,ke,Ze,Xe){if(oe.visible===!1)return;if(oe.layers.test(ke.layers)){if(oe.isGroup)Ze=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(ke);else if(oe.isLight)j.pushLight(oe),oe.castShadow&&j.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||Ce.intersectsSprite(oe)){Xe&&en.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(Mt);const Dt=Be.update(oe),ln=oe.material;ln.visible&&G.push(oe,Dt,ln,Ze,en.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||Ce.intersectsObject(oe))){oe.isSkinnedMesh&&oe.skeleton.frame!==Cn.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=Cn.render.frame);const Dt=Be.update(oe),ln=oe.material;if(Xe&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),en.copy(oe.boundingSphere.center)):(Dt.boundingSphere===null&&Dt.computeBoundingSphere(),en.copy(Dt.boundingSphere.center)),en.applyMatrix4(oe.matrixWorld).applyMatrix4(Mt)),Array.isArray(ln)){const dn=Dt.groups;for(let _n=0,$t=dn.length;_n<$t;_n++){const Rn=dn[_n],wn=ln[Rn.materialIndex];wn&&wn.visible&&G.push(oe,Dt,wn,Ze,en.z,Rn)}}else ln.visible&&G.push(oe,Dt,ln,Ze,en.z,null)}}const It=oe.children;for(let Dt=0,ln=It.length;Dt<ln;Dt++)Pr(It[Dt],ke,Ze,Xe)}function yr(oe,ke,Ze,Xe){const rt=oe.opaque,It=oe.transmissive,Dt=oe.transparent;j.setupLightsView(Ze),qe===!0&&Ar.setGlobalState(F.clippingPlanes,Ze),It.length>0&&Kn(rt,It,ke,Ze),Xe&&Yt.viewport(he.copy(Xe)),rt.length>0&&Sr(rt,ke,Ze),It.length>0&&Sr(It,ke,Ze),Dt.length>0&&Sr(Dt,ke,Ze),Yt.buffers.depth.setTest(!0),Yt.buffers.depth.setMask(!0),Yt.buffers.color.setMask(!0),Yt.setPolygonOffset(!1)}function Kn(oe,ke,Ze,Xe){const rt=Kt.isWebGL2;We===null&&(We=new af(1,1,{generateMipmaps:!0,type:Ut.has("EXT_color_buffer_half_float")?Yh:Of,minFilter:zy,samples:rt&&d===!0?4:0})),F.getDrawingBufferSize(dt),rt?We.setSize(dt.x,dt.y):We.setSize(I4(dt.x),I4(dt.y));const It=F.getRenderTarget();F.setRenderTarget(We),F.getClearColor(Ke),Le=F.getClearAlpha(),Le<1&&F.setClearColor(16777215,.5),F.clear();const Dt=F.toneMapping;F.toneMapping=vg,Sr(oe,Ze,Xe),nr.updateMultisampleRenderTarget(We),nr.updateRenderTargetMipmap(We);let ln=!1;for(let dn=0,_n=ke.length;dn<_n;dn++){const $t=ke[dn],Rn=$t.object,wn=$t.geometry,er=$t.material,tr=$t.group;if(er.side===Mf&&Rn.layers.test(Xe.layers)){const Tr=er.side;er.side=If,er.needsUpdate=!0,$n(Rn,Ze,Xe,wn,er,tr),er.side=Tr,er.needsUpdate=!0,ln=!0}}ln===!0&&(nr.updateMultisampleRenderTarget(We),nr.updateRenderTargetMipmap(We)),F.setRenderTarget(It),F.setClearColor(Ke,Le),F.toneMapping=Dt}function Sr(oe,ke,Ze){const Xe=ke.isScene===!0?ke.overrideMaterial:null;for(let rt=0,It=oe.length;rt<It;rt++){const Dt=oe[rt],ln=Dt.object,dn=Dt.geometry,_n=Xe===null?Dt.material:Xe,$t=Dt.group;ln.layers.test(Ze.layers)&&$n(ln,ke,Ze,dn,_n,$t)}}function $n(oe,ke,Ze,Xe,rt,It){oe.onBeforeRender(F,ke,Ze,Xe,rt,It),oe.modelViewMatrix.multiplyMatrices(Ze.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),rt.onBeforeRender(F,ke,Ze,Xe,oe,It),rt.transparent===!0&&rt.side===Mf&&rt.forceSinglePass===!1?(rt.side=If,rt.needsUpdate=!0,F.renderBufferDirect(Ze,ke,Xe,rt,oe,It),rt.side=y0,rt.needsUpdate=!0,F.renderBufferDirect(Ze,ke,Xe,rt,oe,It),rt.side=Mf):F.renderBufferDirect(Ze,ke,Xe,rt,oe,It),oe.onAfterRender(F,ke,Ze,Xe,rt,It)}function oa(oe,ke,Ze){ke.isScene!==!0&&(ke=cn);const Xe=Dn.get(oe),rt=j.state.lights,It=j.state.shadowsArray,Dt=rt.state.version,ln=Nt.getParameters(oe,rt.state,It,ke,Ze),dn=Nt.getProgramCacheKey(ln);let _n=Xe.programs;Xe.environment=oe.isMeshStandardMaterial?ke.environment:null,Xe.fog=ke.fog,Xe.envMap=(oe.isMeshStandardMaterial?Jr:dr).get(oe.envMap||Xe.environment),_n===void 0&&(oe.addEventListener("dispose",hr),_n=new Map,Xe.programs=_n);let $t=_n.get(dn);if($t!==void 0){if(Xe.currentProgram===$t&&Xe.lightsStateVersion===Dt)return Ir(oe,ln),$t}else ln.uniforms=Nt.getUniforms(oe),oe.onBuild(Ze,ln,F),oe.onBeforeCompile(ln,F),$t=Nt.acquireProgram(ln,dn),_n.set(dn,$t),Xe.uniforms=ln.uniforms;const Rn=Xe.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(Rn.clippingPlanes=Ar.uniform),Ir(oe,ln),Xe.needsLights=Ee(oe),Xe.lightsStateVersion=Dt,Xe.needsLights&&(Rn.ambientLightColor.value=rt.state.ambient,Rn.lightProbe.value=rt.state.probe,Rn.directionalLights.value=rt.state.directional,Rn.directionalLightShadows.value=rt.state.directionalShadow,Rn.spotLights.value=rt.state.spot,Rn.spotLightShadows.value=rt.state.spotShadow,Rn.rectAreaLights.value=rt.state.rectArea,Rn.ltc_1.value=rt.state.rectAreaLTC1,Rn.ltc_2.value=rt.state.rectAreaLTC2,Rn.pointLights.value=rt.state.point,Rn.pointLightShadows.value=rt.state.pointShadow,Rn.hemisphereLights.value=rt.state.hemi,Rn.directionalShadowMap.value=rt.state.directionalShadowMap,Rn.directionalShadowMatrix.value=rt.state.directionalShadowMatrix,Rn.spotShadowMap.value=rt.state.spotShadowMap,Rn.spotLightMatrix.value=rt.state.spotLightMatrix,Rn.spotLightMap.value=rt.state.spotLightMap,Rn.pointShadowMap.value=rt.state.pointShadowMap,Rn.pointShadowMatrix.value=rt.state.pointShadowMatrix);const wn=$t.getUniforms(),er=$3.seqWithValue(wn.seq,Rn);return Xe.currentProgram=$t,Xe.uniformsList=er,$t}function Ir(oe,ke){const Ze=Dn.get(oe);Ze.outputColorSpace=ke.outputColorSpace,Ze.instancing=ke.instancing,Ze.skinning=ke.skinning,Ze.morphTargets=ke.morphTargets,Ze.morphNormals=ke.morphNormals,Ze.morphColors=ke.morphColors,Ze.morphTargetsCount=ke.morphTargetsCount,Ze.numClippingPlanes=ke.numClippingPlanes,Ze.numIntersection=ke.numClipIntersection,Ze.vertexAlphas=ke.vertexAlphas,Ze.vertexTangents=ke.vertexTangents,Ze.toneMapping=ke.toneMapping}function ja(oe,ke,Ze,Xe,rt){ke.isScene!==!0&&(ke=cn),nr.resetTextureUnits();const It=ke.fog,Dt=Xe.isMeshStandardMaterial?ke.environment:null,ln=de===null?F.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:_0,dn=(Xe.isMeshStandardMaterial?Jr:dr).get(Xe.envMap||Dt),_n=Xe.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,$t=!!Ze.attributes.tangent&&(!!Xe.normalMap||Xe.anisotropy>0),Rn=!!Ze.morphAttributes.position,wn=!!Ze.morphAttributes.normal,er=!!Ze.morphAttributes.color,tr=Xe.toneMapped?F.toneMapping:vg,Tr=Ze.morphAttributes.position||Ze.morphAttributes.normal||Ze.morphAttributes.color,Wr=Tr!==void 0?Tr.length:0,pr=Dn.get(Xe),Rr=j.state.lights;if(qe===!0&&(mt===!0||oe!==Z)){const mi=oe===Z&&Xe.id===fe;Ar.setState(Xe,oe,mi)}let Or=!1;Xe.version===pr.__version?(pr.needsLights&&pr.lightsStateVersion!==Rr.state.version||pr.outputColorSpace!==ln||rt.isInstancedMesh&&pr.instancing===!1||!rt.isInstancedMesh&&pr.instancing===!0||rt.isSkinnedMesh&&pr.skinning===!1||!rt.isSkinnedMesh&&pr.skinning===!0||pr.envMap!==dn||Xe.fog===!0&&pr.fog!==It||pr.numClippingPlanes!==void 0&&(pr.numClippingPlanes!==Ar.numPlanes||pr.numIntersection!==Ar.numIntersection)||pr.vertexAlphas!==_n||pr.vertexTangents!==$t||pr.morphTargets!==Rn||pr.morphNormals!==wn||pr.morphColors!==er||pr.toneMapping!==tr||Kt.isWebGL2===!0&&pr.morphTargetsCount!==Wr)&&(Or=!0):(Or=!0,pr.__version=Xe.version);let pi=pr.currentProgram;Or===!0&&(pi=oa(Xe,ke,rt));let ji=!1,ti=!1,ki=!1;const Ni=pi.getUniforms(),Fi=pr.uniforms;if(Yt.useProgram(pi.program)&&(ji=!0,ti=!0,ki=!0),Xe.id!==fe&&(fe=Xe.id,ti=!0),ji||Z!==oe){if(Ni.setValue($e,"projectionMatrix",oe.projectionMatrix),Kt.logarithmicDepthBuffer&&Ni.setValue($e,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),Z!==oe&&(Z=oe,ti=!0,ki=!0),Xe.isShaderMaterial||Xe.isMeshPhongMaterial||Xe.isMeshToonMaterial||Xe.isMeshStandardMaterial||Xe.envMap){const mi=Ni.map.cameraPosition;mi!==void 0&&mi.setValue($e,en.setFromMatrixPosition(oe.matrixWorld))}(Xe.isMeshPhongMaterial||Xe.isMeshToonMaterial||Xe.isMeshLambertMaterial||Xe.isMeshBasicMaterial||Xe.isMeshStandardMaterial||Xe.isShaderMaterial)&&Ni.setValue($e,"isOrthographic",oe.isOrthographicCamera===!0),(Xe.isMeshPhongMaterial||Xe.isMeshToonMaterial||Xe.isMeshLambertMaterial||Xe.isMeshBasicMaterial||Xe.isMeshStandardMaterial||Xe.isShaderMaterial||Xe.isShadowMaterial||rt.isSkinnedMesh)&&Ni.setValue($e,"viewMatrix",oe.matrixWorldInverse)}if(rt.isSkinnedMesh){Ni.setOptional($e,rt,"bindMatrix"),Ni.setOptional($e,rt,"bindMatrixInverse");const mi=rt.skeleton;mi&&(Kt.floatVertexTextures?(mi.boneTexture===null&&mi.computeBoneTexture(),Ni.setValue($e,"boneTexture",mi.boneTexture,nr),Ni.setValue($e,"boneTextureSize",mi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const no=Ze.morphAttributes;if((no.position!==void 0||no.normal!==void 0||no.color!==void 0&&Kt.isWebGL2===!0)&&Jt.update(rt,Ze,pi),(ti||pr.receiveShadow!==rt.receiveShadow)&&(pr.receiveShadow=rt.receiveShadow,Ni.setValue($e,"receiveShadow",rt.receiveShadow)),Xe.isMeshGouraudMaterial&&Xe.envMap!==null&&(Fi.envMap.value=dn,Fi.flipEnvMap.value=dn.isCubeTexture&&dn.isRenderTargetTexture===!1?-1:1),ti&&(Ni.setValue($e,"toneMappingExposure",F.toneMappingExposure),pr.needsLights&&xa(Fi,ki),It&&Xe.fog===!0&&Pn.refreshFogUniforms(Fi,It),Pn.refreshMaterialUniforms(Fi,Xe,st,ut,We),$3.upload($e,pr.uniformsList,Fi,nr)),Xe.isShaderMaterial&&Xe.uniformsNeedUpdate===!0&&($3.upload($e,pr.uniformsList,Fi,nr),Xe.uniformsNeedUpdate=!1),Xe.isSpriteMaterial&&Ni.setValue($e,"center",rt.center),Ni.setValue($e,"modelViewMatrix",rt.modelViewMatrix),Ni.setValue($e,"normalMatrix",rt.normalMatrix),Ni.setValue($e,"modelMatrix",rt.matrixWorld),Xe.isShaderMaterial||Xe.isRawShaderMaterial){const mi=Xe.uniformsGroups;for(let yi=0,Ki=mi.length;yi<Ki;yi++)if(Kt.isWebGL2){const ca=mi[yi];Dr.update(ca,pi),Dr.bind(ca,pi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pi}function xa(oe,ke){oe.ambientLightColor.needsUpdate=ke,oe.lightProbe.needsUpdate=ke,oe.directionalLights.needsUpdate=ke,oe.directionalLightShadows.needsUpdate=ke,oe.pointLights.needsUpdate=ke,oe.pointLightShadows.needsUpdate=ke,oe.spotLights.needsUpdate=ke,oe.spotLightShadows.needsUpdate=ke,oe.rectAreaLights.needsUpdate=ke,oe.hemisphereLights.needsUpdate=ke}function Ee(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return Q},this.getRenderTarget=function(){return de},this.setRenderTargetTextures=function(oe,ke,Ze){Dn.get(oe.texture).__webglTexture=ke,Dn.get(oe.depthTexture).__webglTexture=Ze;const Xe=Dn.get(oe);Xe.__hasExternalTextures=!0,Xe.__hasExternalTextures&&(Xe.__autoAllocateDepthBuffer=Ze===void 0,Xe.__autoAllocateDepthBuffer||Ut.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Xe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(oe,ke){const Ze=Dn.get(oe);Ze.__webglFramebuffer=ke,Ze.__useDefaultFramebuffer=ke===void 0},this.setRenderTarget=function(oe,ke=0,Ze=0){de=oe,U=ke,Q=Ze;let Xe=!0,rt=null,It=!1,Dt=!1;if(oe){const dn=Dn.get(oe);dn.__useDefaultFramebuffer!==void 0?(Yt.bindFramebuffer($e.FRAMEBUFFER,null),Xe=!1):dn.__webglFramebuffer===void 0?nr.setupRenderTarget(oe):dn.__hasExternalTextures&&nr.rebindTextures(oe,Dn.get(oe.texture).__webglTexture,Dn.get(oe.depthTexture).__webglTexture);const _n=oe.texture;(_n.isData3DTexture||_n.isDataArrayTexture||_n.isCompressedArrayTexture)&&(Dt=!0);const $t=Dn.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(rt=$t[ke],It=!0):Kt.isWebGL2&&oe.samples>0&&nr.useMultisampledRTT(oe)===!1?rt=Dn.get(oe).__webglMultisampledFramebuffer:rt=$t,he.copy(oe.viewport),Te.copy(oe.scissor),je=oe.scissorTest}else he.copy(we).multiplyScalar(st).floor(),Te.copy(Pe).multiplyScalar(st).floor(),je=be;if(Yt.bindFramebuffer($e.FRAMEBUFFER,rt)&&Kt.drawBuffers&&Xe&&Yt.drawBuffers(oe,rt),Yt.viewport(he),Yt.scissor(Te),Yt.setScissorTest(je),It){const dn=Dn.get(oe.texture);$e.framebufferTexture2D($e.FRAMEBUFFER,$e.COLOR_ATTACHMENT0,$e.TEXTURE_CUBE_MAP_POSITIVE_X+ke,dn.__webglTexture,Ze)}else if(Dt){const dn=Dn.get(oe.texture),_n=ke||0;$e.framebufferTextureLayer($e.FRAMEBUFFER,$e.COLOR_ATTACHMENT0,dn.__webglTexture,Ze||0,_n)}fe=-1},this.readRenderTargetPixels=function(oe,ke,Ze,Xe,rt,It,Dt){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ln=Dn.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Dt!==void 0&&(ln=ln[Dt]),ln){Yt.bindFramebuffer($e.FRAMEBUFFER,ln);try{const dn=oe.texture,_n=dn.format,$t=dn.type;if(_n!==Up&&Wn.convert(_n)!==$e.getParameter($e.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Rn=$t===Yh&&(Ut.has("EXT_color_buffer_half_float")||Kt.isWebGL2&&Ut.has("EXT_color_buffer_float"));if($t!==Of&&Wn.convert($t)!==$e.getParameter($e.IMPLEMENTATION_COLOR_READ_TYPE)&&!($t===kf&&(Kt.isWebGL2||Ut.has("OES_texture_float")||Ut.has("WEBGL_color_buffer_float")))&&!Rn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ke>=0&&ke<=oe.width-Xe&&Ze>=0&&Ze<=oe.height-rt&&$e.readPixels(ke,Ze,Xe,rt,Wn.convert(_n),Wn.convert($t),It)}finally{const dn=de!==null?Dn.get(de).__webglFramebuffer:null;Yt.bindFramebuffer($e.FRAMEBUFFER,dn)}}},this.copyFramebufferToTexture=function(oe,ke,Ze=0){const Xe=Math.pow(2,-Ze),rt=Math.floor(ke.image.width*Xe),It=Math.floor(ke.image.height*Xe);nr.setTexture2D(ke,0),$e.copyTexSubImage2D($e.TEXTURE_2D,Ze,0,0,oe.x,oe.y,rt,It),Yt.unbindTexture()},this.copyTextureToTexture=function(oe,ke,Ze,Xe=0){const rt=ke.image.width,It=ke.image.height,Dt=Wn.convert(Ze.format),ln=Wn.convert(Ze.type);nr.setTexture2D(Ze,0),$e.pixelStorei($e.UNPACK_FLIP_Y_WEBGL,Ze.flipY),$e.pixelStorei($e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ze.premultiplyAlpha),$e.pixelStorei($e.UNPACK_ALIGNMENT,Ze.unpackAlignment),ke.isDataTexture?$e.texSubImage2D($e.TEXTURE_2D,Xe,oe.x,oe.y,rt,It,Dt,ln,ke.image.data):ke.isCompressedTexture?$e.compressedTexSubImage2D($e.TEXTURE_2D,Xe,oe.x,oe.y,ke.mipmaps[0].width,ke.mipmaps[0].height,Dt,ke.mipmaps[0].data):$e.texSubImage2D($e.TEXTURE_2D,Xe,oe.x,oe.y,Dt,ln,ke.image),Xe===0&&Ze.generateMipmaps&&$e.generateMipmap($e.TEXTURE_2D),Yt.unbindTexture()},this.copyTextureToTexture3D=function(oe,ke,Ze,Xe,rt=0){if(F.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const It=oe.max.x-oe.min.x+1,Dt=oe.max.y-oe.min.y+1,ln=oe.max.z-oe.min.z+1,dn=Wn.convert(Xe.format),_n=Wn.convert(Xe.type);let $t;if(Xe.isData3DTexture)nr.setTexture3D(Xe,0),$t=$e.TEXTURE_3D;else if(Xe.isDataArrayTexture)nr.setTexture2DArray(Xe,0),$t=$e.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$e.pixelStorei($e.UNPACK_FLIP_Y_WEBGL,Xe.flipY),$e.pixelStorei($e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xe.premultiplyAlpha),$e.pixelStorei($e.UNPACK_ALIGNMENT,Xe.unpackAlignment);const Rn=$e.getParameter($e.UNPACK_ROW_LENGTH),wn=$e.getParameter($e.UNPACK_IMAGE_HEIGHT),er=$e.getParameter($e.UNPACK_SKIP_PIXELS),tr=$e.getParameter($e.UNPACK_SKIP_ROWS),Tr=$e.getParameter($e.UNPACK_SKIP_IMAGES),Wr=Ze.isCompressedTexture?Ze.mipmaps[0]:Ze.image;$e.pixelStorei($e.UNPACK_ROW_LENGTH,Wr.width),$e.pixelStorei($e.UNPACK_IMAGE_HEIGHT,Wr.height),$e.pixelStorei($e.UNPACK_SKIP_PIXELS,oe.min.x),$e.pixelStorei($e.UNPACK_SKIP_ROWS,oe.min.y),$e.pixelStorei($e.UNPACK_SKIP_IMAGES,oe.min.z),Ze.isDataTexture||Ze.isData3DTexture?$e.texSubImage3D($t,rt,ke.x,ke.y,ke.z,It,Dt,ln,dn,_n,Wr.data):Ze.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$e.compressedTexSubImage3D($t,rt,ke.x,ke.y,ke.z,It,Dt,ln,dn,Wr.data)):$e.texSubImage3D($t,rt,ke.x,ke.y,ke.z,It,Dt,ln,dn,_n,Wr),$e.pixelStorei($e.UNPACK_ROW_LENGTH,Rn),$e.pixelStorei($e.UNPACK_IMAGE_HEIGHT,wn),$e.pixelStorei($e.UNPACK_SKIP_PIXELS,er),$e.pixelStorei($e.UNPACK_SKIP_ROWS,tr),$e.pixelStorei($e.UNPACK_SKIP_IMAGES,Tr),rt===0&&Xe.generateMipmaps&&$e.generateMipmap($t),Yt.unbindTexture()},this.initTexture=function(oe){oe.isCubeTexture?nr.setTextureCube(oe,0):oe.isData3DTexture?nr.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?nr.setTexture2DArray(oe,0):nr.setTexture2D(oe,0),Yt.unbindTexture()},this.resetState=function(){U=0,Q=0,de=null,Yt.reset(),Yn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ry}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ta?gg:YO}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===gg?Ta:_0}}class VTe extends TH{}VTe.prototype.isWebGL1Renderer=!0;class MH{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ur(e),this.density=n}clone(){return new MH(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class PH{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ur(e),this.near=n,this.far=r}clone(){return new PH(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ux extends Ya{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class QO{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=xO,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_v()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_v()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_v()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const kp=new Ve;class zx{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)kp.fromBufferAttribute(this,n),kp.applyMatrix4(e),this.setXYZ(n,kp.x,kp.y,kp.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)kp.fromBufferAttribute(this,n),kp.applyNormalMatrix(e),this.setXYZ(n,kp.x,kp.y,kp.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)kp.fromBufferAttribute(this,n),kp.transformDirection(e),this.setXYZ(n,kp.x,kp.y,kp.z);return this}setX(e,n){return this.normalized&&(n=Ha(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ha(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ha(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ha(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=vv(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=vv(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=vv(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=vv(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ha(n,this.array),r=Ha(r,this.array),i=Ha(i,this.array),o=Ha(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new lo(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new zx(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class HJ extends ac{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ur(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let OT;const tD=new Ve,BT=new Ve,LT=new Ve,NT=new vn,nD=new vn,WTe=new ea,W5=new Ve,rD=new Ve,K5=new Ve,mSe=new vn,Qq=new vn,vSe=new vn;class KTe extends Ya{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",OT===void 0){OT=new da;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new QO(n,5);OT.setIndex([0,1,2,0,2,3]),OT.setAttribute("position",new zx(r,3,0,!1)),OT.setAttribute("uv",new zx(r,2,3,!1))}this.geometry=OT,this.material=e!==void 0?e:new HJ,this.center=new vn(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),BT.setFromMatrixScale(this.matrixWorld),WTe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),LT.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&BT.multiplyScalar(-LT.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const l=this.center;q5(W5.set(-.5,-.5,0),LT,l,BT,i,o),q5(rD.set(.5,-.5,0),LT,l,BT,i,o),q5(K5.set(.5,.5,0),LT,l,BT,i,o),mSe.set(0,0),Qq.set(1,0),vSe.set(1,1);let d=e.ray.intersectTriangle(W5,rD,K5,!1,tD);if(d===null&&(q5(rD.set(-.5,.5,0),LT,l,BT,i,o),Qq.set(0,1),d=e.ray.intersectTriangle(W5,K5,rD,!1,tD),d===null))return;const h=e.ray.origin.distanceTo(tD);h<e.near||h>e.far||n.push({distance:h,point:tD.clone(),uv:bm.getInterpolation(tD,W5,rD,K5,mSe,Qq,vSe,new vn),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function q5(t,e,n,r,i,o){NT.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(nD.x=o*NT.x-i*NT.y,nD.y=i*NT.x+o*NT.y):nD.copy(NT),t.copy(e),t.x+=nD.x,t.y+=nD.y,t.applyMatrix4(WTe)}const X5=new Ve,gSe=new Ve;class qTe extends Ya{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){X5.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(X5);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){X5.setFromMatrixPosition(e.matrixWorld),gSe.setFromMatrixPosition(this.matrixWorld);const r=X5.distanceTo(gSe)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let l=n[i].distance;if(n[i].object.visible&&(l-=l*n[i].hysteresis),r>=l)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const l=r[i];n.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return n}}const ySe=new Ve,_Se=new go,SSe=new go,pQe=new Ve,xSe=new ea,FT=new Ve,Jq=new wg,wSe=new ea,Zq=new iP;class jJ extends Yr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ea,this.bindMatrixInverse=new ea,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new S0),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)FT.fromBufferAttribute(n,r),this.applyBoneTransform(r,FT),this.boundingBox.expandByPoint(FT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new wg),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)FT.fromBufferAttribute(n,r),this.applyBoneTransform(r,FT),this.boundingSphere.expandByPoint(FT)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jq.copy(this.boundingSphere),Jq.applyMatrix4(i),e.ray.intersectsSphere(Jq)!==!1&&(wSe.copy(i).invert(),Zq.copy(e.ray).applyMatrix4(wSe),!(this.boundingBox!==null&&Zq.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Zq)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new go,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;_Se.fromBufferAttribute(i.attributes.skinIndex,e),SSe.fromBufferAttribute(i.attributes.skinWeight,e),ySe.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const l=SSe.getComponent(o);if(l!==0){const d=_Se.getComponent(o);xSe.multiplyMatrices(r.bones[d].matrixWorld,r.boneInverses[d]),n.addScaledVector(pQe.copy(ySe).applyMatrix4(xSe),l)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class RH extends Ya{constructor(){super(),this.isBone=!0,this.type="Bone"}}class TM extends Ws{constructor(e=null,n=1,r=1,i,o,l,d,h,v=Vs,S=Vs,x,A){super(null,l,d,h,v,S,i,o,x,A),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ESe=new ea,mQe=new ea;class JO{constructor(e=[],n=[]){this.uuid=_v(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ea)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ea;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const d=e[o]?e[o].matrixWorld:mQe;ESe.multiplyMatrices(d,n[o]),ESe.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new JO(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=RTe(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new TM(n,e,e,Up,kf);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let l=n[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new RH),this.bones.push(l),this.boneInverses.push(new ea().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const l=n[i];e.bones.push(l.uuid);const d=r[i];e.boneInverses.push(d.toArray())}return e}}class VM extends lo{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const UT=new ea,bSe=new ea,Y5=[],CSe=new S0,vQe=new ea,iD=new Yr,aD=new wg;class GJ extends Yr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new VM(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,vQe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new S0),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,UT),CSe.copy(e.boundingBox).applyMatrix4(UT),this.boundingBox.union(CSe)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new wg),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,UT),aD.copy(e.boundingSphere).applyMatrix4(UT),this.boundingSphere.union(aD)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(iD.geometry=this.geometry,iD.material=this.material,iD.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),aD.copy(this.boundingSphere),aD.applyMatrix4(r),e.ray.intersectsSphere(aD)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,UT),bSe.multiplyMatrices(r,UT),iD.matrixWorld=bSe,iD.raycast(e,Y5);for(let l=0,d=Y5.length;l<d;l++){const h=Y5[l];h.instanceId=o,h.object=this,n.push(h)}Y5.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new VM(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ah extends ac{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ur(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ASe=new Ve,TSe=new Ve,MSe=new ea,eX=new iP,$5=new wg;class Ua extends Ya{constructor(e=new da,n=new ah){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)ASe.fromBufferAttribute(n,i-1),TSe.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=ASe.distanceTo(TSe);e.setAttribute("lineDistance",new li(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$5.copy(r.boundingSphere),$5.applyMatrix4(i),$5.radius+=o,e.ray.intersectsSphere($5)===!1)return;MSe.copy(i).invert(),eX.copy(e.ray).applyMatrix4(MSe);const d=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,v=new Ve,S=new Ve,x=new Ve,A=new Ve,T=this.isLineSegments?2:1,R=r.index,j=r.attributes.position;if(R!==null){const w=Math.max(0,l.start),L=Math.min(R.count,l.start+l.count);for(let F=w,W=L-1;F<W;F+=T){const U=R.getX(F),Q=R.getX(F+1);if(v.fromBufferAttribute(j,U),S.fromBufferAttribute(j,Q),eX.distanceSqToSegment(v,S,A,x)>h)continue;A.applyMatrix4(this.matrixWorld);const fe=e.ray.origin.distanceTo(A);fe<e.near||fe>e.far||n.push({distance:fe,point:x.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,l.start),L=Math.min(j.count,l.start+l.count);for(let F=w,W=L-1;F<W;F+=T){if(v.fromBufferAttribute(j,F),S.fromBufferAttribute(j,F+1),eX.distanceSqToSegment(v,S,A,x)>h)continue;A.applyMatrix4(this.matrixWorld);const Q=e.ray.origin.distanceTo(A);Q<e.near||Q>e.far||n.push({distance:Q,point:x.clone().applyMatrix4(this.matrixWorld),index:F,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}}const PSe=new Ve,RSe=new Ve;class x0 extends Ua{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)PSe.fromBufferAttribute(n,i),RSe.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+PSe.distanceTo(RSe);e.setAttribute("lineDistance",new li(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VJ extends Ua{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class IH extends ac{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ur(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ISe=new ea,I$=new iP,Q5=new wg,J5=new Ve;class WJ extends Ya{constructor(e=new da,n=new IH){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Q5.copy(r.boundingSphere),Q5.applyMatrix4(i),Q5.radius+=o,e.ray.intersectsSphere(Q5)===!1)return;ISe.copy(i).invert(),I$.copy(e.ray).applyMatrix4(ISe);const d=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=d*d,v=r.index,x=r.attributes.position;if(v!==null){const A=Math.max(0,l.start),T=Math.min(v.count,l.start+l.count);for(let R=A,G=T;R<G;R++){const j=v.getX(R);J5.fromBufferAttribute(x,j),kSe(J5,j,h,i,e,n,this)}}else{const A=Math.max(0,l.start),T=Math.min(x.count,l.start+l.count);for(let R=A,G=T;R<G;R++)J5.fromBufferAttribute(x,R),kSe(J5,R,h,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=i.length;o<l;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}}function kSe(t,e,n,r,i,o,l){const d=I$.distanceSqToPoint(t);if(d<n){const h=new Ve;I$.closestPointToPoint(t,h),h.applyMatrix4(r);const v=i.ray.origin.distanceTo(h);if(v<i.near||v>i.far)return;o.push({distance:v,distanceToRay:Math.sqrt(d),point:h,index:e,face:null,object:l})}}class gQe extends Ws{constructor(e,n,r,i,o,l,d,h,v){super(e,n,r,i,o,l,d,h,v),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:as,this.magFilter=o!==void 0?o:as,this.generateMipmaps=!1;const S=this;function x(){S.needsUpdate=!0,e.requestVideoFrameCallback(x)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(x)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yQe extends Ws{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Vs,this.minFilter=Vs,this.generateMipmaps=!1,this.needsUpdate=!0}}class KJ extends Ws{constructor(e,n,r,i,o,l,d,h,v,S,x,A){super(null,l,d,h,v,S,i,o,x,A),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _Qe extends KJ{constructor(e,n,r,i,o,l){super(e,n,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=eh}}class SQe extends Ws{constructor(e,n,r,i,o,l,d,h,v){super(e,n,r,i,o,l,d,h,v),this.isCanvasTexture=!0,this.needsUpdate=!0}}class w0{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let l;n?l=n:l=e*r[o-1];let d=0,h=o-1,v;for(;d<=h;)if(i=Math.floor(d+(h-d)/2),v=r[i]-l,v<0)d=i+1;else if(v>0)h=i-1;else{h=i;break}if(i=h,r[i]===l)return i/(o-1);const S=r[i],A=r[i+1]-S,T=(l-S)/A;return(i+T)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const l=this.getPoint(i),d=this.getPoint(o),h=n||(l.isVector2?new vn:new Ve);return h.copy(d).sub(l).normalize(),h}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Ve,i=[],o=[],l=[],d=new Ve,h=new ea;for(let T=0;T<=e;T++){const R=T/e;i[T]=this.getTangentAt(R,new Ve)}o[0]=new Ve,l[0]=new Ve;let v=Number.MAX_VALUE;const S=Math.abs(i[0].x),x=Math.abs(i[0].y),A=Math.abs(i[0].z);S<=v&&(v=S,r.set(1,0,0)),x<=v&&(v=x,r.set(0,1,0)),A<=v&&r.set(0,0,1),d.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],d),l[0].crossVectors(i[0],o[0]);for(let T=1;T<=e;T++){if(o[T]=o[T-1].clone(),l[T]=l[T-1].clone(),d.crossVectors(i[T-1],i[T]),d.length()>Number.EPSILON){d.normalize();const R=Math.acos(rc(i[T-1].dot(i[T]),-1,1));o[T].applyMatrix4(h.makeRotationAxis(d,R))}l[T].crossVectors(i[T],o[T])}if(n===!0){let T=Math.acos(rc(o[0].dot(o[e]),-1,1));T/=e,i[0].dot(d.crossVectors(o[0],o[e]))>0&&(T=-T);for(let R=1;R<=e;R++)o[R].applyMatrix4(h.makeRotationAxis(i[R],T*R)),l[R].crossVectors(i[R],o[R])}return{tangents:i,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kH extends w0{constructor(e=0,n=0,r=1,i=1,o=0,l=Math.PI*2,d=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=d,this.aRotation=h}getPoint(e,n){const r=n||new vn,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(l?o=0:o=i),this.aClockwise===!0&&!l&&(o===i?o=-i:o=o-i);const d=this.aStartAngle+e*o;let h=this.aX+this.xRadius*Math.cos(d),v=this.aY+this.yRadius*Math.sin(d);if(this.aRotation!==0){const S=Math.cos(this.aRotation),x=Math.sin(this.aRotation),A=h-this.aX,T=v-this.aY;h=A*S-T*x+this.aX,v=A*x+T*S+this.aY}return r.set(h,v)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class XTe extends kH{constructor(e,n,r,i,o,l){super(e,n,r,r,i,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function qJ(){let t=0,e=0,n=0,r=0;function i(o,l,d,h){t=o,e=d,n=-3*o+3*l-2*d-h,r=2*o-2*l+d+h}return{initCatmullRom:function(o,l,d,h,v){i(l,d,v*(d-o),v*(h-l))},initNonuniformCatmullRom:function(o,l,d,h,v,S,x){let A=(l-o)/v-(d-o)/(v+S)+(d-l)/S,T=(d-l)/S-(h-l)/(S+x)+(h-d)/x;A*=S,T*=S,i(l,d,A,T)},calc:function(o){const l=o*o,d=l*o;return t+e*o+n*l+r*d}}}const Z5=new Ve,tX=new qJ,nX=new qJ,rX=new qJ;class YTe extends w0{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Ve){const r=n,i=this.points,o=i.length,l=(o-(this.closed?0:1))*e;let d=Math.floor(l),h=l-d;this.closed?d+=d>0?0:(Math.floor(Math.abs(d)/o)+1)*o:h===0&&d===o-1&&(d=o-2,h=1);let v,S;this.closed||d>0?v=i[(d-1)%o]:(Z5.subVectors(i[0],i[1]).add(i[0]),v=Z5);const x=i[d%o],A=i[(d+1)%o];if(this.closed||d+2<o?S=i[(d+2)%o]:(Z5.subVectors(i[o-1],i[o-2]).add(i[o-1]),S=Z5),this.curveType==="centripetal"||this.curveType==="chordal"){const T=this.curveType==="chordal"?.5:.25;let R=Math.pow(v.distanceToSquared(x),T),G=Math.pow(x.distanceToSquared(A),T),j=Math.pow(A.distanceToSquared(S),T);G<1e-4&&(G=1),R<1e-4&&(R=G),j<1e-4&&(j=G),tX.initNonuniformCatmullRom(v.x,x.x,A.x,S.x,R,G,j),nX.initNonuniformCatmullRom(v.y,x.y,A.y,S.y,R,G,j),rX.initNonuniformCatmullRom(v.z,x.z,A.z,S.z,R,G,j)}else this.curveType==="catmullrom"&&(tX.initCatmullRom(v.x,x.x,A.x,S.x,this.tension),nX.initCatmullRom(v.y,x.y,A.y,S.y,this.tension),rX.initCatmullRom(v.z,x.z,A.z,S.z,this.tension));return r.set(tX.calc(h),nX.calc(h),rX.calc(h)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ve().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function DSe(t,e,n,r,i){const o=(r-e)*.5,l=(i-n)*.5,d=t*t,h=t*d;return(2*n-2*r+o+l)*h+(-3*n+3*r-2*o-l)*d+o*t+n}function xQe(t,e){const n=1-t;return n*n*e}function wQe(t,e){return 2*(1-t)*t*e}function EQe(t,e){return t*t*e}function GD(t,e,n,r){return xQe(t,e)+wQe(t,n)+EQe(t,r)}function bQe(t,e){const n=1-t;return n*n*n*e}function CQe(t,e){const n=1-t;return 3*n*n*t*e}function AQe(t,e){return 3*(1-t)*t*t*e}function TQe(t,e){return t*t*t*e}function VD(t,e,n,r,i){return bQe(t,e)+CQe(t,n)+AQe(t,r)+TQe(t,i)}class XJ extends w0{constructor(e=new vn,n=new vn,r=new vn,i=new vn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new vn){const r=n,i=this.v0,o=this.v1,l=this.v2,d=this.v3;return r.set(VD(e,i.x,o.x,l.x,d.x),VD(e,i.y,o.y,l.y,d.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $Te extends w0{constructor(e=new Ve,n=new Ve,r=new Ve,i=new Ve){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ve){const r=n,i=this.v0,o=this.v1,l=this.v2,d=this.v3;return r.set(VD(e,i.x,o.x,l.x,d.x),VD(e,i.y,o.y,l.y,d.y),VD(e,i.z,o.z,l.z,d.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DH extends w0{constructor(e=new vn,n=new vn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new vn){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new vn){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QTe extends w0{constructor(e=new Ve,n=new Ve){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YJ extends w0{constructor(e=new vn,n=new vn,r=new vn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new vn){const r=n,i=this.v0,o=this.v1,l=this.v2;return r.set(GD(e,i.x,o.x,l.x),GD(e,i.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $J extends w0{constructor(e=new Ve,n=new Ve,r=new Ve){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ve){const r=n,i=this.v0,o=this.v1,l=this.v2;return r.set(GD(e,i.x,o.x,l.x),GD(e,i.y,o.y,l.y),GD(e,i.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QJ extends w0{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new vn){const r=n,i=this.points,o=(i.length-1)*e,l=Math.floor(o),d=o-l,h=i[l===0?l:l-1],v=i[l],S=i[l>i.length-2?i.length-1:l+1],x=i[l>i.length-3?i.length-1:l+2];return r.set(DSe(d,h.x,v.x,S.x,x.x),DSe(d,h.y,v.y,S.y,x.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new vn().fromArray(i))}return this}}var JJ=Object.freeze({__proto__:null,ArcCurve:XTe,CatmullRomCurve3:YTe,CubicBezierCurve:XJ,CubicBezierCurve3:$Te,EllipseCurve:kH,LineCurve:DH,LineCurve3:QTe,QuadraticBezierCurve:YJ,QuadraticBezierCurve3:$J,SplineCurve:QJ});class JTe extends w0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new DH(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const l=i[o]-r,d=this.curves[o],h=d.getLength(),v=h===0?0:1-l/h;return d.getPointAt(v,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const l=o[i],d=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,h=l.getPoints(d);for(let v=0;v<h.length;v++){const S=h[v];r&&r.equals(S)||(n.push(S),r=S)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new JJ[i.type]().fromJSON(i))}return this}}class bO extends JTe{constructor(e){super(),this.type="Path",this.currentPoint=new vn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new DH(this.currentPoint.clone(),new vn(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new YJ(this.currentPoint.clone(),new vn(e,n),new vn(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,l){const d=new XJ(this.currentPoint.clone(),new vn(e,n),new vn(r,i),new vn(o,l));return this.curves.push(d),this.currentPoint.set(o,l),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new QJ(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,l){const d=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+d,n+h,r,i,o,l),this}absarc(e,n,r,i,o,l){return this.absellipse(e,n,r,r,i,o,l),this}ellipse(e,n,r,i,o,l,d,h){const v=this.currentPoint.x,S=this.currentPoint.y;return this.absellipse(e+v,n+S,r,i,o,l,d,h),this}absellipse(e,n,r,i,o,l,d,h){const v=new kH(e,n,r,i,o,l,d,h);if(this.curves.length>0){const x=v.getPoint(0);x.equals(this.currentPoint)||this.lineTo(x.x,x.y)}this.curves.push(v);const S=v.getPoint(1);return this.currentPoint.copy(S),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class oP extends da{constructor(e=[new vn(0,-.5),new vn(.5,0),new vn(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=rc(i,0,Math.PI*2);const o=[],l=[],d=[],h=[],v=[],S=1/n,x=new Ve,A=new vn,T=new Ve,R=new Ve,G=new Ve;let j=0,w=0;for(let L=0;L<=e.length-1;L++)switch(L){case 0:j=e[L+1].x-e[L].x,w=e[L+1].y-e[L].y,T.x=w*1,T.y=-j,T.z=w*0,G.copy(T),T.normalize(),h.push(T.x,T.y,T.z);break;case e.length-1:h.push(G.x,G.y,G.z);break;default:j=e[L+1].x-e[L].x,w=e[L+1].y-e[L].y,T.x=w*1,T.y=-j,T.z=w*0,R.copy(T),T.x+=G.x,T.y+=G.y,T.z+=G.z,T.normalize(),h.push(T.x,T.y,T.z),G.copy(R)}for(let L=0;L<=n;L++){const F=r+L*S*i,W=Math.sin(F),U=Math.cos(F);for(let Q=0;Q<=e.length-1;Q++){x.x=e[Q].x*W,x.y=e[Q].y,x.z=e[Q].x*U,l.push(x.x,x.y,x.z),A.x=L/n,A.y=Q/(e.length-1),d.push(A.x,A.y);const de=h[3*Q+0]*W,fe=h[3*Q+1],Z=h[3*Q+0]*U;v.push(de,fe,Z)}}for(let L=0;L<n;L++)for(let F=0;F<e.length-1;F++){const W=F+L*e.length,U=W,Q=W+e.length,de=W+e.length+1,fe=W+1;o.push(U,Q,fe),o.push(de,fe,Q)}this.setIndex(o),this.setAttribute("position",new li(l,3)),this.setAttribute("uv",new li(d,2)),this.setAttribute("normal",new li(v,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oP(e.points,e.segments,e.phiStart,e.phiLength)}}class ZO extends oP{constructor(e=1,n=1,r=4,i=8){const o=new bO;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new ZO(e.radius,e.length,e.capSegments,e.radialSegments)}}class eB extends da{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],l=[],d=[],h=[],v=new Ve,S=new vn;l.push(0,0,0),d.push(0,0,1),h.push(.5,.5);for(let x=0,A=3;x<=n;x++,A+=3){const T=r+x/n*i;v.x=e*Math.cos(T),v.y=e*Math.sin(T),l.push(v.x,v.y,v.z),d.push(0,0,1),S.x=(l[A]/e+1)/2,S.y=(l[A+1]/e+1)/2,h.push(S.x,S.y)}for(let x=1;x<=n;x++)o.push(x,x+1,0);this.setIndex(o),this.setAttribute("position",new li(l,3)),this.setAttribute("normal",new li(d,3)),this.setAttribute("uv",new li(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eB(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ld extends da{constructor(e=1,n=1,r=1,i=32,o=1,l=!1,d=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:d,thetaLength:h};const v=this;i=Math.floor(i),o=Math.floor(o);const S=[],x=[],A=[],T=[];let R=0;const G=[],j=r/2;let w=0;L(),l===!1&&(e>0&&F(!0),n>0&&F(!1)),this.setIndex(S),this.setAttribute("position",new li(x,3)),this.setAttribute("normal",new li(A,3)),this.setAttribute("uv",new li(T,2));function L(){const W=new Ve,U=new Ve;let Q=0;const de=(n-e)/r;for(let fe=0;fe<=o;fe++){const Z=[],he=fe/o,Te=he*(n-e)+e;for(let je=0;je<=i;je++){const Ke=je/i,Le=Ke*h+d,Ge=Math.sin(Le),ut=Math.cos(Le);U.x=Te*Ge,U.y=-he*r+j,U.z=Te*ut,x.push(U.x,U.y,U.z),W.set(Ge,de,ut).normalize(),A.push(W.x,W.y,W.z),T.push(Ke,1-he),Z.push(R++)}G.push(Z)}for(let fe=0;fe<i;fe++)for(let Z=0;Z<o;Z++){const he=G[Z][fe],Te=G[Z+1][fe],je=G[Z+1][fe+1],Ke=G[Z][fe+1];S.push(he,Te,Ke),S.push(Te,je,Ke),Q+=6}v.addGroup(w,Q,0),w+=Q}function F(W){const U=R,Q=new vn,de=new Ve;let fe=0;const Z=W===!0?e:n,he=W===!0?1:-1;for(let je=1;je<=i;je++)x.push(0,j*he,0),A.push(0,he,0),T.push(.5,.5),R++;const Te=R;for(let je=0;je<=i;je++){const Le=je/i*h+d,Ge=Math.cos(Le),ut=Math.sin(Le);de.x=Z*ut,de.y=j*he,de.z=Z*Ge,x.push(de.x,de.y,de.z),A.push(0,he,0),Q.x=Ge*.5+.5,Q.y=ut*.5*he+.5,T.push(Q.x,Q.y),R++}for(let je=0;je<i;je++){const Ke=U+je,Le=Te+je;W===!0?S.push(Le,Le+1,Ke):S.push(Le+1,Le,Ke),fe+=3}v.addGroup(w,fe,W===!0?1:2),w+=fe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ld(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tB extends ld{constructor(e=1,n=1,r=32,i=1,o=!1,l=0,d=Math.PI*2){super(0,e,n,r,i,o,l,d),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:d}}static fromJSON(e){return new tB(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class N1 extends da{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],l=[];d(i),v(r),S(),this.setAttribute("position",new li(o,3)),this.setAttribute("normal",new li(o.slice(),3)),this.setAttribute("uv",new li(l,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function d(L){const F=new Ve,W=new Ve,U=new Ve;for(let Q=0;Q<n.length;Q+=3)T(n[Q+0],F),T(n[Q+1],W),T(n[Q+2],U),h(F,W,U,L)}function h(L,F,W,U){const Q=U+1,de=[];for(let fe=0;fe<=Q;fe++){de[fe]=[];const Z=L.clone().lerp(W,fe/Q),he=F.clone().lerp(W,fe/Q),Te=Q-fe;for(let je=0;je<=Te;je++)je===0&&fe===Q?de[fe][je]=Z:de[fe][je]=Z.clone().lerp(he,je/Te)}for(let fe=0;fe<Q;fe++)for(let Z=0;Z<2*(Q-fe)-1;Z++){const he=Math.floor(Z/2);Z%2===0?(A(de[fe][he+1]),A(de[fe+1][he]),A(de[fe][he])):(A(de[fe][he+1]),A(de[fe+1][he+1]),A(de[fe+1][he]))}}function v(L){const F=new Ve;for(let W=0;W<o.length;W+=3)F.x=o[W+0],F.y=o[W+1],F.z=o[W+2],F.normalize().multiplyScalar(L),o[W+0]=F.x,o[W+1]=F.y,o[W+2]=F.z}function S(){const L=new Ve;for(let F=0;F<o.length;F+=3){L.x=o[F+0],L.y=o[F+1],L.z=o[F+2];const W=j(L)/2/Math.PI+.5,U=w(L)/Math.PI+.5;l.push(W,1-U)}R(),x()}function x(){for(let L=0;L<l.length;L+=6){const F=l[L+0],W=l[L+2],U=l[L+4],Q=Math.max(F,W,U),de=Math.min(F,W,U);Q>.9&&de<.1&&(F<.2&&(l[L+0]+=1),W<.2&&(l[L+2]+=1),U<.2&&(l[L+4]+=1))}}function A(L){o.push(L.x,L.y,L.z)}function T(L,F){const W=L*3;F.x=e[W+0],F.y=e[W+1],F.z=e[W+2]}function R(){const L=new Ve,F=new Ve,W=new Ve,U=new Ve,Q=new vn,de=new vn,fe=new vn;for(let Z=0,he=0;Z<o.length;Z+=9,he+=6){L.set(o[Z+0],o[Z+1],o[Z+2]),F.set(o[Z+3],o[Z+4],o[Z+5]),W.set(o[Z+6],o[Z+7],o[Z+8]),Q.set(l[he+0],l[he+1]),de.set(l[he+2],l[he+3]),fe.set(l[he+4],l[he+5]),U.copy(L).add(F).add(W).divideScalar(3);const Te=j(U);G(Q,he+0,L,Te),G(de,he+2,F,Te),G(fe,he+4,W,Te)}}function G(L,F,W,U){U<0&&L.x===1&&(l[F]=L.x-1),W.x===0&&W.z===0&&(l[F]=U/2/Math.PI+.5)}function j(L){return Math.atan2(L.z,-L.x)}function w(L){return Math.atan2(-L.y,Math.sqrt(L.x*L.x+L.z*L.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N1(e.vertices,e.indices,e.radius,e.details)}}class nB extends N1{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new nB(e.radius,e.detail)}}const e3=new Ve,t3=new Ve,iX=new Ve,n3=new bm;class ZTe extends da{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(Sb*n),l=e.getIndex(),d=e.getAttribute("position"),h=l?l.count:d.count,v=[0,0,0],S=["a","b","c"],x=new Array(3),A={},T=[];for(let R=0;R<h;R+=3){l?(v[0]=l.getX(R),v[1]=l.getX(R+1),v[2]=l.getX(R+2)):(v[0]=R,v[1]=R+1,v[2]=R+2);const{a:G,b:j,c:w}=n3;if(G.fromBufferAttribute(d,v[0]),j.fromBufferAttribute(d,v[1]),w.fromBufferAttribute(d,v[2]),n3.getNormal(iX),x[0]=`${Math.round(G.x*i)},${Math.round(G.y*i)},${Math.round(G.z*i)}`,x[1]=`${Math.round(j.x*i)},${Math.round(j.y*i)},${Math.round(j.z*i)}`,x[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(x[0]===x[1]||x[1]===x[2]||x[2]===x[0]))for(let L=0;L<3;L++){const F=(L+1)%3,W=x[L],U=x[F],Q=n3[S[L]],de=n3[S[F]],fe=`${W}_${U}`,Z=`${U}_${W}`;Z in A&&A[Z]?(iX.dot(A[Z].normal)<=o&&(T.push(Q.x,Q.y,Q.z),T.push(de.x,de.y,de.z)),A[Z]=null):fe in A||(A[fe]={index0:v[L],index1:v[F],normal:iX.clone()})}}for(const R in A)if(A[R]){const{index0:G,index1:j}=A[R];e3.fromBufferAttribute(d,G),t3.fromBufferAttribute(d,j),T.push(e3.x,e3.y,e3.z),T.push(t3.x,t3.y,t3.z)}this.setAttribute("position",new li(T,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xb extends bO{constructor(e){super(e),this.uuid=_v(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new bO().fromJSON(i))}return this}}const MQe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=eMe(t,0,i,n,!0);const l=[];if(!o||o.next===o.prev)return l;let d,h,v,S,x,A,T;if(r&&(o=DQe(t,e,o,n)),t.length>80*n){d=v=t[0],h=S=t[1];for(let R=n;R<i;R+=n)x=t[R],A=t[R+1],x<d&&(d=x),A<h&&(h=A),x>v&&(v=x),A>S&&(S=A);T=Math.max(v-d,S-h),T=T!==0?32767/T:0}return CO(o,l,n,d,h,T,0),l}};function eMe(t,e,n,r,i){let o,l;if(i===VQe(t,e,n,r)>0)for(o=e;o<n;o+=r)l=OSe(o,t[o],t[o+1],l);else for(o=n-r;o>=e;o-=r)l=OSe(o,t[o],t[o+1],l);return l&&OH(l,l.next)&&(TO(l),l=l.next),l}function Rb(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(OH(n,n.next)||Au(n.prev,n,n.next)===0)){if(TO(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function CO(t,e,n,r,i,o,l){if(!t)return;!l&&o&&FQe(t,r,i,o);let d=t,h,v;for(;t.prev!==t.next;){if(h=t.prev,v=t.next,o?RQe(t,r,i,o):PQe(t)){e.push(h.i/n|0),e.push(t.i/n|0),e.push(v.i/n|0),TO(t),t=v.next,d=v.next;continue}if(t=v,t===d){l?l===1?(t=IQe(Rb(t),e,n),CO(t,e,n,r,i,o,2)):l===2&&kQe(t,e,n,r,i,o):CO(Rb(t),e,n,r,i,o,1);break}}}function PQe(t){const e=t.prev,n=t,r=t.next;if(Au(e,n,r)>=0)return!1;const i=e.x,o=n.x,l=r.x,d=e.y,h=n.y,v=r.y,S=i<o?i<l?i:l:o<l?o:l,x=d<h?d<v?d:v:h<v?h:v,A=i>o?i>l?i:l:o>l?o:l,T=d>h?d>v?d:v:h>v?h:v;let R=r.next;for(;R!==e;){if(R.x>=S&&R.x<=A&&R.y>=x&&R.y<=T&&cM(i,d,o,h,l,v,R.x,R.y)&&Au(R.prev,R,R.next)>=0)return!1;R=R.next}return!0}function RQe(t,e,n,r){const i=t.prev,o=t,l=t.next;if(Au(i,o,l)>=0)return!1;const d=i.x,h=o.x,v=l.x,S=i.y,x=o.y,A=l.y,T=d<h?d<v?d:v:h<v?h:v,R=S<x?S<A?S:A:x<A?x:A,G=d>h?d>v?d:v:h>v?h:v,j=S>x?S>A?S:A:x>A?x:A,w=k$(T,R,e,n,r),L=k$(G,j,e,n,r);let F=t.prevZ,W=t.nextZ;for(;F&&F.z>=w&&W&&W.z<=L;){if(F.x>=T&&F.x<=G&&F.y>=R&&F.y<=j&&F!==i&&F!==l&&cM(d,S,h,x,v,A,F.x,F.y)&&Au(F.prev,F,F.next)>=0||(F=F.prevZ,W.x>=T&&W.x<=G&&W.y>=R&&W.y<=j&&W!==i&&W!==l&&cM(d,S,h,x,v,A,W.x,W.y)&&Au(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;F&&F.z>=w;){if(F.x>=T&&F.x<=G&&F.y>=R&&F.y<=j&&F!==i&&F!==l&&cM(d,S,h,x,v,A,F.x,F.y)&&Au(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;W&&W.z<=L;){if(W.x>=T&&W.x<=G&&W.y>=R&&W.y<=j&&W!==i&&W!==l&&cM(d,S,h,x,v,A,W.x,W.y)&&Au(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function IQe(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!OH(i,o)&&tMe(i,r,r.next,o)&&AO(i,o)&&AO(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),TO(r),TO(r.next),r=t=o),r=r.next}while(r!==t);return Rb(r)}function kQe(t,e,n,r,i,o){let l=t;do{let d=l.next.next;for(;d!==l.prev;){if(l.i!==d.i&&HQe(l,d)){let h=nMe(l,d);l=Rb(l,l.next),h=Rb(h,h.next),CO(l,e,n,r,i,o,0),CO(h,e,n,r,i,o,0);return}d=d.next}l=l.next}while(l!==t)}function DQe(t,e,n,r){const i=[];let o,l,d,h,v;for(o=0,l=e.length;o<l;o++)d=e[o]*r,h=o<l-1?e[o+1]*r:t.length,v=eMe(t,d,h,r,!1),v===v.next&&(v.steiner=!0),i.push(zQe(v));for(i.sort(OQe),o=0;o<i.length;o++)n=BQe(i[o],n);return n}function OQe(t,e){return t.x-e.x}function BQe(t,e){const n=LQe(t,e);if(!n)return e;const r=nMe(n,t);return Rb(r,r.next),Rb(n,n.next)}function LQe(t,e){let n=e,r=-1/0,i;const o=t.x,l=t.y;do{if(l<=n.y&&l>=n.next.y&&n.next.y!==n.y){const A=n.x+(l-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(A<=o&&A>r&&(r=A,i=n.x<n.next.x?n:n.next,A===o))return i}n=n.next}while(n!==e);if(!i)return null;const d=i,h=i.x,v=i.y;let S=1/0,x;n=i;do o>=n.x&&n.x>=h&&o!==n.x&&cM(l<v?o:r,l,h,v,l<v?r:o,l,n.x,n.y)&&(x=Math.abs(l-n.y)/(o-n.x),AO(n,t)&&(x<S||x===S&&(n.x>i.x||n.x===i.x&&NQe(i,n)))&&(i=n,S=x)),n=n.next;while(n!==d);return i}function NQe(t,e){return Au(t.prev,t,e.prev)<0&&Au(e.next,t,t.next)<0}function FQe(t,e,n,r){let i=t;do i.z===0&&(i.z=k$(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,UQe(i)}function UQe(t){let e,n,r,i,o,l,d,h,v=1;do{for(n=t,t=null,o=null,l=0;n;){for(l++,r=n,d=0,e=0;e<v&&(d++,r=r.nextZ,!!r);e++);for(h=v;d>0||h>0&&r;)d!==0&&(h===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,d--):(i=r,r=r.nextZ,h--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,v*=2}while(l>1);return t}function k$(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function zQe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function cM(t,e,n,r,i,o,l,d){return(i-l)*(e-d)>=(t-l)*(o-d)&&(t-l)*(r-d)>=(n-l)*(e-d)&&(n-l)*(o-d)>=(i-l)*(r-d)}function HQe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jQe(t,e)&&(AO(t,e)&&AO(e,t)&&GQe(t,e)&&(Au(t.prev,t,e.prev)||Au(t,e.prev,e))||OH(t,e)&&Au(t.prev,t,t.next)>0&&Au(e.prev,e,e.next)>0)}function Au(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function OH(t,e){return t.x===e.x&&t.y===e.y}function tMe(t,e,n,r){const i=i3(Au(t,e,n)),o=i3(Au(t,e,r)),l=i3(Au(n,r,t)),d=i3(Au(n,r,e));return!!(i!==o&&l!==d||i===0&&r3(t,n,e)||o===0&&r3(t,r,e)||l===0&&r3(n,t,r)||d===0&&r3(n,e,r))}function r3(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function i3(t){return t>0?1:t<0?-1:0}function jQe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&tMe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function AO(t,e){return Au(t.prev,t,t.next)<0?Au(t,e,t.next)>=0&&Au(t,t.prev,e)>=0:Au(t,e,t.prev)<0||Au(t,t.next,e)<0}function GQe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function nMe(t,e){const n=new D$(t.i,t.x,t.y),r=new D$(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function OSe(t,e,n,r){const i=new D$(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function TO(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function D$(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function VQe(t,e,n,r){let i=0;for(let o=e,l=n-r;o<n;o+=r)i+=(t[l]-t[o])*(t[o+1]+t[l+1]),l=o;return i}class Ly{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ly.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];BSe(e),LSe(r,e);let l=e.length;n.forEach(BSe);for(let h=0;h<n.length;h++)i.push(l),l+=n[h].length,LSe(r,n[h]);const d=MQe.triangulate(r,i);for(let h=0;h<d.length;h+=3)o.push(d.slice(h,h+3));return o}}function BSe(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function LSe(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class rB extends da{constructor(e=new xb([new vn(.5,.5),new vn(-.5,.5),new vn(-.5,-.5),new vn(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let d=0,h=e.length;d<h;d++){const v=e[d];l(v)}this.setAttribute("position",new li(i,3)),this.setAttribute("uv",new li(o,2)),this.computeVertexNormals();function l(d){const h=[],v=n.curveSegments!==void 0?n.curveSegments:12,S=n.steps!==void 0?n.steps:1,x=n.depth!==void 0?n.depth:1;let A=n.bevelEnabled!==void 0?n.bevelEnabled:!0,T=n.bevelThickness!==void 0?n.bevelThickness:.2,R=n.bevelSize!==void 0?n.bevelSize:T-.1,G=n.bevelOffset!==void 0?n.bevelOffset:0,j=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,L=n.UVGenerator!==void 0?n.UVGenerator:WQe;let F,W=!1,U,Q,de,fe;w&&(F=w.getSpacedPoints(S),W=!0,A=!1,U=w.computeFrenetFrames(S,!1),Q=new Ve,de=new Ve,fe=new Ve),A||(j=0,T=0,R=0,G=0);const Z=d.extractPoints(v);let he=Z.shape;const Te=Z.holes;if(!Ly.isClockWise(he)){he=he.reverse();for(let $e=0,Gt=Te.length;$e<Gt;$e++){const Ut=Te[$e];Ly.isClockWise(Ut)&&(Te[$e]=Ut.reverse())}}const Ke=Ly.triangulateShape(he,Te),Le=he;for(let $e=0,Gt=Te.length;$e<Gt;$e++){const Ut=Te[$e];he=he.concat(Ut)}function Ge($e,Gt,Ut){return Gt||console.error("THREE.ExtrudeGeometry: vec does not exist"),$e.clone().addScaledVector(Gt,Ut)}const ut=he.length,st=Ke.length;function _e($e,Gt,Ut){let Kt,Yt,Cn;const Dn=$e.x-Gt.x,nr=$e.y-Gt.y,dr=Ut.x-$e.x,Jr=Ut.y-$e.y,Hi=Dn*Dn+nr*nr,et=Dn*Jr-nr*dr;if(Math.abs(et)>Number.EPSILON){const Be=Math.sqrt(Hi),Nt=Math.sqrt(dr*dr+Jr*Jr),Pn=Gt.x-nr/Be,kn=Gt.y+Dn/Be,Nn=Ut.x-Jr/Nt,Ar=Ut.y+dr/Nt,Zn=((Nn-Pn)*Jr-(Ar-kn)*dr)/(Dn*Jr-nr*dr);Kt=Pn+Dn*Zn-$e.x,Yt=kn+nr*Zn-$e.y;const Je=Kt*Kt+Yt*Yt;if(Je<=2)return new vn(Kt,Yt);Cn=Math.sqrt(Je/2)}else{let Be=!1;Dn>Number.EPSILON?dr>Number.EPSILON&&(Be=!0):Dn<-Number.EPSILON?dr<-Number.EPSILON&&(Be=!0):Math.sign(nr)===Math.sign(Jr)&&(Be=!0),Be?(Kt=-nr,Yt=Dn,Cn=Math.sqrt(Hi)):(Kt=Dn,Yt=nr,Cn=Math.sqrt(Hi/2))}return new vn(Kt/Cn,Yt/Cn)}const Se=[];for(let $e=0,Gt=Le.length,Ut=Gt-1,Kt=$e+1;$e<Gt;$e++,Ut++,Kt++)Ut===Gt&&(Ut=0),Kt===Gt&&(Kt=0),Se[$e]=_e(Le[$e],Le[Ut],Le[Kt]);const we=[];let Pe,be=Se.concat();for(let $e=0,Gt=Te.length;$e<Gt;$e++){const Ut=Te[$e];Pe=[];for(let Kt=0,Yt=Ut.length,Cn=Yt-1,Dn=Kt+1;Kt<Yt;Kt++,Cn++,Dn++)Cn===Yt&&(Cn=0),Dn===Yt&&(Dn=0),Pe[Kt]=_e(Ut[Kt],Ut[Cn],Ut[Dn]);we.push(Pe),be=be.concat(Pe)}for(let $e=0;$e<j;$e++){const Gt=$e/j,Ut=T*Math.cos(Gt*Math.PI/2),Kt=R*Math.sin(Gt*Math.PI/2)+G;for(let Yt=0,Cn=Le.length;Yt<Cn;Yt++){const Dn=Ge(Le[Yt],Se[Yt],Kt);Mt(Dn.x,Dn.y,-Ut)}for(let Yt=0,Cn=Te.length;Yt<Cn;Yt++){const Dn=Te[Yt];Pe=we[Yt];for(let nr=0,dr=Dn.length;nr<dr;nr++){const Jr=Ge(Dn[nr],Pe[nr],Kt);Mt(Jr.x,Jr.y,-Ut)}}}const Ce=R+G;for(let $e=0;$e<ut;$e++){const Gt=A?Ge(he[$e],be[$e],Ce):he[$e];W?(de.copy(U.normals[0]).multiplyScalar(Gt.x),Q.copy(U.binormals[0]).multiplyScalar(Gt.y),fe.copy(F[0]).add(de).add(Q),Mt(fe.x,fe.y,fe.z)):Mt(Gt.x,Gt.y,0)}for(let $e=1;$e<=S;$e++)for(let Gt=0;Gt<ut;Gt++){const Ut=A?Ge(he[Gt],be[Gt],Ce):he[Gt];W?(de.copy(U.normals[$e]).multiplyScalar(Ut.x),Q.copy(U.binormals[$e]).multiplyScalar(Ut.y),fe.copy(F[$e]).add(de).add(Q),Mt(fe.x,fe.y,fe.z)):Mt(Ut.x,Ut.y,x/S*$e)}for(let $e=j-1;$e>=0;$e--){const Gt=$e/j,Ut=T*Math.cos(Gt*Math.PI/2),Kt=R*Math.sin(Gt*Math.PI/2)+G;for(let Yt=0,Cn=Le.length;Yt<Cn;Yt++){const Dn=Ge(Le[Yt],Se[Yt],Kt);Mt(Dn.x,Dn.y,x+Ut)}for(let Yt=0,Cn=Te.length;Yt<Cn;Yt++){const Dn=Te[Yt];Pe=we[Yt];for(let nr=0,dr=Dn.length;nr<dr;nr++){const Jr=Ge(Dn[nr],Pe[nr],Kt);W?Mt(Jr.x,Jr.y+F[S-1].y,F[S-1].x+Ut):Mt(Jr.x,Jr.y,x+Ut)}}}qe(),mt();function qe(){const $e=i.length/3;if(A){let Gt=0,Ut=ut*Gt;for(let Kt=0;Kt<st;Kt++){const Yt=Ke[Kt];dt(Yt[2]+Ut,Yt[1]+Ut,Yt[0]+Ut)}Gt=S+j*2,Ut=ut*Gt;for(let Kt=0;Kt<st;Kt++){const Yt=Ke[Kt];dt(Yt[0]+Ut,Yt[1]+Ut,Yt[2]+Ut)}}else{for(let Gt=0;Gt<st;Gt++){const Ut=Ke[Gt];dt(Ut[2],Ut[1],Ut[0])}for(let Gt=0;Gt<st;Gt++){const Ut=Ke[Gt];dt(Ut[0]+ut*S,Ut[1]+ut*S,Ut[2]+ut*S)}}r.addGroup($e,i.length/3-$e,0)}function mt(){const $e=i.length/3;let Gt=0;We(Le,Gt),Gt+=Le.length;for(let Ut=0,Kt=Te.length;Ut<Kt;Ut++){const Yt=Te[Ut];We(Yt,Gt),Gt+=Yt.length}r.addGroup($e,i.length/3-$e,1)}function We($e,Gt){let Ut=$e.length;for(;--Ut>=0;){const Kt=Ut;let Yt=Ut-1;Yt<0&&(Yt=$e.length-1);for(let Cn=0,Dn=S+j*2;Cn<Dn;Cn++){const nr=ut*Cn,dr=ut*(Cn+1),Jr=Gt+Kt+nr,Hi=Gt+Yt+nr,et=Gt+Yt+dr,Be=Gt+Kt+dr;en(Jr,Hi,et,Be)}}}function Mt($e,Gt,Ut){h.push($e),h.push(Gt),h.push(Ut)}function dt($e,Gt,Ut){cn($e),cn(Gt),cn(Ut);const Kt=i.length/3,Yt=L.generateTopUV(r,i,Kt-3,Kt-2,Kt-1);sn(Yt[0]),sn(Yt[1]),sn(Yt[2])}function en($e,Gt,Ut,Kt){cn($e),cn(Gt),cn(Kt),cn(Gt),cn(Ut),cn(Kt);const Yt=i.length/3,Cn=L.generateSideWallUV(r,i,Yt-6,Yt-3,Yt-2,Yt-1);sn(Cn[0]),sn(Cn[1]),sn(Cn[3]),sn(Cn[1]),sn(Cn[2]),sn(Cn[3])}function cn($e){i.push(h[$e*3+0]),i.push(h[$e*3+1]),i.push(h[$e*3+2])}function sn($e){o.push($e.x),o.push($e.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return KQe(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const d=n[e.shapes[o]];r.push(d)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new JJ[i.type]().fromJSON(i)),new rB(r,e.options)}}const WQe={generateTopUV:function(t,e,n,r,i){const o=e[n*3],l=e[n*3+1],d=e[r*3],h=e[r*3+1],v=e[i*3],S=e[i*3+1];return[new vn(o,l),new vn(d,h),new vn(v,S)]},generateSideWallUV:function(t,e,n,r,i,o){const l=e[n*3],d=e[n*3+1],h=e[n*3+2],v=e[r*3],S=e[r*3+1],x=e[r*3+2],A=e[i*3],T=e[i*3+1],R=e[i*3+2],G=e[o*3],j=e[o*3+1],w=e[o*3+2];return Math.abs(d-S)<Math.abs(l-v)?[new vn(l,1-h),new vn(v,1-x),new vn(A,1-R),new vn(G,1-w)]:[new vn(d,1-h),new vn(S,1-x),new vn(T,1-R),new vn(j,1-w)]}};function KQe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class sP extends N1{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sP(e.radius,e.detail)}}class dv extends N1{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new dv(e.radius,e.detail)}}class iB extends da{constructor(e=.5,n=1,r=32,i=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:l},r=Math.max(3,r),i=Math.max(1,i);const d=[],h=[],v=[],S=[];let x=e;const A=(n-e)/i,T=new Ve,R=new vn;for(let G=0;G<=i;G++){for(let j=0;j<=r;j++){const w=o+j/r*l;T.x=x*Math.cos(w),T.y=x*Math.sin(w),h.push(T.x,T.y,T.z),v.push(0,0,1),R.x=(T.x/n+1)/2,R.y=(T.y/n+1)/2,S.push(R.x,R.y)}x+=A}for(let G=0;G<i;G++){const j=G*(r+1);for(let w=0;w<r;w++){const L=w+j,F=L,W=L+r+1,U=L+r+2,Q=L+1;d.push(F,W,Q),d.push(W,U,Q)}}this.setIndex(d),this.setAttribute("position",new li(h,3)),this.setAttribute("normal",new li(v,3)),this.setAttribute("uv",new li(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iB(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class aB extends da{constructor(e=new xb([new vn(0,.5),new vn(-.5,-.5),new vn(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],l=[];let d=0,h=0;if(Array.isArray(e)===!1)v(e);else for(let S=0;S<e.length;S++)v(e[S]),this.addGroup(d,h,S),d+=h,h=0;this.setIndex(r),this.setAttribute("position",new li(i,3)),this.setAttribute("normal",new li(o,3)),this.setAttribute("uv",new li(l,2));function v(S){const x=i.length/3,A=S.extractPoints(n);let T=A.shape;const R=A.holes;Ly.isClockWise(T)===!1&&(T=T.reverse());for(let j=0,w=R.length;j<w;j++){const L=R[j];Ly.isClockWise(L)===!0&&(R[j]=L.reverse())}const G=Ly.triangulateShape(T,R);for(let j=0,w=R.length;j<w;j++){const L=R[j];T=T.concat(L)}for(let j=0,w=T.length;j<w;j++){const L=T[j];i.push(L.x,L.y,0),o.push(0,0,1),l.push(L.x,L.y)}for(let j=0,w=G.length;j<w;j++){const L=G[j],F=L[0]+x,W=L[1]+x,U=L[2]+x;r.push(F,W,U),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return qQe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const l=n[e.shapes[i]];r.push(l)}return new aB(r,e.curveSegments)}}function qQe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Nb extends da{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,l=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:l,thetaLength:d},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const h=Math.min(l+d,Math.PI);let v=0;const S=[],x=new Ve,A=new Ve,T=[],R=[],G=[],j=[];for(let w=0;w<=r;w++){const L=[],F=w/r;let W=0;w===0&&l===0?W=.5/n:w===r&&h===Math.PI&&(W=-.5/n);for(let U=0;U<=n;U++){const Q=U/n;x.x=-e*Math.cos(i+Q*o)*Math.sin(l+F*d),x.y=e*Math.cos(l+F*d),x.z=e*Math.sin(i+Q*o)*Math.sin(l+F*d),R.push(x.x,x.y,x.z),A.copy(x).normalize(),G.push(A.x,A.y,A.z),j.push(Q+W,1-F),L.push(v++)}S.push(L)}for(let w=0;w<r;w++)for(let L=0;L<n;L++){const F=S[w][L+1],W=S[w][L],U=S[w+1][L],Q=S[w+1][L+1];(w!==0||l>0)&&T.push(F,W,Q),(w!==r-1||h<Math.PI)&&T.push(W,U,Q)}this.setIndex(T),this.setAttribute("position",new li(R,3)),this.setAttribute("normal",new li(G,3)),this.setAttribute("uv",new li(j,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class oB extends N1{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new oB(e.radius,e.detail)}}class _1 extends da{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const l=[],d=[],h=[],v=[],S=new Ve,x=new Ve,A=new Ve;for(let T=0;T<=r;T++)for(let R=0;R<=i;R++){const G=R/i*o,j=T/r*Math.PI*2;x.x=(e+n*Math.cos(j))*Math.cos(G),x.y=(e+n*Math.cos(j))*Math.sin(G),x.z=n*Math.sin(j),d.push(x.x,x.y,x.z),S.x=e*Math.cos(G),S.y=e*Math.sin(G),A.subVectors(x,S).normalize(),h.push(A.x,A.y,A.z),v.push(R/i),v.push(T/r)}for(let T=1;T<=r;T++)for(let R=1;R<=i;R++){const G=(i+1)*T+R-1,j=(i+1)*(T-1)+R-1,w=(i+1)*(T-1)+R,L=(i+1)*T+R;l.push(G,j,L),l.push(j,w,L)}this.setIndex(l),this.setAttribute("position",new li(d,3)),this.setAttribute("normal",new li(h,3)),this.setAttribute("uv",new li(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class sB extends da{constructor(e=1,n=.4,r=64,i=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:l},r=Math.floor(r),i=Math.floor(i);const d=[],h=[],v=[],S=[],x=new Ve,A=new Ve,T=new Ve,R=new Ve,G=new Ve,j=new Ve,w=new Ve;for(let F=0;F<=r;++F){const W=F/r*o*Math.PI*2;L(W,o,l,e,T),L(W+.01,o,l,e,R),j.subVectors(R,T),w.addVectors(R,T),G.crossVectors(j,w),w.crossVectors(G,j),G.normalize(),w.normalize();for(let U=0;U<=i;++U){const Q=U/i*Math.PI*2,de=-n*Math.cos(Q),fe=n*Math.sin(Q);x.x=T.x+(de*w.x+fe*G.x),x.y=T.y+(de*w.y+fe*G.y),x.z=T.z+(de*w.z+fe*G.z),h.push(x.x,x.y,x.z),A.subVectors(x,T).normalize(),v.push(A.x,A.y,A.z),S.push(F/r),S.push(U/i)}}for(let F=1;F<=r;F++)for(let W=1;W<=i;W++){const U=(i+1)*(F-1)+(W-1),Q=(i+1)*F+(W-1),de=(i+1)*F+W,fe=(i+1)*(F-1)+W;d.push(U,Q,fe),d.push(Q,de,fe)}this.setIndex(d),this.setAttribute("position",new li(h,3)),this.setAttribute("normal",new li(v,3)),this.setAttribute("uv",new li(S,2));function L(F,W,U,Q,de){const fe=Math.cos(F),Z=Math.sin(F),he=U/W*F,Te=Math.cos(he);de.x=Q*(2+Te)*.5*fe,de.y=Q*(2+Te)*Z*.5,de.z=Q*Math.sin(he)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sB(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class lB extends da{constructor(e=new $J(new Ve(-1,-1,0),new Ve(-1,1,0),new Ve(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const l=e.computeFrenetFrames(n,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const d=new Ve,h=new Ve,v=new vn;let S=new Ve;const x=[],A=[],T=[],R=[];G(),this.setIndex(R),this.setAttribute("position",new li(x,3)),this.setAttribute("normal",new li(A,3)),this.setAttribute("uv",new li(T,2));function G(){for(let F=0;F<n;F++)j(F);j(o===!1?n:0),L(),w()}function j(F){S=e.getPointAt(F/n,S);const W=l.normals[F],U=l.binormals[F];for(let Q=0;Q<=i;Q++){const de=Q/i*Math.PI*2,fe=Math.sin(de),Z=-Math.cos(de);h.x=Z*W.x+fe*U.x,h.y=Z*W.y+fe*U.y,h.z=Z*W.z+fe*U.z,h.normalize(),A.push(h.x,h.y,h.z),d.x=S.x+r*h.x,d.y=S.y+r*h.y,d.z=S.z+r*h.z,x.push(d.x,d.y,d.z)}}function w(){for(let F=1;F<=n;F++)for(let W=1;W<=i;W++){const U=(i+1)*(F-1)+(W-1),Q=(i+1)*F+(W-1),de=(i+1)*F+W,fe=(i+1)*(F-1)+W;R.push(U,Q,fe),R.push(Q,de,fe)}}function L(){for(let F=0;F<=n;F++)for(let W=0;W<=i;W++)v.x=F/n,v.y=W/i,T.push(v.x,v.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new lB(new JJ[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rMe extends da{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Ve,o=new Ve;if(e.index!==null){const l=e.attributes.position,d=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:d.count,materialIndex:0}]);for(let v=0,S=h.length;v<S;++v){const x=h[v],A=x.start,T=x.count;for(let R=A,G=A+T;R<G;R+=3)for(let j=0;j<3;j++){const w=d.getX(R+j),L=d.getX(R+(j+1)%3);i.fromBufferAttribute(l,w),o.fromBufferAttribute(l,L),NSe(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let d=0,h=l.count/3;d<h;d++)for(let v=0;v<3;v++){const S=3*d+v,x=3*d+(v+1)%3;i.fromBufferAttribute(l,S),o.fromBufferAttribute(l,x),NSe(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new li(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function NSe(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var FSe=Object.freeze({__proto__:null,BoxGeometry:Fp,CapsuleGeometry:ZO,CircleGeometry:eB,ConeGeometry:tB,CylinderGeometry:ld,DodecahedronGeometry:nB,EdgesGeometry:ZTe,ExtrudeGeometry:rB,IcosahedronGeometry:sP,LatheGeometry:oP,OctahedronGeometry:dv,PlaneGeometry:hv,PolyhedronGeometry:N1,RingGeometry:iB,ShapeGeometry:aB,SphereGeometry:Nb,TetrahedronGeometry:oB,TorusGeometry:_1,TorusKnotGeometry:sB,TubeGeometry:lB,WireframeGeometry:rMe});class iMe extends ac{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ur(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class aMe extends Oc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uB extends ac{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ur(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ur(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Hy extends uB{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rc(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ur(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ur(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ur(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ZJ extends ac{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ur(16777215),this.specular=new ur(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ur(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=XO,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oMe extends ac{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ur(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ur(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class eZ extends ac{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sMe extends ac{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ur(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ur(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=XO,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lMe extends ac{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ur(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Xx,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uMe extends ah{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function cg(t,e,n){return tZ(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function pb(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function tZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cMe(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function O$(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,l=0;l!==r;++o){const d=n[o]*e;for(let h=0;h!==e;++h)i[l++]=t[d+h]}return i}function nZ(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),n.push.apply(n,l)),o=t[i++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),n.push(l)),o=t[i++];while(o!==void 0)}function XQe(t,e,n,r,i=30){const o=t.clone();o.name=e;const l=[];for(let h=0;h<o.tracks.length;++h){const v=o.tracks[h],S=v.getValueSize(),x=[],A=[];for(let T=0;T<v.times.length;++T){const R=v.times[T]*i;if(!(R<n||R>=r)){x.push(v.times[T]);for(let G=0;G<S;++G)A.push(v.values[T*S+G])}}x.length!==0&&(v.times=pb(x,v.times.constructor),v.values=pb(A,v.values.constructor),l.push(v))}o.tracks=l;let d=1/0;for(let h=0;h<o.tracks.length;++h)d>o.tracks[h].times[0]&&(d=o.tracks[h].times[0]);for(let h=0;h<o.tracks.length;++h)o.tracks[h].shift(-1*d);return o.resetDuration(),o}function YQe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let l=0;l<i;++l){const d=n.tracks[l],h=d.ValueTypeName;if(h==="bool"||h==="string")continue;const v=t.tracks.find(function(w){return w.name===d.name&&w.ValueTypeName===h});if(v===void 0)continue;let S=0;const x=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(S=x/3);let A=0;const T=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=T/3);const R=d.times.length-1;let G;if(o<=d.times[0]){const w=S,L=x-S;G=cg(d.values,w,L)}else if(o>=d.times[R]){const w=R*x+S,L=w+x-S;G=cg(d.values,w,L)}else{const w=d.createInterpolant(),L=S,F=x-S;w.evaluate(o),G=cg(w.resultBuffer,L,F)}h==="quaternion"&&new to().fromArray(G).normalize().conjugate().toArray(G);const j=v.times.length;for(let w=0;w<j;++w){const L=w*T+A;if(h==="quaternion")to.multiplyQuaternionsFlat(v.values,L,G,0,v.values,L);else{const F=T-A*2;for(let W=0;W<F;++W)v.values[L+W]-=G[W]}}}return t.blendMode=MJ,t}const $Qe={arraySlice:cg,convertArray:pb,isTypedArray:tZ,getKeyframeOrder:cMe,sortedArray:O$,flattenJSON:nZ,subclip:XQe,makeClipAdditive:YQe};class lP{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let l;n:{r:if(!(e<i)){for(let d=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===d)break;if(o=i,i=n[++r],e<i)break t}l=n.length;break n}if(!(e>=o)){const d=n[1];e<d&&(r=2,o=d);for(let h=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===h)break;if(i=o,o=n[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const d=r+l>>>1;e<n[d]?l=d:r=d+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let l=0;l!==i;++l)n[l]=r[o+l];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class fMe extends lP{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cb,endingEnd:cb}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,l=e+1,d=i[o],h=i[l];if(d===void 0)switch(this.getSettings_().endingStart){case fb:o=e,d=2*n-r;break;case SO:o=i.length-2,d=n+i[o]-i[o+1];break;default:o=e,d=r}if(h===void 0)switch(this.getSettings_().endingEnd){case fb:l=e,h=2*r-n;break;case SO:l=1,h=r+i[1]-i[0];break;default:l=e-1,h=n}const v=(r-n)*.5,S=this.valueSize;this._weightPrev=v/(n-d),this._weightNext=v/(h-r),this._offsetPrev=o*S,this._offsetNext=l*S}interpolate_(e,n,r,i){const o=this.resultBuffer,l=this.sampleValues,d=this.valueSize,h=e*d,v=h-d,S=this._offsetPrev,x=this._offsetNext,A=this._weightPrev,T=this._weightNext,R=(r-n)/(i-n),G=R*R,j=G*R,w=-A*j+2*A*G-A*R,L=(1+A)*j+(-1.5-2*A)*G+(-.5+A)*R+1,F=(-1-T)*j+(1.5+T)*G+.5*R,W=T*j-T*G;for(let U=0;U!==d;++U)o[U]=w*l[S+U]+L*l[v+U]+F*l[h+U]+W*l[x+U];return o}}class rZ extends lP{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,l=this.sampleValues,d=this.valueSize,h=e*d,v=h-d,S=(r-n)/(i-n),x=1-S;for(let A=0;A!==d;++A)o[A]=l[v+A]*x+l[h+A]*S;return o}}class dMe extends lP{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class E0{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pb(n,this.TimeBufferType),this.values=pb(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:pb(e.times,Array),values:pb(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new dMe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new rZ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fMe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case zM:n=this.InterpolantFactoryMethodDiscrete;break;case Pb:n=this.InterpolantFactoryMethodLinear;break;case X3:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zM;case this.InterpolantFactoryMethodLinear:return Pb;case this.InterpolantFactoryMethodSmooth:return X3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,l=i-1;for(;o!==i&&r[o]<e;)++o;for(;l!==-1&&r[l]>n;)--l;if(++l,o!==0||l!==i){o>=l&&(l=Math.max(l,1),o=l-1);const d=this.getValueSize();this.times=cg(r,o,l),this.values=cg(this.values,o*d,l*d)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let d=0;d!==o;d++){const h=r[d];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,h),e=!1;break}if(l!==null&&l>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,h,l),e=!1;break}l=h}if(i!==void 0&&tZ(i))for(let d=0,h=i.length;d!==h;++d){const v=i[d];if(isNaN(v)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,v),e=!1;break}}return e}optimize(){const e=cg(this.times),n=cg(this.values),r=this.getValueSize(),i=this.getInterpolation()===X3,o=e.length-1;let l=1;for(let d=1;d<o;++d){let h=!1;const v=e[d],S=e[d+1];if(v!==S&&(d!==1||v!==e[0]))if(i)h=!0;else{const x=d*r,A=x-r,T=x+r;for(let R=0;R!==r;++R){const G=n[x+R];if(G!==n[A+R]||G!==n[T+R]){h=!0;break}}}if(h){if(d!==l){e[l]=e[d];const x=d*r,A=l*r;for(let T=0;T!==r;++T)n[A+T]=n[x+T]}++l}}if(o>0){e[l]=e[o];for(let d=o*r,h=l*r,v=0;v!==r;++v)n[h+v]=n[d+v];++l}return l!==e.length?(this.times=cg(e,0,l),this.values=cg(n,0,l*r)):(this.times=e,this.values=n),this}clone(){const e=cg(this.times,0),n=cg(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}E0.prototype.TimeBufferType=Float32Array;E0.prototype.ValueBufferType=Float32Array;E0.prototype.DefaultInterpolation=Pb;class Fb extends E0{}Fb.prototype.ValueTypeName="bool";Fb.prototype.ValueBufferType=Array;Fb.prototype.DefaultInterpolation=zM;Fb.prototype.InterpolantFactoryMethodLinear=void 0;Fb.prototype.InterpolantFactoryMethodSmooth=void 0;class iZ extends E0{}iZ.prototype.ValueTypeName="color";class WM extends E0{}WM.prototype.ValueTypeName="number";class hMe extends lP{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,l=this.sampleValues,d=this.valueSize,h=(r-n)/(i-n);let v=e*d;for(let S=v+d;v!==S;v+=4)to.slerpFlat(o,0,l,v-d,l,v,h);return o}}class Hx extends E0{InterpolantFactoryMethodLinear(e){return new hMe(this.times,this.values,this.getValueSize(),e)}}Hx.prototype.ValueTypeName="quaternion";Hx.prototype.DefaultInterpolation=Pb;Hx.prototype.InterpolantFactoryMethodSmooth=void 0;class Ub extends E0{}Ub.prototype.ValueTypeName="string";Ub.prototype.ValueBufferType=Array;Ub.prototype.DefaultInterpolation=zM;Ub.prototype.InterpolantFactoryMethodLinear=void 0;Ub.prototype.InterpolantFactoryMethodSmooth=void 0;class KM extends E0{}KM.prototype.ValueTypeName="vector";class qM{constructor(e,n=-1,r,i=EH){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=_v(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let l=0,d=r.length;l!==d;++l)n.push(JQe(r[l]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)n.push(E0.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,l=[];for(let d=0;d<o;d++){let h=[],v=[];h.push((d+o-1)%o,d,(d+1)%o),v.push(0,1,0);const S=cMe(h);h=O$(h,1,S),v=O$(v,1,S),!i&&h[0]===0&&(h.push(o),v.push(v[0])),l.push(new WM(".morphTargetInfluences["+n[d].name+"]",h,v).scale(1/r))}return new this(e,-1,l)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let d=0,h=e.length;d<h;d++){const v=e[d],S=v.name.match(o);if(S&&S.length>1){const x=S[1];let A=i[x];A||(i[x]=A=[]),A.push(v)}}const l=[];for(const d in i)l.push(this.CreateFromMorphTargetSequence(d,i[d],n,r));return l}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(x,A,T,R,G){if(T.length!==0){const j=[],w=[];nZ(T,j,w,R),j.length!==0&&G.push(new x(A,j,w))}},i=[],o=e.name||"default",l=e.fps||30,d=e.blendMode;let h=e.length||-1;const v=e.hierarchy||[];for(let x=0;x<v.length;x++){const A=v[x].keys;if(!(!A||A.length===0))if(A[0].morphTargets){const T={};let R;for(R=0;R<A.length;R++)if(A[R].morphTargets)for(let G=0;G<A[R].morphTargets.length;G++)T[A[R].morphTargets[G]]=-1;for(const G in T){const j=[],w=[];for(let L=0;L!==A[R].morphTargets.length;++L){const F=A[R];j.push(F.time),w.push(F.morphTarget===G?1:0)}i.push(new WM(".morphTargetInfluence["+G+"]",j,w))}h=T.length*l}else{const T=".bones["+n[x].name+"]";r(KM,T+".position",A,"pos",i),r(Hx,T+".quaternion",A,"rot",i),r(KM,T+".scale",A,"scl",i)}}return i.length===0?null:new this(o,h,i,d)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function QQe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return WM;case"vector":case"vector2":case"vector3":case"vector4":return KM;case"color":return iZ;case"quaternion":return Hx;case"bool":case"boolean":return Fb;case"string":return Ub}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function JQe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=QQe(t.type);if(t.times===void 0){const n=[],r=[];nZ(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ib={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class aZ{constructor(e,n,r){const i=this;let o=!1,l=0,d=0,h;const v=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(S){d++,o===!1&&i.onStart!==void 0&&i.onStart(S,l,d),o=!0},this.itemEnd=function(S){l++,i.onProgress!==void 0&&i.onProgress(S,l,d),l===d&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(S){i.onError!==void 0&&i.onError(S)},this.resolveURL=function(S){return h?h(S):S},this.setURLModifier=function(S){return h=S,this},this.addHandler=function(S,x){return v.push(S,x),this},this.removeHandler=function(S){const x=v.indexOf(S);return x!==-1&&v.splice(x,2),this},this.getHandler=function(S){for(let x=0,A=v.length;x<A;x+=2){const T=v[x],R=v[x+1];if(T.global&&(T.lastIndex=0),T.test(S))return R}return null}}}const pMe=new aZ;class Gp{constructor(e){this.manager=e!==void 0?e:pMe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const u1={};class ZQe extends Error{constructor(e,n){super(e),this.response=n}}class xv extends Gp{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ib.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(u1[e]!==void 0){u1[e].push({onLoad:n,onProgress:r,onError:i});return}u1[e]=[],u1[e].push({onLoad:n,onProgress:r,onError:i});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,h=this.responseType;fetch(l).then(v=>{if(v.status===200||v.status===0){if(v.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||v.body===void 0||v.body.getReader===void 0)return v;const S=u1[e],x=v.body.getReader(),A=v.headers.get("Content-Length")||v.headers.get("X-File-Size"),T=A?parseInt(A):0,R=T!==0;let G=0;const j=new ReadableStream({start(w){L();function L(){x.read().then(({done:F,value:W})=>{if(F)w.close();else{G+=W.byteLength;const U=new ProgressEvent("progress",{lengthComputable:R,loaded:G,total:T});for(let Q=0,de=S.length;Q<de;Q++){const fe=S[Q];fe.onProgress&&fe.onProgress(U)}w.enqueue(W),L()}})}}});return new Response(j)}else throw new ZQe(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`,v)}).then(v=>{switch(h){case"arraybuffer":return v.arrayBuffer();case"blob":return v.blob();case"document":return v.text().then(S=>new DOMParser().parseFromString(S,d));case"json":return v.json();default:if(d===void 0)return v.text();{const x=/charset="?([^;"\s]*)"?/i.exec(d),A=x&&x[1]?x[1].toLowerCase():void 0,T=new TextDecoder(A);return v.arrayBuffer().then(R=>T.decode(R))}}}).then(v=>{Ib.add(e,v);const S=u1[e];delete u1[e];for(let x=0,A=S.length;x<A;x++){const T=S[x];T.onLoad&&T.onLoad(v)}}).catch(v=>{const S=u1[e];if(S===void 0)throw this.manager.itemError(e),v;delete u1[e];for(let x=0,A=S.length;x<A;x++){const T=S[x];T.onError&&T.onError(v)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class eJe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=new xv(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(d){try{n(o.parse(JSON.parse(d)))}catch(h){i?i(h):console.error(h),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=qM.parse(e[r]);n.push(i)}return n}}class tJe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=[],d=new KJ,h=new xv(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);let v=0;function S(x){h.load(e[x],function(A){const T=o.parse(A,!0);l[x]={width:T.width,height:T.height,format:T.format,mipmaps:T.mipmaps},v+=1,v===6&&(T.mipmapCount===1&&(d.minFilter=as),d.image=l,d.format=T.format,d.needsUpdate=!0,n&&n(d))},r,i)}if(Array.isArray(e))for(let x=0,A=e.length;x<A;++x)S(x);else h.load(e,function(x){const A=o.parse(x,!0);if(A.isCubemap){const T=A.mipmaps.length/A.mipmapCount;for(let R=0;R<T;R++){l[R]={mipmaps:[]};for(let G=0;G<A.mipmapCount;G++)l[R].mipmaps.push(A.mipmaps[R*A.mipmapCount+G]),l[R].format=A.format,l[R].width=A.width,l[R].height=A.height}d.image=l}else d.image.width=A.width,d.image.height=A.height,d.mipmaps=A.mipmaps;A.mipmapCount===1&&(d.minFilter=as),d.format=A.format,d.needsUpdate=!0,n&&n(d)},r,i);return d}}class MO extends Gp{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Ib.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(l),o.manager.itemEnd(e)},0),l;const d=EO("img");function h(){S(),Ib.add(e,this),n&&n(this),o.manager.itemEnd(e)}function v(x){S(),i&&i(x),o.manager.itemError(e),o.manager.itemEnd(e)}function S(){d.removeEventListener("load",h,!1),d.removeEventListener("error",v,!1)}return d.addEventListener("load",h,!1),d.addEventListener("error",v,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),o.manager.itemStart(e),d.src=e,d}}class mMe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=new $O;o.colorSpace=Ta;const l=new MO(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let d=0;function h(v){l.load(e[v],function(S){o.images[v]=S,d++,d===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let v=0;v<e.length;++v)h(v);return o}}class oZ extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=new TM,d=new xv(this.manager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(o.withCredentials),d.load(e,function(h){const v=o.parse(h);v&&(v.image!==void 0?l.image=v.image:v.data!==void 0&&(l.image.width=v.width,l.image.height=v.height,l.image.data=v.data),l.wrapS=v.wrapS!==void 0?v.wrapS:eh,l.wrapT=v.wrapT!==void 0?v.wrapT:eh,l.magFilter=v.magFilter!==void 0?v.magFilter:as,l.minFilter=v.minFilter!==void 0?v.minFilter:as,l.anisotropy=v.anisotropy!==void 0?v.anisotropy:1,v.colorSpace!==void 0?l.colorSpace=v.colorSpace:v.encoding!==void 0&&(l.encoding=v.encoding),v.flipY!==void 0&&(l.flipY=v.flipY),v.format!==void 0&&(l.format=v.format),v.type!==void 0&&(l.type=v.type),v.mipmaps!==void 0&&(l.mipmaps=v.mipmaps,l.minFilter=zy),v.mipmapCount===1&&(l.minFilter=as),v.generateMipmaps!==void 0&&(l.generateMipmaps=v.generateMipmaps),l.needsUpdate=!0,n&&n(l,v))},r,i),l}}class vMe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=new Ws,l=new MO(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(d){o.image=d,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Yx extends Ya{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ur(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class gMe extends Yx{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ya.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ur(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const aX=new ea,USe=new Ve,zSe=new Ve;class sZ{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new vn(512,512),this.map=null,this.mapPass=null,this.matrix=new ea,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new CH,this._frameExtents=new vn(1,1),this._viewportCount=1,this._viewports=[new go(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;USe.setFromMatrixPosition(e.matrixWorld),n.position.copy(USe),zSe.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(zSe),n.updateMatrixWorld(),aX.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aX),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(aX)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class nJe extends sZ{constructor(){super(new ys(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=jM*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class lZ extends Yx{constructor(e,n,r=0,i=Math.PI/3,o=0,l=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ya.DEFAULT_UP),this.updateMatrix(),this.target=new Ya,this.distance=r,this.angle=i,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new nJe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const HSe=new ea,oD=new Ve,oX=new Ve;class rJe extends sZ{constructor(){super(new ys(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new vn(4,2),this._viewportCount=6,this._viewports=[new go(2,1,1,1),new go(0,1,1,1),new go(3,1,1,1),new go(1,1,1,1),new go(3,0,1,1),new go(1,0,1,1)],this._cubeDirections=[new Ve(1,0,0),new Ve(-1,0,0),new Ve(0,0,1),new Ve(0,0,-1),new Ve(0,1,0),new Ve(0,-1,0)],this._cubeUps=[new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,1,0),new Ve(0,0,1),new Ve(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),oD.setFromMatrixPosition(e.matrixWorld),r.position.copy(oD),oX.copy(r.position),oX.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(oX),r.updateMatrixWorld(),i.makeTranslation(-oD.x,-oD.y,-oD.z),HSe.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(HSe)}}class uZ extends Yx{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new rJe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class iJe extends sZ{constructor(){super(new yg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class cZ extends Yx{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ya.DEFAULT_UP),this.updateMatrix(),this.target=new Ya,this.shadow=new iJe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yMe extends Yx{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class _Me extends Yx{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class SMe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ve)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,l=this.coefficients;return n.copy(l[0]).multiplyScalar(.282095),n.addScaledVector(l[1],.488603*i),n.addScaledVector(l[2],.488603*o),n.addScaledVector(l[3],.488603*r),n.addScaledVector(l[4],1.092548*(r*i)),n.addScaledVector(l[5],1.092548*(i*o)),n.addScaledVector(l[6],.315392*(3*o*o-1)),n.addScaledVector(l[7],1.092548*(r*o)),n.addScaledVector(l[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,l=this.coefficients;return n.copy(l[0]).multiplyScalar(.886227),n.addScaledVector(l[1],2*.511664*i),n.addScaledVector(l[2],2*.511664*o),n.addScaledVector(l[3],2*.511664*r),n.addScaledVector(l[4],2*.429043*r*i),n.addScaledVector(l[5],2*.429043*i*o),n.addScaledVector(l[6],.743125*o*o-.247708),n.addScaledVector(l[7],2*.429043*r*o),n.addScaledVector(l[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class BH extends Yx{constructor(e=new SMe,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class LH extends Gp{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,l=new xv(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(d){try{n(o.parse(JSON.parse(d)))}catch(h){i?i(h):console.error(h),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=LH.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ur().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(i.uniforms[o]={},l.type){case"t":i.uniforms[o].value=r(l.value);break;case"c":i.uniforms[o].value=new ur().setHex(l.value);break;case"v2":i.uniforms[o].value=new vn().fromArray(l.value);break;case"v3":i.uniforms[o].value=new Ve().fromArray(l.value);break;case"v4":i.uniforms[o].value=new go().fromArray(l.value);break;case"m3":i.uniforms[o].value=new za().fromArray(l.value);break;case"m4":i.uniforms[o].value=new ea().fromArray(l.value);break;default:i.uniforms[o].value=l.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new vn().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new vn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:iMe,SpriteMaterial:HJ,RawShaderMaterial:aMe,ShaderMaterial:Oc,PointsMaterial:IH,MeshPhysicalMaterial:Hy,MeshStandardMaterial:uB,MeshPhongMaterial:ZJ,MeshToonMaterial:oMe,MeshNormalMaterial:eZ,MeshLambertMaterial:sMe,MeshDepthMaterial:FJ,MeshDistanceMaterial:UJ,MeshBasicMaterial:th,MeshMatcapMaterial:lMe,LineDashedMaterial:uMe,LineBasicMaterial:ah,Material:ac};return new n[e]}}class Ny{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class xMe extends da{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class wMe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=new xv(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(d){try{n(o.parse(JSON.parse(d)))}catch(h){i?i(h):console.error(h),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(T,R){if(n[R]!==void 0)return n[R];const j=T.interleavedBuffers[R],w=o(T,j.buffer),L=lM(j.type,w),F=new QO(L,j.stride);return F.uuid=j.uuid,n[R]=F,F}function o(T,R){if(r[R]!==void 0)return r[R];const j=T.arrayBuffers[R],w=new Uint32Array(j).buffer;return r[R]=w,w}const l=e.isInstancedBufferGeometry?new xMe:new da,d=e.data.index;if(d!==void 0){const T=lM(d.type,d.array);l.setIndex(new lo(T,1))}const h=e.data.attributes;for(const T in h){const R=h[T];let G;if(R.isInterleavedBufferAttribute){const j=i(e.data,R.data);G=new zx(j,R.itemSize,R.offset,R.normalized)}else{const j=lM(R.type,R.array),w=R.isInstancedBufferAttribute?VM:lo;G=new w(j,R.itemSize,R.normalized)}R.name!==void 0&&(G.name=R.name),R.usage!==void 0&&G.setUsage(R.usage),R.updateRange!==void 0&&(G.updateRange.offset=R.updateRange.offset,G.updateRange.count=R.updateRange.count),l.setAttribute(T,G)}const v=e.data.morphAttributes;if(v)for(const T in v){const R=v[T],G=[];for(let j=0,w=R.length;j<w;j++){const L=R[j];let F;if(L.isInterleavedBufferAttribute){const W=i(e.data,L.data);F=new zx(W,L.itemSize,L.offset,L.normalized)}else{const W=lM(L.type,L.array);F=new lo(W,L.itemSize,L.normalized)}L.name!==void 0&&(F.name=L.name),G.push(F)}l.morphAttributes[T]=G}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const x=e.data.groups||e.data.drawcalls||e.data.offsets;if(x!==void 0)for(let T=0,R=x.length;T!==R;++T){const G=x[T];l.addGroup(G.start,G.count,G.materialIndex)}const A=e.data.boundingSphere;if(A!==void 0){const T=new Ve;A.center!==void 0&&T.fromArray(A.center),l.boundingSphere=new wg(T,A.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class aJe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=this.path===""?Ny.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const d=new xv(this.manager);d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(h){let v=null;try{v=JSON.parse(h)}catch(x){i!==void 0&&i(x),console.error("THREE:ObjectLoader: Can't parse "+e+".",x.message);return}const S=v.metadata;if(S===void 0||S.type===void 0||S.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(v,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ny.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new xv(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,n),d=JSON.parse(l),h=d.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(d)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),l=this.parseImages(e.images,function(){n!==void 0&&n(v)}),d=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,d),v=this.parseObject(e.object,o,h,d,r),S=this.parseSkeletons(e.skeletons,v);if(this.bindSkeletons(v,S),n!==void 0){let x=!1;for(const A in l)if(l[A].data instanceof HTMLImageElement){x=!0;break}x===!1&&n(v)}return v}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,i,d,l,n),v=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,v),h}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new xb().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const d=new JO().fromJSON(e[o],i);r[d.uuid]=d}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new wMe;for(let o=0,l=e.length;o<l;o++){let d;const h=e[o];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":d=i.parse(h);break;default:h.type in FSe?d=FSe[h.type].fromJSON(h,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}d.uuid=h.uuid,h.name!==void 0&&(d.name=h.name),h.userData!==void 0&&(d.userData=h.userData),r[h.uuid]=d}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new LH;o.setTextures(n);for(let l=0,d=e.length;l<d;l++){const h=e[l];r[h.uuid]===void 0&&(r[h.uuid]=o.parse(h)),i[h.uuid]=r[h.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=qM.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function l(h){return r.manager.itemStart(h),o.load(h,function(){r.manager.itemEnd(h)},void 0,function(){r.manager.itemError(h),r.manager.itemEnd(h)})}function d(h){if(typeof h=="string"){const v=h,S=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(v)?v:r.resourcePath+v;return l(S)}else return h.data?{data:lM(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new aZ(n);o=new MO(h),o.setCrossOrigin(this.crossOrigin);for(let v=0,S=e.length;v<S;v++){const x=e[v],A=x.url;if(Array.isArray(A)){const T=[];for(let R=0,G=A.length;R<G;R++){const j=A[R],w=d(j);w!==null&&(w instanceof HTMLImageElement?T.push(w):T.push(new TM(w.data,w.width,w.height)))}i[x.uuid]=new db(T)}else{const T=d(x.url);i[x.uuid]=new db(T)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(l){if(typeof l=="string"){const d=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return await i.loadAsync(h)}else return l.data?{data:lM(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){i=new MO(this.manager),i.setCrossOrigin(this.crossOrigin);for(let l=0,d=e.length;l<d;l++){const h=e[l],v=h.url;if(Array.isArray(v)){const S=[];for(let x=0,A=v.length;x<A;x++){const T=v[x],R=await o(T);R!==null&&(R instanceof HTMLImageElement?S.push(R):S.push(new TM(R.data,R.width,R.height)))}r[h.uuid]=new db(S)}else{const S=await o(h.url);r[h.uuid]=new db(S)}}}return r}parseTextures(e,n){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const i={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const d=e[o];d.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',d.uuid),n[d.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",d.image);const h=n[d.image],v=h.data;let S;Array.isArray(v)?(S=new $O,v.length===6&&(S.needsUpdate=!0)):(v&&v.data?S=new TM:S=new Ws,v&&(S.needsUpdate=!0)),S.source=h,S.uuid=d.uuid,d.name!==void 0&&(S.name=d.name),d.mapping!==void 0&&(S.mapping=r(d.mapping,oJe)),d.channel!==void 0&&(S.channel=d.channel),d.offset!==void 0&&S.offset.fromArray(d.offset),d.repeat!==void 0&&S.repeat.fromArray(d.repeat),d.center!==void 0&&S.center.fromArray(d.center),d.rotation!==void 0&&(S.rotation=d.rotation),d.wrap!==void 0&&(S.wrapS=r(d.wrap[0],jSe),S.wrapT=r(d.wrap[1],jSe)),d.format!==void 0&&(S.format=d.format),d.internalFormat!==void 0&&(S.internalFormat=d.internalFormat),d.type!==void 0&&(S.type=d.type),d.colorSpace!==void 0&&(S.colorSpace=d.colorSpace),d.encoding!==void 0&&(S.encoding=d.encoding),d.minFilter!==void 0&&(S.minFilter=r(d.minFilter,GSe)),d.magFilter!==void 0&&(S.magFilter=r(d.magFilter,GSe)),d.anisotropy!==void 0&&(S.anisotropy=d.anisotropy),d.flipY!==void 0&&(S.flipY=d.flipY),d.generateMipmaps!==void 0&&(S.generateMipmaps=d.generateMipmaps),d.premultiplyAlpha!==void 0&&(S.premultiplyAlpha=d.premultiplyAlpha),d.unpackAlignment!==void 0&&(S.unpackAlignment=d.unpackAlignment),d.compareFunction!==void 0&&(S.compareFunction=d.compareFunction),d.userData!==void 0&&(S.userData=d.userData),i[d.uuid]=S}return i}parseObject(e,n,r,i,o){let l;function d(A){return n[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",A),n[A]}function h(A){if(A!==void 0){if(Array.isArray(A)){const T=[];for(let R=0,G=A.length;R<G;R++){const j=A[R];r[j]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",j),T.push(r[j])}return T}return r[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),r[A]}}function v(A){return i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",A),i[A]}let S,x;switch(e.type){case"Scene":l=new Ux,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new ur(e.background):l.background=v(e.background)),e.environment!==void 0&&(l.environment=v(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new PH(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new MH(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":l=new ys(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new yg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new yMe(e.color,e.intensity);break;case"DirectionalLight":l=new cZ(e.color,e.intensity);break;case"PointLight":l=new uZ(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new _Me(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new lZ(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new gMe(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new BH().fromJSON(e);break;case"SkinnedMesh":S=d(e.geometry),x=h(e.material),l=new jJ(S,x),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":S=d(e.geometry),x=h(e.material),l=new Yr(S,x);break;case"InstancedMesh":S=d(e.geometry),x=h(e.material);const A=e.count,T=e.instanceMatrix,R=e.instanceColor;l=new GJ(S,x,A),l.instanceMatrix=new VM(new Float32Array(T.array),16),R!==void 0&&(l.instanceColor=new VM(new Float32Array(R.array),R.itemSize));break;case"LOD":l=new qTe;break;case"Line":l=new Ua(d(e.geometry),h(e.material));break;case"LineLoop":l=new VJ(d(e.geometry),h(e.material));break;case"LineSegments":l=new x0(d(e.geometry),h(e.material));break;case"PointCloud":case"Points":l=new WJ(d(e.geometry),h(e.material));break;case"Sprite":l=new KTe(h(e.material));break;case"Group":l=new Iy;break;case"Bone":l=new RH;break;default:l=new Ya}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const A=e.children;for(let T=0;T<A.length;T++)l.add(this.parseObject(A[T],n,r,i,o))}if(e.animations!==void 0){const A=e.animations;for(let T=0;T<A.length;T++){const R=A[T];l.animations.push(o[R])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const A=e.levels;for(let T=0;T<A.length;T++){const R=A[T],G=l.getObjectByProperty("uuid",R.object);G!==void 0&&l.addLevel(G,R.distance,R.hysteresis)}}return l}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const oJe={UVMapping:SH,CubeReflectionMapping:D1,CubeRefractionMapping:Bx,EquirectangularReflectionMapping:FM,EquirectangularRefractionMapping:yO,CubeUVReflectionMapping:rP},jSe={RepeatWrapping:Lx,ClampToEdgeWrapping:eh,MirroredRepeatWrapping:UM},GSe={NearestFilter:Vs,NearestMipmapNearestFilter:_O,NearestMipmapLinearFilter:CM,LinearFilter:as,LinearMipmapNearestFilter:xH,LinearMipmapLinearFilter:zy};class EMe extends Gp{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=Ib.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(l),o.manager.itemEnd(e)},0),l;const d={};d.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",d.headers=this.requestHeader,fetch(e,d).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(h){Ib.add(e,h),n&&n(h),o.manager.itemEnd(e)}).catch(function(h){i&&i(h),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let a3,fZ=class{static getContext(){return a3===void 0&&(a3=new(window.AudioContext||window.webkitAudioContext)),a3}static setContext(e){a3=e}};class sJe extends Gp{constructor(e){super(e)}load(e,n,r,i){const o=this,l=new xv(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{const v=h.slice(0);fZ.getContext().decodeAudioData(v,function(x){n(x)},d)}catch(v){d(v)}},r,i);function d(h){i?i(h):console.error(h),o.manager.itemError(e)}}}class lJe extends BH{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ur().set(e),o=new ur().set(n),l=new Ve(i.r,i.g,i.b),d=new Ve(o.r,o.g,o.b),h=Math.sqrt(Math.PI),v=h*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(d).multiplyScalar(h),this.sh.coefficients[1].copy(l).sub(d).multiplyScalar(v)}}class uJe extends BH{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new ur().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const VSe=new ea,WSe=new ea,zE=new ea;class cJe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ys,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ys,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,zE.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,l=n.near*Math.tan(Sb*n.fov*.5)/n.zoom;let d,h;WSe.elements[12]=-i,VSe.elements[12]=i,d=-l*n.aspect+o,h=l*n.aspect+o,zE.elements[0]=2*n.near/(h-d),zE.elements[8]=(h+d)/(h-d),this.cameraL.projectionMatrix.copy(zE),d=-l*n.aspect-o,h=l*n.aspect-o,zE.elements[0]=2*n.near/(h-d),zE.elements[8]=(h+d)/(h-d),this.cameraR.projectionMatrix.copy(zE)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(WSe),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(VSe)}}class NH{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=KSe(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=KSe();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function KSe(){return(typeof performance>"u"?Date:performance).now()}const HE=new Ve,qSe=new to,fJe=new Ve,jE=new Ve;class dJe extends Ya{constructor(){super(),this.type="AudioListener",this.context=fZ.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new NH}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(HE,qSe,fJe),jE.set(0,0,-1).applyQuaternion(qSe),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(HE.x,i),n.positionY.linearRampToValueAtTime(HE.y,i),n.positionZ.linearRampToValueAtTime(HE.z,i),n.forwardX.linearRampToValueAtTime(jE.x,i),n.forwardY.linearRampToValueAtTime(jE.y,i),n.forwardZ.linearRampToValueAtTime(jE.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(HE.x,HE.y,HE.z),n.setOrientation(jE.x,jE.y,jE.z,r.x,r.y,r.z)}}class bMe extends Ya{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const GE=new Ve,XSe=new to,hJe=new Ve,VE=new Ve;class pJe extends bMe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(GE,XSe,hJe),VE.set(0,0,1).applyQuaternion(XSe);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(GE.x,r),n.positionY.linearRampToValueAtTime(GE.y,r),n.positionZ.linearRampToValueAtTime(GE.z,r),n.orientationX.linearRampToValueAtTime(VE.x,r),n.orientationY.linearRampToValueAtTime(VE.y,r),n.orientationZ.linearRampToValueAtTime(VE.z,r)}else n.setPosition(GE.x,GE.y,GE.z),n.setOrientation(VE.x,VE.y,VE.z)}}class mJe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class CMe{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,l;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let l=this.cumulativeWeight;if(l===0){for(let d=0;d!==i;++d)r[o+d]=r[d];l=n}else{l+=n;const d=n/l;this._mixBufferRegion(r,o,0,d,i)}this.cumulativeWeight=l}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,d=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const h=n*this._origIndex;this._mixBufferRegion(r,i,h,1-o,n)}l>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let h=n,v=n+n;h!==v;++h)if(r[h]!==r[h+n]){d.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,l=i;o!==l;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let l=0;l!==o;++l)e[n+l]=e[r+l]}_slerp(e,n,r,i){to.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const l=this._workIndex*o;to.multiplyQuaternionsFlat(e,l,e,n,e,r),to.slerpFlat(e,n,e,n,e,l,i)}_lerp(e,n,r,i,o){const l=1-i;for(let d=0;d!==o;++d){const h=n+d;e[h]=e[h]*l+e[r+d]*i}}_lerpAdditive(e,n,r,i,o){for(let l=0;l!==o;++l){const d=n+l;e[d]=e[d]+e[r+l]*i}}}const dZ="\\[\\]\\.:\\/",vJe=new RegExp("["+dZ+"]","g"),hZ="[^"+dZ+"]",gJe="[^"+dZ.replace("\\.","")+"]",yJe=/((?:WC+[\/:])*)/.source.replace("WC",hZ),_Je=/(WCOD+)?/.source.replace("WCOD",gJe),SJe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hZ),xJe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hZ),wJe=new RegExp("^"+yJe+_Je+SJe+xJe+"$"),EJe=["material","materials","bones","map"];class bJe{constructor(e,n,r){const i=r||Co.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Co{constructor(e,n,r){this.path=n,this.parsedPath=r||Co.parseTrackName(n),this.node=Co.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Co.Composite(e,n,r):new Co(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vJe,"")}static parseTrackName(e){const n=wJe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);EJe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const d=o[l];if(d.name===n||d.uuid===n)return d;const h=r(d.children);if(h)return h}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Co.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let v=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let S=0;S<e.length;S++)if(e[S].name===v){v=S;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(v!==void 0){if(e[v]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[v]}}const l=e[i];if(l===void 0){const v=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+v+"."+i+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Co.Composite=bJe;Co.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Co.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Co.prototype.GetterByBindingType=[Co.prototype._getValue_direct,Co.prototype._getValue_array,Co.prototype._getValue_arrayElement,Co.prototype._getValue_toArray];Co.prototype.SetterByBindingTypeAndVersioning=[[Co.prototype._setValue_direct,Co.prototype._setValue_direct_setNeedsUpdate,Co.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Co.prototype._setValue_array,Co.prototype._setValue_array_setNeedsUpdate,Co.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Co.prototype._setValue_arrayElement,Co.prototype._setValue_arrayElement_setNeedsUpdate,Co.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Co.prototype._setValue_fromArray,Co.prototype._setValue_fromArray_setNeedsUpdate,Co.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class CJe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_v(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,l=o.length;let d,h=e.length,v=this.nCachedObjects_;for(let S=0,x=arguments.length;S!==x;++S){const A=arguments[S],T=A.uuid;let R=n[T];if(R===void 0){R=h++,n[T]=R,e.push(A);for(let G=0,j=l;G!==j;++G)o[G].push(new Co(A,r[G],i[G]))}else if(R<v){d=e[R];const G=--v,j=e[G];n[j.uuid]=R,e[R]=j,n[T]=G,e[G]=A;for(let w=0,L=l;w!==L;++w){const F=o[w],W=F[G];let U=F[R];F[R]=W,U===void 0&&(U=new Co(A,r[w],i[w])),F[G]=U}}else e[R]!==d&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=v}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let l=0,d=arguments.length;l!==d;++l){const h=arguments[l],v=h.uuid,S=n[v];if(S!==void 0&&S>=o){const x=o++,A=e[x];n[A.uuid]=S,e[S]=A,n[v]=x,e[x]=h;for(let T=0,R=i;T!==R;++T){const G=r[T],j=G[x],w=G[S];G[S]=j,G[x]=w}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,l=e.length;for(let d=0,h=arguments.length;d!==h;++d){const v=arguments[d],S=v.uuid,x=n[S];if(x!==void 0)if(delete n[S],x<o){const A=--o,T=e[A],R=--l,G=e[R];n[T.uuid]=x,e[x]=T,n[G.uuid]=A,e[A]=G,e.pop();for(let j=0,w=i;j!==w;++j){const L=r[j],F=L[A],W=L[R];L[x]=F,L[A]=W,L.pop()}}else{const A=--l,T=e[A];A>0&&(n[T.uuid]=x),e[x]=T,e.pop();for(let R=0,G=i;R!==G;++R){const j=r[R];j[x]=j[A],j.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const l=this._paths,d=this._parsedPaths,h=this._objects,v=h.length,S=this.nCachedObjects_,x=new Array(v);i=o.length,r[e]=i,l.push(e),d.push(n),o.push(x);for(let A=S,T=h.length;A!==T;++A){const R=h[A];x[A]=new Co(R,e,n)}return x}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,l=this._bindings,d=l.length-1,h=l[d],v=e[d];n[v]=r,l[r]=h,l.pop(),o[r]=o[d],o.pop(),i[r]=i[d],i.pop()}}}class AMe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,l=o.length,d=new Array(l),h={endingStart:cb,endingEnd:cb};for(let v=0;v!==l;++v){const S=o[v].createInterpolant(null);d[v]=S,S.settings=h}this._interpolantSettings=h,this._interpolants=d,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gTe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,l=o/i,d=i/o;e.warp(1,l,n),this.warp(d,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,l=this.timeScale;let d=this._timeScaleInterpolant;d===null&&(d=i._lendControlInterpolant(),this._timeScaleInterpolant=d);const h=d.parameterPositions,v=d.sampleValues;return h[0]=o,h[1]=o+r,v[0]=e/l,v[1]=n/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const h=(e-o)*r;h<0||r===0?n=0:(this._startTime=null,n=r*h)}n*=this._updateTimeScale(e);const l=this._updateTime(n),d=this._updateWeight(e);if(d>0){const h=this._interpolants,v=this._propertyBindings;switch(this.blendMode){case MJ:for(let S=0,x=h.length;S!==x;++S)h[S].evaluate(l),v[S].accumulateAdditive(d);break;case EH:default:for(let S=0,x=h.length;S!==x;++S)h[S].evaluate(l),v[S].accumulate(i,d)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const l=r===yTe;if(e===0)return o===-1?i:l&&(o&1)===1?n-i:i;if(r===vTe){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=n||i<0){const d=Math.floor(i/n);i-=n*d,o+=Math.abs(d);const h=this.repetitions-o;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const v=e<0;this._setEndings(v,!v,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d})}}else this.time=i;if(l&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=fb,i.endingEnd=fb):(e?i.endingStart=this.zeroSlopeAtStart?fb:cb:i.endingStart=SO,n?i.endingEnd=this.zeroSlopeAtEnd?fb:cb:i.endingEnd=SO)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let l=this._weightInterpolant;l===null&&(l=i._lendControlInterpolant(),this._weightInterpolant=l);const d=l.parameterPositions,h=l.sampleValues;return d[0]=o,h[0]=n,d[1]=o+e,h[1]=r,this}}const AJe=new Float32Array(1);class TMe extends Cv{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,l=e._propertyBindings,d=e._interpolants,h=r.uuid,v=this._bindingsByRootAndName;let S=v[h];S===void 0&&(S={},v[h]=S);for(let x=0;x!==o;++x){const A=i[x],T=A.name;let R=S[T];if(R!==void 0)++R.referenceCount,l[x]=R;else{if(R=l[x],R!==void 0){R._cacheIndex===null&&(++R.referenceCount,this._addInactiveBinding(R,h,T));continue}const G=n&&n._propertyBindings[x].binding.parsedPath;R=new CMe(Co.create(r,T,G),A.ValueTypeName,A.getValueSize()),++R.referenceCount,this._addInactiveBinding(R,h,T),l[x]=R}d[x].resultBuffer=R.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let l=o[n];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=l;else{const d=l.knownActions;e._byClipCacheIndex=d.length,d.push(e)}e._cacheIndex=i.length,i.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,d=l[o],h=d.knownActions,v=h[h.length-1],S=e._byClipCacheIndex;v._byClipCacheIndex=S,h[S]=v,h.pop(),e._byClipCacheIndex=null;const x=d.actionByRoot,A=(e._localRoot||this._root).uuid;delete x[A],h.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let l=i[n];l===void 0&&(l={},i[n]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,d=l[i],h=n[n.length-1],v=e._cacheIndex;h._cacheIndex=v,n[v]=h,n.pop(),delete d[o],Object.keys(d).length===0&&delete l[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new rZ(new Float32Array(2),new Float32Array(2),1,AJe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let l=typeof e=="string"?qM.findByName(i,e):e;const d=l!==null?l.uuid:e,h=this._actionsByClip[d];let v=null;if(r===void 0&&(l!==null?r=l.blendMode:r=EH),h!==void 0){const x=h.actionByRoot[o];if(x!==void 0&&x.blendMode===r)return x;v=h.knownActions[0],l===null&&(l=v._clip)}if(l===null)return null;const S=new AMe(this,l,n,r);return this._bindAction(S,v),this._addInactiveAction(S,d,o),S}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?qM.findByName(r,e):e,l=o?o.uuid:e,d=this._actionsByClip[l];return d!==void 0&&d.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let v=0;v!==r;++v)n[v]._update(i,e,o,l);const d=this._bindings,h=this._nActiveBindings;for(let v=0;v!==h;++v)d[v].apply(l);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const l=o.knownActions;for(let d=0,h=l.length;d!==h;++d){const v=l[d];this._deactivateAction(v);const S=v._cacheIndex,x=n[n.length-1];v._cacheIndex=null,v._byClipCacheIndex=null,x._cacheIndex=S,n[S]=x,n.pop(),this._removeInactiveBindingsForAction(v)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const l in r){const d=r[l].actionByRoot,h=d[n];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const l in o){const d=o[l];d.restoreOriginalState(),this._removeInactiveBinding(d)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ma{constructor(e){this.value=e}clone(){return new Ma(this.value.clone===void 0?this.value:this.value.clone())}}let TJe=0;class MJe extends Cv{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:TJe++}),this.name="",this.usage=xO,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class PJe extends QO{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class RJe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class cB{constructor(e,n,r=0,i=1/0){this.ray=new iP(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new By,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return B$(e,this,r,n),r.sort(YSe),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)B$(e[i],this,r,n);return r.sort(YSe),r}}function YSe(t,e){return t.distance-e.distance}function B$(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,l=i.length;o<l;o++)B$(i[o],e,n,!0)}}class k4{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(rc(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class IJe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const $Se=new vn;class kJe{constructor(e=new vn(1/0,1/0),n=new vn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=$Se.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$Se).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const QSe=new Ve,o3=new Ve;class DJe{constructor(e=new Ve,n=new Ve){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){QSe.subVectors(e,this.start),o3.subVectors(this.end,this.start);const r=o3.dot(o3);let o=o3.dot(QSe)/r;return n&&(o=rc(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const JSe=new Ve;class MMe extends Ya{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new da,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,d=1,h=32;l<h;l++,d++){const v=l/h*Math.PI*2,S=d/h*Math.PI*2;i.push(Math.cos(v),Math.sin(v),1,Math.cos(S),Math.sin(S),1)}r.setAttribute("position",new li(i,3));const o=new ah({fog:!1,toneMapped:!1});this.cone=new x0(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),JSe.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JSe),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ZS=new Ve,s3=new ea,sX=new ea;class OJe extends x0{constructor(e){const n=PMe(e),r=new da,i=[],o=[],l=new ur(0,0,1),d=new ur(0,1,0);for(let v=0;v<n.length;v++){const S=n[v];S.parent&&S.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(l.r,l.g,l.b),o.push(d.r,d.g,d.b))}r.setAttribute("position",new li(i,3)),r.setAttribute("color",new li(o,3));const h=new ah({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");sX.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<n.length;o++){const d=n[o];d.parent&&d.parent.isBone&&(s3.multiplyMatrices(sX,d.matrixWorld),ZS.setFromMatrixPosition(s3),i.setXYZ(l,ZS.x,ZS.y,ZS.z),s3.multiplyMatrices(sX,d.parent.matrixWorld),ZS.setFromMatrixPosition(s3),i.setXYZ(l+1,ZS.x,ZS.y,ZS.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function PMe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,PMe(t.children[n]));return e}class RMe extends Yr{constructor(e,n,r){const i=new Nb(n,4,2),o=new th({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const BJe=new Ve,ZSe=new ur,exe=new ur;class LJe extends Ya{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new dv(n);i.rotateY(Math.PI*.5),this.material=new th({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),l=new Float32Array(o.count*3);i.setAttribute("color",new lo(l,3)),this.add(new Yr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");ZSe.copy(this.light.color),exe.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?ZSe:exe;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(BJe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class NJe extends x0{constructor(e=10,n=10,r=4473924,i=8947848){r=new ur(r),i=new ur(i);const o=n/2,l=e/n,d=e/2,h=[],v=[];for(let A=0,T=0,R=-d;A<=n;A++,R+=l){h.push(-d,0,R,d,0,R),h.push(R,0,-d,R,0,d);const G=A===o?r:i;G.toArray(v,T),T+=3,G.toArray(v,T),T+=3,G.toArray(v,T),T+=3,G.toArray(v,T),T+=3}const S=new da;S.setAttribute("position",new li(h,3)),S.setAttribute("color",new li(v,3));const x=new ah({vertexColors:!0,toneMapped:!1});super(S,x),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class FJe extends x0{constructor(e=10,n=16,r=8,i=64,o=4473924,l=8947848){o=new ur(o),l=new ur(l);const d=[],h=[];if(n>1)for(let x=0;x<n;x++){const A=x/n*(Math.PI*2),T=Math.sin(A)*e,R=Math.cos(A)*e;d.push(0,0,0),d.push(T,0,R);const G=x&1?o:l;h.push(G.r,G.g,G.b),h.push(G.r,G.g,G.b)}for(let x=0;x<r;x++){const A=x&1?o:l,T=e-e/r*x;for(let R=0;R<i;R++){let G=R/i*(Math.PI*2),j=Math.sin(G)*T,w=Math.cos(G)*T;d.push(j,0,w),h.push(A.r,A.g,A.b),G=(R+1)/i*(Math.PI*2),j=Math.sin(G)*T,w=Math.cos(G)*T,d.push(j,0,w),h.push(A.r,A.g,A.b)}}const v=new da;v.setAttribute("position",new li(d,3)),v.setAttribute("color",new li(h,3));const S=new ah({vertexColors:!0,toneMapped:!1});super(v,S),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const txe=new Ve,l3=new Ve,nxe=new Ve;class IMe extends Ya{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new da;i.setAttribute("position",new li([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ah({fog:!1,toneMapped:!1});this.lightPlane=new Ua(i,o),this.add(this.lightPlane),i=new da,i.setAttribute("position",new li([0,0,0,0,0,1],3)),this.targetLine=new Ua(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),txe.setFromMatrixPosition(this.light.matrixWorld),l3.setFromMatrixPosition(this.light.target.matrixWorld),nxe.subVectors(l3,txe),this.lightPlane.lookAt(l3),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(l3),this.targetLine.scale.z=nxe.length()}}const u3=new Ve,Zu=new Fx;class kMe extends x0{constructor(e){const n=new da,r=new ah({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],l={};d("n1","n2"),d("n2","n4"),d("n4","n3"),d("n3","n1"),d("f1","f2"),d("f2","f4"),d("f4","f3"),d("f3","f1"),d("n1","f1"),d("n2","f2"),d("n3","f3"),d("n4","f4"),d("p","n1"),d("p","n2"),d("p","n3"),d("p","n4"),d("u1","u2"),d("u2","u3"),d("u3","u1"),d("c","t"),d("p","c"),d("cn1","cn2"),d("cn3","cn4"),d("cf1","cf2"),d("cf3","cf4");function d(R,G){h(R),h(G)}function h(R){i.push(0,0,0),o.push(0,0,0),l[R]===void 0&&(l[R]=[]),l[R].push(i.length/3-1)}n.setAttribute("position",new li(i,3)),n.setAttribute("color",new li(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const v=new ur(16755200),S=new ur(16711680),x=new ur(43775),A=new ur(16777215),T=new ur(3355443);this.setColors(v,S,x,A,T)}setColors(e,n,r,i,o){const d=this.geometry.getAttribute("color");d.setXYZ(0,e.r,e.g,e.b),d.setXYZ(1,e.r,e.g,e.b),d.setXYZ(2,e.r,e.g,e.b),d.setXYZ(3,e.r,e.g,e.b),d.setXYZ(4,e.r,e.g,e.b),d.setXYZ(5,e.r,e.g,e.b),d.setXYZ(6,e.r,e.g,e.b),d.setXYZ(7,e.r,e.g,e.b),d.setXYZ(8,e.r,e.g,e.b),d.setXYZ(9,e.r,e.g,e.b),d.setXYZ(10,e.r,e.g,e.b),d.setXYZ(11,e.r,e.g,e.b),d.setXYZ(12,e.r,e.g,e.b),d.setXYZ(13,e.r,e.g,e.b),d.setXYZ(14,e.r,e.g,e.b),d.setXYZ(15,e.r,e.g,e.b),d.setXYZ(16,e.r,e.g,e.b),d.setXYZ(17,e.r,e.g,e.b),d.setXYZ(18,e.r,e.g,e.b),d.setXYZ(19,e.r,e.g,e.b),d.setXYZ(20,e.r,e.g,e.b),d.setXYZ(21,e.r,e.g,e.b),d.setXYZ(22,e.r,e.g,e.b),d.setXYZ(23,e.r,e.g,e.b),d.setXYZ(24,n.r,n.g,n.b),d.setXYZ(25,n.r,n.g,n.b),d.setXYZ(26,n.r,n.g,n.b),d.setXYZ(27,n.r,n.g,n.b),d.setXYZ(28,n.r,n.g,n.b),d.setXYZ(29,n.r,n.g,n.b),d.setXYZ(30,n.r,n.g,n.b),d.setXYZ(31,n.r,n.g,n.b),d.setXYZ(32,r.r,r.g,r.b),d.setXYZ(33,r.r,r.g,r.b),d.setXYZ(34,r.r,r.g,r.b),d.setXYZ(35,r.r,r.g,r.b),d.setXYZ(36,r.r,r.g,r.b),d.setXYZ(37,r.r,r.g,r.b),d.setXYZ(38,i.r,i.g,i.b),d.setXYZ(39,i.r,i.g,i.b),d.setXYZ(40,o.r,o.g,o.b),d.setXYZ(41,o.r,o.g,o.b),d.setXYZ(42,o.r,o.g,o.b),d.setXYZ(43,o.r,o.g,o.b),d.setXYZ(44,o.r,o.g,o.b),d.setXYZ(45,o.r,o.g,o.b),d.setXYZ(46,o.r,o.g,o.b),d.setXYZ(47,o.r,o.g,o.b),d.setXYZ(48,o.r,o.g,o.b),d.setXYZ(49,o.r,o.g,o.b),d.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Zu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kc("c",n,e,Zu,0,0,-1),kc("t",n,e,Zu,0,0,1),kc("n1",n,e,Zu,-r,-i,-1),kc("n2",n,e,Zu,r,-i,-1),kc("n3",n,e,Zu,-r,i,-1),kc("n4",n,e,Zu,r,i,-1),kc("f1",n,e,Zu,-r,-i,1),kc("f2",n,e,Zu,r,-i,1),kc("f3",n,e,Zu,-r,i,1),kc("f4",n,e,Zu,r,i,1),kc("u1",n,e,Zu,r*.7,i*1.1,-1),kc("u2",n,e,Zu,-r*.7,i*1.1,-1),kc("u3",n,e,Zu,0,i*2,-1),kc("cf1",n,e,Zu,-r,0,1),kc("cf2",n,e,Zu,r,0,1),kc("cf3",n,e,Zu,0,-i,1),kc("cf4",n,e,Zu,0,i,1),kc("cn1",n,e,Zu,-r,0,-1),kc("cn2",n,e,Zu,r,0,-1),kc("cn3",n,e,Zu,0,-i,-1),kc("cn4",n,e,Zu,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kc(t,e,n,r,i,o,l){u3.set(i,o,l).unproject(r);const d=e[t];if(d!==void 0){const h=n.getAttribute("position");for(let v=0,S=d.length;v<S;v++)h.setXYZ(d[v],u3.x,u3.y,u3.z)}}const c3=new S0;class D4 extends x0{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new da;o.setIndex(new lo(r,1)),o.setAttribute("position",new lo(i,3)),super(o,new ah({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&c3.setFromObject(this.object),c3.isEmpty())return;const n=c3.min,r=c3.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UJe extends x0{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new da;o.setIndex(new lo(r,1)),o.setAttribute("position",new li(i,3)),super(o,new ah({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class zJe extends Ua{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new da;l.setAttribute("position",new li(o,3)),l.computeBoundingSphere(),super(l,new ah({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const d=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new da;h.setAttribute("position",new li(d,3)),h.computeBoundingSphere(),this.add(new Yr(h,new th({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const rxe=new Ve;let f3,lX;class HJe extends Ya{constructor(e=new Ve(0,0,1),n=new Ve(0,0,0),r=1,i=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",f3===void 0&&(f3=new da,f3.setAttribute("position",new li([0,0,0,0,1,0],3)),lX=new ld(0,.5,1,5,1),lX.translate(0,-.5,0)),this.position.copy(n),this.line=new Ua(f3,new ah({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yr(lX,new th({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{rxe.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(rxe,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class jJe extends x0{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new da;i.setAttribute("position",new li(n,3)),i.setAttribute("color",new li(r,3));const o=new ah({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new ur,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class GJe{constructor(){this.type="ShapePath",this.color=new ur,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new bO,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,l){return this.currentPath.bezierCurveTo(e,n,r,i,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const L=[];for(let F=0,W=w.length;F<W;F++){const U=w[F],Q=new xb;Q.curves=U.curves,L.push(Q)}return L}function r(w,L){const F=L.length;let W=!1;for(let U=F-1,Q=0;Q<F;U=Q++){let de=L[U],fe=L[Q],Z=fe.x-de.x,he=fe.y-de.y;if(Math.abs(he)>Number.EPSILON){if(he<0&&(de=L[Q],Z=-Z,fe=L[U],he=-he),w.y<de.y||w.y>fe.y)continue;if(w.y===de.y){if(w.x===de.x)return!0}else{const Te=he*(w.x-de.x)-Z*(w.y-de.y);if(Te===0)return!0;if(Te<0)continue;W=!W}}else{if(w.y!==de.y)continue;if(fe.x<=w.x&&w.x<=de.x||de.x<=w.x&&w.x<=fe.x)return!0}}return W}const i=Ly.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,d,h;const v=[];if(o.length===1)return d=o[0],h=new xb,h.curves=d.curves,v.push(h),v;let S=!i(o[0].getPoints());S=e?!S:S;const x=[],A=[];let T=[],R=0,G;A[R]=void 0,T[R]=[];for(let w=0,L=o.length;w<L;w++)d=o[w],G=d.getPoints(),l=i(G),l=e?!l:l,l?(!S&&A[R]&&R++,A[R]={s:new xb,p:G},A[R].s.curves=d.curves,S&&R++,T[R]=[]):T[R].push({h:d,p:G[0]});if(!A[0])return n(o);if(A.length>1){let w=!1,L=0;for(let F=0,W=A.length;F<W;F++)x[F]=[];for(let F=0,W=A.length;F<W;F++){const U=T[F];for(let Q=0;Q<U.length;Q++){const de=U[Q];let fe=!0;for(let Z=0;Z<A.length;Z++)r(de.p,A[Z].p)&&(F!==Z&&L++,fe?(fe=!1,x[Z].push(de)):w=!0);fe&&x[F].push(de)}}L>0&&w===!1&&(T=x)}let j;for(let w=0,L=A.length;w<L;w++){h=A[w].s,v.push(h),j=T[w];for(let F=0,W=j.length;F<W;F++)h.holes.push(j[F].h)}return v}}class VJe extends Fp{constructor(e,n,r,i,o,l){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,o,l)}}class WJe extends ZO{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class KJe extends eB{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class qJe extends tB{constructor(e,n,r,i,o,l,d){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,o,l,d)}}class XJe extends ld{constructor(e,n,r,i,o,l,d,h){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,o,l,d,h)}}class YJe extends nB{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class $Je extends rB{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class QJe extends sP{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class JJe extends oP{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class ZJe extends dv{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class DMe extends hv{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class eZe extends N1{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class tZe extends iB{constructor(e,n,r,i,o,l){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,o,l)}}class nZe extends aB{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class rZe extends Nb{constructor(e,n,r,i,o,l,d){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,o,l,d)}}class iZe extends oB{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class aZe extends _1{constructor(e,n,r,i,o){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,o)}}class oZe extends sB{constructor(e,n,r,i,o,l){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,o,l)}}class sZe extends lB{constructor(e,n,r,i,o){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,o)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Bb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Bb);const OMe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:_H,AddEquation:ab,AddOperation:rTe,AdditiveAnimationBlendMode:MJ,AdditiveBlending:e$,AlphaFormat:cTe,AlwaysCompare:PTe,AlwaysDepth:$Ae,AlwaysStencilFunc:xTe,AmbientLight:yMe,AmbientLightProbe:uJe,AnimationAction:AMe,AnimationClip:qM,AnimationLoader:eJe,AnimationMixer:TMe,AnimationObjectGroup:CJe,AnimationUtils:$Qe,ArcCurve:XTe,ArrayCamera:GTe,ArrowHelper:HJe,Audio:bMe,AudioAnalyser:mJe,AudioContext:fZ,AudioListener:dJe,AudioLoader:sJe,AxesHelper:jJe,BackSide:If,BasicDepthPacking:xg,BasicShadowMap:LAe,Bone:RH,BooleanKeyframeTrack:Fb,Box2:kJe,Box3:S0,Box3Helper:UJe,BoxBufferGeometry:VJe,BoxGeometry:Fp,BoxHelper:D4,BufferAttribute:lo,BufferGeometry:da,BufferGeometryLoader:wMe,ByteType:lTe,Cache:Ib,Camera:Fx,CameraHelper:kMe,CanvasTexture:SQe,CapsuleBufferGeometry:WJe,CapsuleGeometry:ZO,CatmullRomCurve3:YTe,CineonToneMapping:oTe,CircleBufferGeometry:KJe,CircleGeometry:eB,ClampToEdgeWrapping:eh,Clock:NH,Color:ur,ColorKeyframeTrack:iZ,ColorManagement:lg,CompressedArrayTexture:_Qe,CompressedTexture:KJ,CompressedTextureLoader:tJe,ConeBufferGeometry:qJe,ConeGeometry:tB,CubeCamera:LTe,CubeReflectionMapping:D1,CubeRefractionMapping:Bx,CubeTexture:$O,CubeTextureLoader:mMe,CubeUVReflectionMapping:rP,CubicBezierCurve:XJ,CubicBezierCurve3:$Te,CubicInterpolant:fMe,CullFaceBack:ZY,CullFaceFront:BAe,CullFaceFrontBack:xWe,CullFaceNone:OAe,Curve:w0,CurvePath:JTe,CustomBlending:NAe,CustomToneMapping:sTe,CylinderBufferGeometry:XJe,CylinderGeometry:ld,Cylindrical:IJe,Data3DTexture:DJ,DataArrayTexture:bH,DataTexture:TM,DataTextureLoader:oZ,DataUtils:hb,DecrementStencilOp:RWe,DecrementWrapStencilOp:kWe,DefaultLoadingManager:pMe,DepthFormat:Cx,DepthStencilFormat:Nx,DepthTexture:zJ,DirectionalLight:cZ,DirectionalLightHelper:IMe,DiscreteInterpolant:dMe,DisplayP3ColorSpace:RJ,DodecahedronBufferGeometry:YJe,DodecahedronGeometry:nB,DoubleSide:Mf,DstAlphaFactor:VAe,DstColorFactor:KAe,DynamicCopyUsage:qWe,DynamicDrawUsage:HWe,DynamicReadUsage:VWe,EdgesGeometry:ZTe,EllipseCurve:kH,EqualCompare:bTe,EqualDepth:JAe,EqualStencilFunc:LWe,EquirectangularReflectionMapping:FM,EquirectangularRefractionMapping:yO,Euler:Lb,EventDispatcher:Cv,ExtrudeBufferGeometry:$Je,ExtrudeGeometry:rB,FileLoader:xv,Float16BufferAttribute:BKe,Float32BufferAttribute:li,Float64BufferAttribute:LKe,FloatType:kf,Fog:PH,FogExp2:MH,FramebufferTexture:yQe,FrontSide:y0,Frustum:CH,GLBufferAttribute:RJe,GLSL1:YWe,GLSL3:P4,GreaterCompare:ATe,GreaterDepth:eTe,GreaterEqualCompare:MTe,GreaterEqualDepth:ZAe,GreaterEqualStencilFunc:zWe,GreaterStencilFunc:FWe,GridHelper:NJe,Group:Iy,HalfFloatType:Yh,HemisphereLight:gMe,HemisphereLightHelper:LJe,HemisphereLightProbe:lJe,IcosahedronBufferGeometry:QJe,IcosahedronGeometry:sP,ImageBitmapLoader:EMe,ImageLoader:MO,ImageUtils:kJ,IncrementStencilOp:PWe,IncrementWrapStencilOp:IWe,InstancedBufferAttribute:VM,InstancedBufferGeometry:xMe,InstancedInterleavedBuffer:PJe,InstancedMesh:GJ,Int16BufferAttribute:DKe,Int32BufferAttribute:OKe,Int8BufferAttribute:RKe,IntType:xJ,InterleavedBuffer:QO,InterleavedBufferAttribute:zx,Interpolant:lP,InterpolateDiscrete:zM,InterpolateLinear:Pb,InterpolateSmooth:X3,InvertStencilOp:DWe,KeepStencilOp:Y3,KeyframeTrack:E0,LOD:qTe,LatheBufferGeometry:JJe,LatheGeometry:oP,Layers:By,LessCompare:ETe,LessDepth:QAe,LessEqualCompare:CTe,LessEqualDepth:T4,LessEqualStencilFunc:NWe,LessStencilFunc:BWe,Light:Yx,LightProbe:BH,Line:Ua,Line3:DJe,LineBasicMaterial:ah,LineCurve:DH,LineCurve3:QTe,LineDashedMaterial:uMe,LineLoop:VJ,LineSegments:x0,LinearEncoding:YO,LinearFilter:as,LinearInterpolant:rZ,LinearMipMapLinearFilter:AWe,LinearMipMapNearestFilter:CWe,LinearMipmapLinearFilter:zy,LinearMipmapNearestFilter:xH,LinearSRGBColorSpace:_0,LinearToneMapping:iTe,Loader:Gp,LoaderUtils:Ny,LoadingManager:aZ,LoopOnce:vTe,LoopPingPong:yTe,LoopRepeat:gTe,LuminanceAlphaFormat:dTe,LuminanceFormat:fTe,MOUSE:JE,Material:ac,MaterialLoader:LH,MathUtils:ITe,Matrix3:za,Matrix4:ea,MaxEquation:i$,Mesh:Yr,MeshBasicMaterial:th,MeshDepthMaterial:FJ,MeshDistanceMaterial:UJ,MeshLambertMaterial:sMe,MeshMatcapMaterial:lMe,MeshNormalMaterial:eZ,MeshPhongMaterial:ZJ,MeshPhysicalMaterial:Hy,MeshStandardMaterial:uB,MeshToonMaterial:oMe,MinEquation:r$,MirroredRepeatWrapping:UM,MixOperation:nTe,MultiplyBlending:n$,MultiplyOperation:XO,NearestFilter:Vs,NearestMipMapLinearFilter:bWe,NearestMipMapNearestFilter:EWe,NearestMipmapLinearFilter:CM,NearestMipmapNearestFilter:_O,NeverCompare:wTe,NeverDepth:YAe,NeverStencilFunc:OWe,NoBlending:rh,NoColorSpace:Ax,NoToneMapping:vg,NormalAnimationBlendMode:EH,NormalBlending:_b,NotEqualCompare:TTe,NotEqualDepth:tTe,NotEqualStencilFunc:UWe,NumberKeyframeTrack:WM,Object3D:Ya,ObjectLoader:aJe,ObjectSpaceNormalMap:STe,OctahedronBufferGeometry:ZJe,OctahedronGeometry:dv,OneFactor:HAe,OneMinusDstAlphaFactor:WAe,OneMinusDstColorFactor:qAe,OneMinusSrcAlphaFactor:SJ,OneMinusSrcColorFactor:GAe,OrthographicCamera:yg,PCFShadowMap:yH,PCFSoftShadowMap:bM,PMREMGenerator:P$,Path:bO,PerspectiveCamera:ys,Plane:lx,PlaneBufferGeometry:DMe,PlaneGeometry:hv,PlaneHelper:zJe,PointLight:uZ,PointLightHelper:RMe,Points:WJ,PointsMaterial:IH,PolarGridHelper:FJe,PolyhedronBufferGeometry:eZe,PolyhedronGeometry:N1,PositionalAudio:pJe,PropertyBinding:Co,PropertyMixer:CMe,QuadraticBezierCurve:YJ,QuadraticBezierCurve3:$J,Quaternion:to,QuaternionKeyframeTrack:Hx,QuaternionLinearInterpolant:hMe,RED_GREEN_RGTC2_Format:A$,RED_RGTC1_Format:mTe,REVISION:Bb,RGBADepthPacking:HM,RGBAFormat:Up,RGBAIntegerFormat:TJ,RGBA_ASTC_10x10_Format:w$,RGBA_ASTC_10x5_Format:_$,RGBA_ASTC_10x6_Format:S$,RGBA_ASTC_10x8_Format:x$,RGBA_ASTC_12x10_Format:E$,RGBA_ASTC_12x12_Format:b$,RGBA_ASTC_4x4_Format:f$,RGBA_ASTC_5x4_Format:d$,RGBA_ASTC_5x5_Format:h$,RGBA_ASTC_6x5_Format:p$,RGBA_ASTC_6x6_Format:m$,RGBA_ASTC_8x5_Format:v$,RGBA_ASTC_8x6_Format:g$,RGBA_ASTC_8x8_Format:y$,RGBA_BPTC_Format:q3,RGBA_ETC2_EAC_Format:c$,RGBA_PVRTC_2BPPV1_Format:l$,RGBA_PVRTC_4BPPV1_Format:s$,RGBA_S3TC_DXT1_Format:V3,RGBA_S3TC_DXT3_Format:W3,RGBA_S3TC_DXT5_Format:K3,RGB_ETC1_Format:pTe,RGB_ETC2_Format:u$,RGB_PVRTC_2BPPV1_Format:o$,RGB_PVRTC_4BPPV1_Format:a$,RGB_S3TC_DXT1_Format:G3,RGFormat:hTe,RGIntegerFormat:AJ,RawShaderMaterial:aMe,Ray:iP,Raycaster:cB,RectAreaLight:_Me,RedFormat:bJ,RedIntegerFormat:CJ,ReinhardToneMapping:aTe,RepeatWrapping:Lx,ReplaceStencilOp:MWe,ReverseSubtractEquation:UAe,RingBufferGeometry:tZe,RingGeometry:iB,SIGNED_RED_GREEN_RGTC2_Format:T$,SIGNED_RED_RGTC1_Format:C$,SRGBColorSpace:Ta,Scene:Ux,ShaderChunk:va,ShaderLib:h0,ShaderMaterial:Oc,ShadowMaterial:iMe,Shape:xb,ShapeBufferGeometry:nZe,ShapeGeometry:aB,ShapePath:GJe,ShapeUtils:Ly,ShortType:uTe,Skeleton:JO,SkeletonHelper:OJe,SkinnedMesh:jJ,Source:db,Sphere:wg,SphereBufferGeometry:rZe,SphereGeometry:Nb,Spherical:k4,SphericalHarmonics3:SMe,SplineCurve:QJ,SpotLight:lZ,SpotLightHelper:MMe,Sprite:KTe,SpriteMaterial:HJ,SrcAlphaFactor:_J,SrcAlphaSaturateFactor:XAe,SrcColorFactor:jAe,StaticCopyUsage:KWe,StaticDrawUsage:xO,StaticReadUsage:GWe,StereoCamera:cJe,StreamCopyUsage:XWe,StreamDrawUsage:jWe,StreamReadUsage:WWe,StringKeyframeTrack:Ub,SubtractEquation:FAe,SubtractiveBlending:t$,TOUCH:ZE,TangentSpaceNormalMap:Xx,TetrahedronBufferGeometry:iZe,TetrahedronGeometry:oB,Texture:Ws,TextureLoader:vMe,TorusBufferGeometry:aZe,TorusGeometry:_1,TorusKnotBufferGeometry:oZe,TorusKnotGeometry:sB,Triangle:bm,TriangleFanDrawMode:M4,TriangleStripDrawMode:PJ,TrianglesDrawMode:_Te,TubeBufferGeometry:sZe,TubeGeometry:lB,TwoPassDoubleSide:wWe,UVMapping:SH,Uint16BufferAttribute:OJ,Uint32BufferAttribute:BJ,Uint8BufferAttribute:IKe,Uint8ClampedBufferAttribute:kKe,Uniform:Ma,UniformsGroup:MJe,UniformsLib:kr,UniformsUtils:BTe,UnsignedByteType:Of,UnsignedInt248Type:A1,UnsignedIntType:Py,UnsignedShort4444Type:wJ,UnsignedShort5551Type:EJ,UnsignedShortType:wH,VSMShadowMap:u0,Vector2:vn,Vector3:Ve,Vector4:go,VectorKeyframeTrack:KM,VideoTexture:gQe,WebGL1Renderer:VTe,WebGL3DRenderTarget:_Ke,WebGLArrayRenderTarget:yKe,WebGLCoordinateSystem:Ry,WebGLCubeRenderTarget:LJ,WebGLMultipleRenderTargets:SKe,WebGLRenderTarget:af,WebGLRenderer:TH,WebGLUtils:jTe,WebGPUCoordinateSystem:wO,WireframeGeometry:rMe,WrapAroundEnding:SO,ZeroCurvatureEnding:cb,ZeroFactor:zAe,ZeroSlopeEnding:fb,ZeroStencilOp:TWe,_SRGBAFormat:R4,sRGBEncoding:gg},Symbol.toStringTag,{value:"Module"}));var BMe={exports:{}},zb={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */zb.ConcurrentRoot=1;zb.ContinuousEventPriority=4;zb.DefaultEventPriority=16;zb.DiscreteEventPriority=1;zb.IdleEventPriority=536870912;zb.LegacyRoot=0;BMe.exports=zb;var fM=BMe.exports;function lZe(t){let e;const n=new Set,r=(v,S)=>{const x=typeof v=="function"?v(e):v;if(x!==e){const A=e;e=S?x:Object.assign({},e,x),n.forEach(T=>T(e,A))}},i=()=>e,o=(v,S=i,x=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let A=S(e);function T(){const R=S(e);if(!x(A,R)){const G=A;v(A=R,G)}}return n.add(T),()=>n.delete(T)},h={setState:r,getState:i,subscribe:(v,S,x)=>S||x?o(v,S,x):(n.add(v),()=>n.delete(v)),destroy:()=>n.clear()};return e=t(r,i,h),h}const uZe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ixe=uZe?St.useEffect:St.useLayoutEffect;function LMe(t){const e=typeof t=="function"?lZe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=St.useReducer(j=>j+1,0),l=e.getState(),d=St.useRef(l),h=St.useRef(r),v=St.useRef(i),S=St.useRef(!1),x=St.useRef();x.current===void 0&&(x.current=r(l));let A,T=!1;(d.current!==l||h.current!==r||v.current!==i||S.current)&&(A=r(l),T=!i(x.current,A)),ixe(()=>{T&&(x.current=A),d.current=l,h.current=r,v.current=i,S.current=!1});const R=St.useRef(l);ixe(()=>{const j=()=>{try{const L=e.getState(),F=h.current(L);v.current(x.current,F)||(d.current=L,x.current=F,o())}catch{S.current=!0,o()}},w=e.subscribe(j);return e.getState()!==R.current&&j(),w},[]);const G=T?A:x.current;return St.useDebugValue(G),G};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var NMe={exports:{}},FMe={exports:{}},UMe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_e,Se){var we=_e.length;_e.push(Se);e:for(;0<we;){var Pe=we-1>>>1,be=_e[Pe];if(0<i(be,Se))_e[Pe]=Se,_e[we]=be,we=Pe;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var Se=_e[0],we=_e.pop();if(we!==Se){_e[0]=we;e:for(var Pe=0,be=_e.length,Ce=be>>>1;Pe<Ce;){var qe=2*(Pe+1)-1,mt=_e[qe],We=qe+1,Mt=_e[We];if(0>i(mt,we))We<be&&0>i(Mt,mt)?(_e[Pe]=Mt,_e[We]=we,Pe=We):(_e[Pe]=mt,_e[qe]=we,Pe=qe);else if(We<be&&0>i(Mt,we))_e[Pe]=Mt,_e[We]=we,Pe=We;else break e}}return Se}function i(_e,Se){var we=_e.sortIndex-Se.sortIndex;return we!==0?we:_e.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],v=[],S=1,x=null,A=3,T=!1,R=!1,G=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(_e){for(var Se=n(v);Se!==null;){if(Se.callback===null)r(v);else if(Se.startTime<=_e)r(v),Se.sortIndex=Se.expirationTime,e(h,Se);else break;Se=n(v)}}function W(_e){if(G=!1,F(_e),!R)if(n(h)!==null)R=!0,ut(U);else{var Se=n(v);Se!==null&&st(W,Se.startTime-_e)}}function U(_e,Se){R=!1,G&&(G=!1,w(fe),fe=-1),T=!0;var we=A;try{for(F(Se),x=n(h);x!==null&&(!(x.expirationTime>Se)||_e&&!Te());){var Pe=x.callback;if(typeof Pe=="function"){x.callback=null,A=x.priorityLevel;var be=Pe(x.expirationTime<=Se);Se=t.unstable_now(),typeof be=="function"?x.callback=be:x===n(h)&&r(h),F(Se)}else r(h);x=n(h)}if(x!==null)var Ce=!0;else{var qe=n(v);qe!==null&&st(W,qe.startTime-Se),Ce=!1}return Ce}finally{x=null,A=we,T=!1}}var Q=!1,de=null,fe=-1,Z=5,he=-1;function Te(){return!(t.unstable_now()-he<Z)}function je(){if(de!==null){var _e=t.unstable_now();he=_e;var Se=!0;try{Se=de(!0,_e)}finally{Se?Ke():(Q=!1,de=null)}}else Q=!1}var Ke;if(typeof L=="function")Ke=function(){L(je)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ge=Le.port2;Le.port1.onmessage=je,Ke=function(){Ge.postMessage(null)}}else Ke=function(){j(je,0)};function ut(_e){de=_e,Q||(Q=!0,Ke())}function st(_e,Se){fe=j(function(){_e(t.unstable_now())},Se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,ut(U))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(_e){switch(A){case 1:case 2:case 3:var Se=3;break;default:Se=A}var we=A;A=Se;try{return _e()}finally{A=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,Se){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var we=A;A=_e;try{return Se()}finally{A=we}},t.unstable_scheduleCallback=function(_e,Se,we){var Pe=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Pe+we:Pe):we=Pe,_e){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=we+be,_e={id:S++,callback:Se,priorityLevel:_e,startTime:we,expirationTime:be,sortIndex:-1},we>Pe?(_e.sortIndex=we,e(v,_e),n(h)===null&&_e===n(v)&&(G?(w(fe),fe=-1):G=!0,st(W,we-Pe))):(_e.sortIndex=be,e(h,_e),R||T||(R=!0,ut(U))),_e},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(_e){var Se=A;return function(){var we=A;A=Se;try{return _e.apply(this,arguments)}finally{A=we}}}})(UMe);FMe.exports=UMe;var L$=FMe.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cZe=function(e){var n={},r=St,i=L$,o=Object.assign;function l(_){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+_,H=1;H<arguments.length;H++)E+="&args[]="+encodeURIComponent(arguments[H]);return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),U=Symbol.iterator;function Q(_){return _===null||typeof _!="object"?null:(_=U&&_[U]||_["@@iterator"],typeof _=="function"?_:null)}function de(_){if(_==null)return null;if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case S:return"Fragment";case v:return"Portal";case A:return"Profiler";case x:return"StrictMode";case j:return"Suspense";case w:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case R:return(_.displayName||"Context")+".Consumer";case T:return(_._context.displayName||"Context")+".Provider";case G:var E=_.render;return _=_.displayName,_||(_=E.displayName||E.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case L:return E=_.displayName||null,E!==null?E:de(_.type)||"Memo";case F:E=_._payload,_=_._init;try{return de(_(E))}catch{}}return null}function fe(_){var E=_.type;switch(_.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _=E.render,_=_.displayName||_.name||"",E.displayName||(_!==""?"ForwardRef("+_+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(E);case 8:return E===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function Z(_){var E=_,H=_;if(_.alternate)for(;E.return;)E=E.return;else{_=E;do E=_,E.flags&4098&&(H=E.return),_=E.return;while(_)}return E.tag===3?H:null}function he(_){if(Z(_)!==_)throw Error(l(188))}function Te(_){var E=_.alternate;if(!E){if(E=Z(_),E===null)throw Error(l(188));return E!==_?null:_}for(var H=_,Y=E;;){var ie=H.return;if(ie===null)break;var ve=ie.alternate;if(ve===null){if(Y=ie.return,Y!==null){H=Y;continue}break}if(ie.child===ve.child){for(ve=ie.child;ve;){if(ve===H)return he(ie),_;if(ve===Y)return he(ie),E;ve=ve.sibling}throw Error(l(188))}if(H.return!==Y.return)H=ie,Y=ve;else{for(var at=!1,bt=ie.child;bt;){if(bt===H){at=!0,H=ie,Y=ve;break}if(bt===Y){at=!0,Y=ie,H=ve;break}bt=bt.sibling}if(!at){for(bt=ve.child;bt;){if(bt===H){at=!0,H=ve,Y=ie;break}if(bt===Y){at=!0,Y=ve,H=ie;break}bt=bt.sibling}if(!at)throw Error(l(189))}}if(H.alternate!==Y)throw Error(l(190))}if(H.tag!==3)throw Error(l(188));return H.stateNode.current===H?_:E}function je(_){return _=Te(_),_!==null?Ke(_):null}function Ke(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){var E=Ke(_);if(E!==null)return E;_=_.sibling}return null}function Le(_){if(_.tag===5||_.tag===6)return _;for(_=_.child;_!==null;){if(_.tag!==4){var E=Le(_);if(E!==null)return E}_=_.sibling}return null}var Ge=Array.isArray,ut=e.getPublicInstance,st=e.getRootHostContext,_e=e.getChildHostContext,Se=e.prepareForCommit,we=e.resetAfterCommit,Pe=e.createInstance,be=e.appendInitialChild,Ce=e.finalizeInitialChildren,qe=e.prepareUpdate,mt=e.shouldSetTextContent,We=e.createTextInstance,Mt=e.scheduleTimeout,dt=e.cancelTimeout,en=e.noTimeout,cn=e.isPrimaryRenderer,sn=e.supportsMutation,$e=e.supportsPersistence,Gt=e.supportsHydration,Ut=e.getInstanceFromNode,Kt=e.preparePortalMount,Yt=e.getCurrentEventPriority,Cn=e.detachDeletedInstance,Dn=e.supportsMicrotasks,nr=e.scheduleMicrotask,dr=e.supportsTestSelectors,Jr=e.findFiberRoot,Hi=e.getBoundingRect,et=e.getTextContent,Be=e.isHiddenSubtree,Nt=e.matchAccessibilityRole,Pn=e.setFocusIfFocusable,kn=e.setupIntersectionObserver,Nn=e.appendChild,Ar=e.appendChildToContainer,Zn=e.commitTextUpdate,Je=e.commitMount,Jt=e.commitUpdate,On=e.insertBefore,Bn=e.insertInContainerBefore,Wn=e.removeChild,Yn=e.removeChildFromContainer,Dr=e.resetTextContent,cr=e.hideInstance,ht=e.hideTextInstance,Ot=e.unhideInstance,Rt=e.unhideTextInstance,ir=e.clearContainer,hr=e.cloneInstance,Li=e.createContainerChildSet,Pa=e.appendChildToContainerChildSet,Ra=e.finalizeContainerChildren,ft=e.replaceContainerChildren,kt=e.cloneHiddenInstance,Bt=e.cloneHiddenTextInstance,Un=e.canHydrateInstance,Pr=e.canHydrateTextInstance,yr=e.canHydrateSuspenseInstance,Kn=e.isSuspenseInstancePending,Sr=e.isSuspenseInstanceFallback,$n=e.registerSuspenseInstanceRetry,oa=e.getNextHydratableSibling,Ir=e.getFirstHydratableChild,ja=e.getFirstHydratableChildWithinContainer,xa=e.getFirstHydratableChildWithinSuspenseInstance,Ee=e.hydrateInstance,oe=e.hydrateTextInstance,ke=e.hydrateSuspenseInstance,Ze=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,rt=e.commitHydratedSuspenseInstance,It=e.clearSuspenseBoundary,Dt=e.clearSuspenseBoundaryFromContainer,ln=e.shouldDeleteUnhydratedTailInstances,dn=e.didNotMatchHydratedContainerTextInstance,_n=e.didNotMatchHydratedTextInstance,$t;function Rn(_){if($t===void 0)try{throw Error()}catch(H){var E=H.stack.trim().match(/\n( *(at )?)/);$t=E&&E[1]||""}return`
`+$t+_}var wn=!1;function er(_,E){if(!_||wn)return"";wn=!0;var H=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(ar){var Y=ar}Reflect.construct(_,[],E)}else{try{E.call()}catch(ar){Y=ar}_.call(E.prototype)}else{try{throw Error()}catch(ar){Y=ar}_()}}catch(ar){if(ar&&Y&&typeof ar.stack=="string"){for(var ie=ar.stack.split(`
`),ve=Y.stack.split(`
`),at=ie.length-1,bt=ve.length-1;1<=at&&0<=bt&&ie[at]!==ve[bt];)bt--;for(;1<=at&&0<=bt;at--,bt--)if(ie[at]!==ve[bt]){if(at!==1||bt!==1)do if(at--,bt--,0>bt||ie[at]!==ve[bt]){var mn=`
`+ie[at].replace(" at new "," at ");return _.displayName&&mn.includes("<anonymous>")&&(mn=mn.replace("<anonymous>",_.displayName)),mn}while(1<=at&&0<=bt);break}}}finally{wn=!1,Error.prepareStackTrace=H}return(_=_?_.displayName||_.name:"")?Rn(_):""}var tr=Object.prototype.hasOwnProperty,Tr=[],Wr=-1;function pr(_){return{current:_}}function Rr(_){0>Wr||(_.current=Tr[Wr],Tr[Wr]=null,Wr--)}function Or(_,E){Wr++,Tr[Wr]=_.current,_.current=E}var pi={},ji=pr(pi),ti=pr(!1),ki=pi;function Ni(_,E){var H=_.type.contextTypes;if(!H)return pi;var Y=_.stateNode;if(Y&&Y.__reactInternalMemoizedUnmaskedChildContext===E)return Y.__reactInternalMemoizedMaskedChildContext;var ie={},ve;for(ve in H)ie[ve]=E[ve];return Y&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=E,_.__reactInternalMemoizedMaskedChildContext=ie),ie}function Fi(_){return _=_.childContextTypes,_!=null}function no(){Rr(ti),Rr(ji)}function mi(_,E,H){if(ji.current!==pi)throw Error(l(168));Or(ji,E),Or(ti,H)}function yi(_,E,H){var Y=_.stateNode;if(E=E.childContextTypes,typeof Y.getChildContext!="function")return H;Y=Y.getChildContext();for(var ie in Y)if(!(ie in E))throw Error(l(108,fe(_)||"Unknown",ie));return o({},H,Y)}function Ki(_){return _=(_=_.stateNode)&&_.__reactInternalMemoizedMergedChildContext||pi,ki=ji.current,Or(ji,_),Or(ti,ti.current),!0}function ca(_,E,H){var Y=_.stateNode;if(!Y)throw Error(l(169));H?(_=yi(_,E,ki),Y.__reactInternalMemoizedMergedChildContext=_,Rr(ti),Rr(ji),Or(ji,_)):Rr(ti),Or(ti,H)}var Da=Math.clz32?Math.clz32:ll,co=Math.log,ko=Math.LN2;function ll(_){return _>>>=0,_===0?32:31-(co(_)/ko|0)|0}var Ss=64,ul=4194304;function El(_){switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _}}function ou(_,E){var H=_.pendingLanes;if(H===0)return 0;var Y=0,ie=_.suspendedLanes,ve=_.pingedLanes,at=H&268435455;if(at!==0){var bt=at&~ie;bt!==0?Y=El(bt):(ve&=at,ve!==0&&(Y=El(ve)))}else at=H&~ie,at!==0?Y=El(at):ve!==0&&(Y=El(ve));if(Y===0)return 0;if(E!==0&&E!==Y&&!(E&ie)&&(ie=Y&-Y,ve=E&-E,ie>=ve||ie===16&&(ve&4194240)!==0))return E;if(Y&4&&(Y|=H&16),E=_.entangledLanes,E!==0)for(_=_.entanglements,E&=Y;0<E;)H=31-Da(E),ie=1<<H,Y|=_[H],E&=~ie;return Y}function Gl(_,E){switch(_){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(_,E){for(var H=_.suspendedLanes,Y=_.pingedLanes,ie=_.expirationTimes,ve=_.pendingLanes;0<ve;){var at=31-Da(ve),bt=1<<at,mn=ie[at];mn===-1?(!(bt&H)||bt&Y)&&(ie[at]=Gl(bt,E)):mn<=E&&(_.expiredLanes|=bt),ve&=~bt}}function Qh(_){return _=_.pendingLanes&-1073741825,_!==0?_:_&1073741824?1073741824:0}function of(_){for(var E=[],H=0;31>H;H++)E.push(_);return E}function Iu(_,E,H){_.pendingLanes|=E,E!==536870912&&(_.suspendedLanes=0,_.pingedLanes=0),_=_.eventTimes,E=31-Da(E),_[E]=H}function Jh(_,E){var H=_.pendingLanes&~E;_.pendingLanes=E,_.suspendedLanes=0,_.pingedLanes=0,_.expiredLanes&=E,_.mutableReadLanes&=E,_.entangledLanes&=E,E=_.entanglements;var Y=_.eventTimes;for(_=_.expirationTimes;0<H;){var ie=31-Da(H),ve=1<<ie;E[ie]=0,Y[ie]=-1,_[ie]=-1,H&=~ve}}function xs(_,E){var H=_.entangledLanes|=E;for(_=_.entanglements;H;){var Y=31-Da(H),ie=1<<Y;ie&E|_[Y]&E&&(_[Y]|=E),H&=~ie}}var Pi=0;function hd(_){return _&=-_,1<_?4<_?_&268435455?16:536870912:4:1}var oh=i.unstable_scheduleCallback,Lc=i.unstable_cancelCallback,Vp=i.unstable_shouldYield,Zh=i.unstable_requestPaint,ws=i.unstable_now,Ga=i.unstable_ImmediatePriority,Vl=i.unstable_UserBlockingPriority,pd=i.unstable_NormalPriority,sf=i.unstable_IdlePriority,su=null,Wl=null;function sh(_){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(su,_,void 0,(_.current.flags&128)===128)}catch{}}function Do(_,E){return _===E&&(_!==0||1/_===1/E)||_!==_&&E!==E}var Ks=typeof Object.is=="function"?Object.is:Do,Oo=null,fo=!1,md=!1;function bl(_){Oo===null?Oo=[_]:Oo.push(_)}function Im(_){fo=!0,bl(_)}function oc(){if(!md&&Oo!==null){md=!0;var _=0,E=Pi;try{var H=Oo;for(Pi=1;_<H.length;_++){var Y=H[_];do Y=Y(!0);while(Y!==null)}Oo=null,fo=!1}catch(ie){throw Oo!==null&&(Oo=Oo.slice(_+1)),oh(Ga,oc),ie}finally{Pi=E,md=!1}}return null}var Tv=d.ReactCurrentBatchConfig;function Wo(_,E){if(Ks(_,E))return!0;if(typeof _!="object"||_===null||typeof E!="object"||E===null)return!1;var H=Object.keys(_),Y=Object.keys(E);if(H.length!==Y.length)return!1;for(Y=0;Y<H.length;Y++){var ie=H[Y];if(!tr.call(E,ie)||!Ks(_[ie],E[ie]))return!1}return!0}function Nc(_){switch(_.tag){case 5:return Rn(_.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 2:case 15:return _=er(_.type,!1),_;case 11:return _=er(_.type.render,!1),_;case 1:return _=er(_.type,!0),_;default:return""}}function Es(_,E){if(_&&_.defaultProps){E=o({},E),_=_.defaultProps;for(var H in _)E[H]===void 0&&(E[H]=_[H]);return E}return E}var vd=pr(null),Ps=null,Rs=null,sc=null;function Kl(){sc=Rs=Ps=null}function Nf(_,E,H){cn?(Or(vd,E._currentValue),E._currentValue=H):(Or(vd,E._currentValue2),E._currentValue2=H)}function ku(_){var E=vd.current;Rr(vd),cn?_._currentValue=E:_._currentValue2=E}function ql(_,E,H){for(;_!==null;){var Y=_.alternate;if((_.childLanes&E)!==E?(_.childLanes|=E,Y!==null&&(Y.childLanes|=E)):Y!==null&&(Y.childLanes&E)!==E&&(Y.childLanes|=E),_===H)break;_=_.return}}function Xl(_,E){Ps=_,sc=Rs=null,_=_.dependencies,_!==null&&_.firstContext!==null&&(_.lanes&E&&(Ql=!0),_.firstContext=null)}function wa(_){var E=cn?_._currentValue:_._currentValue2;if(sc!==_)if(_={context:_,memoizedValue:E,next:null},Rs===null){if(Ps===null)throw Error(l(308));Rs=_,Ps.dependencies={lanes:0,firstContext:_}}else Rs=Rs.next=_;return E}var yo=null,_o=!1;function Cl(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gd(_,E){_=_.updateQueue,E.updateQueue===_&&(E.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,effects:_.effects})}function So(_,E){return{eventTime:_,lane:E,tag:0,payload:null,callback:null,next:null}}function Is(_,E){var H=_.updateQueue;H!==null&&(H=H.shared,Di!==null&&_.mode&1&&!(Ri&2)?(_=H.interleaved,_===null?(E.next=E,yo===null?yo=[H]:yo.push(H)):(E.next=_.next,_.next=E),H.interleaved=E):(_=H.pending,_===null?E.next=E:(E.next=_.next,_.next=E),H.pending=E))}function bs(_,E,H){if(E=E.updateQueue,E!==null&&(E=E.shared,(H&4194240)!==0)){var Y=E.lanes;Y&=_.pendingLanes,H|=Y,E.lanes=H,xs(_,H)}}function Ff(_,E){var H=_.updateQueue,Y=_.alternate;if(Y!==null&&(Y=Y.updateQueue,H===Y)){var ie=null,ve=null;if(H=H.firstBaseUpdate,H!==null){do{var at={eventTime:H.eventTime,lane:H.lane,tag:H.tag,payload:H.payload,callback:H.callback,next:null};ve===null?ie=ve=at:ve=ve.next=at,H=H.next}while(H!==null);ve===null?ie=ve=E:ve=ve.next=E}else ie=ve=E;H={baseState:Y.baseState,firstBaseUpdate:ie,lastBaseUpdate:ve,shared:Y.shared,effects:Y.effects},_.updateQueue=H;return}_=H.lastBaseUpdate,_===null?H.firstBaseUpdate=E:_.next=E,H.lastBaseUpdate=E}function lc(_,E,H,Y){var ie=_.updateQueue;_o=!1;var ve=ie.firstBaseUpdate,at=ie.lastBaseUpdate,bt=ie.shared.pending;if(bt!==null){ie.shared.pending=null;var mn=bt,ar=mn.next;mn.next=null,at===null?ve=ar:at.next=ar,at=mn;var Ur=_.alternate;Ur!==null&&(Ur=Ur.updateQueue,bt=Ur.lastBaseUpdate,bt!==at&&(bt===null?Ur.firstBaseUpdate=ar:bt.next=ar,Ur.lastBaseUpdate=mn))}if(ve!==null){var qi=ie.baseState;at=0,Ur=ar=mn=null,bt=ve;do{var _i=bt.lane,ao=bt.eventTime;if((Y&_i)===_i){Ur!==null&&(Ur=Ur.next={eventTime:ao,lane:0,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null});e:{var Zr=_,_u=bt;switch(_i=E,ao=H,_u.tag){case 1:if(Zr=_u.payload,typeof Zr=="function"){qi=Zr.call(ao,qi,_i);break e}qi=Zr;break e;case 3:Zr.flags=Zr.flags&-65537|128;case 0:if(Zr=_u.payload,_i=typeof Zr=="function"?Zr.call(ao,qi,_i):Zr,_i==null)break e;qi=o({},qi,_i);break e;case 2:_o=!0}}bt.callback!==null&&bt.lane!==0&&(_.flags|=64,_i=ie.effects,_i===null?ie.effects=[bt]:_i.push(bt))}else ao={eventTime:ao,lane:_i,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},Ur===null?(ar=Ur=ao,mn=qi):Ur=Ur.next=ao,at|=_i;if(bt=bt.next,bt===null){if(bt=ie.shared.pending,bt===null)break;_i=bt,bt=_i.next,_i.next=null,ie.lastBaseUpdate=_i,ie.shared.pending=null}}while(1);if(Ur===null&&(mn=qi),ie.baseState=mn,ie.firstBaseUpdate=ar,ie.lastBaseUpdate=Ur,E=ie.shared.interleaved,E!==null){ie=E;do at|=ie.lane,ie=ie.next;while(ie!==E)}else ve===null&&(ie.shared.lanes=0);pu|=at,_.lanes=at,_.memoizedState=qi}}function Fc(_,E,H){if(_=E.effects,E.effects=null,_!==null)for(E=0;E<_.length;E++){var Y=_[E],ie=Y.callback;if(ie!==null){if(Y.callback=null,Y=H,typeof ie!="function")throw Error(l(191,ie));ie.call(Y)}}}var yd=new r.Component().refs;function lh(_,E,H,Y){E=_.memoizedState,H=H(Y,E),H=H==null?E:o({},E,H),_.memoizedState=H,_.lanes===0&&(_.updateQueue.baseState=H)}var uc={isMounted:function(_){return(_=_._reactInternals)?Z(_)===_:!1},enqueueSetState:function(_,E,H){_=_._reactInternals;var Y=Jo(),ie=el(_),ve=So(Y,ie);ve.payload=E,H!=null&&(ve.callback=H),Is(_,ve),E=po(_,ie,Y),E!==null&&bs(E,_,ie)},enqueueReplaceState:function(_,E,H){_=_._reactInternals;var Y=Jo(),ie=el(_),ve=So(Y,ie);ve.tag=1,ve.payload=E,H!=null&&(ve.callback=H),Is(_,ve),E=po(_,ie,Y),E!==null&&bs(E,_,ie)},enqueueForceUpdate:function(_,E){_=_._reactInternals;var H=Jo(),Y=el(_),ie=So(H,Y);ie.tag=2,E!=null&&(ie.callback=E),Is(_,ie),E=po(_,Y,H),E!==null&&bs(E,_,Y)}};function Wp(_,E,H,Y,ie,ve,at){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(Y,ve,at):E.prototype&&E.prototype.isPureReactComponent?!Wo(H,Y)||!Wo(ie,ve):!0}function km(_,E,H){var Y=!1,ie=pi,ve=E.contextType;return typeof ve=="object"&&ve!==null?ve=wa(ve):(ie=Fi(E)?ki:ji.current,Y=E.contextTypes,ve=(Y=Y!=null)?Ni(_,ie):pi),E=new E(H,ve),_.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=uc,_.stateNode=E,E._reactInternals=_,Y&&(_=_.stateNode,_.__reactInternalMemoizedUnmaskedChildContext=ie,_.__reactInternalMemoizedMaskedChildContext=ve),E}function Uf(_,E,H,Y){_=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(H,Y),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(H,Y),E.state!==_&&uc.enqueueReplaceState(E,E.state,null)}function lf(_,E,H,Y){var ie=_.stateNode;ie.props=H,ie.state=_.memoizedState,ie.refs=yd,Cl(_);var ve=E.contextType;typeof ve=="object"&&ve!==null?ie.context=wa(ve):(ve=Fi(E)?ki:ji.current,ie.context=Ni(_,ve)),ie.state=_.memoizedState,ve=E.getDerivedStateFromProps,typeof ve=="function"&&(lh(_,E,ve,H),ie.state=_.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof ie.getSnapshotBeforeUpdate=="function"||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(E=ie.state,typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount(),E!==ie.state&&uc.enqueueReplaceState(ie,ie.state,null),lc(_,H,ie,Y),ie.state=_.memoizedState),typeof ie.componentDidMount=="function"&&(_.flags|=4194308)}var Du=[],os=0,uf=null,uh=0,ks=[],cl=0,fl=null,Bo=1,dl="";function $a(_,E){Du[os++]=uh,Du[os++]=uf,uf=_,uh=E}function lu(_,E,H){ks[cl++]=Bo,ks[cl++]=dl,ks[cl++]=fl,fl=_;var Y=Bo;_=dl;var ie=32-Da(Y)-1;Y&=~(1<<ie),H+=1;var ve=32-Da(E)+ie;if(30<ve){var at=ie-ie%5;ve=(Y&(1<<at)-1).toString(32),Y>>=at,ie-=at,Bo=1<<32-Da(E)+ie|H<<ie|Y,dl=ve+_}else Bo=1<<ve|H<<ie|Y,dl=_}function cf(_){_.return!==null&&($a(_,1),lu(_,1,0))}function ff(_){for(;_===uf;)uf=Du[--os],Du[os]=null,uh=Du[--os],Du[os]=null;for(;_===fl;)fl=ks[--cl],ks[cl]=null,dl=ks[--cl],ks[cl]=null,Bo=ks[--cl],ks[cl]=null}var qs=null,Xs=null,vi=!1,Ou=!1,Qa=null;function Ds(_,E){var H=wt(5,null,null,0);H.elementType="DELETED",H.stateNode=E,H.return=_,E=_.deletions,E===null?(_.deletions=[H],_.flags|=16):E.push(H)}function ss(_,E){switch(_.tag){case 5:return E=Un(E,_.type,_.pendingProps),E!==null?(_.stateNode=E,qs=_,Xs=Ir(E),!0):!1;case 6:return E=Pr(E,_.pendingProps),E!==null?(_.stateNode=E,qs=_,Xs=null,!0):!1;case 13:if(E=yr(E),E!==null){var H=fl!==null?{id:Bo,overflow:dl}:null;return _.memoizedState={dehydrated:E,treeContext:H,retryLane:1073741824},H=wt(18,null,null,0),H.stateNode=E,H.return=_,_.child=H,qs=_,Xs=null,!0}return!1;default:return!1}}function Oa(_){return(_.mode&1)!==0&&(_.flags&128)===0}function ep(_){if(vi){var E=Xs;if(E){var H=E;if(!ss(_,E)){if(Oa(_))throw Error(l(418));E=oa(H);var Y=qs;E&&ss(_,E)?Ds(Y,H):(_.flags=_.flags&-4097|2,vi=!1,qs=_)}}else{if(Oa(_))throw Error(l(418));_.flags=_.flags&-4097|2,vi=!1,qs=_}}}function _d(_){for(_=_.return;_!==null&&_.tag!==5&&_.tag!==3&&_.tag!==13;)_=_.return;qs=_}function Bu(_){if(!Gt||_!==qs)return!1;if(!vi)return _d(_),vi=!0,!1;if(_.tag!==3&&(_.tag!==5||ln(_.type)&&!mt(_.type,_.memoizedProps))){var E=Xs;if(E){if(Oa(_)){for(_=Xs;_;)_=oa(_);throw Error(l(418))}for(;E;)Ds(_,E),E=oa(E)}}if(_d(_),_.tag===13){if(!Gt)throw Error(l(316));if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(l(317));Xs=Ze(_)}else Xs=qs?oa(_.stateNode):null;return!0}function cc(){Gt&&(Xs=qs=null,Ou=vi=!1)}function ch(_){Qa===null?Qa=[_]:Qa.push(_)}function Os(_,E,H){if(_=H.ref,_!==null&&typeof _!="function"&&typeof _!="object"){if(H._owner){if(H=H._owner,H){if(H.tag!==1)throw Error(l(309));var Y=H.stateNode}if(!Y)throw Error(l(147,_));var ie=Y,ve=""+_;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===ve?E.ref:(E=function(at){var bt=ie.refs;bt===yd&&(bt=ie.refs={}),at===null?delete bt[ve]:bt[ve]=at},E._stringRef=ve,E)}if(typeof _!="string")throw Error(l(284));if(!H._owner)throw Error(l(290,_))}return _}function zf(_,E){throw _=Object.prototype.toString.call(E),Error(l(31,_==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":_))}function fh(_){var E=_._init;return E(_._payload)}function Al(_){function E(qt,Pt){if(_){var rn=qt.deletions;rn===null?(qt.deletions=[Pt],qt.flags|=16):rn.push(Pt)}}function H(qt,Pt){if(!_)return null;for(;Pt!==null;)E(qt,Pt),Pt=Pt.sibling;return null}function Y(qt,Pt){for(qt=new Map;Pt!==null;)Pt.key!==null?qt.set(Pt.key,Pt):qt.set(Pt.index,Pt),Pt=Pt.sibling;return qt}function ie(qt,Pt){return qt=Xr(qt,Pt),qt.index=0,qt.sibling=null,qt}function ve(qt,Pt,rn){return qt.index=rn,_?(rn=qt.alternate,rn!==null?(rn=rn.index,rn<Pt?(qt.flags|=2,Pt):rn):(qt.flags|=2,Pt)):(qt.flags|=1048576,Pt)}function at(qt){return _&&qt.alternate===null&&(qt.flags|=2),qt}function bt(qt,Pt,rn,Mr){return Pt===null||Pt.tag!==6?(Pt=Zo(rn,qt.mode,Mr),Pt.return=qt,Pt):(Pt=ie(Pt,rn),Pt.return=qt,Pt)}function mn(qt,Pt,rn,Mr){var ni=rn.type;return ni===S?Ur(qt,Pt,rn.props.children,Mr,rn.key):Pt!==null&&(Pt.elementType===ni||typeof ni=="object"&&ni!==null&&ni.$$typeof===F&&fh(ni)===Pt.type)?(Mr=ie(Pt,rn.props),Mr.ref=Os(qt,Pt,rn),Mr.return=qt,Mr):(Mr=Wa(rn.type,rn.key,rn.props,null,qt.mode,Mr),Mr.ref=Os(qt,Pt,rn),Mr.return=qt,Mr)}function ar(qt,Pt,rn,Mr){return Pt===null||Pt.tag!==4||Pt.stateNode.containerInfo!==rn.containerInfo||Pt.stateNode.implementation!==rn.implementation?(Pt=ta(rn,qt.mode,Mr),Pt.return=qt,Pt):(Pt=ie(Pt,rn.children||[]),Pt.return=qt,Pt)}function Ur(qt,Pt,rn,Mr,ni){return Pt===null||Pt.tag!==7?(Pt=ci(rn,qt.mode,Mr,ni),Pt.return=qt,Pt):(Pt=ie(Pt,rn),Pt.return=qt,Pt)}function qi(qt,Pt,rn){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Pt=Zo(""+Pt,qt.mode,rn),Pt.return=qt,Pt;if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case h:return rn=Wa(Pt.type,Pt.key,Pt.props,null,qt.mode,rn),rn.ref=Os(qt,null,Pt),rn.return=qt,rn;case v:return Pt=ta(Pt,qt.mode,rn),Pt.return=qt,Pt;case F:var Mr=Pt._init;return qi(qt,Mr(Pt._payload),rn)}if(Ge(Pt)||Q(Pt))return Pt=ci(Pt,qt.mode,rn,null),Pt.return=qt,Pt;zf(qt,Pt)}return null}function _i(qt,Pt,rn,Mr){var ni=Pt!==null?Pt.key:null;if(typeof rn=="string"&&rn!==""||typeof rn=="number")return ni!==null?null:bt(qt,Pt,""+rn,Mr);if(typeof rn=="object"&&rn!==null){switch(rn.$$typeof){case h:return rn.key===ni?mn(qt,Pt,rn,Mr):null;case v:return rn.key===ni?ar(qt,Pt,rn,Mr):null;case F:return ni=rn._init,_i(qt,Pt,ni(rn._payload),Mr)}if(Ge(rn)||Q(rn))return ni!==null?null:Ur(qt,Pt,rn,Mr,null);zf(qt,rn)}return null}function ao(qt,Pt,rn,Mr,ni){if(typeof Mr=="string"&&Mr!==""||typeof Mr=="number")return qt=qt.get(rn)||null,bt(Pt,qt,""+Mr,ni);if(typeof Mr=="object"&&Mr!==null){switch(Mr.$$typeof){case h:return qt=qt.get(Mr.key===null?rn:Mr.key)||null,mn(Pt,qt,Mr,ni);case v:return qt=qt.get(Mr.key===null?rn:Mr.key)||null,ar(Pt,qt,Mr,ni);case F:var Xi=Mr._init;return ao(qt,Pt,rn,Xi(Mr._payload),ni)}if(Ge(Mr)||Q(Mr))return qt=qt.get(rn)||null,Ur(Pt,qt,Mr,ni,null);zf(Pt,Mr)}return null}function Zr(qt,Pt,rn,Mr){for(var ni=null,Xi=null,Yi=Pt,Ka=Pt=0,ds=null;Yi!==null&&Ka<rn.length;Ka++){Yi.index>Ka?(ds=Yi,Yi=null):ds=Yi.sibling;var ya=_i(qt,Yi,rn[Ka],Mr);if(ya===null){Yi===null&&(Yi=ds);break}_&&Yi&&ya.alternate===null&&E(qt,Yi),Pt=ve(ya,Pt,Ka),Xi===null?ni=ya:Xi.sibling=ya,Xi=ya,Yi=ds}if(Ka===rn.length)return H(qt,Yi),vi&&$a(qt,Ka),ni;if(Yi===null){for(;Ka<rn.length;Ka++)Yi=qi(qt,rn[Ka],Mr),Yi!==null&&(Pt=ve(Yi,Pt,Ka),Xi===null?ni=Yi:Xi.sibling=Yi,Xi=Yi);return vi&&$a(qt,Ka),ni}for(Yi=Y(qt,Yi);Ka<rn.length;Ka++)ds=ao(Yi,qt,Ka,rn[Ka],Mr),ds!==null&&(_&&ds.alternate!==null&&Yi.delete(ds.key===null?Ka:ds.key),Pt=ve(ds,Pt,Ka),Xi===null?ni=ds:Xi.sibling=ds,Xi=ds);return _&&Yi.forEach(function(Si){return E(qt,Si)}),vi&&$a(qt,Ka),ni}function _u(qt,Pt,rn,Mr){var ni=Q(rn);if(typeof ni!="function")throw Error(l(150));if(rn=ni.call(rn),rn==null)throw Error(l(151));for(var Xi=ni=null,Yi=Pt,Ka=Pt=0,ds=null,ya=rn.next();Yi!==null&&!ya.done;Ka++,ya=rn.next()){Yi.index>Ka?(ds=Yi,Yi=null):ds=Yi.sibling;var Si=_i(qt,Yi,ya.value,Mr);if(Si===null){Yi===null&&(Yi=ds);break}_&&Yi&&Si.alternate===null&&E(qt,Yi),Pt=ve(Si,Pt,Ka),Xi===null?ni=Si:Xi.sibling=Si,Xi=Si,Yi=ds}if(ya.done)return H(qt,Yi),vi&&$a(qt,Ka),ni;if(Yi===null){for(;!ya.done;Ka++,ya=rn.next())ya=qi(qt,ya.value,Mr),ya!==null&&(Pt=ve(ya,Pt,Ka),Xi===null?ni=ya:Xi.sibling=ya,Xi=ya);return vi&&$a(qt,Ka),ni}for(Yi=Y(qt,Yi);!ya.done;Ka++,ya=rn.next())ya=ao(Yi,qt,Ka,ya.value,Mr),ya!==null&&(_&&ya.alternate!==null&&Yi.delete(ya.key===null?Ka:ya.key),Pt=ve(ya,Pt,Ka),Xi===null?ni=ya:Xi.sibling=ya,Xi=ya);return _&&Yi.forEach(function(Wu){return E(qt,Wu)}),vi&&$a(qt,Ka),ni}function bc(qt,Pt,rn,Mr){if(typeof rn=="object"&&rn!==null&&rn.type===S&&rn.key===null&&(rn=rn.props.children),typeof rn=="object"&&rn!==null){switch(rn.$$typeof){case h:e:{for(var ni=rn.key,Xi=Pt;Xi!==null;){if(Xi.key===ni){if(ni=rn.type,ni===S){if(Xi.tag===7){H(qt,Xi.sibling),Pt=ie(Xi,rn.props.children),Pt.return=qt,qt=Pt;break e}}else if(Xi.elementType===ni||typeof ni=="object"&&ni!==null&&ni.$$typeof===F&&fh(ni)===Xi.type){H(qt,Xi.sibling),Pt=ie(Xi,rn.props),Pt.ref=Os(qt,Xi,rn),Pt.return=qt,qt=Pt;break e}H(qt,Xi);break}else E(qt,Xi);Xi=Xi.sibling}rn.type===S?(Pt=ci(rn.props.children,qt.mode,Mr,rn.key),Pt.return=qt,qt=Pt):(Mr=Wa(rn.type,rn.key,rn.props,null,qt.mode,Mr),Mr.ref=Os(qt,Pt,rn),Mr.return=qt,qt=Mr)}return at(qt);case v:e:{for(Xi=rn.key;Pt!==null;){if(Pt.key===Xi)if(Pt.tag===4&&Pt.stateNode.containerInfo===rn.containerInfo&&Pt.stateNode.implementation===rn.implementation){H(qt,Pt.sibling),Pt=ie(Pt,rn.children||[]),Pt.return=qt,qt=Pt;break e}else{H(qt,Pt);break}else E(qt,Pt);Pt=Pt.sibling}Pt=ta(rn,qt.mode,Mr),Pt.return=qt,qt=Pt}return at(qt);case F:return Xi=rn._init,bc(qt,Pt,Xi(rn._payload),Mr)}if(Ge(rn))return Zr(qt,Pt,rn,Mr);if(Q(rn))return _u(qt,Pt,rn,Mr);zf(qt,rn)}return typeof rn=="string"&&rn!==""||typeof rn=="number"?(rn=""+rn,Pt!==null&&Pt.tag===6?(H(qt,Pt.sibling),Pt=ie(Pt,rn),Pt.return=qt,qt=Pt):(H(qt,Pt),Pt=Zo(rn,qt.mode,Mr),Pt.return=qt,qt=Pt),at(qt)):H(qt,Pt)}return bc}var fc=Al(!0),Ja=Al(!1),ro={},ga=pr(ro),Lu=pr(ro),To=pr(ro);function xo(_){if(_===ro)throw Error(l(174));return _}function Yl(_,E){Or(To,E),Or(Lu,_),Or(ga,ro),_=st(E),Rr(ga),Or(ga,_)}function uu(){Rr(ga),Rr(Lu),Rr(To)}function dc(_){var E=xo(To.current),H=xo(ga.current);E=_e(H,_.type,E),H!==E&&(Or(Lu,_),Or(ga,E))}function Nu(_){Lu.current===_&&(Rr(ga),Rr(Lu))}var sa=pr(0);function hc(_){for(var E=_;E!==null;){if(E.tag===13){var H=E.memoizedState;if(H!==null&&(H=H.dehydrated,H===null||Kn(H)||Sr(H)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===_)break;for(;E.sibling===null;){if(E.return===null||E.return===_)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var df=[];function tp(){for(var _=0;_<df.length;_++){var E=df[_];cn?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}df.length=0}var np=d.ReactCurrentDispatcher,$l=d.ReactCurrentBatchConfig,cu=0,Ai=null,Ys=null,Ba=null,xe=!1,Ye=!1,vt=0,nn=0;function Er(){throw Error(l(321))}function Ti(_,E){if(E===null)return!1;for(var H=0;H<E.length&&H<_.length;H++)if(!Ks(_[H],E[H]))return!1;return!0}function Ko(_,E,H,Y,ie,ve){if(cu=ve,Ai=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,np.current=_===null||_.memoizedState===null?Gf:Yp,_=H(Y,ie),Ye){ve=0;do{if(Ye=!1,vt=0,25<=ve)throw Error(l(301));ve+=1,Ba=Ys=null,E.updateQueue=null,np.current=wd,_=H(Y,ie)}while(Ye)}if(np.current=Hu,E=Ys!==null&&Ys.next!==null,cu=0,Ba=Ys=Ai=null,xe=!1,E)throw Error(l(300));return _}function Fu(){var _=vt!==0;return vt=0,_}function $s(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ba===null?Ai.memoizedState=Ba=_:Ba=Ba.next=_,Ba}function ls(){if(Ys===null){var _=Ai.alternate;_=_!==null?_.memoizedState:null}else _=Ys.next;var E=Ba===null?Ai.memoizedState:Ba.next;if(E!==null)Ba=E,Ys=_;else{if(_===null)throw Error(l(310));Ys=_,_={memoizedState:Ys.memoizedState,baseState:Ys.baseState,baseQueue:Ys.baseQueue,queue:Ys.queue,next:null},Ba===null?Ai.memoizedState=Ba=_:Ba=Ba.next=_}return Ba}function pc(_,E){return typeof E=="function"?E(_):E}function dh(_){var E=ls(),H=E.queue;if(H===null)throw Error(l(311));H.lastRenderedReducer=_;var Y=Ys,ie=Y.baseQueue,ve=H.pending;if(ve!==null){if(ie!==null){var at=ie.next;ie.next=ve.next,ve.next=at}Y.baseQueue=ie=ve,H.pending=null}if(ie!==null){ve=ie.next,Y=Y.baseState;var bt=at=null,mn=null,ar=ve;do{var Ur=ar.lane;if((cu&Ur)===Ur)mn!==null&&(mn=mn.next={lane:0,action:ar.action,hasEagerState:ar.hasEagerState,eagerState:ar.eagerState,next:null}),Y=ar.hasEagerState?ar.eagerState:_(Y,ar.action);else{var qi={lane:Ur,action:ar.action,hasEagerState:ar.hasEagerState,eagerState:ar.eagerState,next:null};mn===null?(bt=mn=qi,at=Y):mn=mn.next=qi,Ai.lanes|=Ur,pu|=Ur}ar=ar.next}while(ar!==null&&ar!==ve);mn===null?at=Y:mn.next=bt,Ks(Y,E.memoizedState)||(Ql=!0),E.memoizedState=Y,E.baseState=at,E.baseQueue=mn,H.lastRenderedState=Y}if(_=H.interleaved,_!==null){ie=_;do ve=ie.lane,Ai.lanes|=ve,pu|=ve,ie=ie.next;while(ie!==_)}else ie===null&&(H.lanes=0);return[E.memoizedState,H.dispatch]}function Sd(_){var E=ls(),H=E.queue;if(H===null)throw Error(l(311));H.lastRenderedReducer=_;var Y=H.dispatch,ie=H.pending,ve=E.memoizedState;if(ie!==null){H.pending=null;var at=ie=ie.next;do ve=_(ve,at.action),at=at.next;while(at!==ie);Ks(ve,E.memoizedState)||(Ql=!0),E.memoizedState=ve,E.baseQueue===null&&(E.baseState=ve),H.lastRenderedState=ve}return[ve,Y]}function Kp(){}function Dm(_,E){var H=Ai,Y=ls(),ie=E(),ve=!Ks(Y.memoizedState,ie);if(ve&&(Y.memoizedState=ie,Ql=!0),Y=Y.queue,Uc(la.bind(null,H,Y,_),[_]),Y.getSnapshot!==E||ve||Ba!==null&&Ba.memoizedState.tag&1){if(H.flags|=2048,Hf(9,rp.bind(null,H,Y,ie,E),void 0,null),Di===null)throw Error(l(349));cu&30||Mv(H,E,ie)}return ie}function Mv(_,E,H){_.flags|=16384,_={getSnapshot:E,value:H},E=Ai.updateQueue,E===null?(E={lastEffect:null,stores:null},Ai.updateQueue=E,E.stores=[_]):(H=E.stores,H===null?E.stores=[_]:H.push(_))}function rp(_,E,H,Y){E.value=H,E.getSnapshot=Y,Tl(E)&&po(_,1,-1)}function la(_,E,H){return H(function(){Tl(E)&&po(_,1,-1)})}function Tl(_){var E=_.getSnapshot;_=_.value;try{var H=E();return!Ks(_,H)}catch{return!0}}function hh(_){var E=$s();return typeof _=="function"&&(_=_()),E.memoizedState=E.baseState=_,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:_},E.queue=_,_=_.dispatch=jf.bind(null,Ai,_),[E.memoizedState,_]}function Hf(_,E,H,Y){return _={tag:_,create:E,destroy:H,deps:Y,next:null},E=Ai.updateQueue,E===null?(E={lastEffect:null,stores:null},Ai.updateQueue=E,E.lastEffect=_.next=_):(H=E.lastEffect,H===null?E.lastEffect=_.next=_:(Y=H.next,H.next=_,_.next=Y,E.lastEffect=_)),_}function Pv(){return ls().memoizedState}function hf(_,E,H,Y){var ie=$s();Ai.flags|=_,ie.memoizedState=Hf(1|E,H,void 0,Y===void 0?null:Y)}function Uu(_,E,H,Y){var ie=ls();Y=Y===void 0?null:Y;var ve=void 0;if(Ys!==null){var at=Ys.memoizedState;if(ve=at.destroy,Y!==null&&Ti(Y,at.deps)){ie.memoizedState=Hf(E,H,ve,Y);return}}Ai.flags|=_,ie.memoizedState=Hf(1|E,H,ve,Y)}function ph(_,E){return hf(8390656,8,_,E)}function Uc(_,E){return Uu(2048,8,_,E)}function qp(_,E){return Uu(4,2,_,E)}function ip(_,E){return Uu(4,4,_,E)}function ap(_,E){if(typeof E=="function")return _=_(),E(_),function(){E(null)};if(E!=null)return _=_(),E.current=_,function(){E.current=null}}function Om(_,E,H){return H=H!=null?H.concat([_]):null,Uu(4,4,ap.bind(null,E,_),H)}function op(){}function Xp(_,E){var H=ls();E=E===void 0?null:E;var Y=H.memoizedState;return Y!==null&&E!==null&&Ti(E,Y[1])?Y[0]:(H.memoizedState=[_,E],_)}function Rv(_,E){var H=ls();E=E===void 0?null:E;var Y=H.memoizedState;return Y!==null&&E!==null&&Ti(E,Y[1])?Y[0]:(_=_(),H.memoizedState=[_,E],_)}function b0(_,E){var H=Pi;Pi=H!==0&&4>H?H:4,_(!0);var Y=$l.transition;$l.transition={};try{_(!1),E()}finally{Pi=H,$l.transition=Y}}function mh(){return ls().memoizedState}function vh(_,E,H){var Y=el(_);H={lane:Y,action:H,hasEagerState:!1,eagerState:null,next:null},zu(_)?xd(E,H):(pf(_,E,H),H=Jo(),_=po(_,Y,H),_!==null&&zc(_,E,Y))}function jf(_,E,H){var Y=el(_),ie={lane:Y,action:H,hasEagerState:!1,eagerState:null,next:null};if(zu(_))xd(E,ie);else{pf(_,E,ie);var ve=_.alternate;if(_.lanes===0&&(ve===null||ve.lanes===0)&&(ve=E.lastRenderedReducer,ve!==null))try{var at=E.lastRenderedState,bt=ve(at,H);if(ie.hasEagerState=!0,ie.eagerState=bt,Ks(bt,at))return}catch{}finally{}H=Jo(),_=po(_,Y,H),_!==null&&zc(_,E,Y)}}function zu(_){var E=_.alternate;return _===Ai||E!==null&&E===Ai}function xd(_,E){Ye=xe=!0;var H=_.pending;H===null?E.next=E:(E.next=H.next,H.next=E),_.pending=E}function pf(_,E,H){Di!==null&&_.mode&1&&!(Ri&2)?(_=E.interleaved,_===null?(H.next=H,yo===null?yo=[E]:yo.push(E)):(H.next=_.next,_.next=H),E.interleaved=H):(_=E.pending,_===null?H.next=H:(H.next=_.next,_.next=H),E.pending=H)}function zc(_,E,H){if(H&4194240){var Y=E.lanes;Y&=_.pendingLanes,H|=Y,E.lanes=H,xs(_,H)}}var Hu={readContext:wa,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Gf={readContext:wa,useCallback:function(_,E){return $s().memoizedState=[_,E===void 0?null:E],_},useContext:wa,useEffect:ph,useImperativeHandle:function(_,E,H){return H=H!=null?H.concat([_]):null,hf(4194308,4,ap.bind(null,E,_),H)},useLayoutEffect:function(_,E){return hf(4194308,4,_,E)},useInsertionEffect:function(_,E){return hf(4,2,_,E)},useMemo:function(_,E){var H=$s();return E=E===void 0?null:E,_=_(),H.memoizedState=[_,E],_},useReducer:function(_,E,H){var Y=$s();return E=H!==void 0?H(E):E,Y.memoizedState=Y.baseState=E,_={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:E},Y.queue=_,_=_.dispatch=vh.bind(null,Ai,_),[Y.memoizedState,_]},useRef:function(_){var E=$s();return _={current:_},E.memoizedState=_},useState:hh,useDebugValue:op,useDeferredValue:function(_){var E=hh(_),H=E[0],Y=E[1];return ph(function(){var ie=$l.transition;$l.transition={};try{Y(_)}finally{$l.transition=ie}},[_]),H},useTransition:function(){var _=hh(!1),E=_[0];return _=b0.bind(null,_[1]),$s().memoizedState=_,[E,_]},useMutableSource:function(){},useSyncExternalStore:function(_,E,H){var Y=Ai,ie=$s();if(vi){if(H===void 0)throw Error(l(407));H=H()}else{if(H=E(),Di===null)throw Error(l(349));cu&30||Mv(Y,E,H)}ie.memoizedState=H;var ve={value:H,getSnapshot:E};return ie.queue=ve,ph(la.bind(null,Y,ve,_),[_]),Y.flags|=2048,Hf(9,rp.bind(null,Y,ve,H,E),void 0,null),H},useId:function(){var _=$s(),E=Di.identifierPrefix;if(vi){var H=dl,Y=Bo;H=(Y&~(1<<32-Da(Y)-1)).toString(32)+H,E=":"+E+"R"+H,H=vt++,0<H&&(E+="H"+H.toString(32)),E+=":"}else H=nn++,E=":"+E+"r"+H.toString(32)+":";return _.memoizedState=E},unstable_isNewReconciler:!1},Yp={readContext:wa,useCallback:Xp,useContext:wa,useEffect:Uc,useImperativeHandle:Om,useInsertionEffect:qp,useLayoutEffect:ip,useMemo:Rv,useReducer:dh,useRef:Pv,useState:function(){return dh(pc)},useDebugValue:op,useDeferredValue:function(_){var E=dh(pc),H=E[0],Y=E[1];return Uc(function(){var ie=$l.transition;$l.transition={};try{Y(_)}finally{$l.transition=ie}},[_]),H},useTransition:function(){var _=dh(pc)[0],E=ls().memoizedState;return[_,E]},useMutableSource:Kp,useSyncExternalStore:Dm,useId:mh,unstable_isNewReconciler:!1},wd={readContext:wa,useCallback:Xp,useContext:wa,useEffect:Uc,useImperativeHandle:Om,useInsertionEffect:qp,useLayoutEffect:ip,useMemo:Rv,useReducer:Sd,useRef:Pv,useState:function(){return Sd(pc)},useDebugValue:op,useDeferredValue:function(_){var E=Sd(pc),H=E[0],Y=E[1];return Uc(function(){var ie=$l.transition;$l.transition={};try{Y(_)}finally{$l.transition=ie}},[_]),H},useTransition:function(){var _=Sd(pc)[0],E=ls().memoizedState;return[_,E]},useMutableSource:Kp,useSyncExternalStore:Dm,useId:mh,unstable_isNewReconciler:!1};function sp(_,E){try{var H="",Y=E;do H+=Nc(Y),Y=Y.return;while(Y);var ie=H}catch(ve){ie=`
Error generating stack: `+ve.message+`
`+ve.stack}return{value:_,source:E,stack:ie}}function Vf(_,E){try{console.error(E.value)}catch(H){setTimeout(function(){throw H})}}var lp=typeof WeakMap=="function"?WeakMap:Map;function io(_,E,H){H=So(-1,H),H.tag=3,H.payload={element:null};var Y=E.value;return H.callback=function(){mu||(mu=!0,$o=Y),Vf(_,E)},H}function Bm(_,E,H){H=So(-1,H),H.tag=3;var Y=_.type.getDerivedStateFromError;if(typeof Y=="function"){var ie=E.value;H.payload=function(){return Y(ie)},H.callback=function(){Vf(_,E)}}var ve=_.stateNode;return ve!==null&&typeof ve.componentDidCatch=="function"&&(H.callback=function(){Vf(_,E),typeof Y!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var at=E.stack;this.componentDidCatch(E.value,{componentStack:at!==null?at:""})}),H}function gh(_,E,H){var Y=_.pingCache;if(Y===null){Y=_.pingCache=new lp;var ie=new Set;Y.set(E,ie)}else ie=Y.get(E),ie===void 0&&(ie=new Set,Y.set(E,ie));ie.has(H)||(ie.add(H),_=ui.bind(null,_,E,H),E.then(_,_))}function Wf(_){do{var E;if((E=_.tag===13)&&(E=_.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return _;_=_.return}while(_!==null);return null}function ho(_,E,H,Y,ie){return _.mode&1?(_.flags|=65536,_.lanes=ie,_):(_===E?_.flags|=65536:(_.flags|=128,H.flags|=131072,H.flags&=-52805,H.tag===1&&(H.alternate===null?H.tag=17:(E=So(-1,1),E.tag=2,Is(H,E))),H.lanes|=1),_)}function La(_){_.flags|=4}function fu(_,E){if(_!==null&&_.child===E.child)return!0;if(E.flags&16)return!1;for(_=E.child;_!==null;){if(_.flags&12854||_.subtreeFlags&12854)return!1;_=_.sibling}return!0}var us,Cs,mc,Hc;if(sn)us=function(_,E){for(var H=E.child;H!==null;){if(H.tag===5||H.tag===6)be(_,H.stateNode);else if(H.tag!==4&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===E)break;for(;H.sibling===null;){if(H.return===null||H.return===E)return;H=H.return}H.sibling.return=H.return,H=H.sibling}},Cs=function(){},mc=function(_,E,H,Y,ie){if(_=_.memoizedProps,_!==Y){var ve=E.stateNode,at=xo(ga.current);H=qe(ve,H,_,Y,ie,at),(E.updateQueue=H)&&La(E)}},Hc=function(_,E,H,Y){H!==Y&&La(E)};else if($e){us=function(_,E,H,Y){for(var ie=E.child;ie!==null;){if(ie.tag===5){var ve=ie.stateNode;H&&Y&&(ve=kt(ve,ie.type,ie.memoizedProps,ie)),be(_,ve)}else if(ie.tag===6)ve=ie.stateNode,H&&Y&&(ve=Bt(ve,ie.memoizedProps,ie)),be(_,ve);else if(ie.tag!==4){if(ie.tag===22&&ie.memoizedState!==null)ve=ie.child,ve!==null&&(ve.return=ie),us(_,ie,!0,!0);else if(ie.child!==null){ie.child.return=ie,ie=ie.child;continue}}if(ie===E)break;for(;ie.sibling===null;){if(ie.return===null||ie.return===E)return;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}};var hl=function(_,E,H,Y){for(var ie=E.child;ie!==null;){if(ie.tag===5){var ve=ie.stateNode;H&&Y&&(ve=kt(ve,ie.type,ie.memoizedProps,ie)),Pa(_,ve)}else if(ie.tag===6)ve=ie.stateNode,H&&Y&&(ve=Bt(ve,ie.memoizedProps,ie)),Pa(_,ve);else if(ie.tag!==4){if(ie.tag===22&&ie.memoizedState!==null)ve=ie.child,ve!==null&&(ve.return=ie),hl(_,ie,!0,!0);else if(ie.child!==null){ie.child.return=ie,ie=ie.child;continue}}if(ie===E)break;for(;ie.sibling===null;){if(ie.return===null||ie.return===E)return;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}};Cs=function(_,E){var H=E.stateNode;if(!fu(_,E)){_=H.containerInfo;var Y=Li(_);hl(Y,E,!1,!1),H.pendingChildren=Y,La(E),Ra(_,Y)}},mc=function(_,E,H,Y,ie){var ve=_.stateNode,at=_.memoizedProps;if((_=fu(_,E))&&at===Y)E.stateNode=ve;else{var bt=E.stateNode,mn=xo(ga.current),ar=null;at!==Y&&(ar=qe(bt,H,at,Y,ie,mn)),_&&ar===null?E.stateNode=ve:(ve=hr(ve,ar,H,at,Y,E,_,bt),Ce(ve,H,Y,ie,mn)&&La(E),E.stateNode=ve,_?La(E):us(ve,E,!1,!1))}},Hc=function(_,E,H,Y){H!==Y?(_=xo(To.current),H=xo(ga.current),E.stateNode=We(Y,_,H,E),La(E)):E.stateNode=_.stateNode}}else Cs=function(){},mc=function(){},Hc=function(){};function Kf(_,E){if(!vi)switch(_.tailMode){case"hidden":E=_.tail;for(var H=null;E!==null;)E.alternate!==null&&(H=E),E=E.sibling;H===null?_.tail=null:H.sibling=null;break;case"collapsed":H=_.tail;for(var Y=null;H!==null;)H.alternate!==null&&(Y=H),H=H.sibling;Y===null?E||_.tail===null?_.tail=null:_.tail.sibling=null:Y.sibling=null}}function cs(_){var E=_.alternate!==null&&_.alternate.child===_.child,H=0,Y=0;if(E)for(var ie=_.child;ie!==null;)H|=ie.lanes|ie.childLanes,Y|=ie.subtreeFlags&14680064,Y|=ie.flags&14680064,ie.return=_,ie=ie.sibling;else for(ie=_.child;ie!==null;)H|=ie.lanes|ie.childLanes,Y|=ie.subtreeFlags,Y|=ie.flags,ie.return=_,ie=ie.sibling;return _.subtreeFlags|=Y,_.childLanes=H,E}function $p(_,E,H){var Y=E.pendingProps;switch(ff(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(E),null;case 1:return Fi(E.type)&&no(),cs(E),null;case 3:return Y=E.stateNode,uu(),Rr(ti),Rr(ji),tp(),Y.pendingContext&&(Y.context=Y.pendingContext,Y.pendingContext=null),(_===null||_.child===null)&&(Bu(E)?La(E):_===null||_.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,Qa!==null&&(Vu(Qa),Qa=null))),Cs(_,E),cs(E),null;case 5:Nu(E),H=xo(To.current);var ie=E.type;if(_!==null&&E.stateNode!=null)mc(_,E,ie,Y,H),_.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!Y){if(E.stateNode===null)throw Error(l(166));return cs(E),null}if(_=xo(ga.current),Bu(E)){if(!Gt)throw Error(l(175));_=Ee(E.stateNode,E.type,E.memoizedProps,H,_,E,!Ou),E.updateQueue=_,_!==null&&La(E)}else{var ve=Pe(ie,Y,H,_,E);us(ve,E,!1,!1),E.stateNode=ve,Ce(ve,ie,Y,H,_)&&La(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return cs(E),null;case 6:if(_&&E.stateNode!=null)Hc(_,E,_.memoizedProps,Y);else{if(typeof Y!="string"&&E.stateNode===null)throw Error(l(166));if(_=xo(To.current),H=xo(ga.current),Bu(E)){if(!Gt)throw Error(l(176));if(_=E.stateNode,Y=E.memoizedProps,(H=oe(_,Y,E,!Ou))&&(ie=qs,ie!==null))switch(ve=(ie.mode&1)!==0,ie.tag){case 3:dn(ie.stateNode.containerInfo,_,Y,ve);break;case 5:_n(ie.type,ie.memoizedProps,ie.stateNode,_,Y,ve)}H&&La(E)}else E.stateNode=We(Y,_,H,E)}return cs(E),null;case 13:if(Rr(sa),Y=E.memoizedState,vi&&Xs!==null&&E.mode&1&&!(E.flags&128)){for(_=Xs;_;)_=oa(_);return cc(),E.flags|=98560,E}if(Y!==null&&Y.dehydrated!==null){if(Y=Bu(E),_===null){if(!Y)throw Error(l(318));if(!Gt)throw Error(l(344));if(_=E.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(l(317));ke(_,E)}else cc(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return cs(E),null}return Qa!==null&&(Vu(Qa),Qa=null),E.flags&128?(E.lanes=H,E):(Y=Y!==null,H=!1,_===null?Bu(E):H=_.memoizedState!==null,Y&&!H&&(E.child.flags|=8192,E.mode&1&&(_===null||sa.current&1?No===0&&(No=3):zm())),E.updateQueue!==null&&(E.flags|=4),cs(E),null);case 4:return uu(),Cs(_,E),_===null&&Kt(E.stateNode.containerInfo),cs(E),null;case 10:return ku(E.type._context),cs(E),null;case 17:return Fi(E.type)&&no(),cs(E),null;case 19:if(Rr(sa),ie=E.memoizedState,ie===null)return cs(E),null;if(Y=(E.flags&128)!==0,ve=ie.rendering,ve===null)if(Y)Kf(ie,!1);else{if(No!==0||_!==null&&_.flags&128)for(_=E.child;_!==null;){if(ve=hc(_),ve!==null){for(E.flags|=128,Kf(ie,!1),_=ve.updateQueue,_!==null&&(E.updateQueue=_,E.flags|=4),E.subtreeFlags=0,_=H,Y=E.child;Y!==null;)H=Y,ie=_,H.flags&=14680066,ve=H.alternate,ve===null?(H.childLanes=0,H.lanes=ie,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ve.childLanes,H.lanes=ve.lanes,H.child=ve.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ve.memoizedProps,H.memoizedState=ve.memoizedState,H.updateQueue=ve.updateQueue,H.type=ve.type,ie=ve.dependencies,H.dependencies=ie===null?null:{lanes:ie.lanes,firstContext:ie.firstContext}),Y=Y.sibling;return Or(sa,sa.current&1|2),E.child}_=_.sibling}ie.tail!==null&&ws()>hp&&(E.flags|=128,Y=!0,Kf(ie,!1),E.lanes=4194304)}else{if(!Y)if(_=hc(ve),_!==null){if(E.flags|=128,Y=!0,_=_.updateQueue,_!==null&&(E.updateQueue=_,E.flags|=4),Kf(ie,!0),ie.tail===null&&ie.tailMode==="hidden"&&!ve.alternate&&!vi)return cs(E),null}else 2*ws()-ie.renderingStartTime>hp&&H!==1073741824&&(E.flags|=128,Y=!0,Kf(ie,!1),E.lanes=4194304);ie.isBackwards?(ve.sibling=E.child,E.child=ve):(_=ie.last,_!==null?_.sibling=ve:E.child=ve,ie.last=ve)}return ie.tail!==null?(E=ie.tail,ie.rendering=E,ie.tail=E.sibling,ie.renderingStartTime=ws(),E.sibling=null,_=sa.current,Or(sa,Y?_&1|2:_&1),E):(cs(E),null);case 22:case 23:return nm(),Y=E.memoizedState!==null,_!==null&&_.memoizedState!==null!==Y&&(E.flags|=8192),Y&&E.mode&1?As&1073741824&&(cs(E),sn&&E.subtreeFlags&6&&(E.flags|=8192)):cs(E),null;case 24:return null;case 25:return null}throw Error(l(156,E.tag))}var Qp=d.ReactCurrentOwner,Ql=!1;function Qs(_,E,H,Y){E.child=_===null?Ja(E,null,H,Y):fc(E,_.child,H,Y)}function mf(_,E,H,Y,ie){H=H.render;var ve=E.ref;return Xl(E,ie),Y=Ko(_,E,H,Y,ve,ie),H=Fu(),_!==null&&!Ql?(E.updateQueue=_.updateQueue,E.flags&=-2053,_.lanes&=~ie,Gr(_,E,ie)):(vi&&H&&cf(E),E.flags|=1,Qs(_,E,Y,ie),E.child)}function yh(_,E,H,Y,ie){if(_===null){var ve=H.type;return typeof ve=="function"&&!hn(ve)&&ve.defaultProps===void 0&&H.compare===null&&H.defaultProps===void 0?(E.tag=15,E.type=ve,Lm(_,E,ve,Y,ie)):(_=Wa(H.type,null,Y,E,E.mode,ie),_.ref=E.ref,_.return=E,E.child=_)}if(ve=_.child,!(_.lanes&ie)){var at=ve.memoizedProps;if(H=H.compare,H=H!==null?H:Wo,H(at,Y)&&_.ref===E.ref)return Gr(_,E,ie)}return E.flags|=1,_=Xr(ve,Y),_.ref=E.ref,_.return=E,E.child=_}function Lm(_,E,H,Y,ie){if(_!==null&&Wo(_.memoizedProps,Y)&&_.ref===E.ref)if(Ql=!1,(_.lanes&ie)!==0)_.flags&131072&&(Ql=!0);else return E.lanes=_.lanes,Gr(_,E,ie);return _h(_,E,H,Y,ie)}function Ed(_,E,H){var Y=E.pendingProps,ie=Y.children,ve=_!==null?_.memoizedState:null;if(Y.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Or(Zl,As),As|=H;else if(H&1073741824)E.memoizedState={baseLanes:0,cachePool:null},Y=ve!==null?ve.baseLanes:H,Or(Zl,As),As|=Y;else return _=ve!==null?ve.baseLanes|H:H,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:_,cachePool:null},E.updateQueue=null,Or(Zl,As),As|=_,null;else ve!==null?(Y=ve.baseLanes|H,E.memoizedState=null):Y=H,Or(Zl,As),As|=Y;return Qs(_,E,ie,H),E.child}function Jp(_,E){var H=E.ref;(_===null&&H!==null||_!==null&&_.ref!==H)&&(E.flags|=512,E.flags|=2097152)}function _h(_,E,H,Y,ie){var ve=Fi(H)?ki:ji.current;return ve=Ni(E,ve),Xl(E,ie),H=Ko(_,E,H,Y,ve,ie),Y=Fu(),_!==null&&!Ql?(E.updateQueue=_.updateQueue,E.flags&=-2053,_.lanes&=~ie,Gr(_,E,ie)):(vi&&Y&&cf(E),E.flags|=1,Qs(_,E,H,ie),E.child)}function qf(_,E,H,Y,ie){if(Fi(H)){var ve=!0;Ki(E)}else ve=!1;if(Xl(E,ie),E.stateNode===null)_!==null&&(_.alternate=null,E.alternate=null,E.flags|=2),km(E,H,Y),lf(E,H,Y,ie),Y=!0;else if(_===null){var at=E.stateNode,bt=E.memoizedProps;at.props=bt;var mn=at.context,ar=H.contextType;typeof ar=="object"&&ar!==null?ar=wa(ar):(ar=Fi(H)?ki:ji.current,ar=Ni(E,ar));var Ur=H.getDerivedStateFromProps,qi=typeof Ur=="function"||typeof at.getSnapshotBeforeUpdate=="function";qi||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(bt!==Y||mn!==ar)&&Uf(E,at,Y,ar),_o=!1;var _i=E.memoizedState;at.state=_i,lc(E,Y,at,ie),mn=E.memoizedState,bt!==Y||_i!==mn||ti.current||_o?(typeof Ur=="function"&&(lh(E,H,Ur,Y),mn=E.memoizedState),(bt=_o||Wp(E,H,bt,Y,_i,mn,ar))?(qi||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(E.flags|=4194308)):(typeof at.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=Y,E.memoizedState=mn),at.props=Y,at.state=mn,at.context=ar,Y=bt):(typeof at.componentDidMount=="function"&&(E.flags|=4194308),Y=!1)}else{at=E.stateNode,gd(_,E),bt=E.memoizedProps,ar=E.type===E.elementType?bt:Es(E.type,bt),at.props=ar,qi=E.pendingProps,_i=at.context,mn=H.contextType,typeof mn=="object"&&mn!==null?mn=wa(mn):(mn=Fi(H)?ki:ji.current,mn=Ni(E,mn));var ao=H.getDerivedStateFromProps;(Ur=typeof ao=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(bt!==qi||_i!==mn)&&Uf(E,at,Y,mn),_o=!1,_i=E.memoizedState,at.state=_i,lc(E,Y,at,ie);var Zr=E.memoizedState;bt!==qi||_i!==Zr||ti.current||_o?(typeof ao=="function"&&(lh(E,H,ao,Y),Zr=E.memoizedState),(ar=_o||Wp(E,H,ar,Y,_i,Zr,mn)||!1)?(Ur||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(Y,Zr,mn),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(Y,Zr,mn)),typeof at.componentDidUpdate=="function"&&(E.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof at.componentDidUpdate!="function"||bt===_.memoizedProps&&_i===_.memoizedState||(E.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||bt===_.memoizedProps&&_i===_.memoizedState||(E.flags|=1024),E.memoizedProps=Y,E.memoizedState=Zr),at.props=Y,at.state=Zr,at.context=mn,Y=ar):(typeof at.componentDidUpdate!="function"||bt===_.memoizedProps&&_i===_.memoizedState||(E.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||bt===_.memoizedProps&&_i===_.memoizedState||(E.flags|=1024),Y=!1)}return up(_,E,H,Y,ve,ie)}function up(_,E,H,Y,ie,ve){Jp(_,E);var at=(E.flags&128)!==0;if(!Y&&!at)return ie&&ca(E,H,!1),Gr(_,E,ve);Y=E.stateNode,Qp.current=E;var bt=at&&typeof H.getDerivedStateFromError!="function"?null:Y.render();return E.flags|=1,_!==null&&at?(E.child=fc(E,_.child,null,ve),E.child=fc(E,null,bt,ve)):Qs(_,E,bt,ve),E.memoizedState=Y.state,ie&&ca(E,H,!0),E.child}function bd(_){var E=_.stateNode;E.pendingContext?mi(_,E.pendingContext,E.pendingContext!==E.context):E.context&&mi(_,E.context,!1),Yl(_,E.containerInfo)}function Sh(_,E,H,Y,ie){return cc(),ch(ie),E.flags|=256,Qs(_,E,H,Y),E.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function wh(_){return{baseLanes:_,cachePool:null}}function Nm(_,E,H){var Y=E.pendingProps,ie=sa.current,ve=!1,at=(E.flags&128)!==0,bt;if((bt=at)||(bt=_!==null&&_.memoizedState===null?!1:(ie&2)!==0),bt?(ve=!0,E.flags&=-129):(_===null||_.memoizedState!==null)&&(ie|=1),Or(sa,ie&1),_===null)return ep(E),_=E.memoizedState,_!==null&&(_=_.dehydrated,_!==null)?(E.mode&1?Sr(_)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(ie=Y.children,_=Y.fallback,ve?(Y=E.mode,ve=E.child,ie={mode:"hidden",children:ie},!(Y&1)&&ve!==null?(ve.childLanes=0,ve.pendingProps=ie):ve=Ea(ie,Y,0,null),_=ci(_,Y,H,null),ve.return=E,_.return=E,ve.sibling=_,E.child=ve,E.child.memoizedState=wh(H),E.memoizedState=xh,_):Eh(E,ie));if(ie=_.memoizedState,ie!==null){if(bt=ie.dehydrated,bt!==null){if(at)return E.flags&256?(E.flags&=-257,bh(_,E,H,Error(l(422)))):E.memoizedState!==null?(E.child=_.child,E.flags|=128,null):(ve=Y.fallback,ie=E.mode,Y=Ea({mode:"visible",children:Y.children},ie,0,null),ve=ci(ve,ie,H,null),ve.flags|=2,Y.return=E,ve.return=E,Y.sibling=ve,E.child=Y,E.mode&1&&fc(E,_.child,null,H),E.child.memoizedState=wh(H),E.memoizedState=xh,ve);if(!(E.mode&1))E=bh(_,E,H,null);else if(Sr(bt))E=bh(_,E,H,Error(l(419)));else if(Y=(H&_.childLanes)!==0,Ql||Y){if(Y=Di,Y!==null){switch(H&-H){case 4:ve=2;break;case 16:ve=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ve=32;break;case 536870912:ve=268435456;break;default:ve=0}Y=ve&(Y.suspendedLanes|H)?0:ve,Y!==0&&Y!==ie.retryLane&&(ie.retryLane=Y,po(_,Y,-1))}zm(),E=bh(_,E,H,Error(l(421)))}else Kn(bt)?(E.flags|=128,E.child=_.child,E=rr.bind(null,_),$n(bt,E),E=null):(H=ie.treeContext,Gt&&(Xs=xa(bt),qs=E,vi=!0,Qa=null,Ou=!1,H!==null&&(ks[cl++]=Bo,ks[cl++]=dl,ks[cl++]=fl,Bo=H.id,dl=H.overflow,fl=E)),E=Eh(E,E.pendingProps.children),E.flags|=4096);return E}return ve?(Y=vf(_,E,Y.children,Y.fallback,H),ve=E.child,ie=_.child.memoizedState,ve.memoizedState=ie===null?wh(H):{baseLanes:ie.baseLanes|H,cachePool:null},ve.childLanes=_.childLanes&~H,E.memoizedState=xh,Y):(H=Zp(_,E,Y.children,H),E.memoizedState=null,H)}return ve?(Y=vf(_,E,Y.children,Y.fallback,H),ve=E.child,ie=_.child.memoizedState,ve.memoizedState=ie===null?wh(H):{baseLanes:ie.baseLanes|H,cachePool:null},ve.childLanes=_.childLanes&~H,E.memoizedState=xh,Y):(H=Zp(_,E,Y.children,H),E.memoizedState=null,H)}function Eh(_,E){return E=Ea({mode:"visible",children:E},_.mode,0,null),E.return=_,_.child=E}function Zp(_,E,H,Y){var ie=_.child;return _=ie.sibling,H=Xr(ie,{mode:"visible",children:H}),!(E.mode&1)&&(H.lanes=Y),H.return=E,H.sibling=null,_!==null&&(Y=E.deletions,Y===null?(E.deletions=[_],E.flags|=16):Y.push(_)),E.child=H}function vf(_,E,H,Y,ie){var ve=E.mode;_=_.child;var at=_.sibling,bt={mode:"hidden",children:H};return!(ve&1)&&E.child!==_?(H=E.child,H.childLanes=0,H.pendingProps=bt,E.deletions=null):(H=Xr(_,bt),H.subtreeFlags=_.subtreeFlags&14680064),at!==null?Y=Xr(at,Y):(Y=ci(Y,ve,ie,null),Y.flags|=2),Y.return=E,H.return=E,H.sibling=Y,E.child=H,Y}function bh(_,E,H,Y){return Y!==null&&ch(Y),fc(E,_.child,null,H),_=Eh(E,E.pendingProps.children),_.flags|=2,E.memoizedState=null,_}function Cd(_,E,H){_.lanes|=E;var Y=_.alternate;Y!==null&&(Y.lanes|=E),ql(_.return,E,H)}function cp(_,E,H,Y,ie){var ve=_.memoizedState;ve===null?_.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:Y,tail:H,tailMode:ie}:(ve.isBackwards=E,ve.rendering=null,ve.renderingStartTime=0,ve.last=Y,ve.tail=H,ve.tailMode=ie)}function Bs(_,E,H){var Y=E.pendingProps,ie=Y.revealOrder,ve=Y.tail;if(Qs(_,E,Y.children,H),Y=sa.current,Y&2)Y=Y&1|2,E.flags|=128;else{if(_!==null&&_.flags&128)e:for(_=E.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&Cd(_,H,E);else if(_.tag===19)Cd(_,H,E);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===E)break e;for(;_.sibling===null;){if(_.return===null||_.return===E)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}Y&=1}if(Or(sa,Y),!(E.mode&1))E.memoizedState=null;else switch(ie){case"forwards":for(H=E.child,ie=null;H!==null;)_=H.alternate,_!==null&&hc(_)===null&&(ie=H),H=H.sibling;H=ie,H===null?(ie=E.child,E.child=null):(ie=H.sibling,H.sibling=null),cp(E,!1,ie,H,ve);break;case"backwards":for(H=null,ie=E.child,E.child=null;ie!==null;){if(_=ie.alternate,_!==null&&hc(_)===null){E.child=ie;break}_=ie.sibling,ie.sibling=H,H=ie,ie=_}cp(E,!0,H,null,ve);break;case"together":cp(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function Gr(_,E,H){if(_!==null&&(E.dependencies=_.dependencies),pu|=E.lanes,!(H&E.childLanes))return null;if(_!==null&&E.child!==_.child)throw Error(l(153));if(E.child!==null){for(_=E.child,H=Xr(_,_.pendingProps),E.child=H,H.return=E;_.sibling!==null;)_=_.sibling,H=H.sibling=Xr(_,_.pendingProps),H.return=E;H.sibling=null}return E.child}function Ml(_,E,H){switch(E.tag){case 3:bd(E),cc();break;case 5:dc(E);break;case 1:Fi(E.type)&&Ki(E);break;case 4:Yl(E,E.stateNode.containerInfo);break;case 10:Nf(E,E.type._context,E.memoizedProps.value);break;case 13:var Y=E.memoizedState;if(Y!==null)return Y.dehydrated!==null?(Or(sa,sa.current&1),E.flags|=128,null):H&E.child.childLanes?Nm(_,E,H):(Or(sa,sa.current&1),_=Gr(_,E,H),_!==null?_.sibling:null);Or(sa,sa.current&1);break;case 19:if(Y=(H&E.childLanes)!==0,_.flags&128){if(Y)return Bs(_,E,H);E.flags|=128}var ie=E.memoizedState;if(ie!==null&&(ie.rendering=null,ie.tail=null,ie.lastEffect=null),Or(sa,sa.current),Y)break;return null;case 22:case 23:return E.lanes=0,Ed(_,E,H)}return Gr(_,E,H)}function wo(_,E){switch(ff(E),E.tag){case 1:return Fi(E.type)&&no(),_=E.flags,_&65536?(E.flags=_&-65537|128,E):null;case 3:return uu(),Rr(ti),Rr(ji),tp(),_=E.flags,_&65536&&!(_&128)?(E.flags=_&-65537|128,E):null;case 5:return Nu(E),null;case 13:if(Rr(sa),_=E.memoizedState,_!==null&&_.dehydrated!==null){if(E.alternate===null)throw Error(l(340));cc()}return _=E.flags,_&65536?(E.flags=_&-65537|128,E):null;case 19:return Rr(sa),null;case 4:return uu(),null;case 10:return ku(E.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var Lo=!1,qo=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function pl(_,E){var H=_.ref;if(H!==null)if(typeof H=="function")try{H(null)}catch(Y){qn(_,E,Y)}else H.current=null}function jc(_,E,H){try{H()}catch(Y){qn(_,E,Y)}}var Xf=!1;function Gc(_,E){for(Se(_.containerInfo),Qn=E;Qn!==null;)if(_=Qn,E=_.child,(_.subtreeFlags&1028)!==0&&E!==null)E.return=_,Qn=E;else for(;Qn!==null;){_=Qn;try{var H=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var Y=H.memoizedProps,ie=H.memoizedState,ve=_.stateNode,at=ve.getSnapshotBeforeUpdate(_.elementType===_.type?Y:Es(_.type,Y),ie);ve.__reactInternalSnapshotBeforeUpdate=at}break;case 3:sn&&ir(_.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(bt){qn(_,_.return,bt)}if(E=_.sibling,E!==null){E.return=_.return,Qn=E;break}Qn=_.return}return H=Xf,Xf=!1,H}function vc(_,E,H){var Y=E.updateQueue;if(Y=Y!==null?Y.lastEffect:null,Y!==null){var ie=Y=Y.next;do{if((ie.tag&_)===_){var ve=ie.destroy;ie.destroy=void 0,ve!==void 0&&jc(E,H,ve)}ie=ie.next}while(ie!==Y)}}function Yf(_,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var H=E=E.next;do{if((H.tag&_)===_){var Y=H.create;H.destroy=Y()}H=H.next}while(H!==E)}}function Na(_){var E=_.ref;if(E!==null){var H=_.stateNode;switch(_.tag){case 5:_=ut(H);break;default:_=H}typeof E=="function"?E(_):E.current=_}}function em(_,E,H){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(su,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(_=E.updateQueue,_!==null&&(_=_.lastEffect,_!==null)){var Y=_=_.next;do{var ie=Y,ve=ie.destroy;ie=ie.tag,ve!==void 0&&(ie&2||ie&4)&&jc(E,H,ve),Y=Y.next}while(Y!==_)}break;case 1:if(pl(E,H),_=E.stateNode,typeof _.componentWillUnmount=="function")try{_.props=E.memoizedProps,_.state=E.memoizedState,_.componentWillUnmount()}catch(at){qn(E,H,at)}break;case 5:pl(E,H);break;case 4:sn?$f(_,E,H):$e&&$e&&(E=E.stateNode.containerInfo,H=Li(E),ft(E,H))}}function Jl(_,E,H){for(var Y=E;;)if(em(_,Y,H),Y.child===null||sn&&Y.tag===4){if(Y===E)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===E)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}else Y.child.return=Y,Y=Y.child}function wr(_){var E=_.alternate;E!==null&&(_.alternate=null,wr(E)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(E=_.stateNode,E!==null&&Cn(E)),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function du(_){return _.tag===5||_.tag===3||_.tag===4}function Ad(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||du(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function ju(_){if(sn){e:{for(var E=_.return;E!==null;){if(du(E))break e;E=E.return}throw Error(l(160))}var H=E;switch(H.tag){case 5:E=H.stateNode,H.flags&32&&(Dr(E),H.flags&=-33),H=Ad(_),hu(_,H,E);break;case 3:case 4:E=H.stateNode.containerInfo,H=Ad(_),fs(_,H,E);break;default:throw Error(l(161))}}}function fs(_,E,H){var Y=_.tag;if(Y===5||Y===6)_=_.stateNode,E?Bn(H,_,E):Ar(H,_);else if(Y!==4&&(_=_.child,_!==null))for(fs(_,E,H),_=_.sibling;_!==null;)fs(_,E,H),_=_.sibling}function hu(_,E,H){var Y=_.tag;if(Y===5||Y===6)_=_.stateNode,E?On(H,_,E):Nn(H,_);else if(Y!==4&&(_=_.child,_!==null))for(hu(_,E,H),_=_.sibling;_!==null;)hu(_,E,H),_=_.sibling}function $f(_,E,H){for(var Y=E,ie=!1,ve,at;;){if(!ie){ie=Y.return;e:for(;;){if(ie===null)throw Error(l(160));switch(ve=ie.stateNode,ie.tag){case 5:at=!1;break e;case 3:ve=ve.containerInfo,at=!0;break e;case 4:ve=ve.containerInfo,at=!0;break e}ie=ie.return}ie=!0}if(Y.tag===5||Y.tag===6)Jl(_,Y,H),at?Yn(ve,Y.stateNode):Wn(ve,Y.stateNode);else if(Y.tag===18)at?Dt(ve,Y.stateNode):It(ve,Y.stateNode);else if(Y.tag===4){if(Y.child!==null){ve=Y.stateNode.containerInfo,at=!0,Y.child.return=Y,Y=Y.child;continue}}else if(em(_,Y,H),Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===E)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===E)return;Y=Y.return,Y.tag===4&&(ie=!1)}Y.sibling.return=Y.return,Y=Y.sibling}}function Qf(_,E){if(sn){switch(E.tag){case 0:case 11:case 14:case 15:vc(3,E,E.return),Yf(3,E),vc(5,E,E.return);return;case 1:return;case 5:var H=E.stateNode;if(H!=null){var Y=E.memoizedProps;_=_!==null?_.memoizedProps:Y;var ie=E.type,ve=E.updateQueue;E.updateQueue=null,ve!==null&&Jt(H,ve,ie,_,Y,E)}return;case 6:if(E.stateNode===null)throw Error(l(162));H=E.memoizedProps,Zn(E.stateNode,_!==null?_.memoizedProps:H,H);return;case 3:Gt&&_!==null&&_.memoizedState.isDehydrated&&Xe(E.stateNode.containerInfo);return;case 12:return;case 13:Td(E);return;case 19:Td(E);return;case 17:return}throw Error(l(163))}switch(E.tag){case 0:case 11:case 14:case 15:vc(3,E,E.return),Yf(3,E),vc(5,E,E.return);return;case 12:return;case 13:Td(E);return;case 19:Td(E);return;case 3:Gt&&_!==null&&_.memoizedState.isDehydrated&&Xe(E.stateNode.containerInfo);break;case 22:case 23:return}e:if($e){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,ft(E.containerInfo,E.pendingChildren);break e}throw Error(l(163))}}function Td(_){var E=_.updateQueue;if(E!==null){_.updateQueue=null;var H=_.stateNode;H===null&&(H=_.stateNode=new Fm),E.forEach(function(Y){var ie=Fa.bind(null,_,Y);H.has(Y)||(H.add(Y),Y.then(ie,ie))})}}function Vc(_,E){for(Qn=E;Qn!==null;){E=Qn;var H=E.deletions;if(H!==null)for(var Y=0;Y<H.length;Y++){var ie=H[Y];try{var ve=_;sn?$f(ve,ie,E):Jl(ve,ie,E);var at=ie.alternate;at!==null&&(at.return=null),ie.return=null}catch(ni){qn(ie,E,ni)}}if(H=E.child,E.subtreeFlags&12854&&H!==null)H.return=E,Qn=H;else for(;Qn!==null;){E=Qn;try{var bt=E.flags;if(bt&32&&sn&&Dr(E.stateNode),bt&512){var mn=E.alternate;if(mn!==null){var ar=mn.ref;ar!==null&&(typeof ar=="function"?ar(null):ar.current=null)}}if(bt&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var Ur=E.alternate;(Ur===null||Ur.memoizedState===null)&&(tm=ws())}break;case 22:var qi=E.memoizedState!==null,_i=E.alternate,ao=_i!==null&&_i.memoizedState!==null;if(H=E,sn){e:if(Y=H,ie=qi,ve=null,sn)for(var Zr=Y;;){if(Zr.tag===5){if(ve===null){ve=Zr;var _u=Zr.stateNode;ie?cr(_u):Ot(Zr.stateNode,Zr.memoizedProps)}}else if(Zr.tag===6){if(ve===null){var bc=Zr.stateNode;ie?ht(bc):Rt(bc,Zr.memoizedProps)}}else if((Zr.tag!==22&&Zr.tag!==23||Zr.memoizedState===null||Zr===Y)&&Zr.child!==null){Zr.child.return=Zr,Zr=Zr.child;continue}if(Zr===Y)break;for(;Zr.sibling===null;){if(Zr.return===null||Zr.return===Y)break e;ve===Zr&&(ve=null),Zr=Zr.return}ve===Zr&&(ve=null),Zr.sibling.return=Zr.return,Zr=Zr.sibling}}if(qi&&!ao&&H.mode&1){Qn=H;for(var qt=H.child;qt!==null;){for(H=Qn=qt;Qn!==null;){Y=Qn;var Pt=Y.child;switch(Y.tag){case 0:case 11:case 14:case 15:vc(4,Y,Y.return);break;case 1:pl(Y,Y.return);var rn=Y.stateNode;if(typeof rn.componentWillUnmount=="function"){var Mr=Y.return;try{rn.props=Y.memoizedProps,rn.state=Y.memoizedState,rn.componentWillUnmount()}catch(ni){qn(Y,Mr,ni)}}break;case 5:pl(Y,Y.return);break;case 22:if(Y.memoizedState!==null){gc(H);continue}}Pt!==null?(Pt.return=Y,Qn=Pt):gc(H)}qt=qt.sibling}}}switch(bt&4102){case 2:ju(E),E.flags&=-3;break;case 6:ju(E),E.flags&=-3,Qf(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,Qf(E.alternate,E);break;case 4:Qf(E.alternate,E)}}catch(ni){qn(E,E.return,ni)}if(H=E.sibling,H!==null){H.return=E.return,Qn=H;break}Qn=E.return}}}function Wc(_,E,H){Qn=_,Ch(_)}function Ch(_,E,H){for(var Y=(_.mode&1)!==0;Qn!==null;){var ie=Qn,ve=ie.child;if(ie.tag===22&&Y){var at=ie.memoizedState!==null||Lo;if(!at){var bt=ie.alternate,mn=bt!==null&&bt.memoizedState!==null||qo;bt=Lo;var ar=qo;if(Lo=at,(qo=mn)&&!ar)for(Qn=ie;Qn!==null;)at=Qn,mn=at.child,at.tag===22&&at.memoizedState!==null?fp(ie):mn!==null?(mn.return=at,Qn=mn):fp(ie);for(;ve!==null;)Qn=ve,Ch(ve),ve=ve.sibling;Qn=ie,Lo=bt,qo=ar}Md(_)}else ie.subtreeFlags&8772&&ve!==null?(ve.return=ie,Qn=ve):Md(_)}}function Md(_){for(;Qn!==null;){var E=Qn;if(E.flags&8772){var H=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:qo||Yf(5,E);break;case 1:var Y=E.stateNode;if(E.flags&4&&!qo)if(H===null)Y.componentDidMount();else{var ie=E.elementType===E.type?H.memoizedProps:Es(E.type,H.memoizedProps);Y.componentDidUpdate(ie,H.memoizedState,Y.__reactInternalSnapshotBeforeUpdate)}var ve=E.updateQueue;ve!==null&&Fc(E,ve,Y);break;case 3:var at=E.updateQueue;if(at!==null){if(H=null,E.child!==null)switch(E.child.tag){case 5:H=ut(E.child.stateNode);break;case 1:H=E.child.stateNode}Fc(E,at,H)}break;case 5:var bt=E.stateNode;H===null&&E.flags&4&&Je(bt,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(Gt&&E.memoizedState===null){var mn=E.alternate;if(mn!==null){var ar=mn.memoizedState;if(ar!==null){var Ur=ar.dehydrated;Ur!==null&&rt(Ur)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(l(163))}qo||E.flags&512&&Na(E)}catch(qi){qn(E,E.return,qi)}}if(E===_){Qn=null;break}if(H=E.sibling,H!==null){H.return=E.return,Qn=H;break}Qn=E.return}}function gc(_){for(;Qn!==null;){var E=Qn;if(E===_){Qn=null;break}var H=E.sibling;if(H!==null){H.return=E.return,Qn=H;break}Qn=E.return}}function fp(_){for(;Qn!==null;){var E=Qn;try{switch(E.tag){case 0:case 11:case 15:var H=E.return;try{Yf(4,E)}catch(mn){qn(E,H,mn)}break;case 1:var Y=E.stateNode;if(typeof Y.componentDidMount=="function"){var ie=E.return;try{Y.componentDidMount()}catch(mn){qn(E,ie,mn)}}var ve=E.return;try{Na(E)}catch(mn){qn(E,ve,mn)}break;case 5:var at=E.return;try{Na(E)}catch(mn){qn(E,at,mn)}}}catch(mn){qn(E,E.return,mn)}if(E===_){Qn=null;break}var bt=E.sibling;if(bt!==null){bt.return=E.return,Qn=bt;break}Qn=E.return}}var gf=0,yc=1,Xo=2,Gu=3,_c=4;if(typeof Symbol=="function"&&Symbol.for){var Sc=Symbol.for;gf=Sc("selector.component"),yc=Sc("selector.has_pseudo_class"),Xo=Sc("selector.role"),Gu=Sc("selector.test_id"),_c=Sc("selector.text")}function Pl(_){var E=Ut(_);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(l(364));return E}if(_=Jr(_),_===null)throw Error(l(362));return _.stateNode.current}function Pd(_,E){switch(E.$$typeof){case gf:if(_.type===E.value)return!0;break;case yc:e:{E=E.value,_=[_,0];for(var H=0;H<_.length;){var Y=_[H++],ie=_[H++],ve=E[ie];if(Y.tag!==5||!Be(Y)){for(;ve!=null&&Pd(Y,ve);)ie++,ve=E[ie];if(ie===E.length){E=!0;break e}else for(Y=Y.child;Y!==null;)_.push(Y,ie),Y=Y.sibling}}E=!1}return E;case Xo:if(_.tag===5&&Nt(_.stateNode,E.value))return!0;break;case _c:if((_.tag===5||_.tag===6)&&(_=et(_),_!==null&&0<=_.indexOf(E.value)))return!0;break;case Gu:if(_.tag===5&&(_=_.memoizedProps["data-testname"],typeof _=="string"&&_.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function ml(_){switch(_.$$typeof){case gf:return"<"+(de(_.value)||"Unknown")+">";case yc:return":has("+(ml(_)||"")+")";case Xo:return'[role="'+_.value+'"]';case _c:return'"'+_.value+'"';case Gu:return'[data-testname="'+_.value+'"]';default:throw Error(l(365))}}function Ah(_,E){var H=[];_=[_,0];for(var Y=0;Y<_.length;){var ie=_[Y++],ve=_[Y++],at=E[ve];if(ie.tag!==5||!Be(ie)){for(;at!=null&&Pd(ie,at);)ve++,at=E[ve];if(ve===E.length)H.push(ie);else for(ie=ie.child;ie!==null;)_.push(ie,ve),ie=ie.sibling}}return H}function dp(_,E){if(!dr)throw Error(l(363));_=Pl(_),_=Ah(_,E),E=[],_=Array.from(_);for(var H=0;H<_.length;){var Y=_[H++];if(Y.tag===5)Be(Y)||E.push(Y.stateNode);else for(Y=Y.child;Y!==null;)_.push(Y),Y=Y.sibling}return E}var Rd=Math.ceil,Th=d.ReactCurrentDispatcher,Kc=d.ReactCurrentOwner,Mo=d.ReactCurrentBatchConfig,Ri=0,Di=null,Eo=null,Za=0,As=0,Zl=pr(0),No=0,Id=null,pu=0,Jf=0,kd=0,Ls=null,Yo=null,tm=0,hp=1/0;function Js(){hp=ws()+500}var mu=!1,$o=null,Fo=null,Qo=!1,vu=null,yf=0,Zs=0,pp=null,Mh=-1,gu=0;function Jo(){return Ri&6?ws():Mh!==-1?Mh:Mh=ws()}function el(_){return _.mode&1?Ri&2&&Za!==0?Za&-Za:Tv.transition!==null?(gu===0&&(_=Ss,Ss<<=1,!(Ss&4194240)&&(Ss=64),gu=_),gu):(_=Pi,_!==0?_:Yt()):1}function po(_,E,H){if(50<Zs)throw Zs=0,pp=null,Error(l(185));var Y=xc(_,E);return Y===null?null:(Iu(Y,E,H),(!(Ri&2)||Y!==Di)&&(Y===Di&&(!(Ri&2)&&(Jf|=E),No===4&&Xc(Y,Za)),eu(Y,H),E===1&&Ri===0&&!(_.mode&1)&&(Js(),fo&&oc())),Y)}function xc(_,E){_.lanes|=E;var H=_.alternate;for(H!==null&&(H.lanes|=E),H=_,_=_.return;_!==null;)_.childLanes|=E,H=_.alternate,H!==null&&(H.childLanes|=E),H=_,_=_.return;return H.tag===3?H.stateNode:null}function eu(_,E){var H=_.callbackNode;Bc(_,E);var Y=ou(_,_===Di?Za:0);if(Y===0)H!==null&&Lc(H),_.callbackNode=null,_.callbackPriority=0;else if(E=Y&-Y,_.callbackPriority!==E){if(H!=null&&Lc(H),E===1)_.tag===0?Im(Dd.bind(null,_)):bl(Dd.bind(null,_)),Dn?nr(function(){Ri===0&&oc()}):oh(Ga,oc),H=null;else{switch(hd(Y)){case 1:H=Ga;break;case 4:H=Vl;break;case 16:H=pd;break;case 536870912:H=sf;break;default:H=pd}H=yu(H,qc.bind(null,_))}_.callbackPriority=E,_.callbackNode=H}}function qc(_,E){if(Mh=-1,gu=0,Ri&6)throw Error(l(327));var H=_.callbackNode;if(yt()&&_.callbackNode!==H)return null;var Y=ou(_,_===Di?Za:0);if(Y===0)return null;if(Y&30||Y&_.expiredLanes||E)E=C(_,Y);else{E=Y;var ie=Ri;Ri|=2;var ve=bg();(Di!==_||Za!==E)&&(Js(),Ec(_,E));do try{z();break}catch(bt){_f(_,bt)}while(1);Kl(),Th.current=ve,Ri=ie,Eo!==null?E=0:(Di=null,Za=0,E=No)}if(E!==0){if(E===2&&(ie=Qh(_),ie!==0&&(Y=ie,E=wc(_,ie))),E===1)throw H=Id,Ec(_,0),Xc(_,Y),eu(_,ws()),H;if(E===6)Xc(_,Y);else{if(ie=_.current.alternate,!(Y&30)&&!mp(ie)&&(E=C(_,Y),E===2&&(ve=Qh(_),ve!==0&&(Y=ve,E=wc(_,ve))),E===1))throw H=Id,Ec(_,0),Xc(_,Y),eu(_,ws()),H;switch(_.finishedWork=ie,_.finishedLanes=Y,E){case 0:case 1:throw Error(l(345));case 2:Me(_,Yo);break;case 3:if(Xc(_,Y),(Y&130023424)===Y&&(E=tm+500-ws(),10<E)){if(ou(_,0)!==0)break;if(ie=_.suspendedLanes,(ie&Y)!==Y){Jo(),_.pingedLanes|=_.suspendedLanes&ie;break}_.timeoutHandle=Mt(Me.bind(null,_,Yo),E);break}Me(_,Yo);break;case 4:if(Xc(_,Y),(Y&4194240)===Y)break;for(E=_.eventTimes,ie=-1;0<Y;){var at=31-Da(Y);ve=1<<at,at=E[at],at>ie&&(ie=at),Y&=~ve}if(Y=ie,Y=ws()-Y,Y=(120>Y?120:480>Y?480:1080>Y?1080:1920>Y?1920:3e3>Y?3e3:4320>Y?4320:1960*Rd(Y/1960))-Y,10<Y){_.timeoutHandle=Mt(Me.bind(null,_,Yo),Y);break}Me(_,Yo);break;case 5:Me(_,Yo);break;default:throw Error(l(329))}}}return eu(_,ws()),_.callbackNode===H?qc.bind(null,_):null}function wc(_,E){var H=Ls;return _.current.memoizedState.isDehydrated&&(Ec(_,E).flags|=256),_=C(_,E),_!==2&&(E=Yo,Yo=H,E!==null&&Vu(E)),_}function Vu(_){Yo===null?Yo=_:Yo.push.apply(Yo,_)}function mp(_){for(var E=_;;){if(E.flags&16384){var H=E.updateQueue;if(H!==null&&(H=H.stores,H!==null))for(var Y=0;Y<H.length;Y++){var ie=H[Y],ve=ie.getSnapshot;ie=ie.value;try{if(!Ks(ve(),ie))return!1}catch{return!1}}}if(H=E.child,E.subtreeFlags&16384&&H!==null)H.return=E,E=H;else{if(E===_)break;for(;E.sibling===null;){if(E.return===null||E.return===_)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function Xc(_,E){for(E&=~kd,E&=~Jf,_.suspendedLanes|=E,_.pingedLanes&=~E,_=_.expirationTimes;0<E;){var H=31-Da(E),Y=1<<H;_[H]=-1,E&=~Y}}function Dd(_){if(Ri&6)throw Error(l(327));yt();var E=ou(_,0);if(!(E&1))return eu(_,ws()),null;var H=C(_,E);if(_.tag!==0&&H===2){var Y=Qh(_);Y!==0&&(E=Y,H=wc(_,Y))}if(H===1)throw H=Id,Ec(_,0),Xc(_,E),eu(_,ws()),H;if(H===6)throw Error(l(345));return _.finishedWork=_.current.alternate,_.finishedLanes=E,Me(_,Yo),eu(_,ws()),null}function Um(_){vu!==null&&vu.tag===0&&!(Ri&6)&&yt();var E=Ri;Ri|=1;var H=Mo.transition,Y=Pi;try{if(Mo.transition=null,Pi=1,_)return _()}finally{Pi=Y,Mo.transition=H,Ri=E,!(Ri&6)&&oc()}}function nm(){As=Zl.current,Rr(Zl)}function Ec(_,E){_.finishedWork=null,_.finishedLanes=0;var H=_.timeoutHandle;if(H!==en&&(_.timeoutHandle=en,dt(H)),Eo!==null)for(H=Eo.return;H!==null;){var Y=H;switch(ff(Y),Y.tag){case 1:Y=Y.type.childContextTypes,Y!=null&&no();break;case 3:uu(),Rr(ti),Rr(ji),tp();break;case 5:Nu(Y);break;case 4:uu();break;case 13:Rr(sa);break;case 19:Rr(sa);break;case 10:ku(Y.type._context);break;case 22:case 23:nm()}H=H.return}if(Di=_,Eo=_=Xr(_.current,null),Za=As=E,No=0,Id=null,kd=Jf=pu=0,Yo=Ls=null,yo!==null){for(E=0;E<yo.length;E++)if(H=yo[E],Y=H.interleaved,Y!==null){H.interleaved=null;var ie=Y.next,ve=H.pending;if(ve!==null){var at=ve.next;ve.next=ie,Y.next=at}H.pending=Y}yo=null}return _}function _f(_,E){do{var H=Eo;try{if(Kl(),np.current=Hu,xe){for(var Y=Ai.memoizedState;Y!==null;){var ie=Y.queue;ie!==null&&(ie.pending=null),Y=Y.next}xe=!1}if(cu=0,Ba=Ys=Ai=null,Ye=!1,vt=0,Kc.current=null,H===null||H.return===null){No=1,Id=E,Eo=null;break}e:{var ve=_,at=H.return,bt=H,mn=E;if(E=Za,bt.flags|=32768,mn!==null&&typeof mn=="object"&&typeof mn.then=="function"){var ar=mn,Ur=bt,qi=Ur.tag;if(!(Ur.mode&1)&&(qi===0||qi===11||qi===15)){var _i=Ur.alternate;_i?(Ur.updateQueue=_i.updateQueue,Ur.memoizedState=_i.memoizedState,Ur.lanes=_i.lanes):(Ur.updateQueue=null,Ur.memoizedState=null)}var ao=Wf(at);if(ao!==null){ao.flags&=-257,ho(ao,at,bt,ve,E),ao.mode&1&&gh(ve,ar,E),E=ao,mn=ar;var Zr=E.updateQueue;if(Zr===null){var _u=new Set;_u.add(mn),E.updateQueue=_u}else Zr.add(mn);break e}else{if(!(E&1)){gh(ve,ar,E),zm();break e}mn=Error(l(426))}}else if(vi&&bt.mode&1){var bc=Wf(at);if(bc!==null){!(bc.flags&65536)&&(bc.flags|=256),ho(bc,at,bt,ve,E),ch(mn);break e}}ve=mn,No!==4&&(No=2),Ls===null?Ls=[ve]:Ls.push(ve),mn=sp(mn,bt),bt=at;do{switch(bt.tag){case 3:bt.flags|=65536,E&=-E,bt.lanes|=E;var qt=io(bt,mn,E);Ff(bt,qt);break e;case 1:ve=mn;var Pt=bt.type,rn=bt.stateNode;if(!(bt.flags&128)&&(typeof Pt.getDerivedStateFromError=="function"||rn!==null&&typeof rn.componentDidCatch=="function"&&(Fo===null||!Fo.has(rn)))){bt.flags|=65536,E&=-E,bt.lanes|=E;var Mr=Bm(bt,ve,E);Ff(bt,Mr);break e}}bt=bt.return}while(bt!==null)}ce(H)}catch(ni){E=ni,Eo===H&&H!==null&&(Eo=H=H.return);continue}break}while(1)}function bg(){var _=Th.current;return Th.current=Hu,_===null?Hu:_}function zm(){(No===0||No===3||No===2)&&(No=4),Di===null||!(pu&268435455)&&!(Jf&268435455)||Xc(Di,Za)}function C(_,E){var H=Ri;Ri|=2;var Y=bg();Di===_&&Za===E||Ec(_,E);do try{M();break}catch(ie){_f(_,ie)}while(1);if(Kl(),Ri=H,Th.current=Y,Eo!==null)throw Error(l(261));return Di=null,Za=0,No}function M(){for(;Eo!==null;)ae(Eo)}function z(){for(;Eo!==null&&!Vp();)ae(Eo)}function ae(_){var E=eo(_.alternate,_,As);_.memoizedProps=_.pendingProps,E===null?ce(_):Eo=E,Kc.current=null}function ce(_){var E=_;do{var H=E.alternate;if(_=E.return,E.flags&32768){if(H=wo(H,E),H!==null){H.flags&=32767,Eo=H;return}if(_!==null)_.flags|=32768,_.subtreeFlags=0,_.deletions=null;else{No=6,Eo=null;return}}else if(H=$p(H,E,As),H!==null){Eo=H;return}if(E=E.sibling,E!==null){Eo=E;return}Eo=E=_}while(E!==null);No===0&&(No=5)}function Me(_,E){var H=Pi,Y=Mo.transition;try{Mo.transition=null,Pi=1,ot(_,E,H)}finally{Mo.transition=Y,Pi=H}return null}function ot(_,E,H){do yt();while(vu!==null);if(Ri&6)throw Error(l(327));var Y=_.finishedWork,ie=_.finishedLanes;if(Y===null)return null;if(_.finishedWork=null,_.finishedLanes=0,Y===_.current)throw Error(l(177));_.callbackNode=null,_.callbackPriority=0;var ve=Y.lanes|Y.childLanes;if(Jh(_,ve),_===Di&&(Eo=Di=null,Za=0),!(Y.subtreeFlags&2064)&&!(Y.flags&2064)||Qo||(Qo=!0,yu(pd,function(){return yt(),null})),ve=(Y.flags&15990)!==0,Y.subtreeFlags&15990||ve){ve=Mo.transition,Mo.transition=null;var at=Pi;Pi=1;var bt=Ri;Ri|=4,Kc.current=null,Gc(_,Y),Vc(_,Y),we(_.containerInfo),_.current=Y,Wc(Y),Zh(),Ri=bt,Pi=at,Mo.transition=ve}else _.current=Y;if(Qo&&(Qo=!1,vu=_,yf=ie),ve=_.pendingLanes,ve===0&&(Fo=null),sh(Y.stateNode),eu(_,ws()),E!==null)for(H=_.onRecoverableError,Y=0;Y<E.length;Y++)H(E[Y]);if(mu)throw mu=!1,_=$o,$o=null,_;return yf&1&&_.tag!==0&&yt(),ve=_.pendingLanes,ve&1?_===pp?Zs++:(Zs=0,pp=_):Zs=0,oc(),null}function yt(){if(vu!==null){var _=hd(yf),E=Mo.transition,H=Pi;try{if(Mo.transition=null,Pi=16>_?16:_,vu===null)var Y=!1;else{if(_=vu,vu=null,yf=0,Ri&6)throw Error(l(331));var ie=Ri;for(Ri|=4,Qn=_.current;Qn!==null;){var ve=Qn,at=ve.child;if(Qn.flags&16){var bt=ve.deletions;if(bt!==null){for(var mn=0;mn<bt.length;mn++){var ar=bt[mn];for(Qn=ar;Qn!==null;){var Ur=Qn;switch(Ur.tag){case 0:case 11:case 15:vc(8,Ur,ve)}var qi=Ur.child;if(qi!==null)qi.return=Ur,Qn=qi;else for(;Qn!==null;){Ur=Qn;var _i=Ur.sibling,ao=Ur.return;if(wr(Ur),Ur===ar){Qn=null;break}if(_i!==null){_i.return=ao,Qn=_i;break}Qn=ao}}}var Zr=ve.alternate;if(Zr!==null){var _u=Zr.child;if(_u!==null){Zr.child=null;do{var bc=_u.sibling;_u.sibling=null,_u=bc}while(_u!==null)}}Qn=ve}}if(ve.subtreeFlags&2064&&at!==null)at.return=ve,Qn=at;else e:for(;Qn!==null;){if(ve=Qn,ve.flags&2048)switch(ve.tag){case 0:case 11:case 15:vc(9,ve,ve.return)}var qt=ve.sibling;if(qt!==null){qt.return=ve.return,Qn=qt;break e}Qn=ve.return}}var Pt=_.current;for(Qn=Pt;Qn!==null;){at=Qn;var rn=at.child;if(at.subtreeFlags&2064&&rn!==null)rn.return=at,Qn=rn;else e:for(at=Pt;Qn!==null;){if(bt=Qn,bt.flags&2048)try{switch(bt.tag){case 0:case 11:case 15:Yf(9,bt)}}catch(ni){qn(bt,bt.return,ni)}if(bt===at){Qn=null;break e}var Mr=bt.sibling;if(Mr!==null){Mr.return=bt.return,Qn=Mr;break e}Qn=bt.return}}if(Ri=ie,oc(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(su,_)}catch{}Y=!0}return Y}finally{Pi=H,Mo.transition=E}}return!1}function pn(_,E,H){E=sp(H,E),E=io(_,E,1),Is(_,E),E=Jo(),_=xc(_,1),_!==null&&(Iu(_,1,E),eu(_,E))}function qn(_,E,H){if(_.tag===3)pn(_,_,H);else for(;E!==null;){if(E.tag===3){pn(E,_,H);break}else if(E.tag===1){var Y=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(Fo===null||!Fo.has(Y))){_=sp(H,_),_=Bm(E,_,1),Is(E,_),_=Jo(),E=xc(E,1),E!==null&&(Iu(E,1,_),eu(E,_));break}}E=E.return}}function ui(_,E,H){var Y=_.pingCache;Y!==null&&Y.delete(E),E=Jo(),_.pingedLanes|=_.suspendedLanes&H,Di===_&&(Za&H)===H&&(No===4||No===3&&(Za&130023424)===Za&&500>ws()-tm?Ec(_,0):kd|=H),eu(_,E)}function oi(_,E){E===0&&(_.mode&1?(E=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):E=1);var H=Jo();_=xc(_,E),_!==null&&(Iu(_,E,H),eu(_,H))}function rr(_){var E=_.memoizedState,H=0;E!==null&&(H=E.retryLane),oi(_,H)}function Fa(_,E){var H=0;switch(_.tag){case 13:var Y=_.stateNode,ie=_.memoizedState;ie!==null&&(H=ie.retryLane);break;case 19:Y=_.stateNode;break;default:throw Error(l(314))}Y!==null&&Y.delete(E),oi(_,H)}var eo;eo=function(_,E,H){if(_!==null)if(_.memoizedProps!==E.pendingProps||ti.current)Ql=!0;else{if(!(_.lanes&H)&&!(E.flags&128))return Ql=!1,Ml(_,E,H);Ql=!!(_.flags&131072)}else Ql=!1,vi&&E.flags&1048576&&lu(E,uh,E.index);switch(E.lanes=0,E.tag){case 2:var Y=E.type;_!==null&&(_.alternate=null,E.alternate=null,E.flags|=2),_=E.pendingProps;var ie=Ni(E,ji.current);Xl(E,H),ie=Ko(null,E,Y,_,ie,H);var ve=Fu();return E.flags|=1,typeof ie=="object"&&ie!==null&&typeof ie.render=="function"&&ie.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,Fi(Y)?(ve=!0,Ki(E)):ve=!1,E.memoizedState=ie.state!==null&&ie.state!==void 0?ie.state:null,Cl(E),ie.updater=uc,E.stateNode=ie,ie._reactInternals=E,lf(E,Y,_,H),E=up(null,E,Y,!0,ve,H)):(E.tag=0,vi&&ve&&cf(E),Qs(null,E,ie,H),E=E.child),E;case 16:Y=E.elementType;e:{switch(_!==null&&(_.alternate=null,E.alternate=null,E.flags|=2),_=E.pendingProps,ie=Y._init,Y=ie(Y._payload),E.type=Y,ie=E.tag=Cr(Y),_=Es(Y,_),ie){case 0:E=_h(null,E,Y,_,H);break e;case 1:E=qf(null,E,Y,_,H);break e;case 11:E=mf(null,E,Y,_,H);break e;case 14:E=yh(null,E,Y,Es(Y.type,_),H);break e}throw Error(l(306,Y,""))}return E;case 0:return Y=E.type,ie=E.pendingProps,ie=E.elementType===Y?ie:Es(Y,ie),_h(_,E,Y,ie,H);case 1:return Y=E.type,ie=E.pendingProps,ie=E.elementType===Y?ie:Es(Y,ie),qf(_,E,Y,ie,H);case 3:e:{if(bd(E),_===null)throw Error(l(387));Y=E.pendingProps,ve=E.memoizedState,ie=ve.element,gd(_,E),lc(E,Y,null,H);var at=E.memoizedState;if(Y=at.element,Gt&&ve.isDehydrated)if(ve={element:Y,isDehydrated:!1,cache:at.cache,transitions:at.transitions},E.updateQueue.baseState=ve,E.memoizedState=ve,E.flags&256){ie=Error(l(423)),E=Sh(_,E,Y,H,ie);break e}else if(Y!==ie){ie=Error(l(424)),E=Sh(_,E,Y,H,ie);break e}else for(Gt&&(Xs=ja(E.stateNode.containerInfo),qs=E,vi=!0,Qa=null,Ou=!1),H=Ja(E,null,Y,H),E.child=H;H;)H.flags=H.flags&-3|4096,H=H.sibling;else{if(cc(),Y===ie){E=Gr(_,E,H);break e}Qs(_,E,Y,H)}E=E.child}return E;case 5:return dc(E),_===null&&ep(E),Y=E.type,ie=E.pendingProps,ve=_!==null?_.memoizedProps:null,at=ie.children,mt(Y,ie)?at=null:ve!==null&&mt(Y,ve)&&(E.flags|=32),Jp(_,E),Qs(_,E,at,H),E.child;case 6:return _===null&&ep(E),null;case 13:return Nm(_,E,H);case 4:return Yl(E,E.stateNode.containerInfo),Y=E.pendingProps,_===null?E.child=fc(E,null,Y,H):Qs(_,E,Y,H),E.child;case 11:return Y=E.type,ie=E.pendingProps,ie=E.elementType===Y?ie:Es(Y,ie),mf(_,E,Y,ie,H);case 7:return Qs(_,E,E.pendingProps,H),E.child;case 8:return Qs(_,E,E.pendingProps.children,H),E.child;case 12:return Qs(_,E,E.pendingProps.children,H),E.child;case 10:e:{if(Y=E.type._context,ie=E.pendingProps,ve=E.memoizedProps,at=ie.value,Nf(E,Y,at),ve!==null)if(Ks(ve.value,at)){if(ve.children===ie.children&&!ti.current){E=Gr(_,E,H);break e}}else for(ve=E.child,ve!==null&&(ve.return=E);ve!==null;){var bt=ve.dependencies;if(bt!==null){at=ve.child;for(var mn=bt.firstContext;mn!==null;){if(mn.context===Y){if(ve.tag===1){mn=So(-1,H&-H),mn.tag=2;var ar=ve.updateQueue;if(ar!==null){ar=ar.shared;var Ur=ar.pending;Ur===null?mn.next=mn:(mn.next=Ur.next,Ur.next=mn),ar.pending=mn}}ve.lanes|=H,mn=ve.alternate,mn!==null&&(mn.lanes|=H),ql(ve.return,H,E),bt.lanes|=H;break}mn=mn.next}}else if(ve.tag===10)at=ve.type===E.type?null:ve.child;else if(ve.tag===18){if(at=ve.return,at===null)throw Error(l(341));at.lanes|=H,bt=at.alternate,bt!==null&&(bt.lanes|=H),ql(at,H,E),at=ve.sibling}else at=ve.child;if(at!==null)at.return=ve;else for(at=ve;at!==null;){if(at===E){at=null;break}if(ve=at.sibling,ve!==null){ve.return=at.return,at=ve;break}at=at.return}ve=at}Qs(_,E,ie.children,H),E=E.child}return E;case 9:return ie=E.type,Y=E.pendingProps.children,Xl(E,H),ie=wa(ie),Y=Y(ie),E.flags|=1,Qs(_,E,Y,H),E.child;case 14:return Y=E.type,ie=Es(Y,E.pendingProps),ie=Es(Y.type,ie),yh(_,E,Y,ie,H);case 15:return Lm(_,E,E.type,E.pendingProps,H);case 17:return Y=E.type,ie=E.pendingProps,ie=E.elementType===Y?ie:Es(Y,ie),_!==null&&(_.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Fi(Y)?(_=!0,Ki(E)):_=!1,Xl(E,H),km(E,Y,ie),lf(E,Y,ie,H),up(null,E,Y,!0,_,H);case 19:return Bs(_,E,H);case 22:return Ed(_,E,H)}throw Error(l(156,E.tag))};function yu(_,E){return oh(_,E)}function Ht(_,E,H,Y){this.tag=_,this.key=H,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(_,E,H,Y){return new Ht(_,E,H,Y)}function hn(_){return _=_.prototype,!(!_||!_.isReactComponent)}function Cr(_){if(typeof _=="function")return hn(_)?1:0;if(_!=null){if(_=_.$$typeof,_===G)return 11;if(_===L)return 14}return 2}function Xr(_,E){var H=_.alternate;return H===null?(H=wt(_.tag,E,_.key,_.mode),H.elementType=_.elementType,H.type=_.type,H.stateNode=_.stateNode,H.alternate=_,_.alternate=H):(H.pendingProps=E,H.type=_.type,H.flags=0,H.subtreeFlags=0,H.deletions=null),H.flags=_.flags&14680064,H.childLanes=_.childLanes,H.lanes=_.lanes,H.child=_.child,H.memoizedProps=_.memoizedProps,H.memoizedState=_.memoizedState,H.updateQueue=_.updateQueue,E=_.dependencies,H.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},H.sibling=_.sibling,H.index=_.index,H.ref=_.ref,H}function Wa(_,E,H,Y,ie,ve){var at=2;if(Y=_,typeof _=="function")hn(_)&&(at=1);else if(typeof _=="string")at=5;else e:switch(_){case S:return ci(H.children,ie,ve,E);case x:at=8,ie|=8;break;case A:return _=wt(12,H,E,ie|2),_.elementType=A,_.lanes=ve,_;case j:return _=wt(13,H,E,ie),_.elementType=j,_.lanes=ve,_;case w:return _=wt(19,H,E,ie),_.elementType=w,_.lanes=ve,_;case W:return Ea(H,ie,ve,E);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case T:at=10;break e;case R:at=9;break e;case G:at=11;break e;case L:at=14;break e;case F:at=16,Y=null;break e}throw Error(l(130,_==null?_:typeof _,""))}return E=wt(at,H,E,ie),E.elementType=_,E.type=Y,E.lanes=ve,E}function ci(_,E,H,Y){return _=wt(7,_,Y,E),_.lanes=H,_}function Ea(_,E,H,Y){return _=wt(22,_,Y,E),_.elementType=W,_.lanes=H,_.stateNode={},_}function Zo(_,E,H){return _=wt(6,_,null,E),_.lanes=H,_}function ta(_,E,H){return E=wt(4,_.children!==null?_.children:[],_.key,E),E.lanes=H,E.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},E}function Yc(_,E,H,Y,ie){this.tag=E,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=en,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=Y,this.onRecoverableError=ie,Gt&&(this.mutableSourceEagerHydrationData=null)}function Cg(_,E,H,Y,ie,ve,at,bt,mn){return _=new Yc(_,E,H,bt,mn),E===1?(E=1,ve===!0&&(E|=8)):E=0,ve=wt(3,null,null,E),_.current=ve,ve.stateNode=_,ve.memoizedState={element:Y,isDehydrated:H,cache:null,transitions:null},Cl(ve),_}function Ag(_){if(!_)return pi;_=_._reactInternals;e:{if(Z(_)!==_||_.tag!==1)throw Error(l(170));var E=_;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(Fi(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(l(171))}if(_.tag===1){var H=_.type;if(Fi(H))return yi(_,H,E)}return E}function jy(_){var E=_._reactInternals;if(E===void 0)throw typeof _.render=="function"?Error(l(188)):(_=Object.keys(_).join(","),Error(l(268,_)));return _=je(E),_===null?null:_.stateNode}function Ph(_,E){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var H=_.retryLane;_.retryLane=H!==0&&H<E?H:E}}function Tg(_,E){Ph(_,E),(_=_.alternate)&&Ph(_,E)}function Gy(_){return _=je(_),_===null?null:_.stateNode}function U1(){return null}return n.attemptContinuousHydration=function(_){if(_.tag===13){var E=Jo();po(_,134217728,E),Tg(_,134217728)}},n.attemptHydrationAtCurrentPriority=function(_){if(_.tag===13){var E=Jo(),H=el(_);po(_,H,E),Tg(_,H)}},n.attemptSynchronousHydration=function(_){switch(_.tag){case 3:var E=_.stateNode;if(E.current.memoizedState.isDehydrated){var H=El(E.pendingLanes);H!==0&&(xs(E,H|1),eu(E,ws()),!(Ri&6)&&(Js(),oc()))}break;case 13:var Y=Jo();Um(function(){return po(_,1,Y)}),Tg(_,1)}},n.batchedUpdates=function(_,E){var H=Ri;Ri|=1;try{return _(E)}finally{Ri=H,Ri===0&&(Js(),fo&&oc())}},n.createComponentSelector=function(_){return{$$typeof:gf,value:_}},n.createContainer=function(_,E,H,Y,ie,ve,at){return Cg(_,E,!1,null,H,Y,ie,ve,at)},n.createHasPseudoClassSelector=function(_){return{$$typeof:yc,value:_}},n.createHydrationContainer=function(_,E,H,Y,ie,ve,at,bt,mn){return _=Cg(H,Y,!0,_,ie,ve,at,bt,mn),_.context=Ag(null),H=_.current,Y=Jo(),ie=el(H),ve=So(Y,ie),ve.callback=E??null,Is(H,ve),_.current.lanes=ie,Iu(_,ie,Y),eu(_,Y),_},n.createPortal=function(_,E,H){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:Y==null?null:""+Y,children:_,containerInfo:E,implementation:H}},n.createRoleSelector=function(_){return{$$typeof:Xo,value:_}},n.createTestNameSelector=function(_){return{$$typeof:Gu,value:_}},n.createTextSelector=function(_){return{$$typeof:_c,value:_}},n.deferredUpdates=function(_){var E=Pi,H=Mo.transition;try{return Mo.transition=null,Pi=16,_()}finally{Pi=E,Mo.transition=H}},n.discreteUpdates=function(_,E,H,Y,ie){var ve=Pi,at=Mo.transition;try{return Mo.transition=null,Pi=1,_(E,H,Y,ie)}finally{Pi=ve,Mo.transition=at,Ri===0&&Js()}},n.findAllNodes=dp,n.findBoundingRects=function(_,E){if(!dr)throw Error(l(363));E=dp(_,E),_=[];for(var H=0;H<E.length;H++)_.push(Hi(E[H]));for(E=_.length-1;0<E;E--){H=_[E];for(var Y=H.x,ie=Y+H.width,ve=H.y,at=ve+H.height,bt=E-1;0<=bt;bt--)if(E!==bt){var mn=_[bt],ar=mn.x,Ur=ar+mn.width,qi=mn.y,_i=qi+mn.height;if(Y>=ar&&ve>=qi&&ie<=Ur&&at<=_i){_.splice(E,1);break}else if(Y!==ar||H.width!==mn.width||_i<ve||qi>at){if(!(ve!==qi||H.height!==mn.height||Ur<Y||ar>ie)){ar>Y&&(mn.width+=ar-Y,mn.x=Y),Ur<ie&&(mn.width=ie-ar),_.splice(E,1);break}}else{qi>ve&&(mn.height+=qi-ve,mn.y=ve),_i<at&&(mn.height=at-qi),_.splice(E,1);break}}}return _},n.findHostInstance=jy,n.findHostInstanceWithNoPortals=function(_){return _=Te(_),_=_!==null?Le(_):null,_===null?null:_.stateNode},n.findHostInstanceWithWarning=function(_){return jy(_)},n.flushControlled=function(_){var E=Ri;Ri|=1;var H=Mo.transition,Y=Pi;try{Mo.transition=null,Pi=1,_()}finally{Pi=Y,Mo.transition=H,Ri=E,Ri===0&&(Js(),oc())}},n.flushPassiveEffects=yt,n.flushSync=Um,n.focusWithin=function(_,E){if(!dr)throw Error(l(363));for(_=Pl(_),E=Ah(_,E),E=Array.from(E),_=0;_<E.length;){var H=E[_++];if(!Be(H)){if(H.tag===5&&Pn(H.stateNode))return!0;for(H=H.child;H!==null;)E.push(H),H=H.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Pi},n.getFindAllNodesFailureDescription=function(_,E){if(!dr)throw Error(l(363));var H=0,Y=[];_=[Pl(_),0];for(var ie=0;ie<_.length;){var ve=_[ie++],at=_[ie++],bt=E[at];if((ve.tag!==5||!Be(ve))&&(Pd(ve,bt)&&(Y.push(ml(bt)),at++,at>H&&(H=at)),at<E.length))for(ve=ve.child;ve!==null;)_.push(ve,at),ve=ve.sibling}if(H<E.length){for(_=[];H<E.length;H++)_.push(ml(E[H]));return`findAllNodes was able to match part of the selector:
  `+(Y.join(" > ")+`

No matching component was found for:
  `)+_.join(" > ")}return null},n.getPublicRootInstance=function(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 5:return ut(_.child.stateNode);default:return _.child.stateNode}},n.injectIntoDevTools=function(_){if(_={bundleType:_.bundleType,version:_.version,rendererPackageName:_.rendererPackageName,rendererConfig:_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:Gy,findFiberByHostInstance:_.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")_=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)_=!0;else{try{su=E.inject(_),Wl=E}catch{}_=!!E.checkDCE}}return _},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(_,E,H,Y){if(!dr)throw Error(l(363));_=dp(_,E);var ie=kn(_,H,Y).disconnect;return{disconnect:function(){ie()}}},n.registerMutableSourceForHydration=function(_,E){var H=E._getVersion;H=H(E._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[E,H]:_.mutableSourceEagerHydrationData.push(E,H)},n.runWithPriority=function(_,E){var H=Pi;try{return Pi=_,E()}finally{Pi=H}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(_,E,H,Y){var ie=E.current,ve=Jo(),at=el(ie);return H=Ag(H),E.context===null?E.context=H:E.pendingContext=H,E=So(ve,at),E.payload={element:_},Y=Y===void 0?null:Y,Y!==null&&(E.callback=Y),Is(ie,E),_=po(ie,at,ve),_!==null&&bs(_,ie,at),at},n};NMe.exports=cZe;var fZe=NMe.exports;const dZe=tH(fZe),hZe=t=>typeof t=="object"&&typeof t.then=="function",mb=[];function zMe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function HMe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of mb)if(zMe(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=mb.indexOf(i);o!==-1&&mb.splice(o,1)},promise:(hZe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(mb.push(i),!n)throw i.promise}const pZe=(t,e,n)=>HMe(t,e,!1,n),mZe=(t,e,n)=>void HMe(t,e,!0,n),vZe=t=>{if(t===void 0||t.length===0)mb.splice(0,mb.length);else{const e=mb.find(n=>zMe(t,n.keys,n.equal));e&&e.remove()}},pZ={},jMe=t=>void Object.assign(pZ,t);function gZe(t,e){function n(S,{args:x=[],attach:A,...T},R){let G=`${S[0].toUpperCase()}${S.slice(1)}`,j;if(S==="primitive"){if(T.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=T.object;j=KT(w,{type:S,root:R,attach:A,primitive:!0})}else{const w=pZ[G];if(!w)throw new Error(`R3F: ${G} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(x))throw new Error("R3F: The args prop must be an array!");j=KT(new w(...x),{type:S,root:R,attach:A,memoizedProps:{args:x}})}return j.__r3f.attach===void 0&&(j instanceof da?j.__r3f.attach="geometry":j instanceof ac&&(j.__r3f.attach="material")),G!=="inject"&&fX(j,T),j}function r(S,x){let A=!1;if(x){var T,R;(T=x.__r3f)!=null&&T.attach?cX(S,x,x.__r3f.attach):x.isObject3D&&S.isObject3D&&(S.add(x),A=!0),A||(R=S.__r3f)==null||R.objects.push(x),x.__r3f||KT(x,{}),x.__r3f.parent=S,F$(x),qT(x)}}function i(S,x,A){let T=!1;if(x){var R,G;if((R=x.__r3f)!=null&&R.attach)cX(S,x,x.__r3f.attach);else if(x.isObject3D&&S.isObject3D){x.parent=S,x.dispatchEvent({type:"added"});const j=S.children.filter(L=>L!==x),w=j.indexOf(A);S.children=[...j.slice(0,w),x,...j.slice(w)],T=!0}T||(G=S.__r3f)==null||G.objects.push(x),x.__r3f||KT(x,{}),x.__r3f.parent=S,F$(x),qT(x)}}function o(S,x,A=!1){S&&[...S].forEach(T=>l(x,T,A))}function l(S,x,A){if(x){var T,R,G;if(x.__r3f&&(x.__r3f.parent=null),(T=S.__r3f)!=null&&T.objects&&(S.__r3f.objects=S.__r3f.objects.filter(W=>W!==x)),(R=x.__r3f)!=null&&R.attach)uxe(S,x,x.__r3f.attach);else if(x.isObject3D&&S.isObject3D){var j;S.remove(x),(j=x.__r3f)!=null&&j.root&&bZe(x.__r3f.root,x)}const L=(G=x.__r3f)==null?void 0:G.primitive,F=A===void 0?x.dispose!==null&&!L:A;if(!L){var w;o((w=x.__r3f)==null?void 0:w.objects,x,F),o(x.children,x,F)}delete x.__r3f,F&&x.dispose&&x.type!=="Scene"&&L$.unstable_scheduleCallback(L$.unstable_IdlePriority,()=>{try{x.dispose()}catch{}}),qT(S)}}function d(S,x,A,T){var R;const G=(R=S.__r3f)==null?void 0:R.parent;if(!G)return;const j=n(x,A,S.__r3f.root);if(S.children){for(const w of S.children)w.__r3f&&r(j,w);S.children=S.children.filter(w=>!w.__r3f)}S.__r3f.objects.forEach(w=>r(j,w)),S.__r3f.objects=[],S.__r3f.autoRemovedBeforeAppend||l(G,S),j.parent&&(j.__r3f.autoRemovedBeforeAppend=!0),r(G,j),j.raycast&&j.__r3f.eventCount&&j.__r3f.root.getState().internal.interaction.push(j),[T,T.alternate].forEach(w=>{w!==null&&(w.stateNode=j,w.ref&&(typeof w.ref=="function"?w.ref(j):w.ref.current=j))})}const h=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:dZe({createInstance:n,removeChild:l,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(S,x)=>{if(!x)return;const A=S.getState().scene;A.__r3f&&(A.__r3f.root=S,r(A,x))},removeChildFromContainer:(S,x)=>{x&&l(S.getState().scene,x)},insertInContainerBefore:(S,x,A)=>{if(!x||!A)return;const T=S.getState().scene;T.__r3f&&i(T,x,A)},getRootHostContext:()=>null,getChildHostContext:S=>S,finalizeInitialChildren(S){var x;return!!((x=S==null?void 0:S.__r3f)!=null?x:{}).handlers},prepareUpdate(S,x,A,T){if(S.__r3f.primitive&&T.object&&T.object!==S)return[!0];{const{args:R=[],children:G,...j}=T,{args:w=[],children:L,...F}=A;if(!Array.isArray(R))throw new Error("R3F: the args prop must be an array!");if(R.some((U,Q)=>U!==w[Q]))return[!0];const W=YMe(S,j,F,!0);return W.changes.length?[!1,W]:null}},commitUpdate(S,[x,A],T,R,G,j){x?d(S,T,G,j):fX(S,A)},commitMount(S,x,A,T){var R;const G=(R=S.__r3f)!=null?R:{};S.raycast&&G.handlers&&G.eventCount&&S.__r3f.root.getState().internal.interaction.push(S)},getPublicInstance:S=>S,prepareForCommit:()=>null,preparePortalMount:S=>KT(S.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(S){var x;const{attach:A,parent:T}=(x=S.__r3f)!=null?x:{};A&&T&&uxe(T,S,A),S.isObject3D&&(S.visible=!1),qT(S)},unhideInstance(S,x){var A;const{attach:T,parent:R}=(A=S.__r3f)!=null?A:{};T&&R&&cX(R,S,T),(S.isObject3D&&x.visible==null||x.visible)&&(S.visible=!0),qT(S)},createTextInstance:h,hideTextInstance:h,unhideTextInstance:h,getCurrentEventPriority:()=>e?e():fM.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ul.fun(performance.now)?performance.now:Ul.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ul.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ul.fun(clearTimeout)?clearTimeout:void 0}),applyProps:fX}}var axe,oxe;const uX=t=>"colorSpace"in t||"outputColorSpace"in t,GMe=()=>{var t;return(t=pZ.ColorManagement)!=null?t:null},VMe=t=>t&&t.isOrthographicCamera,yZe=t=>t&&t.hasOwnProperty("current"),uP=typeof window<"u"&&((axe=window.document)!=null&&axe.createElement||((oxe=window.navigator)==null?void 0:oxe.product)==="ReactNative")?St.useLayoutEffect:St.useEffect;function WMe(t){const e=St.useRef(t);return uP(()=>void(e.current=t),[t]),e}function _Ze({set:t}){return uP(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let KMe=class extends St.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};KMe.getDerivedStateFromError=()=>({error:!0});const qMe="__default",sxe=new Map,SZe=t=>t&&!!t.memoized&&!!t.changes;function XMe(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const sD=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Ul={obj:t=>t===Object(t)&&!Ul.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Ul.str(t)||Ul.num(t))return t===e;const o=Ul.obj(t);if(o&&r==="reference")return t===e;const l=Ul.arr(t);if(l&&n==="reference")return t===e;if((l||o)&&t===e)return!0;let d;for(d in t)if(!(d in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(d in i?e:t)if(!Ul.equ(t[d],e[d],{strict:i,objects:"reference"}))return!1}else for(d in i?e:t)if(t[d]!==e[d])return!1;if(Ul.und(d)){if(l&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function xZe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function wZe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function KT(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function N$(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,l)=>o[l],t),{target:n,key:i}}else return{target:n,key:e}}const lxe=/-\d+$/;function cX(t,e,n){if(Ul.str(n)){if(lxe.test(n)){const o=n.replace(lxe,""),{target:l,key:d}=N$(t,o);Array.isArray(l[d])||(l[d]=[])}const{target:r,key:i}=N$(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function uxe(t,e,n){var r,i;if(Ul.str(n)){const{target:o,key:l}=N$(t,n),d=e.__r3f.previousAttach;d===void 0?delete o[l]:o[l]=d}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function YMe(t,{children:e,key:n,ref:r,...i},{children:o,key:l,ref:d,...h}={},v=!1){var S;const x=(S=t==null?void 0:t.__r3f)!=null?S:{},A=Object.entries(i),T=[];if(v){const G=Object.keys(h);for(let j=0;j<G.length;j++)i.hasOwnProperty(G[j])||A.unshift([G[j],qMe+"remove"])}A.forEach(([G,j])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&G==="object"||Ul.equ(j,h[G]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(G))return T.push([G,j,!0,[]]);let L=[];G.includes("-")&&(L=G.split("-")),T.push([G,j,!1,L]);for(const F in i){const W=i[F];F.startsWith(`${G}-`)&&T.push([F,W,!1,F.split("-")])}});const R={...i};return x.memoizedProps&&x.memoizedProps.args&&(R.args=x.memoizedProps.args),x.memoizedProps&&x.memoizedProps.attach&&(R.attach=x.memoizedProps.attach),{memoized:R,changes:T}}function fX(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},l=o.root,d=(r=l==null||l.getState==null?void 0:l.getState())!=null?r:{},{memoized:h,changes:v}=SZe(e)?e:YMe(t,e),S=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=h);for(let A=0;A<v.length;A++){let[T,R,G,j]=v[A];if(uX(t)){const W="srgb",U="srgb-linear";T==="encoding"?(T="colorSpace",R=R===3001?W:U):T==="outputEncoding"&&(T="outputColorSpace",R=R===3001?W:U)}let w=t,L=w[T];if(j.length&&(L=j.reduce((F,W)=>F[W],t),!(L&&L.set))){const[F,...W]=j.reverse();w=W.reverse().reduce((U,Q)=>U[Q],t),T=F}if(R===qMe+"remove")if(w.constructor){let F=sxe.get(w.constructor);F||(F=new w.constructor,sxe.set(w.constructor,F)),R=F[T]}else R=0;if(G)R?o.handlers[T]=R:delete o.handlers[T],o.eventCount=Object.keys(o.handlers).length;else if(L&&L.set&&(L.copy||L instanceof By)){if(Array.isArray(R))L.fromArray?L.fromArray(R):L.set(...R);else if(L.copy&&R&&R.constructor&&L.constructor===R.constructor)L.copy(R);else if(R!==void 0){const F=L instanceof ur;!F&&L.setScalar?L.setScalar(R):L instanceof By&&R instanceof By?L.mask=R.mask:L.set(R),!GMe()&&!d.linear&&F&&L.convertSRGBToLinear()}}else if(w[T]=R,w[T]instanceof Ws&&w[T].format===Up&&w[T].type===Of){const F=w[T];uX(F)&&uX(d.gl)?F.colorSpace=d.gl.outputColorSpace:F.encoding=d.gl.outputEncoding}qT(t)}if(o.parent&&d.internal&&t.raycast&&S!==o.eventCount){const A=d.internal.interaction.indexOf(t);A>-1&&d.internal.interaction.splice(A,1),o.eventCount&&d.internal.interaction.push(t)}return!(v.length===1&&v[0][0]==="onUpdate")&&v.length&&(i=t.__r3f)!=null&&i.parent&&F$(t),t}function qT(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function F$(t){t.onUpdate==null||t.onUpdate(t)}function $Me(t,e){t.manual||(VMe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function d3(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function EZe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return fM.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fM.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fM.ContinuousEventPriority;default:return fM.DefaultEventPriority}}function QMe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function bZe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{QMe(n.capturedMap,e,r,i)})}function CZe(t){function e(h){const{internal:v}=t.getState(),S=h.offsetX-v.initialClick[0],x=h.offsetY-v.initialClick[1];return Math.round(Math.sqrt(S*S+x*x))}function n(h){return h.filter(v=>["Move","Over","Enter","Out","Leave"].some(S=>{var x;return(x=v.__r3f)==null?void 0:x.handlers["onPointer"+S]}))}function r(h,v){const S=t.getState(),x=new Set,A=[],T=v?v(S.internal.interaction):S.internal.interaction;for(let w=0;w<T.length;w++){const L=sD(T[w]);L&&(L.raycaster.camera=void 0)}S.previousRoot||S.events.compute==null||S.events.compute(h,S);function R(w){const L=sD(w);if(!L||!L.events.enabled||L.raycaster.camera===null)return[];if(L.raycaster.camera===void 0){var F;L.events.compute==null||L.events.compute(h,L,(F=L.previousRoot)==null?void 0:F.getState()),L.raycaster.camera===void 0&&(L.raycaster.camera=null)}return L.raycaster.camera?L.raycaster.intersectObject(w,!0):[]}let G=T.flatMap(R).sort((w,L)=>{const F=sD(w.object),W=sD(L.object);return!F||!W?w.distance-L.distance:W.events.priority-F.events.priority||w.distance-L.distance}).filter(w=>{const L=d3(w);return x.has(L)?!1:(x.add(L),!0)});S.events.filter&&(G=S.events.filter(G,S));for(const w of G){let L=w.object;for(;L;){var j;(j=L.__r3f)!=null&&j.eventCount&&A.push({...w,eventObject:L}),L=L.parent}}if("pointerId"in h&&S.internal.capturedMap.has(h.pointerId))for(let w of S.internal.capturedMap.get(h.pointerId).values())x.has(d3(w.intersection))||A.push(w.intersection);return A}function i(h,v,S,x){const A=t.getState();if(h.length){const T={stopped:!1};for(const R of h){const G=sD(R.object)||A,{raycaster:j,pointer:w,camera:L,internal:F}=G,W=new Ve(w.x,w.y,0).unproject(L),U=he=>{var Te,je;return(Te=(je=F.capturedMap.get(he))==null?void 0:je.has(R.eventObject))!=null?Te:!1},Q=he=>{const Te={intersection:R,target:v.target};F.capturedMap.has(he)?F.capturedMap.get(he).set(R.eventObject,Te):F.capturedMap.set(he,new Map([[R.eventObject,Te]])),v.target.setPointerCapture(he)},de=he=>{const Te=F.capturedMap.get(he);Te&&QMe(F.capturedMap,R.eventObject,Te,he)};let fe={};for(let he in v){let Te=v[he];typeof Te!="function"&&(fe[he]=Te)}let Z={...R,...fe,pointer:w,intersections:h,stopped:T.stopped,delta:S,unprojectedPoint:W,ray:j.ray,camera:L,stopPropagation(){const he="pointerId"in v&&F.capturedMap.get(v.pointerId);if((!he||he.has(R.eventObject))&&(Z.stopped=T.stopped=!0,F.hovered.size&&Array.from(F.hovered.values()).find(Te=>Te.eventObject===R.eventObject))){const Te=h.slice(0,h.indexOf(R));o([...Te,R])}},target:{hasPointerCapture:U,setPointerCapture:Q,releasePointerCapture:de},currentTarget:{hasPointerCapture:U,setPointerCapture:Q,releasePointerCapture:de},nativeEvent:v};if(x(Z),T.stopped===!0)break}}return h}function o(h){const{internal:v}=t.getState();for(const S of v.hovered.values())if(!h.length||!h.find(x=>x.object===S.object&&x.index===S.index&&x.instanceId===S.instanceId)){const A=S.eventObject.__r3f,T=A==null?void 0:A.handlers;if(v.hovered.delete(d3(S)),A!=null&&A.eventCount){const R={...S,intersections:h};T.onPointerOut==null||T.onPointerOut(R),T.onPointerLeave==null||T.onPointerLeave(R)}}}function l(h,v){for(let S=0;S<v.length;S++){const x=v[S].__r3f;x==null||x.handlers.onPointerMissed==null||x.handlers.onPointerMissed(h)}}function d(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return v=>{const{internal:S}=t.getState();"pointerId"in v&&S.capturedMap.has(v.pointerId)&&requestAnimationFrame(()=>{S.capturedMap.has(v.pointerId)&&(S.capturedMap.delete(v.pointerId),o([]))})}}return function(S){const{onPointerMissed:x,internal:A}=t.getState();A.lastEvent.current=S;const T=h==="onPointerMove",R=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",j=r(S,T?n:void 0),w=R?e(S):0;h==="onPointerDown"&&(A.initialClick=[S.offsetX,S.offsetY],A.initialHits=j.map(F=>F.eventObject)),R&&!j.length&&w<=2&&(l(S,A.interaction),x&&x(S)),T&&o(j);function L(F){const W=F.eventObject,U=W.__r3f,Q=U==null?void 0:U.handlers;if(U!=null&&U.eventCount)if(T){if(Q.onPointerOver||Q.onPointerEnter||Q.onPointerOut||Q.onPointerLeave){const de=d3(F),fe=A.hovered.get(de);fe?fe.stopped&&F.stopPropagation():(A.hovered.set(de,F),Q.onPointerOver==null||Q.onPointerOver(F),Q.onPointerEnter==null||Q.onPointerEnter(F))}Q.onPointerMove==null||Q.onPointerMove(F)}else{const de=Q[h];de?(!R||A.initialHits.includes(W))&&(l(S,A.interaction.filter(fe=>!A.initialHits.includes(fe))),de(F)):R&&A.initialHits.includes(W)&&l(S,A.interaction.filter(fe=>!A.initialHits.includes(fe)))}}i(j,S,w,L)}}return{handlePointer:d}}const AZe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],JMe=t=>!!(t!=null&&t.render),mZ=St.createContext(null),TZe=(t,e)=>{const n=LMe((d,h)=>{const v=new Ve,S=new Ve,x=new Ve;function A(w=h().camera,L=S,F=h().size){const{width:W,height:U,top:Q,left:de}=F,fe=W/U;L instanceof Ve?x.copy(L):x.set(...L);const Z=w.getWorldPosition(v).distanceTo(x);if(VMe(w))return{width:W/w.zoom,height:U/w.zoom,top:Q,left:de,factor:1,distance:Z,aspect:fe};{const he=w.fov*Math.PI/180,Te=2*Math.tan(he/2)*Z,je=Te*(W/U);return{width:je,height:Te,top:Q,left:de,factor:W/je,distance:Z,aspect:fe}}}let T;const R=w=>d(L=>({performance:{...L.performance,current:w}})),G=new vn;return{set:d,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>t(h(),w),advance:(w,L)=>e(w,L,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new NH,pointer:G,mouse:G,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=h();T&&clearTimeout(T),w.performance.current!==w.performance.min&&R(w.performance.min),T=setTimeout(()=>R(h().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:A},setEvents:w=>d(L=>({...L,events:{...L.events,...w}})),setSize:(w,L,F,W,U)=>{const Q=h().camera,de={width:w,height:L,top:W||0,left:U||0,updateStyle:F};d(fe=>({size:de,viewport:{...fe.viewport,...A(Q,S,de)}}))},setDpr:w=>d(L=>{const F=XMe(w);return{viewport:{...L.viewport,dpr:F,initialDpr:L.viewport.initialDpr||F}}}),setFrameloop:(w="always")=>{const L=h().clock;L.stop(),L.elapsedTime=0,w!=="never"&&(L.start(),L.elapsedTime=0),d(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:St.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,L,F)=>{const W=h().internal;return W.priority=W.priority+(L>0?1:0),W.subscribers.push({ref:w,priority:L,store:F}),W.subscribers=W.subscribers.sort((U,Q)=>U.priority-Q.priority),()=>{const U=h().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(L>0?1:0),U.subscribers=U.subscribers.filter(Q=>Q.ref!==w))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,l=r.camera;return n.subscribe(()=>{const{camera:d,size:h,viewport:v,gl:S,set:x}=n.getState();if(h!==i||v.dpr!==o){var A;i=h,o=v.dpr,$Me(d,h),S.setPixelRatio(v.dpr);const T=(A=h.updateStyle)!=null?A:typeof HTMLCanvasElement<"u"&&S.domElement instanceof HTMLCanvasElement;S.setSize(h.width,h.height,T)}d!==l&&(l=d,x(T=>({viewport:{...T.viewport,...T.viewport.getCurrentViewport(d)}})))}),n.subscribe(d=>t(d)),n};let h3,MZe=new Set,PZe=new Set,RZe=new Set;function dX(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function lD(t,e){switch(t){case"before":return dX(MZe,e);case"after":return dX(PZe,e);case"tail":return dX(RZe,e)}}let hX,pX;function mX(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),hX=e.internal.subscribers,h3=0;h3<hX.length;h3++)pX=hX[h3],pX.ref.current(pX.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function IZe(t){let e=!1,n,r,i;function o(h){r=requestAnimationFrame(o),e=!0,n=0,lD("before",h);for(const S of t.values()){var v;i=S.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((v=i.gl.xr)!=null&&v.isPresenting)&&(n+=mX(h,i))}if(lD("after",h),n===0)return lD("tail",h),e=!1,cancelAnimationFrame(r)}function l(h,v=1){var S;if(!h)return t.forEach(x=>l(x.store.getState()),v);(S=h.gl.xr)!=null&&S.isPresenting||!h.internal.active||h.frameloop==="never"||(h.internal.frames=Math.min(60,h.internal.frames+v),e||(e=!0,requestAnimationFrame(o)))}function d(h,v=!0,S,x){if(v&&lD("before",h),S)mX(h,S,x);else for(const A of t.values())mX(h,A.store.getState());v&&lD("after",h)}return{loop:o,invalidate:l,advance:d}}function kZe(t){const e=St.useRef(null);return uP(()=>void(e.current=t.current.__r3f),[t]),e}function vZ(){const t=St.useContext(mZ);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function dd(t=n=>n,e){return vZ()(t,e)}function Hb(t,e=0){const n=vZ(),r=n.getState().internal.subscribe,i=WMe(t);return uP(()=>r(i,e,n),[e,r,n]),null}function ZMe(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(o=>new Promise((l,d)=>i.load(o,h=>{h.scene&&Object.assign(h,xZe(h.scene)),l(h)},e,h=>d(new Error(`Could not load ${o}: ${h.message})`))))))}}function cP(t,e,n,r){const i=Array.isArray(e)?e:[e],o=pZe(ZMe(n,r),[t,...i],{equal:Ul.equ});return Array.isArray(e)?o:o[0]}cP.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return mZe(ZMe(n),[t,...r])};cP.clear=function(t,e){const n=Array.isArray(e)?e:[e];return vZe([t,...n])};const XM=new Map,{invalidate:cxe,advance:fxe}=IZe(XM),{reconciler:PO,applyProps:zT}=gZe(XM,EZe),HT={objects:"shallow",strict:!1},DZe=(t,e)=>{const n=typeof t=="function"?t(e):t;return JMe(n)?n:new TH({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function OZe(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:o}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:o}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function BZe(t){const e=XM.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||TZe(cxe,fxe),l=n||PO.createContainer(o,fM.ConcurrentRoot,null,!1,null,"",i,null);e||XM.set(t,{fiber:l,store:o});let d,h=!1,v;return{configure(S={}){let{gl:x,size:A,scene:T,events:R,onCreated:G,shadows:j=!1,linear:w=!1,flat:L=!1,legacy:F=!1,orthographic:W=!1,frameloop:U="always",dpr:Q=[1,2],performance:de,raycaster:fe,camera:Z,onPointerMissed:he}=S,Te=o.getState(),je=Te.gl;Te.gl||Te.set({gl:je=DZe(x,t)});let Ke=Te.raycaster;Ke||Te.set({raycaster:Ke=new cB});const{params:Le,...Ge}=fe||{};if(Ul.equ(Ge,Ke,HT)||zT(Ke,{...Ge}),Ul.equ(Le,Ke.params,HT)||zT(Ke,{params:{...Ke.params,...Le}}),!Te.camera||Te.camera===v&&!Ul.equ(v,Z,HT)){v=Z;const Pe=Z instanceof Fx,be=Pe?Z:W?new yg(0,0,0,0,.1,1e3):new ys(75,0,.1,1e3);Pe||(be.position.z=5,Z&&zT(be,Z),!Te.camera&&!(Z!=null&&Z.rotation)&&be.lookAt(0,0,0)),Te.set({camera:be})}if(!Te.scene){let Pe;T instanceof Ux?Pe=T:(Pe=new Ux,T&&zT(Pe,T)),Te.set({scene:KT(Pe)})}if(!Te.xr){const Pe=(qe,mt)=>{const We=o.getState();We.frameloop!=="never"&&fxe(qe,!0,We,mt)},be=()=>{const qe=o.getState();qe.gl.xr.enabled=qe.gl.xr.isPresenting,qe.gl.xr.setAnimationLoop(qe.gl.xr.isPresenting?Pe:null),qe.gl.xr.isPresenting||cxe(qe)},Ce={connect(){const qe=o.getState().gl;qe.xr.addEventListener("sessionstart",be),qe.xr.addEventListener("sessionend",be)},disconnect(){const qe=o.getState().gl;qe.xr.removeEventListener("sessionstart",be),qe.xr.removeEventListener("sessionend",be)}};je.xr&&Ce.connect(),Te.set({xr:Ce})}if(je.shadowMap){const Pe=je.shadowMap.enabled,be=je.shadowMap.type;if(je.shadowMap.enabled=!!j,Ul.boo(j))je.shadowMap.type=bM;else if(Ul.str(j)){var ut;const Ce={basic:LAe,percentage:yH,soft:bM,variance:u0};je.shadowMap.type=(ut=Ce[j])!=null?ut:bM}else Ul.obj(j)&&Object.assign(je.shadowMap,j);(Pe!==je.shadowMap.enabled||be!==je.shadowMap.type)&&(je.shadowMap.needsUpdate=!0)}const st=GMe();st&&("enabled"in st?st.enabled=!F:"legacyMode"in st&&(st.legacyMode=F)),zT(je,{outputEncoding:w?3e3:3001,toneMapping:L?vg:_H}),Te.legacy!==F&&Te.set(()=>({legacy:F})),Te.linear!==w&&Te.set(()=>({linear:w})),Te.flat!==L&&Te.set(()=>({flat:L})),x&&!Ul.fun(x)&&!JMe(x)&&!Ul.equ(x,je,HT)&&zT(je,x),R&&!Te.events.handlers&&Te.set({events:R(o)});const we=OZe(t,A);return Ul.equ(we,Te.size,HT)||Te.setSize(we.width,we.height,we.updateStyle,we.top,we.left),Q&&Te.viewport.dpr!==XMe(Q)&&Te.setDpr(Q),Te.frameloop!==U&&Te.setFrameloop(U),Te.onPointerMissed||Te.set({onPointerMissed:he}),de&&!Ul.equ(de,Te.performance,HT)&&Te.set(Pe=>({performance:{...Pe.performance,...de}})),d=G,h=!0,this},render(S){return h||this.configure(),PO.updateContainer(St.createElement(LZe,{store:o,children:S,onCreated:d,rootElement:t}),l,null,()=>{}),o},unmount(){ePe(t)}}}function LZe({store:t,children:e,onCreated:n,rootElement:r}){return uP(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),St.createElement(mZ.Provider,{value:t},e)}function ePe(t,e){const n=XM.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),PO.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,l,d,h;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(d=i.gl)==null||d.forceContextLoss==null||d.forceContextLoss(),(h=i.gl)!=null&&h.xr&&i.xr.disconnect(),wZe(i),XM.delete(t),e&&e(t)}catch{}},500)})}}function tPe(t,e,n){return St.createElement(NZe,{key:e.uuid,children:t,container:e,state:n})}function NZe({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,l=vZ(),[d]=St.useState(()=>new cB),[h]=St.useState(()=>new vn),v=St.useCallback((x,A)=>{const T={...x};Object.keys(x).forEach(G=>{(AZe.includes(G)||x[G]!==A[G]&&A[G])&&delete T[G]});let R;if(A&&i){const G=A.camera;R=x.viewport.getCurrentViewport(G,new Ve,i),G!==x.camera&&$Me(G,i)}return{...T,scene:n,raycaster:d,pointer:h,mouse:h,previousRoot:l,events:{...x.events,...A==null?void 0:A.events,...r},size:{...x.size,...i},viewport:{...x.viewport,...R},...o}},[t]),[S]=St.useState(()=>{const x=l.getState();return LMe((T,R)=>({...x,scene:n,raycaster:d,pointer:h,mouse:h,previousRoot:l,events:{...x.events,...r},size:{...x.size,...i},...o,set:T,get:R,setEvents:G=>T(j=>({...j,events:{...j.events,...G}}))}))});return St.useEffect(()=>{const x=l.subscribe(A=>S.setState(T=>v(A,T)));return()=>{x(),S.destroy()}},[]),St.useEffect(()=>{S.setState(x=>v(l.getState(),x))},[v]),St.createElement(St.Fragment,null,PO.createPortal(St.createElement(mZ.Provider,{value:S},e),S,null))}PO.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:St.version});function U$(t,e,n){var r,i,o,l,d;e==null&&(e=100);function h(){var S=Date.now()-l;S<e&&S>=0?r=setTimeout(h,e-S):(r=null,n||(d=t.apply(o,i),o=i=null))}var v=function(){o=this,i=arguments,l=Date.now();var S=n&&!r;return r||(r=setTimeout(h,e)),S&&(d=t.apply(o,i),o=i=null),d};return v.clear=function(){r&&(clearTimeout(r),r=null)},v.flush=function(){r&&(d=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},v}U$.debounce=U$;var FZe=U$;const dxe=tH(FZe);function UZe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[l,d]=St.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=St.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:l}),v=e?typeof e=="number"?e:e.scroll:null,S=e?typeof e=="number"?e:e.resize:null,x=St.useRef(!1);St.useEffect(()=>(x.current=!0,()=>void(x.current=!1)));const[A,T,R]=St.useMemo(()=>{const L=()=>{if(!h.current.element)return;const{left:F,top:W,width:U,height:Q,bottom:de,right:fe,x:Z,y:he}=h.current.element.getBoundingClientRect(),Te={left:F,top:W,width:U,height:Q,bottom:de,right:fe,x:Z,y:he};h.current.element instanceof HTMLElement&&i&&(Te.height=h.current.element.offsetHeight,Te.width=h.current.element.offsetWidth),Object.freeze(Te),x.current&&!GZe(h.current.lastBounds,Te)&&d(h.current.lastBounds=Te)};return[L,S?dxe(L,S):L,v?dxe(L,v):L]},[d,i,v,S]);function G(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(L=>L.removeEventListener("scroll",R,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function j(){h.current.element&&(h.current.resizeObserver=new o(R),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(L=>L.addEventListener("scroll",R,{capture:!0,passive:!0})))}const w=L=>{!L||L===h.current.element||(G(),h.current.element=L,h.current.scrollContainers=nPe(L),j())};return HZe(R,!!n),zZe(T),St.useEffect(()=>{G(),j()},[n,R,T]),St.useEffect(()=>G,[]),[w,l,A]}function zZe(t){St.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function HZe(t,e){St.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function nPe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...nPe(t.parentElement)]}const jZe=["x","y","top","bottom","left","right","width","height"],GZe=(t,e)=>jZe.every(n=>t[n]===e[n]);var VZe=Object.defineProperty,WZe=Object.defineProperties,KZe=Object.getOwnPropertyDescriptors,hxe=Object.getOwnPropertySymbols,qZe=Object.prototype.hasOwnProperty,XZe=Object.prototype.propertyIsEnumerable,pxe=(t,e,n)=>e in t?VZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mxe=(t,e)=>{for(var n in e||(e={}))qZe.call(e,n)&&pxe(t,n,e[n]);if(hxe)for(var n of hxe(e))XZe.call(e,n)&&pxe(t,n,e[n]);return t},YZe=(t,e)=>WZe(t,KZe(e));function rPe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=rPe(r,e,n);if(i)return i;r=e?null:r.sibling}}function iPe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const gZ=iPe(St.createContext(null));class aPe extends St.Component{render(){return St.createElement(gZ.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:vxe,ReactCurrentDispatcher:gxe}=St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $Ze(){const t=St.useContext(gZ);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=St.useId();return St.useMemo(()=>{for(const r of[vxe==null?void 0:vxe.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=rPe(r,!1,o=>{let l=o.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(i)return i}},[t,e])}function QZe(){var t,e;const n=$Ze(),[r]=St.useState(()=>new Map);r.clear();let i=n;for(;i;){const o=(t=i.type)==null?void 0:t._context;o&&o!==gZ&&!r.has(o)&&r.set(o,(e=gxe==null?void 0:gxe.current)==null?void 0:e.readContext(iPe(o))),i=i.return}return r}function JZe(){const t=QZe();return St.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>St.createElement(e,null,St.createElement(n.Provider,YZe(mxe({},r),{value:t.get(n)}))),e=>St.createElement(aPe,mxe({},e))),[t])}const vX={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ZZe(t){const{handlePointer:e}=CZe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(vX).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(l=>({events:{...l.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([l,d])=>{const[h,v]=vX[l];n.addEventListener(h,d,{passive:v})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,l])=>{if(r&&r.connected instanceof HTMLElement){const[d]=vX[o];r.connected.removeEventListener(d,l)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const e2e=St.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:l=ZZe,eventSource:d,eventPrefix:h,shadows:v,linear:S,flat:x,legacy:A,orthographic:T,frameloop:R,dpr:G,performance:j,raycaster:w,camera:L,onPointerMissed:F,onCreated:W,...U},Q){St.useMemo(()=>jMe(OMe),[]);const de=JZe(),[fe,Z]=UZe({scroll:!0,debounce:{scroll:50,resize:0},...r}),he=St.useRef(null),Te=St.useRef(null);St.useImperativeHandle(Q,()=>he.current);const je=WMe(F),[Ke,Le]=St.useState(!1),[Ge,ut]=St.useState(!1);if(Ke)throw Ke;if(Ge)throw Ge;const st=St.useRef(null);uP(()=>{const Se=he.current;Z.width>0&&Z.height>0&&Se&&(st.current||(st.current=BZe(Se)),st.current.configure({gl:o,events:l,shadows:v,linear:S,flat:x,legacy:A,orthographic:T,frameloop:R,dpr:G,performance:j,raycaster:w,camera:L,size:Z,onPointerMissed:(...we)=>je.current==null?void 0:je.current(...we),onCreated:we=>{we.events.connect==null||we.events.connect(d?yZe(d)?d.current:d:Te.current),h&&we.setEvents({compute:(Pe,be)=>{const Ce=Pe[h+"X"],qe=Pe[h+"Y"];be.pointer.set(Ce/be.size.width*2-1,-(qe/be.size.height)*2+1),be.raycaster.setFromCamera(be.pointer,be.camera)}}),W==null||W(we)}}),st.current.render(St.createElement(de,null,St.createElement(KMe,{set:ut},St.createElement(St.Suspense,{fallback:St.createElement(_Ze,{set:Le})},e)))))}),St.useEffect(()=>{const Se=he.current;if(Se)return()=>ePe(Se)},[]);const _e=d?"none":"auto";return St.createElement("div",gO({ref:Te,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:_e,...i}},U),St.createElement("div",{ref:fe,style:{width:"100%",height:"100%"}},St.createElement("canvas",{ref:he,style:{display:"block"}},n)))}),t2e=St.forwardRef(function(e,n){return St.createElement(aPe,null,St.createElement(e2e,gO({},e,{ref:n})))});function WD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n2e(t,e){if(t){if(typeof t=="string")return z$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(t,e)}}function r2e(t){if(Array.isArray(t))return z$(t)}function i2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t){return r2e(t)||i2e(t)||n2e(t)||a2e()}new vn;new vn;function s2e(t,e,n){return Math.max(e,Math.min(n,t))}function l2e(t,e){return s2e(t-Math.floor(t/e)*e,0,e)}function u2e(t,e){var n=l2e(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function oPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var og=function t(e,n,r){var i=this;oPe(this,t),WD(this,"dot2",function(o,l){return i.x*o+i.y*l}),WD(this,"dot3",function(o,l,d){return i.x*o+i.y*l+i.z*d}),this.x=e,this.y=n,this.z=r},c2e=[new og(1,1,0),new og(-1,1,0),new og(1,-1,0),new og(-1,-1,0),new og(1,0,1),new og(-1,0,1),new og(1,0,-1),new og(-1,0,-1),new og(0,1,1),new og(0,-1,1),new og(0,1,-1),new og(0,-1,-1)],yxe=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],_xe=new Array(512),Sxe=new Array(512),f2e=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=yxe[n]^e&255:r=yxe[n]^e>>8&255,_xe[n]=_xe[n+256]=r,Sxe[n]=Sxe[n+256]=c2e[r%12]}};f2e(0);function d2e(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function xxe(t){var e=d2e(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var h2e=function t(e){var n=this;oPe(this,t),WD(this,"seed",0),WD(this,"init",function(r){n.seed=r,n.value=xxe(r)}),WD(this,"value",xxe(this.seed)),this.init(e)};new h2e(Math.random());var p2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},sPe=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Df(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:sPe,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,h="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[h]===void 0&&(t.__damp[h]=0),Math.abs(t[e]-n)<=d)return t[e]=n,!1;r=Math.max(1e-4,r);var v=2/r,S=l(v*i),x=t[e]-n,A=n,T=o*r;x=Math.min(Math.max(x,-T),T),n=t[e]-x;var R=(t.__damp[h]+v*x)*i;t.__damp[h]=(t.__damp[h]-v*R)*S;var G=n+(x+R)*S;return A-t[e]>0==G>A&&(G=A,t.__damp[h]=(G-A)/i),t[e]=G,!0}function MM(t,e,n,r,i,o,l,d){return Df(t,e,t[e]+u2e(t[e],n),r,i,o,l,d)}var uD=new vn,wxe,Exe;function m2e(t,e,n,r,i,o,l){return typeof e=="number"?uD.setScalar(e):Array.isArray(e)?uD.set(e[0],e[1]):uD.copy(e),wxe=Df(t,"x",uD.x,n,r,i,o,l),Exe=Df(t,"y",uD.y,n,r,i,o,l),wxe||Exe}var jT=new Ve,bxe,Cxe,Axe;function H$(t,e,n,r,i,o,l){return typeof e=="number"?jT.setScalar(e):Array.isArray(e)?jT.set(e[0],e[1],e[2]):jT.copy(e),bxe=Df(t,"x",jT.x,n,r,i,o,l),Cxe=Df(t,"y",jT.y,n,r,i,o,l),Axe=Df(t,"z",jT.z,n,r,i,o,l),bxe||Cxe||Axe}var WE=new go,Txe,Mxe,Pxe,Rxe;function v2e(t,e,n,r,i,o,l){return typeof e=="number"?WE.setScalar(e):Array.isArray(e)?WE.set(e[0],e[1],e[2],e[3]):WE.copy(e),Txe=Df(t,"x",WE.x,n,r,i,o,l),Mxe=Df(t,"y",WE.y,n,r,i,o,l),Pxe=Df(t,"z",WE.z,n,r,i,o,l),Rxe=Df(t,"w",WE.w,n,r,i,o,l),Txe||Mxe||Pxe||Rxe}var cD=new Lb,Ixe,kxe,Dxe;function g2e(t,e,n,r,i,o,l){return Array.isArray(e)?cD.set(e[0],e[1],e[2],e[3]):cD.copy(e),Ixe=MM(t,"x",cD.x,n,r,i,o,l),kxe=MM(t,"y",cD.y,n,r,i,o,l),Dxe=MM(t,"z",cD.z,n,r,i,o,l),Ixe||kxe||Dxe}var GT=new ur,Oxe,Bxe,Lxe;function y2e(t,e,n,r,i,o,l){return e instanceof ur?GT.copy(e):Array.isArray(e)?GT.setRGB(e[0],e[1],e[2]):GT.set(e),Oxe=Df(t,"r",GT.r,n,r,i,o,l),Bxe=Df(t,"g",GT.g,n,r,i,o,l),Lxe=Df(t,"b",GT.b,n,r,i,o,l),Oxe||Bxe||Lxe}var o0=new to,c1=new go,Nxe=new go,fD=new go,Fxe,Uxe,zxe,Hxe;function lPe(t,e,n,r,i,o,l){var d=t;Array.isArray(e)?o0.set(e[0],e[1],e[2],e[3]):o0.copy(e);var h=t.dot(o0)>0?1:-1;return o0.x*=h,o0.y*=h,o0.z*=h,o0.w*=h,Fxe=Df(t,"x",o0.x,n,r,i,o,l),Uxe=Df(t,"y",o0.y,n,r,i,o,l),zxe=Df(t,"z",o0.z,n,r,i,o,l),Hxe=Df(t,"w",o0.w,n,r,i,o,l),c1.set(t.x,t.y,t.z,t.w).normalize(),Nxe.set(d.__damp.velocity_x,d.__damp.velocity_y,d.__damp.velocity_z,d.__damp.velocity_w),fD.copy(c1).multiplyScalar(Nxe.dot(c1)/c1.dot(c1)),d.__damp.velocity_x-=fD.x,d.__damp.velocity_y-=fD.y,d.__damp.velocity_z-=fD.z,d.__damp.velocity_w-=fD.w,t.set(c1.x,c1.y,c1.z,c1.w),Fxe||Uxe||zxe||Hxe}var dD=new k4,jxe,Gxe,Vxe;function _2e(t,e,n,r,i,o,l){return Array.isArray(e)?dD.set(e[0],e[1],e[2]):dD.copy(e),jxe=Df(t,"radius",dD.radius,n,r,i,o,l),Gxe=MM(t,"phi",dD.phi,n,r,i,o,l),Vxe=MM(t,"theta",dD.theta,n,r,i,o,l),jxe||Gxe||Vxe}var p3=new ea,Wxe=new Ve,Kxe=new to,qxe=new Ve,Xxe,Yxe,$xe;function S2e(t,e,n,r,i,o,l){var d=t;return d.__damp===void 0&&(d.__damp={position:new Ve,rotation:new to,scale:new Ve},t.decompose(d.__damp.position,d.__damp.rotation,d.__damp.scale)),Array.isArray(e)?p3.set.apply(p3,o2e(e)):p3.copy(e),p3.decompose(Wxe,Kxe,qxe),Xxe=H$(d.__damp.position,Wxe,n,r,i,o,l),Yxe=lPe(d.__damp.rotation,Kxe,n,r,i,o,l),$xe=H$(d.__damp.scale,qxe,n,r,i,o,l),t.compose(d.__damp.position,d.__damp.rotation,d.__damp.scale),Xxe||Yxe||$xe}var x2e=Object.freeze({__proto__:null,rsqw:p2e,exp:sPe,damp:Df,dampAngle:MM,damp2:m2e,damp3:H$,damp4:v2e,dampE:g2e,dampC:y2e,dampQ:lPe,dampS:_2e,dampM:S2e});let hD;function w2e(){var t;if(hD!==void 0)return hD;try{let e;const n=document.createElement("canvas");return hD=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),hD}catch{return hD=!1}}function Qxe(t,e){if(e===_Te)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===M4||e===PJ){let n=t.getIndex();if(n===null){const l=[],d=t.getAttribute("position");if(d!==void 0){for(let h=0;h<d.count;h++)l.push(h);t.setIndex(l),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===M4)for(let l=1;l<=r;l++)i.push(n.getX(0)),i.push(n.getX(l)),i.push(n.getX(l+1));else for(let l=0;l<r;l++)l%2===0?(i.push(n.getX(l)),i.push(n.getX(l+1)),i.push(n.getX(l+2))):(i.push(n.getX(l+2)),i.push(n.getX(l+1)),i.push(n.getX(l)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var hg=Uint8Array,mx=Uint16Array,j$=Uint32Array,uPe=new hg([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cPe=new hg([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E2e=new hg([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fPe=function(t,e){for(var n=new mx(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new j$(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},dPe=fPe(uPe,2),hPe=dPe[0],b2e=dPe[1];hPe[28]=258,b2e[258]=28;var C2e=fPe(cPe,0),A2e=C2e[0],G$=new mx(32768);for(var zl=0;zl<32768;++zl){var ex=(zl&43690)>>>1|(zl&21845)<<1;ex=(ex&52428)>>>2|(ex&13107)<<2,ex=(ex&61680)>>>4|(ex&3855)<<4,G$[zl]=((ex&65280)>>>8|(ex&255)<<8)>>>1}var KD=function(t,e,n){for(var r=t.length,i=0,o=new mx(e);i<r;++i)++o[t[i]-1];var l=new mx(e);for(i=0;i<e;++i)l[i]=l[i-1]+o[i-1]<<1;var d;if(n){d=new mx(1<<e);var h=15-e;for(i=0;i<r;++i)if(t[i])for(var v=i<<4|t[i],S=e-t[i],x=l[t[i]-1]++<<S,A=x|(1<<S)-1;x<=A;++x)d[G$[x]>>>h]=v}else for(d=new mx(r),i=0;i<r;++i)t[i]&&(d[i]=G$[l[t[i]-1]++]>>>15-t[i]);return d},fB=new hg(288);for(var zl=0;zl<144;++zl)fB[zl]=8;for(var zl=144;zl<256;++zl)fB[zl]=9;for(var zl=256;zl<280;++zl)fB[zl]=7;for(var zl=280;zl<288;++zl)fB[zl]=8;var pPe=new hg(32);for(var zl=0;zl<32;++zl)pPe[zl]=5;var T2e=KD(fB,9,1),M2e=KD(pPe,5,1),gX=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},s0=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},yX=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},P2e=function(t){return(t/8|0)+(t&7&&1)},R2e=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof mx?mx:t instanceof j$?j$:hg)(n-e);return r.set(t.subarray(e,n)),r},I2e=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new hg(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new hg(r*3));var l=function(We){var Mt=e.length;if(We>Mt){var dt=new hg(Math.max(Mt*2,We));dt.set(e),e=dt}},d=n.f||0,h=n.p||0,v=n.b||0,S=n.l,x=n.d,A=n.m,T=n.n,R=r*8;do{if(!S){n.f=d=s0(t,h,1);var G=s0(t,h+1,3);if(h+=3,G)if(G==1)S=T2e,x=M2e,A=9,T=5;else if(G==2){var F=s0(t,h,31)+257,W=s0(t,h+10,15)+4,U=F+s0(t,h+5,31)+1;h+=14;for(var Q=new hg(U),de=new hg(19),fe=0;fe<W;++fe)de[E2e[fe]]=s0(t,h+fe*3,7);h+=W*3;for(var Z=gX(de),he=(1<<Z)-1,Te=KD(de,Z,1),fe=0;fe<U;){var je=Te[s0(t,h,he)];h+=je&15;var j=je>>>4;if(j<16)Q[fe++]=j;else{var Ke=0,Le=0;for(j==16?(Le=3+s0(t,h,3),h+=2,Ke=Q[fe-1]):j==17?(Le=3+s0(t,h,7),h+=3):j==18&&(Le=11+s0(t,h,127),h+=7);Le--;)Q[fe++]=Ke}}var Ge=Q.subarray(0,F),ut=Q.subarray(F);A=gX(Ge),T=gX(ut),S=KD(Ge,A,1),x=KD(ut,T,1)}else throw"invalid block type";else{var j=P2e(h)+4,w=t[j-4]|t[j-3]<<8,L=j+w;if(L>r){if(o)throw"unexpected EOF";break}i&&l(v+w),e.set(t.subarray(j,L),v),n.b=v+=w,n.p=h=L*8;continue}if(h>R){if(o)throw"unexpected EOF";break}}i&&l(v+131072);for(var st=(1<<A)-1,_e=(1<<T)-1,Se=h;;Se=h){var Ke=S[yX(t,h)&st],we=Ke>>>4;if(h+=Ke&15,h>R){if(o)throw"unexpected EOF";break}if(!Ke)throw"invalid length/literal";if(we<256)e[v++]=we;else if(we==256){Se=h,S=null;break}else{var Pe=we-254;if(we>264){var fe=we-257,be=uPe[fe];Pe=s0(t,h,(1<<be)-1)+hPe[fe],h+=be}var Ce=x[yX(t,h)&_e],qe=Ce>>>4;if(!Ce)throw"invalid distance";h+=Ce&15;var ut=A2e[qe];if(qe>3){var be=cPe[qe];ut+=yX(t,h)&(1<<be)-1,h+=be}if(h>R){if(o)throw"unexpected EOF";break}i&&l(v+131072);for(var mt=v+Pe;v<mt;v+=4)e[v]=e[v-ut],e[v+1]=e[v+1-ut],e[v+2]=e[v+2-ut],e[v+3]=e[v+3-ut];v=mt}}n.l=S,n.p=Se,n.b=v,S&&(d=1,n.m=A,n.d=x,n.n=T)}while(!d);return v==e.length?e:R2e(e,0,v)},k2e=new hg(0),D2e=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function m3(t,e){return I2e((D2e(t),t.subarray(2,-4)),e)}var O2e=typeof TextDecoder<"u"&&new TextDecoder,B2e=0;try{O2e.decode(k2e,{stream:!0}),B2e=1}catch{}const L2e=t=>t&&t.isCubeTexture;class N2e extends Yr{constructor(e,n){var r,i;const o=L2e(e),d=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,h=Math.floor(Math.log2(d)),v=Math.pow(2,h),S=3*Math.max(v,16*7),x=4*v,A=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/S}`,`#define CUBEUV_TEXEL_HEIGHT ${1/x}`,`#define CUBEUV_MAX_MIP ${h}.0`],T=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,R=A.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,G={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},j=new sP(1,16),w=new Oc({uniforms:G,fragmentShader:R,vertexShader:T,side:Mf});super(j,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class yZ extends Gp{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new j2e(n)}),this.register(function(n){return new $2e(n)}),this.register(function(n){return new Q2e(n)}),this.register(function(n){return new J2e(n)}),this.register(function(n){return new V2e(n)}),this.register(function(n){return new W2e(n)}),this.register(function(n){return new K2e(n)}),this.register(function(n){return new q2e(n)}),this.register(function(n){return new H2e(n)}),this.register(function(n){return new X2e(n)}),this.register(function(n){return new G2e(n)}),this.register(function(n){return new Y2e(n)}),this.register(function(n){return new U2e(n)}),this.register(function(n){return new Z2e(n)}),this.register(function(n){return new eet(n)})}load(e,n,r,i){const o=this;let l;this.resourcePath!==""?l=this.resourcePath:this.path!==""?l=this.path:l=Ny.extractUrlBase(e),this.manager.itemStart(e);const d=function(v){i?i(v):console.error(v),o.manager.itemError(e),o.manager.itemEnd(e)},h=new xv(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(v){try{o.parse(v,l,function(S){n(S),o.manager.itemEnd(e)},d)}catch(S){d(S)}},r,d)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let o;const l={},d={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ny.decodeText(new Uint8Array(e.slice(0,4)))===mPe){try{l[vo.KHR_BINARY_GLTF]=new tet(e)}catch(S){i&&i(S);return}o=JSON.parse(l[vo.KHR_BINARY_GLTF].content)}else o=JSON.parse(Ny.decodeText(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new met(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let v=0;v<this.pluginCallbacks.length;v++){const S=this.pluginCallbacks[v](h);d[S.name]=S,l[S.name]=!0}if(o.extensionsUsed)for(let v=0;v<o.extensionsUsed.length;++v){const S=o.extensionsUsed[v],x=o.extensionsRequired||[];switch(S){case vo.KHR_MATERIALS_UNLIT:l[S]=new z2e;break;case vo.KHR_DRACO_MESH_COMPRESSION:l[S]=new net(o,this.dracoLoader);break;case vo.KHR_TEXTURE_TRANSFORM:l[S]=new ret;break;case vo.KHR_MESH_QUANTIZATION:l[S]=new iet;break;default:x.indexOf(S)>=0&&d[S]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+S+'".')}}h.setExtensions(l),h.setPlugins(d),h.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,o){r.parse(e,n,i,o)})}}function F2e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const vo={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class U2e{constructor(e){this.parser=e,this.name=vo.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const o=n.json,h=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let v;const S=new ur(16777215);h.color!==void 0&&S.fromArray(h.color);const x=h.range!==void 0?h.range:0;switch(h.type){case"directional":v=new cZ(S),v.target.position.set(0,0,-1),v.add(v.target);break;case"point":v=new uZ(S),v.distance=x;break;case"spot":v=new lZ(S),v.distance=x,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,v.angle=h.spot.outerConeAngle,v.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,v.target.position.set(0,0,-1),v.add(v.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return v.position.set(0,0,0),v.decay=2,ux(v,h),h.intensity!==void 0&&(v.intensity=h.intensity),v.name=n.createUniqueName(h.name||"light_"+e),i=Promise.resolve(v),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,o=r.json.nodes[e],d=(o.extensions&&o.extensions[this.name]||{}).light;return d===void 0?null:this._loadLight(d).then(function(h){return r._getNodeRef(n.cache,d,h)})}}class z2e{constructor(){this.name=vo.KHR_MATERIALS_UNLIT}getMaterialType(){return th}extendParams(e,n,r){const i=[];e.color=new ur(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;e.color.fromArray(l),e.opacity=l[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,3001))}return Promise.all(i)}}class H2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class j2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];if(l.clearcoatFactor!==void 0&&(n.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(n,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const d=l.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new vn(d,d)}return Promise.all(o)}}class G2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.iridescenceFactor!==void 0&&(n.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(n.iridescenceIOR=l.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class V2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new ur(0,0,0),n.sheenRoughness=0,n.sheen=1;const l=i.extensions[this.name];return l.sheenColorFactor!==void 0&&n.sheenColor.fromArray(l.sheenColorFactor),l.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(r.assignTexture(n,"sheenColorMap",l.sheenColorTexture,3001)),l.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class W2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.transmissionFactor!==void 0&&(n.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(r.assignTexture(n,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class K2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];n.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(r.assignTexture(n,"thicknessMap",l.thicknessTexture)),n.attenuationDistance=l.attenuationDistance||1/0;const d=l.attenuationColor||[1,1,1];return n.attenuationColor=new ur(d[0],d[1],d[2]),Promise.all(o)}}class q2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class X2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];n.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(r.assignTexture(n,"specularIntensityMap",l.specularTexture));const d=l.specularColorFactor||[1,1,1];return n.specularColor=new ur(d[0],d[1],d[2]),l.specularColorTexture!==void 0&&o.push(r.assignTexture(n,"specularColorMap",l.specularColorTexture,3001)),Promise.all(o)}}class Y2e{constructor(e){this.parser=e,this.name=vo.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hy}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],l=i.extensions[this.name];return l.anisotropyStrength!==void 0&&(n.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(n.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(r.assignTexture(n,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class $2e{constructor(e){this.parser=e,this.name=vo.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],l=n.options.ktx2Loader;if(!l){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,l)}}class Q2e{constructor(e){this.parser=e,this.name=vo.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const l=o.extensions[n],d=i.images[l.source];let h=r.textureLoader;if(d.uri){const v=r.options.manager.getHandler(d.uri);v!==null&&(h=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,l.source,h);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class J2e{constructor(e){this.parser=e,this.name=vo.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const l=o.extensions[n],d=i.images[l.source];let h=r.textureLoader;if(d.uri){const v=r.options.manager.getHandler(d.uri);v!==null&&(h=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,l.source,h);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Z2e{constructor(e){this.name=vo.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(d){const h=i.byteOffset||0,v=i.byteLength||0,S=i.count,x=i.byteStride,A=new Uint8Array(d,h,v);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(S,x,A,i.mode,i.filter).then(function(T){return T.buffer}):l.ready.then(function(){const T=new ArrayBuffer(S*x);return l.decodeGltfBuffer(new Uint8Array(T),S,x,A,i.mode,i.filter),T})})}else return null}}class eet{constructor(e){this.name=vo.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const v of i.primitives)if(v.mode!==ug.TRIANGLES&&v.mode!==ug.TRIANGLE_STRIP&&v.mode!==ug.TRIANGLE_FAN&&v.mode!==void 0)return null;const l=r.extensions[this.name].attributes,d=[],h={};for(const v in l)d.push(this.parser.getDependency("accessor",l[v]).then(S=>(h[v]=S,h[v])));return d.length<1?null:(d.push(this.parser.createNodeMesh(e)),Promise.all(d).then(v=>{const S=v.pop(),x=S.isGroup?S.children:[S],A=v[0].count,T=[];for(const R of x){const G=new ea,j=new Ve,w=new to,L=new Ve(1,1,1),F=new GJ(R.geometry,R.material,A);for(let W=0;W<A;W++)h.TRANSLATION&&j.fromBufferAttribute(h.TRANSLATION,W),h.ROTATION&&w.fromBufferAttribute(h.ROTATION,W),h.SCALE&&L.fromBufferAttribute(h.SCALE,W),F.setMatrixAt(W,G.compose(j,w,L));for(const W in h)W!=="TRANSLATION"&&W!=="ROTATION"&&W!=="SCALE"&&R.geometry.setAttribute(W,h[W]);Ya.prototype.copy.call(F,R),this.parser.assignFinalMaterial(F),T.push(F)}return S.isGroup?(S.clear(),S.add(...T),S):T[0]}))}}const mPe="glTF",pD=12,Jxe={JSON:1313821514,BIN:5130562};class tet{constructor(e){this.name=vo.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,pD);if(this.header={magic:Ny.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==mPe)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-pD,i=new DataView(e,pD);let o=0;for(;o<r;){const l=i.getUint32(o,!0);o+=4;const d=i.getUint32(o,!0);if(o+=4,d===Jxe.JSON){const h=new Uint8Array(e,pD+o,l);this.content=Ny.decodeText(h)}else if(d===Jxe.BIN){const h=pD+o;this.body=e.slice(h,h+l)}o+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class net{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vo.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,d={},h={},v={};for(const S in l){const x=V$[S]||S.toLowerCase();d[x]=l[S]}for(const S in e.attributes){const x=V$[S]||S.toLowerCase();if(l[S]!==void 0){const A=r.accessors[e.attributes[S]],T=PM[A.componentType];v[x]=T.name,h[x]=A.normalized===!0}}return n.getDependency("bufferView",o).then(function(S){return new Promise(function(x){i.decodeDracoFile(S,function(A){for(const T in A.attributes){const R=A.attributes[T],G=h[T];G!==void 0&&(R.normalized=G)}x(A)},d,v)})})}}class ret{constructor(){this.name=vo.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class iet{constructor(){this.name=vo.KHR_MESH_QUANTIZATION}}class vPe extends lP{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let l=0;l!==i;l++)n[l]=r[o+l];return n}interpolate_(e,n,r,i){const o=this.resultBuffer,l=this.sampleValues,d=this.valueSize,h=d*2,v=d*3,S=i-n,x=(r-n)/S,A=x*x,T=A*x,R=e*v,G=R-v,j=-2*T+3*A,w=T-A,L=1-j,F=w-A+x;for(let W=0;W!==d;W++){const U=l[G+W+d],Q=l[G+W+h]*S,de=l[R+W+d],fe=l[R+W]*S;o[W]=L*U+F*Q+j*de+w*fe}return o}}const aet=new to;class oet extends vPe{interpolate_(e,n,r,i){const o=super.interpolate_(e,n,r,i);return aet.fromArray(o).normalize().toArray(o),o}}const ug={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},PM={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Zxe={9728:Vs,9729:as,9984:_O,9985:xH,9986:CM,9987:zy},ewe={33071:eh,33648:UM,10497:Lx},_X={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V$={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Bb.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},tx={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},set={CUBICSPLINE:void 0,LINEAR:Pb,STEP:zM},SX={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function uet(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new uB({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:y0})),t.DefaultMaterial}function KE(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ux(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function cet(t,e,n){let r=!1,i=!1,o=!1;for(let v=0,S=e.length;v<S;v++){const x=e[v];if(x.POSITION!==void 0&&(r=!0),x.NORMAL!==void 0&&(i=!0),x.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(t);const l=[],d=[],h=[];for(let v=0,S=e.length;v<S;v++){const x=e[v];if(r){const A=x.POSITION!==void 0?n.getDependency("accessor",x.POSITION):t.attributes.position;l.push(A)}if(i){const A=x.NORMAL!==void 0?n.getDependency("accessor",x.NORMAL):t.attributes.normal;d.push(A)}if(o){const A=x.COLOR_0!==void 0?n.getDependency("accessor",x.COLOR_0):t.attributes.color;h.push(A)}}return Promise.all([Promise.all(l),Promise.all(d),Promise.all(h)]).then(function(v){const S=v[0],x=v[1],A=v[2];return r&&(t.morphAttributes.position=S),i&&(t.morphAttributes.normal=x),o&&(t.morphAttributes.color=A),t.morphTargetsRelative=!0,t})}function fet(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function det(t){let e;const n=t.extensions&&t.extensions[vo.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+xX(n.attributes):e=t.indices+":"+xX(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+xX(t.targets[r]);return e}function xX(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function W$(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function het(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const pet=new ea;class met{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new F2e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new vMe(this.options.manager):this.textureLoader=new EMe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xv(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(l){const d={scene:l[0][i.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:i.asset,parser:r,userData:{}};KE(o,d,i),ux(d,i),Promise.all(r._invokeAll(function(h){return h.afterRoot&&h.afterRoot(d)})).then(function(){e(d)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=n.length;i<o;i++){const l=n[i].joints;for(let d=0,h=l.length;d<h;d++)e[l[d]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const l=e[i];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(r[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),o=(l,d)=>{const h=this.associations.get(l);h!=null&&this.associations.set(d,h);for(const[v,S]of l.children.entries())o(S,d.children[v])};return o(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const o=e(n[i]);o&&r.push(o)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(o,l){return r.getDependency(e,l)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[vo.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,l){r.load(Ny.resolveURL(n.uri,i.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,o=n.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const l=_X[i.type],d=PM[i.componentType],h=i.normalized===!0,v=new d(i.count*l);return Promise.resolve(new lo(v,l,h))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(l){const d=l[0],h=_X[i.type],v=PM[i.componentType],S=v.BYTES_PER_ELEMENT,x=S*h,A=i.byteOffset||0,T=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,R=i.normalized===!0;let G,j;if(T&&T!==x){const w=Math.floor(A/T),L="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let F=n.cache.get(L);F||(G=new v(d,w*T,i.count*T/S),F=new QO(G,T/S),n.cache.add(L,F)),j=new zx(F,h,A%T/S,R)}else d===null?G=new v(i.count*h):G=new v(d,A,i.count*h),j=new lo(G,h,R);if(i.sparse!==void 0){const w=_X.SCALAR,L=PM[i.sparse.indices.componentType],F=i.sparse.indices.byteOffset||0,W=i.sparse.values.byteOffset||0,U=new L(l[1],F,i.sparse.count*w),Q=new v(l[2],W,i.sparse.count*h);d!==null&&(j=new lo(j.array.slice(),j.itemSize,j.normalized));for(let de=0,fe=U.length;de<fe;de++){const Z=U[de];if(j.setX(Z,Q[de*h]),h>=2&&j.setY(Z,Q[de*h+1]),h>=3&&j.setZ(Z,Q[de*h+2]),h>=4&&j.setW(Z,Q[de*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return j})}loadTexture(e){const n=this.json,r=this.options,o=n.textures[e].source,l=n.images[o];let d=this.textureLoader;if(l.uri){const h=r.manager.getHandler(l.uri);h!==null&&(d=h)}return this.loadTextureImage(e,o,d)}loadTextureImage(e,n,r){const i=this,o=this.json,l=o.textures[e],d=o.images[n],h=(d.uri||d.bufferView)+":"+l.sampler;if(this.textureCache[h])return this.textureCache[h];const v=this.loadImageSource(n,r).then(function(S){S.flipY=!1,S.name=l.name||d.name||"",S.name===""&&typeof d.uri=="string"&&d.uri.startsWith("data:image/")===!1&&(S.name=d.uri);const A=(o.samplers||{})[l.sampler]||{};return S.magFilter=Zxe[A.magFilter]||as,S.minFilter=Zxe[A.minFilter]||zy,S.wrapS=ewe[A.wrapS]||Lx,S.wrapT=ewe[A.wrapT]||Lx,i.associations.set(S,{textures:e}),S}).catch(function(){return null});return this.textureCache[h]=v,v}loadImageSource(e,n){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(x=>x.clone());const l=i.images[e],d=self.URL||self.webkitURL;let h=l.uri||"",v=!1;if(l.bufferView!==void 0)h=r.getDependency("bufferView",l.bufferView).then(function(x){v=!0;const A=new Blob([x],{type:l.mimeType});return h=d.createObjectURL(A),h});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const S=Promise.resolve(h).then(function(x){return new Promise(function(A,T){let R=A;n.isImageBitmapLoader===!0&&(R=function(G){const j=new Ws(G);j.needsUpdate=!0,A(j)}),n.load(Ny.resolveURL(x,o.path),R,void 0,T)})}).then(function(x){return v===!0&&d.revokeObjectURL(h),x.userData.mimeType=l.mimeType||het(l.uri),x}).catch(function(x){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),x});return this.sourceCache[e]=S,S}assignTexture(e,n,r,i){const o=this;return this.getDependency("texture",r.index).then(function(l){if(!l)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(l=l.clone(),l.channel=r.texCoord),o.extensions[vo.KHR_TEXTURE_TRANSFORM]){const d=r.extensions!==void 0?r.extensions[vo.KHR_TEXTURE_TRANSFORM]:void 0;if(d){const h=o.associations.get(l);l=o.extensions[vo.KHR_TEXTURE_TRANSFORM].extendTexture(l,d),o.associations.set(l,h)}}return i!==void 0&&("colorSpace"in l?l.colorSpace=i===3001?"srgb":"srgb-linear":l.encoding=i),e[n]=l,l})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,l=n.attributes.normal===void 0;if(e.isPoints){const d="PointsMaterial:"+r.uuid;let h=this.cache.get(d);h||(h=new IH,ac.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,h.sizeAttenuation=!1,this.cache.add(d,h)),r=h}else if(e.isLine){const d="LineBasicMaterial:"+r.uuid;let h=this.cache.get(d);h||(h=new ah,ac.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,this.cache.add(d,h)),r=h}if(i||o||l){let d="ClonedMaterial:"+r.uuid+":";i&&(d+="derivative-tangents:"),o&&(d+="vertex-colors:"),l&&(d+="flat-shading:");let h=this.cache.get(d);h||(h=r.clone(),o&&(h.vertexColors=!0),l&&(h.flatShading=!0),i&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(d,h),this.associations.set(h,this.associations.get(r))),r=h}e.material=r}getMaterialType(){return uB}loadMaterial(e){const n=this,r=this.json,i=this.extensions,o=r.materials[e];let l;const d={},h=o.extensions||{},v=[];if(h[vo.KHR_MATERIALS_UNLIT]){const x=i[vo.KHR_MATERIALS_UNLIT];l=x.getMaterialType(),v.push(x.extendParams(d,o,n))}else{const x=o.pbrMetallicRoughness||{};if(d.color=new ur(1,1,1),d.opacity=1,Array.isArray(x.baseColorFactor)){const A=x.baseColorFactor;d.color.fromArray(A),d.opacity=A[3]}x.baseColorTexture!==void 0&&v.push(n.assignTexture(d,"map",x.baseColorTexture,3001)),d.metalness=x.metallicFactor!==void 0?x.metallicFactor:1,d.roughness=x.roughnessFactor!==void 0?x.roughnessFactor:1,x.metallicRoughnessTexture!==void 0&&(v.push(n.assignTexture(d,"metalnessMap",x.metallicRoughnessTexture)),v.push(n.assignTexture(d,"roughnessMap",x.metallicRoughnessTexture))),l=this._invokeOne(function(A){return A.getMaterialType&&A.getMaterialType(e)}),v.push(Promise.all(this._invokeAll(function(A){return A.extendMaterialParams&&A.extendMaterialParams(e,d)})))}o.doubleSided===!0&&(d.side=Mf);const S=o.alphaMode||SX.OPAQUE;if(S===SX.BLEND?(d.transparent=!0,d.depthWrite=!1):(d.transparent=!1,S===SX.MASK&&(d.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==th&&(v.push(n.assignTexture(d,"normalMap",o.normalTexture)),d.normalScale=new vn(1,1),o.normalTexture.scale!==void 0)){const x=o.normalTexture.scale;d.normalScale.set(x,x)}return o.occlusionTexture!==void 0&&l!==th&&(v.push(n.assignTexture(d,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(d.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==th&&(d.emissive=new ur().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&l!==th&&v.push(n.assignTexture(d,"emissiveMap",o.emissiveTexture,3001)),Promise.all(v).then(function(){const x=new l(d);return o.name&&(x.name=o.name),ux(x,o),n.associations.set(x,{materials:e}),o.extensions&&KE(i,x,o),x})}createUniqueName(e){const n=Co.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function o(d){return r[vo.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,n).then(function(h){return twe(h,d,n)})}const l=[];for(let d=0,h=e.length;d<h;d++){const v=e[d],S=det(v),x=i[S];if(x)l.push(x.promise);else{let A;v.extensions&&v.extensions[vo.KHR_DRACO_MESH_COMPRESSION]?A=o(v):A=twe(new da,v,n),i[S]={primitive:v,promise:A},l.push(A)}}return Promise.all(l)}loadMesh(e){const n=this,r=this.json,i=this.extensions,o=r.meshes[e],l=o.primitives,d=[];for(let h=0,v=l.length;h<v;h++){const S=l[h].material===void 0?uet(this.cache):this.getDependency("material",l[h].material);d.push(S)}return d.push(n.loadGeometries(l)),Promise.all(d).then(function(h){const v=h.slice(0,h.length-1),S=h[h.length-1],x=[];for(let T=0,R=S.length;T<R;T++){const G=S[T],j=l[T];let w;const L=v[T];if(j.mode===ug.TRIANGLES||j.mode===ug.TRIANGLE_STRIP||j.mode===ug.TRIANGLE_FAN||j.mode===void 0)w=o.isSkinnedMesh===!0?new jJ(G,L):new Yr(G,L),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),j.mode===ug.TRIANGLE_STRIP?w.geometry=Qxe(w.geometry,PJ):j.mode===ug.TRIANGLE_FAN&&(w.geometry=Qxe(w.geometry,M4));else if(j.mode===ug.LINES)w=new x0(G,L);else if(j.mode===ug.LINE_STRIP)w=new Ua(G,L);else if(j.mode===ug.LINE_LOOP)w=new VJ(G,L);else if(j.mode===ug.POINTS)w=new WJ(G,L);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+j.mode);Object.keys(w.geometry.morphAttributes).length>0&&fet(w,o),w.name=n.createUniqueName(o.name||"mesh_"+e),ux(w,o),j.extensions&&KE(i,w,j),n.assignFinalMaterial(w),x.push(w)}for(let T=0,R=x.length;T<R;T++)n.associations.set(x[T],{meshes:e,primitives:T});if(x.length===1)return o.extensions&&KE(i,x[0],o),x[0];const A=new Iy;o.extensions&&KE(i,A,o),n.associations.set(A,{meshes:e});for(let T=0,R=x.length;T<R;T++)A.add(x[T]);return A})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new ys(ITe.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new yg(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ux(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,o=n.joints.length;i<o;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),l=i,d=[],h=[];for(let v=0,S=l.length;v<S;v++){const x=l[v];if(x){d.push(x);const A=new ea;o!==null&&A.fromArray(o.array,v*16),h.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[v])}return new JO(d,h)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,o=[],l=[],d=[],h=[],v=[];for(let S=0,x=r.channels.length;S<x;S++){const A=r.channels[S],T=r.samplers[A.sampler],R=A.target,G=R.node,j=r.parameters!==void 0?r.parameters[T.input]:T.input,w=r.parameters!==void 0?r.parameters[T.output]:T.output;R.node!==void 0&&(o.push(this.getDependency("node",G)),l.push(this.getDependency("accessor",j)),d.push(this.getDependency("accessor",w)),h.push(T),v.push(R))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(d),Promise.all(h),Promise.all(v)]).then(function(S){const x=S[0],A=S[1],T=S[2],R=S[3],G=S[4],j=[];for(let w=0,L=x.length;w<L;w++){const F=x[w],W=A[w],U=T[w],Q=R[w],de=G[w];if(F===void 0)continue;F.updateMatrix();let fe;switch(tx[de.path]){case tx.weights:fe=WM;break;case tx.rotation:fe=Hx;break;case tx.position:case tx.scale:default:fe=KM;break}const Z=F.name?F.name:F.uuid,he=Q.interpolation!==void 0?set[Q.interpolation]:Pb,Te=[];tx[de.path]===tx.weights?F.traverse(function(Ke){Ke.morphTargetInfluences&&Te.push(Ke.name?Ke.name:Ke.uuid)}):Te.push(Z);let je=U.array;if(U.normalized){const Ke=W$(je.constructor),Le=new Float32Array(je.length);for(let Ge=0,ut=je.length;Ge<ut;Ge++)Le[Ge]=je[Ge]*Ke;je=Le}for(let Ke=0,Le=Te.length;Ke<Le;Ke++){const Ge=new fe(Te[Ke]+"."+tx[de.path],W.array,je,he);Q.interpolation==="CUBICSPLINE"&&(Ge.createInterpolant=function(st){const _e=this instanceof Hx?oet:vPe;return new _e(this.times,this.values,this.getValueSize()/3,st)},Ge.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),j.push(Ge)}}return new qM(i,void 0,j)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const l=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&l.traverse(function(d){if(d.isMesh)for(let h=0,v=i.weights.length;h<v;h++)d.morphTargetInfluences[h]=i.weights[h]}),l})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],o=r._loadNodeShallow(e),l=[],d=i.children||[];for(let v=0,S=d.length;v<S;v++)l.push(r.getDependency("node",d[v]));const h=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(l),h]).then(function(v){const S=v[0],x=v[1],A=v[2];A!==null&&S.traverse(function(T){T.isSkinnedMesh&&T.bind(A,pet)});for(let T=0,R=x.length;T<R;T++)S.add(x[T]);return S})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],l=o.name?i.createUniqueName(o.name):"",d=[],h=i._invokeOne(function(v){return v.createNodeMesh&&v.createNodeMesh(e)});return h&&d.push(h),o.camera!==void 0&&d.push(i.getDependency("camera",o.camera).then(function(v){return i._getNodeRef(i.cameraCache,o.camera,v)})),i._invokeAll(function(v){return v.createNodeAttachment&&v.createNodeAttachment(e)}).forEach(function(v){d.push(v)}),this.nodeCache[e]=Promise.all(d).then(function(v){let S;if(o.isBone===!0?S=new RH:v.length>1?S=new Iy:v.length===1?S=v[0]:S=new Ya,S!==v[0])for(let x=0,A=v.length;x<A;x++)S.add(v[x]);if(o.name&&(S.userData.name=o.name,S.name=l),ux(S,o),o.extensions&&KE(r,S,o),o.matrix!==void 0){const x=new ea;x.fromArray(o.matrix),S.applyMatrix4(x)}else o.translation!==void 0&&S.position.fromArray(o.translation),o.rotation!==void 0&&S.quaternion.fromArray(o.rotation),o.scale!==void 0&&S.scale.fromArray(o.scale);return i.associations.has(S)||i.associations.set(S,{}),i.associations.get(S).nodes=e,S}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,o=new Iy;r.name&&(o.name=i.createUniqueName(r.name)),ux(o,r),r.extensions&&KE(n,o,r);const l=r.nodes||[],d=[];for(let h=0,v=l.length;h<v;h++)d.push(i.getDependency("node",l[h]));return Promise.all(d).then(function(h){for(let S=0,x=h.length;S<x;S++)o.add(h[S]);const v=S=>{const x=new Map;for(const[A,T]of i.associations)(A instanceof ac||A instanceof Ws)&&x.set(A,T);return S.traverse(A=>{const T=i.associations.get(A);T!=null&&x.set(A,T)}),x};return i.associations=v(o),o})}}function vet(t,e,n){const r=e.attributes,i=new S0;if(r.POSITION!==void 0){const d=n.json.accessors[r.POSITION],h=d.min,v=d.max;if(h!==void 0&&v!==void 0){if(i.set(new Ve(h[0],h[1],h[2]),new Ve(v[0],v[1],v[2])),d.normalized){const S=W$(PM[d.componentType]);i.min.multiplyScalar(S),i.max.multiplyScalar(S)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const d=new Ve,h=new Ve;for(let v=0,S=o.length;v<S;v++){const x=o[v];if(x.POSITION!==void 0){const A=n.json.accessors[x.POSITION],T=A.min,R=A.max;if(T!==void 0&&R!==void 0){if(h.setX(Math.max(Math.abs(T[0]),Math.abs(R[0]))),h.setY(Math.max(Math.abs(T[1]),Math.abs(R[1]))),h.setZ(Math.max(Math.abs(T[2]),Math.abs(R[2]))),A.normalized){const G=W$(PM[A.componentType]);h.multiplyScalar(G)}d.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(d)}t.boundingBox=i;const l=new wg;i.getCenter(l.center),l.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=l}function twe(t,e,n){const r=e.attributes,i=[];function o(l,d){return n.getDependency("accessor",l).then(function(h){t.setAttribute(d,h)})}for(const l in r){const d=V$[l]||l.toLowerCase();d in t.attributes||i.push(o(r[l],d))}if(e.indices!==void 0&&!t.index){const l=n.getDependency("accessor",e.indices).then(function(d){t.setIndex(d)});i.push(l)}return ux(t,e),vet(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?cet(t,e.targets,n):t})}class get extends oZ{constructor(e){super(e),this.type=Yh}parse(e){const d=function(F,W){switch(F){case 1:console.error("THREE.RGBELoader Read Error: "+(W||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(W||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(W||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(W||""))}return-1},x=`
`,A=function(F,W,U){W=W||1024;let de=F.pos,fe=-1,Z=0,he="",Te=String.fromCharCode.apply(null,new Uint16Array(F.subarray(de,de+128)));for(;0>(fe=Te.indexOf(x))&&Z<W&&de<F.byteLength;)he+=Te,Z+=Te.length,de+=128,Te+=String.fromCharCode.apply(null,new Uint16Array(F.subarray(de,de+128)));return-1<fe?(U!==!1&&(F.pos+=Z+fe+1),he+Te.slice(0,fe)):!1},T=function(F){const W=/^#\?(\S+)/,U=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,de=/^\s*FORMAT=(\S+)\s*$/,fe=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let he,Te;if(F.pos>=F.byteLength||!(he=A(F)))return d(1,"no header found");if(!(Te=he.match(W)))return d(3,"bad initial token");for(Z.valid|=1,Z.programtype=Te[1],Z.string+=he+`
`;he=A(F),he!==!1;){if(Z.string+=he+`
`,he.charAt(0)==="#"){Z.comments+=he+`
`;continue}if((Te=he.match(U))&&(Z.gamma=parseFloat(Te[1])),(Te=he.match(Q))&&(Z.exposure=parseFloat(Te[1])),(Te=he.match(de))&&(Z.valid|=2,Z.format=Te[1]),(Te=he.match(fe))&&(Z.valid|=4,Z.height=parseInt(Te[1],10),Z.width=parseInt(Te[2],10)),Z.valid&2&&Z.valid&4)break}return Z.valid&2?Z.valid&4?Z:d(3,"missing image size specifier"):d(3,"missing format specifier")},R=function(F,W,U){const Q=W;if(Q<8||Q>32767||F[0]!==2||F[1]!==2||F[2]&128)return new Uint8Array(F);if(Q!==(F[2]<<8|F[3]))return d(3,"wrong scanline width");const de=new Uint8Array(4*W*U);if(!de.length)return d(4,"unable to allocate buffer space");let fe=0,Z=0;const he=4*Q,Te=new Uint8Array(4),je=new Uint8Array(he);let Ke=U;for(;Ke>0&&Z<F.byteLength;){if(Z+4>F.byteLength)return d(1);if(Te[0]=F[Z++],Te[1]=F[Z++],Te[2]=F[Z++],Te[3]=F[Z++],Te[0]!=2||Te[1]!=2||(Te[2]<<8|Te[3])!=Q)return d(3,"bad rgbe scanline format");let Le=0,Ge;for(;Le<he&&Z<F.byteLength;){Ge=F[Z++];const st=Ge>128;if(st&&(Ge-=128),Ge===0||Le+Ge>he)return d(3,"bad scanline data");if(st){const _e=F[Z++];for(let Se=0;Se<Ge;Se++)je[Le++]=_e}else je.set(F.subarray(Z,Z+Ge),Le),Le+=Ge,Z+=Ge}const ut=Q;for(let st=0;st<ut;st++){let _e=0;de[fe]=je[st+_e],_e+=Q,de[fe+1]=je[st+_e],_e+=Q,de[fe+2]=je[st+_e],_e+=Q,de[fe+3]=je[st+_e],fe+=4}Ke--}return de},G=function(F,W,U,Q){const de=F[W+3],fe=Math.pow(2,de-128)/255;U[Q+0]=F[W+0]*fe,U[Q+1]=F[W+1]*fe,U[Q+2]=F[W+2]*fe,U[Q+3]=1},j=function(F,W,U,Q){const de=F[W+3],fe=Math.pow(2,de-128)/255;U[Q+0]=hb.toHalfFloat(Math.min(F[W+0]*fe,65504)),U[Q+1]=hb.toHalfFloat(Math.min(F[W+1]*fe,65504)),U[Q+2]=hb.toHalfFloat(Math.min(F[W+2]*fe,65504)),U[Q+3]=hb.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const L=T(w);if(L!==-1){const F=L.width,W=L.height,U=R(w.subarray(w.pos),F,W);if(U!==-1){let Q,de,fe;switch(this.type){case kf:fe=U.length/4;const Z=new Float32Array(fe*4);for(let Te=0;Te<fe;Te++)G(U,Te*4,Z,Te*4);Q=Z,de=kf;break;case Yh:fe=U.length/4;const he=new Uint16Array(fe*4);for(let Te=0;Te<fe;Te++)j(U,Te*4,he,Te*4);Q=he,de=Yh;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:F,height:W,data:Q,header:L.string,gamma:L.gamma,exposure:L.exposure,type:de}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(l,d){switch(l.type){case kf:case Yh:"colorSpace"in l?l.colorSpace="srgb-linear":l.encoding=3e3,l.minFilter=as,l.magFilter=as,l.generateMipmaps=!1,l.flipY=!0;break}n&&n(l,d)}return super.load(e,o,r,i)}}const mD="colorSpace"in new Ws;class yet extends oZ{constructor(e){super(e),this.type=Yh}parse(e){const Z=Math.pow(2.7182818,2.2);function he(Ee,oe){for(var ke=0,Ze=0;Ze<65536;++Ze)(Ze==0||Ee[Ze>>3]&1<<(Ze&7))&&(oe[ke++]=Ze);for(var Xe=ke-1;ke<65536;)oe[ke++]=0;return Xe}function Te(Ee){for(var oe=0;oe<16384;oe++)Ee[oe]={},Ee[oe].len=0,Ee[oe].lit=0,Ee[oe].p=null}const je={l:0,c:0,lc:0};function Ke(Ee,oe,ke,Ze,Xe){for(;ke<Ee;)oe=oe<<8|Wn(Ze,Xe),ke+=8;ke-=Ee,je.l=oe>>ke&(1<<Ee)-1,je.c=oe,je.lc=ke}const Le=new Array(59);function Ge(Ee){for(var oe=0;oe<=58;++oe)Le[oe]=0;for(var oe=0;oe<65537;++oe)Le[Ee[oe]]+=1;for(var ke=0,oe=58;oe>0;--oe){var Ze=ke+Le[oe]>>1;Le[oe]=ke,ke=Ze}for(var oe=0;oe<65537;++oe){var Xe=Ee[oe];Xe>0&&(Ee[oe]=Xe|Le[Xe]++<<6)}}function ut(Ee,oe,ke,Ze,Xe,rt,It){for(var Dt=ke,ln=0,dn=0;Xe<=rt;Xe++){if(Dt.value-ke.value>Ze)return!1;Ke(6,ln,dn,Ee,Dt);var _n=je.l;if(ln=je.c,dn=je.lc,It[Xe]=_n,_n==63){if(Dt.value-ke.value>Ze)throw"Something wrong with hufUnpackEncTable";Ke(8,ln,dn,Ee,Dt);var $t=je.l+6;if(ln=je.c,dn=je.lc,Xe+$t>rt+1)throw"Something wrong with hufUnpackEncTable";for(;$t--;)It[Xe++]=0;Xe--}else if(_n>=59){var $t=_n-59+2;if(Xe+$t>rt+1)throw"Something wrong with hufUnpackEncTable";for(;$t--;)It[Xe++]=0;Xe--}}Ge(It)}function st(Ee){return Ee&63}function _e(Ee){return Ee>>6}function Se(Ee,oe,ke,Ze){for(;oe<=ke;oe++){var Xe=_e(Ee[oe]),rt=st(Ee[oe]);if(Xe>>rt)throw"Invalid table entry";if(rt>14){var It=Ze[Xe>>rt-14];if(It.len)throw"Invalid table entry";if(It.lit++,It.p){var Dt=It.p;It.p=new Array(It.lit);for(var ln=0;ln<It.lit-1;++ln)It.p[ln]=Dt[ln]}else It.p=new Array(1);It.p[It.lit-1]=oe}else if(rt)for(var dn=0,ln=1<<14-rt;ln>0;ln--){var It=Ze[(Xe<<14-rt)+dn];if(It.len||It.p)throw"Invalid table entry";It.len=rt,It.lit=oe,dn++}}return!0}const we={c:0,lc:0};function Pe(Ee,oe,ke,Ze){Ee=Ee<<8|Wn(ke,Ze),oe+=8,we.c=Ee,we.lc=oe}const be={c:0,lc:0};function Ce(Ee,oe,ke,Ze,Xe,rt,It,Dt,ln,dn){if(Ee==oe){Ze<8&&(Pe(ke,Ze,Xe,It),ke=we.c,Ze=we.lc),Ze-=8;var _n=ke>>Ze,_n=new Uint8Array([_n])[0];if(ln.value+_n>dn)return!1;for(var $t=Dt[ln.value-1];_n-- >0;)Dt[ln.value++]=$t}else if(ln.value<dn)Dt[ln.value++]=Ee;else return!1;be.c=ke,be.lc=Ze}function qe(Ee){return Ee&65535}function mt(Ee){var oe=qe(Ee);return oe>32767?oe-65536:oe}const We={a:0,b:0};function Mt(Ee,oe){var ke=mt(Ee),Ze=mt(oe),Xe=Ze,rt=ke+(Xe&1)+(Xe>>1),It=rt,Dt=rt-Xe;We.a=It,We.b=Dt}function dt(Ee,oe){var ke=qe(Ee),Ze=qe(oe),Xe=ke-(Ze>>1)&65535,rt=Ze+Xe-32768&65535;We.a=rt,We.b=Xe}function en(Ee,oe,ke,Ze,Xe,rt,It){for(var Dt=It<16384,ln=ke>Xe?Xe:ke,dn=1,_n;dn<=ln;)dn<<=1;for(dn>>=1,_n=dn,dn>>=1;dn>=1;){for(var $t=0,Rn=$t+rt*(Xe-_n),wn=rt*dn,er=rt*_n,tr=Ze*dn,Tr=Ze*_n,Wr,pr,Rr,Or;$t<=Rn;$t+=er){for(var pi=$t,ji=$t+Ze*(ke-_n);pi<=ji;pi+=Tr){var ti=pi+tr,ki=pi+wn,Ni=ki+tr;Dt?(Mt(Ee[pi+oe],Ee[ki+oe]),Wr=We.a,Rr=We.b,Mt(Ee[ti+oe],Ee[Ni+oe]),pr=We.a,Or=We.b,Mt(Wr,pr),Ee[pi+oe]=We.a,Ee[ti+oe]=We.b,Mt(Rr,Or),Ee[ki+oe]=We.a,Ee[Ni+oe]=We.b):(dt(Ee[pi+oe],Ee[ki+oe]),Wr=We.a,Rr=We.b,dt(Ee[ti+oe],Ee[Ni+oe]),pr=We.a,Or=We.b,dt(Wr,pr),Ee[pi+oe]=We.a,Ee[ti+oe]=We.b,dt(Rr,Or),Ee[ki+oe]=We.a,Ee[Ni+oe]=We.b)}if(ke&dn){var ki=pi+wn;Dt?Mt(Ee[pi+oe],Ee[ki+oe]):dt(Ee[pi+oe],Ee[ki+oe]),Wr=We.a,Ee[ki+oe]=We.b,Ee[pi+oe]=Wr}}if(Xe&dn)for(var pi=$t,ji=$t+Ze*(ke-_n);pi<=ji;pi+=Tr){var ti=pi+tr;Dt?Mt(Ee[pi+oe],Ee[ti+oe]):dt(Ee[pi+oe],Ee[ti+oe]),Wr=We.a,Ee[ti+oe]=We.b,Ee[pi+oe]=Wr}_n=dn,dn>>=1}return $t}function cn(Ee,oe,ke,Ze,Xe,rt,It,Dt,ln,dn){for(var _n=0,$t=0,Rn=Dt,wn=Math.trunc(Xe.value+(rt+7)/8);Xe.value<wn;)for(Pe(_n,$t,ke,Xe),_n=we.c,$t=we.lc;$t>=14;){var er=_n>>$t-14&16383,tr=oe[er];if(tr.len)$t-=tr.len,Ce(tr.lit,It,_n,$t,ke,Ze,Xe,ln,dn,Rn),_n=be.c,$t=be.lc;else{if(!tr.p)throw"hufDecode issues";var Tr;for(Tr=0;Tr<tr.lit;Tr++){for(var Wr=st(Ee[tr.p[Tr]]);$t<Wr&&Xe.value<wn;)Pe(_n,$t,ke,Xe),_n=we.c,$t=we.lc;if($t>=Wr&&_e(Ee[tr.p[Tr]])==(_n>>$t-Wr&(1<<Wr)-1)){$t-=Wr,Ce(tr.p[Tr],It,_n,$t,ke,Ze,Xe,ln,dn,Rn),_n=be.c,$t=be.lc;break}}if(Tr==tr.lit)throw"hufDecode issues"}}var pr=8-rt&7;for(_n>>=pr,$t-=pr;$t>0;){var tr=oe[_n<<14-$t&16383];if(tr.len)$t-=tr.len,Ce(tr.lit,It,_n,$t,ke,Ze,Xe,ln,dn,Rn),_n=be.c,$t=be.lc;else throw"hufDecode issues"}return!0}function sn(Ee,oe,ke,Ze,Xe,rt){var It={value:0},Dt=ke.value,ln=Bn(oe,ke),dn=Bn(oe,ke);ke.value+=4;var _n=Bn(oe,ke);if(ke.value+=4,ln<0||ln>=65537||dn<0||dn>=65537)throw"Something wrong with HUF_ENCSIZE";var $t=new Array(65537),Rn=new Array(16384);Te(Rn);var wn=Ze-(ke.value-Dt);if(ut(Ee,oe,ke,wn,ln,dn,$t),_n>8*(Ze-(ke.value-Dt)))throw"Something wrong with hufUncompress";Se($t,ln,dn,Rn),cn($t,Rn,Ee,oe,ke,_n,dn,rt,Xe,It)}function $e(Ee,oe,ke){for(var Ze=0;Ze<ke;++Ze)oe[Ze]=Ee[oe[Ze]]}function Gt(Ee){for(var oe=1;oe<Ee.length;oe++){var ke=Ee[oe-1]+Ee[oe]-128;Ee[oe]=ke}}function Ut(Ee,oe){for(var ke=0,Ze=Math.floor((Ee.length+1)/2),Xe=0,rt=Ee.length-1;!(Xe>rt||(oe[Xe++]=Ee[ke++],Xe>rt));)oe[Xe++]=Ee[Ze++]}function Kt(Ee){for(var oe=Ee.byteLength,ke=new Array,Ze=0,Xe=new DataView(Ee);oe>0;){var rt=Xe.getInt8(Ze++);if(rt<0){var It=-rt;oe-=It+1;for(var Dt=0;Dt<It;Dt++)ke.push(Xe.getUint8(Ze++))}else{var It=rt;oe-=2;for(var ln=Xe.getUint8(Ze++),Dt=0;Dt<It+1;Dt++)ke.push(ln)}}return ke}function Yt(Ee,oe,ke,Ze,Xe,rt){var ti=new DataView(rt.buffer),It=ke[Ee.idx[0]].width,Dt=ke[Ee.idx[0]].height,ln=3,dn=Math.floor(It/8),_n=Math.ceil(It/8),$t=Math.ceil(Dt/8),Rn=It-(_n-1)*8,wn=Dt-($t-1)*8,er={value:0},tr=new Array(ln),Tr=new Array(ln),Wr=new Array(ln),pr=new Array(ln),Rr=new Array(ln);for(let mi=0;mi<ln;++mi)Rr[mi]=oe[Ee.idx[mi]],tr[mi]=mi<1?0:tr[mi-1]+_n*$t,Tr[mi]=new Float32Array(64),Wr[mi]=new Uint16Array(64),pr[mi]=new Uint16Array(_n*64);for(let mi=0;mi<$t;++mi){var Or=8;mi==$t-1&&(Or=wn);var pi=8;for(let Ki=0;Ki<_n;++Ki){Ki==_n-1&&(pi=Rn);for(let ca=0;ca<ln;++ca)Wr[ca].fill(0),Wr[ca][0]=Xe[tr[ca]++],Cn(er,Ze,Wr[ca]),Dn(Wr[ca],Tr[ca]),nr(Tr[ca]);dr(Tr);for(let ca=0;ca<ln;++ca)Jr(Tr[ca],pr[ca],Ki*64)}let yi=0;for(let Ki=0;Ki<ln;++Ki){const ca=ke[Ee.idx[Ki]].type;for(let Da=8*mi;Da<8*mi+Or;++Da){yi=Rr[Ki][Da];for(let co=0;co<dn;++co){const ko=co*64+(Da&7)*8;ti.setUint16(yi+0*2*ca,pr[Ki][ko+0],!0),ti.setUint16(yi+1*2*ca,pr[Ki][ko+1],!0),ti.setUint16(yi+2*2*ca,pr[Ki][ko+2],!0),ti.setUint16(yi+3*2*ca,pr[Ki][ko+3],!0),ti.setUint16(yi+4*2*ca,pr[Ki][ko+4],!0),ti.setUint16(yi+5*2*ca,pr[Ki][ko+5],!0),ti.setUint16(yi+6*2*ca,pr[Ki][ko+6],!0),ti.setUint16(yi+7*2*ca,pr[Ki][ko+7],!0),yi+=8*2*ca}}if(dn!=_n)for(let Da=8*mi;Da<8*mi+Or;++Da){const co=Rr[Ki][Da]+8*dn*2*ca,ko=dn*64+(Da&7)*8;for(let ll=0;ll<pi;++ll)ti.setUint16(co+ll*2*ca,pr[Ki][ko+ll],!0)}}}for(var ji=new Uint16Array(It),ti=new DataView(rt.buffer),ki=0;ki<ln;++ki){ke[Ee.idx[ki]].decoded=!0;var Ni=ke[Ee.idx[ki]].type;if(ke[ki].type==2)for(var Fi=0;Fi<Dt;++Fi){const mi=Rr[ki][Fi];for(var no=0;no<It;++no)ji[no]=ti.getUint16(mi+no*2*Ni,!0);for(var no=0;no<It;++no)ti.setFloat32(mi+no*2*Ni,Ot(ji[no]),!0)}}}function Cn(Ee,oe,ke){for(var Ze,Xe=1;Xe<64;)Ze=oe[Ee.value],Ze==65280?Xe=64:Ze>>8==255?Xe+=Ze&255:(ke[Xe]=Ze,Xe++),Ee.value++}function Dn(Ee,oe){oe[0]=Ot(Ee[0]),oe[1]=Ot(Ee[1]),oe[2]=Ot(Ee[5]),oe[3]=Ot(Ee[6]),oe[4]=Ot(Ee[14]),oe[5]=Ot(Ee[15]),oe[6]=Ot(Ee[27]),oe[7]=Ot(Ee[28]),oe[8]=Ot(Ee[2]),oe[9]=Ot(Ee[4]),oe[10]=Ot(Ee[7]),oe[11]=Ot(Ee[13]),oe[12]=Ot(Ee[16]),oe[13]=Ot(Ee[26]),oe[14]=Ot(Ee[29]),oe[15]=Ot(Ee[42]),oe[16]=Ot(Ee[3]),oe[17]=Ot(Ee[8]),oe[18]=Ot(Ee[12]),oe[19]=Ot(Ee[17]),oe[20]=Ot(Ee[25]),oe[21]=Ot(Ee[30]),oe[22]=Ot(Ee[41]),oe[23]=Ot(Ee[43]),oe[24]=Ot(Ee[9]),oe[25]=Ot(Ee[11]),oe[26]=Ot(Ee[18]),oe[27]=Ot(Ee[24]),oe[28]=Ot(Ee[31]),oe[29]=Ot(Ee[40]),oe[30]=Ot(Ee[44]),oe[31]=Ot(Ee[53]),oe[32]=Ot(Ee[10]),oe[33]=Ot(Ee[19]),oe[34]=Ot(Ee[23]),oe[35]=Ot(Ee[32]),oe[36]=Ot(Ee[39]),oe[37]=Ot(Ee[45]),oe[38]=Ot(Ee[52]),oe[39]=Ot(Ee[54]),oe[40]=Ot(Ee[20]),oe[41]=Ot(Ee[22]),oe[42]=Ot(Ee[33]),oe[43]=Ot(Ee[38]),oe[44]=Ot(Ee[46]),oe[45]=Ot(Ee[51]),oe[46]=Ot(Ee[55]),oe[47]=Ot(Ee[60]),oe[48]=Ot(Ee[21]),oe[49]=Ot(Ee[34]),oe[50]=Ot(Ee[37]),oe[51]=Ot(Ee[47]),oe[52]=Ot(Ee[50]),oe[53]=Ot(Ee[56]),oe[54]=Ot(Ee[59]),oe[55]=Ot(Ee[61]),oe[56]=Ot(Ee[35]),oe[57]=Ot(Ee[36]),oe[58]=Ot(Ee[48]),oe[59]=Ot(Ee[49]),oe[60]=Ot(Ee[57]),oe[61]=Ot(Ee[58]),oe[62]=Ot(Ee[62]),oe[63]=Ot(Ee[63])}function nr(Ee){const oe=.5*Math.cos(.7853975),ke=.5*Math.cos(3.14159/16),Ze=.5*Math.cos(3.14159/8),Xe=.5*Math.cos(3*3.14159/16),rt=.5*Math.cos(5*3.14159/16),It=.5*Math.cos(3*3.14159/8),Dt=.5*Math.cos(7*3.14159/16);for(var ln=new Array(4),dn=new Array(4),_n=new Array(4),$t=new Array(4),Rn=0;Rn<8;++Rn){var wn=Rn*8;ln[0]=Ze*Ee[wn+2],ln[1]=It*Ee[wn+2],ln[2]=Ze*Ee[wn+6],ln[3]=It*Ee[wn+6],dn[0]=ke*Ee[wn+1]+Xe*Ee[wn+3]+rt*Ee[wn+5]+Dt*Ee[wn+7],dn[1]=Xe*Ee[wn+1]-Dt*Ee[wn+3]-ke*Ee[wn+5]-rt*Ee[wn+7],dn[2]=rt*Ee[wn+1]-ke*Ee[wn+3]+Dt*Ee[wn+5]+Xe*Ee[wn+7],dn[3]=Dt*Ee[wn+1]-rt*Ee[wn+3]+Xe*Ee[wn+5]-ke*Ee[wn+7],_n[0]=oe*(Ee[wn+0]+Ee[wn+4]),_n[3]=oe*(Ee[wn+0]-Ee[wn+4]),_n[1]=ln[0]+ln[3],_n[2]=ln[1]-ln[2],$t[0]=_n[0]+_n[1],$t[1]=_n[3]+_n[2],$t[2]=_n[3]-_n[2],$t[3]=_n[0]-_n[1],Ee[wn+0]=$t[0]+dn[0],Ee[wn+1]=$t[1]+dn[1],Ee[wn+2]=$t[2]+dn[2],Ee[wn+3]=$t[3]+dn[3],Ee[wn+4]=$t[3]-dn[3],Ee[wn+5]=$t[2]-dn[2],Ee[wn+6]=$t[1]-dn[1],Ee[wn+7]=$t[0]-dn[0]}for(var er=0;er<8;++er)ln[0]=Ze*Ee[16+er],ln[1]=It*Ee[16+er],ln[2]=Ze*Ee[48+er],ln[3]=It*Ee[48+er],dn[0]=ke*Ee[8+er]+Xe*Ee[24+er]+rt*Ee[40+er]+Dt*Ee[56+er],dn[1]=Xe*Ee[8+er]-Dt*Ee[24+er]-ke*Ee[40+er]-rt*Ee[56+er],dn[2]=rt*Ee[8+er]-ke*Ee[24+er]+Dt*Ee[40+er]+Xe*Ee[56+er],dn[3]=Dt*Ee[8+er]-rt*Ee[24+er]+Xe*Ee[40+er]-ke*Ee[56+er],_n[0]=oe*(Ee[er]+Ee[32+er]),_n[3]=oe*(Ee[er]-Ee[32+er]),_n[1]=ln[0]+ln[3],_n[2]=ln[1]-ln[2],$t[0]=_n[0]+_n[1],$t[1]=_n[3]+_n[2],$t[2]=_n[3]-_n[2],$t[3]=_n[0]-_n[1],Ee[0+er]=$t[0]+dn[0],Ee[8+er]=$t[1]+dn[1],Ee[16+er]=$t[2]+dn[2],Ee[24+er]=$t[3]+dn[3],Ee[32+er]=$t[3]-dn[3],Ee[40+er]=$t[2]-dn[2],Ee[48+er]=$t[1]-dn[1],Ee[56+er]=$t[0]-dn[0]}function dr(Ee){for(var oe=0;oe<64;++oe){var ke=Ee[0][oe],Ze=Ee[1][oe],Xe=Ee[2][oe];Ee[0][oe]=ke+1.5747*Xe,Ee[1][oe]=ke-.1873*Ze-.4682*Xe,Ee[2][oe]=ke+1.8556*Ze}}function Jr(Ee,oe,ke){for(var Ze=0;Ze<64;++Ze)oe[ke+Ze]=hb.toHalfFloat(Hi(Ee[Ze]))}function Hi(Ee){return Ee<=1?Math.sign(Ee)*Math.pow(Math.abs(Ee),2.2):Math.sign(Ee)*Math.pow(Z,Math.abs(Ee)-1)}function et(Ee){return new DataView(Ee.array.buffer,Ee.offset.value,Ee.size)}function Be(Ee){var oe=Ee.viewer.buffer.slice(Ee.offset.value,Ee.offset.value+Ee.size),ke=new Uint8Array(Kt(oe)),Ze=new Uint8Array(ke.length);return Gt(ke),Ut(ke,Ze),new DataView(Ze.buffer)}function Nt(Ee){var oe=Ee.array.slice(Ee.offset.value,Ee.offset.value+Ee.size),ke=m3(oe),Ze=new Uint8Array(ke.length);return Gt(ke),Ut(ke,Ze),new DataView(Ze.buffer)}function Pn(Ee){for(var oe=Ee.viewer,ke={value:Ee.offset.value},Ze=new Uint16Array(Ee.width*Ee.scanlineBlockSize*(Ee.channels*Ee.type)),Xe=new Uint8Array(8192),rt=0,It=new Array(Ee.channels),Dt=0;Dt<Ee.channels;Dt++)It[Dt]={},It[Dt].start=rt,It[Dt].end=It[Dt].start,It[Dt].nx=Ee.width,It[Dt].ny=Ee.lines,It[Dt].size=Ee.type,rt+=It[Dt].nx*It[Dt].ny*It[Dt].size;var ln=Rt(oe,ke),dn=Rt(oe,ke);if(dn>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ln<=dn)for(var Dt=0;Dt<dn-ln+1;Dt++)Xe[Dt+ln]=Yn(oe,ke);var _n=new Uint16Array(65536),$t=he(Xe,_n),Rn=Bn(oe,ke);sn(Ee.array,oe,ke,Rn,Ze,rt);for(var Dt=0;Dt<Ee.channels;++Dt)for(var wn=It[Dt],er=0;er<It[Dt].size;++er)en(Ze,wn.start+er,wn.nx,wn.size,wn.ny,wn.nx*wn.size,$t);$e(_n,Ze,rt);for(var tr=0,Tr=new Uint8Array(Ze.buffer.byteLength),Wr=0;Wr<Ee.lines;Wr++)for(var pr=0;pr<Ee.channels;pr++){var wn=It[pr],Rr=wn.nx*wn.size,Or=new Uint8Array(Ze.buffer,wn.end*2,Rr*2);Tr.set(Or,tr),tr+=Rr*2,wn.end+=Rr}return new DataView(Tr.buffer)}function kn(Ee){var oe=Ee.array.slice(Ee.offset.value,Ee.offset.value+Ee.size),ke=m3(oe);const Ze=Ee.lines*Ee.channels*Ee.width,Xe=Ee.type==1?new Uint16Array(Ze):new Uint32Array(Ze);let rt=0,It=0;const Dt=new Array(4);for(let ln=0;ln<Ee.lines;ln++)for(let dn=0;dn<Ee.channels;dn++){let _n=0;switch(Ee.type){case 1:Dt[0]=rt,Dt[1]=Dt[0]+Ee.width,rt=Dt[1]+Ee.width;for(let $t=0;$t<Ee.width;++$t){const Rn=ke[Dt[0]++]<<8|ke[Dt[1]++];_n+=Rn,Xe[It]=_n,It++}break;case 2:Dt[0]=rt,Dt[1]=Dt[0]+Ee.width,Dt[2]=Dt[1]+Ee.width,rt=Dt[2]+Ee.width;for(let $t=0;$t<Ee.width;++$t){const Rn=ke[Dt[0]++]<<24|ke[Dt[1]++]<<16|ke[Dt[2]++]<<8;_n+=Rn,Xe[It]=_n,It++}break}}return new DataView(Xe.buffer)}function Nn(Ee){var oe=Ee.viewer,ke={value:Ee.offset.value},Ze=new Uint8Array(Ee.width*Ee.lines*(Ee.channels*Ee.type*2)),Xe={version:Dr(oe,ke),unknownUncompressedSize:Dr(oe,ke),unknownCompressedSize:Dr(oe,ke),acCompressedSize:Dr(oe,ke),dcCompressedSize:Dr(oe,ke),rleCompressedSize:Dr(oe,ke),rleUncompressedSize:Dr(oe,ke),rleRawSize:Dr(oe,ke),totalAcUncompressedCount:Dr(oe,ke),totalDcUncompressedCount:Dr(oe,ke),acCompression:Dr(oe,ke)};if(Xe.version<2)throw"EXRLoader.parse: "+oa.compression+" version "+Xe.version+" is unsupported";for(var rt=new Array,It=Rt(oe,ke)-2;It>0;){var Dt=Ar(oe.buffer,ke),ln=Yn(oe,ke),dn=ln>>2&3,_n=(ln>>4)-1,$t=new Int8Array([_n])[0],Rn=Yn(oe,ke);rt.push({name:Dt,index:$t,type:Rn,compression:dn}),It-=Dt.length+3}for(var wn=oa.channels,er=new Array(Ee.channels),tr=0;tr<Ee.channels;++tr){var Tr=er[tr]={},Wr=wn[tr];Tr.name=Wr.name,Tr.compression=0,Tr.decoded=!1,Tr.type=Wr.pixelType,Tr.pLinear=Wr.pLinear,Tr.width=Ee.width,Tr.height=Ee.lines}for(var pr={idx:new Array(3)},Rr=0;Rr<Ee.channels;++Rr)for(var Tr=er[Rr],tr=0;tr<rt.length;++tr){var Or=rt[tr];Tr.name==Or.name&&(Tr.compression=Or.compression,Or.index>=0&&(pr.idx[Or.index]=Rr),Tr.offset=Rr)}if(Xe.acCompressedSize>0)switch(Xe.acCompression){case 0:var ti=new Uint16Array(Xe.totalAcUncompressedCount);sn(Ee.array,oe,ke,Xe.acCompressedSize,ti,Xe.totalAcUncompressedCount);break;case 1:var pi=Ee.array.slice(ke.value,ke.value+Xe.totalAcUncompressedCount),ji=m3(pi),ti=new Uint16Array(ji.buffer);ke.value+=Xe.totalAcUncompressedCount;break}if(Xe.dcCompressedSize>0){var ki={array:Ee.array,offset:ke,size:Xe.dcCompressedSize},Ni=new Uint16Array(Nt(ki).buffer);ke.value+=Xe.dcCompressedSize}if(Xe.rleRawSize>0){var pi=Ee.array.slice(ke.value,ke.value+Xe.rleCompressedSize),ji=m3(pi),Fi=Kt(ji.buffer);ke.value+=Xe.rleCompressedSize}for(var no=0,mi=new Array(er.length),tr=0;tr<mi.length;++tr)mi[tr]=new Array;for(var yi=0;yi<Ee.lines;++yi)for(var Ki=0;Ki<er.length;++Ki)mi[Ki].push(no),no+=er[Ki].width*Ee.type*2;Yt(pr,mi,er,ti,Ni,Ze);for(var tr=0;tr<er.length;++tr){var Tr=er[tr];if(!Tr.decoded)switch(Tr.compression){case 2:for(var ca=0,Da=0,yi=0;yi<Ee.lines;++yi){for(var co=mi[tr][ca],ko=0;ko<Tr.width;++ko){for(var ll=0;ll<2*Tr.type;++ll)Ze[co++]=Fi[Da+ll*Tr.width*Tr.height];Da++}ca++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Ze.buffer)}function Ar(Ee,oe){for(var ke=new Uint8Array(Ee),Ze=0;ke[oe.value+Ze]!=0;)Ze+=1;var Xe=new TextDecoder().decode(ke.slice(oe.value,oe.value+Ze));return oe.value=oe.value+Ze+1,Xe}function Zn(Ee,oe,ke){var Ze=new TextDecoder().decode(new Uint8Array(Ee).slice(oe.value,oe.value+ke));return oe.value=oe.value+ke,Ze}function Je(Ee,oe){var ke=On(Ee,oe),Ze=Bn(Ee,oe);return[ke,Ze]}function Jt(Ee,oe){var ke=Bn(Ee,oe),Ze=Bn(Ee,oe);return[ke,Ze]}function On(Ee,oe){var ke=Ee.getInt32(oe.value,!0);return oe.value=oe.value+4,ke}function Bn(Ee,oe){var ke=Ee.getUint32(oe.value,!0);return oe.value=oe.value+4,ke}function Wn(Ee,oe){var ke=Ee[oe.value];return oe.value=oe.value+1,ke}function Yn(Ee,oe){var ke=Ee.getUint8(oe.value);return oe.value=oe.value+1,ke}const Dr=function(Ee,oe){let ke;return"getBigInt64"in DataView.prototype?ke=Number(Ee.getBigInt64(oe.value,!0)):ke=Ee.getUint32(oe.value+4,!0)+Number(Ee.getUint32(oe.value,!0)<<32),oe.value+=8,ke};function cr(Ee,oe){var ke=Ee.getFloat32(oe.value,!0);return oe.value+=4,ke}function ht(Ee,oe){return hb.toHalfFloat(cr(Ee,oe))}function Ot(Ee){var oe=(Ee&31744)>>10,ke=Ee&1023;return(Ee>>15?-1:1)*(oe?oe===31?ke?NaN:1/0:Math.pow(2,oe-15)*(1+ke/1024):6103515625e-14*(ke/1024))}function Rt(Ee,oe){var ke=Ee.getUint16(oe.value,!0);return oe.value+=2,ke}function ir(Ee,oe){return Ot(Rt(Ee,oe))}function hr(Ee,oe,ke,Ze){for(var Xe=ke.value,rt=[];ke.value<Xe+Ze-1;){var It=Ar(oe,ke),Dt=On(Ee,ke),ln=Yn(Ee,ke);ke.value+=3;var dn=On(Ee,ke),_n=On(Ee,ke);rt.push({name:It,pixelType:Dt,pLinear:ln,xSampling:dn,ySampling:_n})}return ke.value+=1,rt}function Li(Ee,oe){var ke=cr(Ee,oe),Ze=cr(Ee,oe),Xe=cr(Ee,oe),rt=cr(Ee,oe),It=cr(Ee,oe),Dt=cr(Ee,oe),ln=cr(Ee,oe),dn=cr(Ee,oe);return{redX:ke,redY:Ze,greenX:Xe,greenY:rt,blueX:It,blueY:Dt,whiteX:ln,whiteY:dn}}function Pa(Ee,oe){var ke=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Ze=Yn(Ee,oe);return ke[Ze]}function Ra(Ee,oe){var ke=Bn(Ee,oe),Ze=Bn(Ee,oe),Xe=Bn(Ee,oe),rt=Bn(Ee,oe);return{xMin:ke,yMin:Ze,xMax:Xe,yMax:rt}}function ft(Ee,oe){var ke=["INCREASING_Y"],Ze=Yn(Ee,oe);return ke[Ze]}function kt(Ee,oe){var ke=cr(Ee,oe),Ze=cr(Ee,oe);return[ke,Ze]}function Bt(Ee,oe){var ke=cr(Ee,oe),Ze=cr(Ee,oe),Xe=cr(Ee,oe);return[ke,Ze,Xe]}function Un(Ee,oe,ke,Ze,Xe){if(Ze==="string"||Ze==="stringvector"||Ze==="iccProfile")return Zn(oe,ke,Xe);if(Ze==="chlist")return hr(Ee,oe,ke,Xe);if(Ze==="chromaticities")return Li(Ee,ke);if(Ze==="compression")return Pa(Ee,ke);if(Ze==="box2i")return Ra(Ee,ke);if(Ze==="lineOrder")return ft(Ee,ke);if(Ze==="float")return cr(Ee,ke);if(Ze==="v2f")return kt(Ee,ke);if(Ze==="v3f")return Bt(Ee,ke);if(Ze==="int")return On(Ee,ke);if(Ze==="rational")return Je(Ee,ke);if(Ze==="timecode")return Jt(Ee,ke);if(Ze==="preview")return ke.value+=Xe,"skipped";ke.value+=Xe}function Pr(Ee,oe,ke){const Ze={};if(Ee.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Ze.version=Ee.getUint8(4);const Xe=Ee.getUint8(5);Ze.spec={singleTile:!!(Xe&2),longName:!!(Xe&4),deepFormat:!!(Xe&8),multiPart:!!(Xe&16)},ke.value=8;for(var rt=!0;rt;){var It=Ar(oe,ke);if(It==0)rt=!1;else{var Dt=Ar(oe,ke),ln=Bn(Ee,ke),dn=Un(Ee,oe,ke,Dt,ln);dn===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Dt}'.`):Ze[It]=dn}}if(Xe!=0)throw console.error("EXRHeader:",Ze),"THREE.EXRLoader: provided file is currently unsupported.";return Ze}function yr(Ee,oe,ke,Ze,Xe){const rt={size:0,viewer:oe,array:ke,offset:Ze,width:Ee.dataWindow.xMax-Ee.dataWindow.xMin+1,height:Ee.dataWindow.yMax-Ee.dataWindow.yMin+1,channels:Ee.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Ee.channels[0].pixelType,uncompress:null,getter:null,format:null,[mD?"colorSpace":"encoding"]:null};switch(Ee.compression){case"NO_COMPRESSION":rt.lines=1,rt.uncompress=et;break;case"RLE_COMPRESSION":rt.lines=1,rt.uncompress=Be;break;case"ZIPS_COMPRESSION":rt.lines=1,rt.uncompress=Nt;break;case"ZIP_COMPRESSION":rt.lines=16,rt.uncompress=Nt;break;case"PIZ_COMPRESSION":rt.lines=32,rt.uncompress=Pn;break;case"PXR24_COMPRESSION":rt.lines=16,rt.uncompress=kn;break;case"DWAA_COMPRESSION":rt.lines=32,rt.uncompress=Nn;break;case"DWAB_COMPRESSION":rt.lines=256,rt.uncompress=Nn;break;default:throw"EXRLoader.parse: "+Ee.compression+" is unsupported"}if(rt.scanlineBlockSize=rt.lines,rt.type==1)switch(Xe){case kf:rt.getter=ir,rt.inputSize=2;break;case Yh:rt.getter=Rt,rt.inputSize=2;break}else if(rt.type==2)switch(Xe){case kf:rt.getter=cr,rt.inputSize=4;break;case Yh:rt.getter=ht,rt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+rt.type+" for "+Ee.compression+".";rt.blockCount=(Ee.dataWindow.yMax+1)/rt.scanlineBlockSize;for(var It=0;It<rt.blockCount;It++)Dr(oe,Ze);rt.outputChannels=rt.channels==3?4:rt.channels;const Dt=rt.width*rt.height*rt.outputChannels;switch(Xe){case kf:rt.byteArray=new Float32Array(Dt),rt.channels<rt.outputChannels&&rt.byteArray.fill(1,0,Dt);break;case Yh:rt.byteArray=new Uint16Array(Dt),rt.channels<rt.outputChannels&&rt.byteArray.fill(15360,0,Dt);break;default:console.error("THREE.EXRLoader: unsupported type: ",Xe);break}return rt.bytesPerLine=rt.width*rt.inputSize*rt.channels,rt.outputChannels==4?rt.format=Up:rt.format=bJ,mD?rt.colorSpace="srgb-linear":rt.encoding=3e3,rt}const Kn=new DataView(e),Sr=new Uint8Array(e),$n={value:0},oa=Pr(Kn,e,$n),Ir=yr(oa,Kn,Sr,$n,this.type),ja={value:0},xa={R:0,G:1,B:2,A:3,Y:0};for(let Ee=0;Ee<Ir.height/Ir.scanlineBlockSize;Ee++){const oe=Bn(Kn,$n);Ir.size=Bn(Kn,$n),Ir.lines=oe+Ir.scanlineBlockSize>Ir.height?Ir.height-oe:Ir.scanlineBlockSize;const Ze=Ir.size<Ir.lines*Ir.bytesPerLine?Ir.uncompress(Ir):et(Ir);$n.value+=Ir.size;for(let Xe=0;Xe<Ir.scanlineBlockSize;Xe++){const rt=Xe+Ee*Ir.scanlineBlockSize;if(rt>=Ir.height)break;for(let It=0;It<Ir.channels;It++){const Dt=xa[oa.channels[It].name];for(let ln=0;ln<Ir.width;ln++){ja.value=(Xe*(Ir.channels*Ir.width)+It*Ir.width+ln)*Ir.inputSize;const dn=(Ir.height-1-rt)*(Ir.width*Ir.outputChannels)+ln*Ir.outputChannels+Dt;Ir.byteArray[dn]=Ir.getter(Ze,ja)}}}}return{header:oa,width:Ir.width,height:Ir.height,data:Ir.byteArray,format:Ir.format,[mD?"colorSpace":"encoding"]:Ir[mD?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(l,d){mD?l.colorSpace=d.colorSpace:l.encoding=d.encoding,l.minFilter=as,l.magFilter=as,l.generateMipmaps=!1,l.flipY=!1,n&&n(l,d)}return super.load(e,o,r,i)}}const wX=new WeakMap;class _et extends Gp{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const o=new xv(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,l=>{const d={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,d).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(n)}decodeGeometry(e,n){for(const h in n.attributeTypes){const v=n.attributeTypes[h];v.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[h]=v.name)}const r=JSON.stringify(n);if(wX.has(e)){const h=wX.get(e);if(h.key===r)return h.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,l=e.byteLength,d=this._getWorker(o,l).then(h=>(i=h,new Promise((v,S)=>{i._callbacks[o]={resolve:v,reject:S},i.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(h=>this._createGeometry(h.geometry));return d.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),wX.set(e,{key:r,promise:d}),d}_createGeometry(e){const n=new da;e.index&&n.setIndex(new lo(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,l=i.array,d=i.itemSize;n.setAttribute(o,new lo(l,d))}return n}_loadLibrary(e,n){const r=new xv(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=xet.toString(),l=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const l=o.data;switch(l.type){case"decode":i._callbacks[l.id].resolve(l);break;case"error":i._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function xet(){let t,e;onmessage=function(l){const d=l.data;switch(d.type){case"init":t=d.decoderConfig,e=new Promise(function(S){t.onModuleLoaded=function(x){S({draco:x})},DracoDecoderModule(t)});break;case"decode":const h=d.buffer,v=d.taskConfig;e.then(S=>{const x=S.draco,A=new x.Decoder,T=new x.DecoderBuffer;T.Init(new Int8Array(h),h.byteLength);try{const R=n(x,A,T,v),G=R.attributes.map(j=>j.array.buffer);R.index&&G.push(R.index.array.buffer),self.postMessage({type:"decode",id:d.id,geometry:R},G)}catch(R){console.error(R),self.postMessage({type:"error",id:d.id,error:R.message})}finally{x.destroy(T),x.destroy(A)}});break}};function n(l,d,h,v){const S=v.attributeIDs,x=v.attributeTypes;let A,T;const R=d.GetEncodedGeometryType(h);if(R===l.TRIANGULAR_MESH)A=new l.Mesh,T=d.DecodeBufferToMesh(h,A);else if(R===l.POINT_CLOUD)A=new l.PointCloud,T=d.DecodeBufferToPointCloud(h,A);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!T.ok()||A.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+T.error_msg());const G={index:null,attributes:[]};for(const j in S){const w=self[x[j]];let L,F;if(v.useUniqueIDs)F=S[j],L=d.GetAttributeByUniqueId(A,F);else{if(F=d.GetAttributeId(A,l[S[j]]),F===-1)continue;L=d.GetAttribute(A,F)}G.attributes.push(i(l,d,A,j,w,L))}return R===l.TRIANGULAR_MESH&&(G.index=r(l,d,A)),l.destroy(A),G}function r(l,d,h){const S=h.num_faces()*3,x=S*4,A=l._malloc(x);d.GetTrianglesUInt32Array(h,x,A);const T=new Uint32Array(l.HEAPF32.buffer,A,S).slice();return l._free(A),{array:T,itemSize:1}}function i(l,d,h,v,S,x){const A=x.num_components(),R=h.num_points()*A,G=R*S.BYTES_PER_ELEMENT,j=o(l,S),w=l._malloc(G);d.GetAttributeDataArrayForAllPoints(h,x,j,G,w);const L=new S(l.HEAPF32.buffer,w,R).slice();return l._free(w),{name:v,array:L,itemSize:A}}function o(l,d){switch(d){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let v3;const EX=()=>{if(v3)return v3;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let o;const l=WebAssembly.instantiate(d(i),{}).then(x=>{o=x.instance,o.exports.__wasm_call_ctors()});function d(x){const A=new Uint8Array(x.length);for(let R=0;R<x.length;++R){const G=x.charCodeAt(R);A[R]=G>96?G-71:G>64?G-65:G>47?G+4:G>46?63:62}let T=0;for(let R=0;R<x.length;++R)A[T++]=A[R]<60?r[A[R]]:(A[R]-60)*64+A[++R];return A.buffer.slice(0,T)}function h(x,A,T,R,G,j){const w=o.exports.sbrk,L=T+3&-4,F=w(L*R),W=w(G.length),U=new Uint8Array(o.exports.memory.buffer);U.set(G,W);const Q=x(F,T,R,W,G.length);if(Q===0&&j&&j(F,L,R),A.set(U.subarray(F,F+T*R)),w(F-w(0)),Q!==0)throw new Error(`Malformed buffer data: ${Q}`)}const v={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},S={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return v3={ready:l,supported:!0,decodeVertexBuffer(x,A,T,R,G){h(o.exports.meshopt_decodeVertexBuffer,x,A,T,R,o.exports[v[G]])},decodeIndexBuffer(x,A,T,R){h(o.exports.meshopt_decodeIndexBuffer,x,A,T,R)},decodeIndexSequence(x,A,T,R){h(o.exports.meshopt_decodeIndexSequence,x,A,T,R)},decodeGltfBuffer(x,A,T,R,G,j){h(o.exports[S[G]],x,A,T,R,o.exports[v[j]])}},v3};let g3=null;function gPe(t,e,n){return r=>{n&&n(r),t&&(g3||(g3=new _et),g3.setDecoderPath(typeof t=="string"?t:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(g3)),e&&r.setMeshoptDecoder(typeof EX=="function"?EX():EX)}}function FH(t,e=!0,n=!0,r){return cP(yZ,t,gPe(e,n,r))}FH.preload=(t,e=!0,n=!0,r)=>cP.preload(yZ,t,gPe(e,n,r));FH.clear=t=>cP.clear(yZ,t);function wet(t,e){const n=St.useRef(),[r]=St.useState(()=>e?e instanceof Ya?{current:e}:e:n),[i]=St.useState(()=>new TMe(void 0));St.useLayoutEffect(()=>void(i._root=r.current),[i,e]);const o=St.useRef({}),[l]=St.useState(()=>{const d={};return t.forEach(h=>Object.defineProperty(d,h.name,{enumerable:!0,get(){if(r.current)return o.current[h.name]||(o.current[h.name]=i.clipAction(h,r.current))},configurable:!0})),{ref:r,clips:t,actions:d,names:t.map(h=>h.name),mixer:i}});return Hb((d,h)=>i.update(h)),St.useEffect(()=>{const d=r.current;return()=>{o.current={},Object.values(l.actions).forEach(h=>{d&&i.uncacheAction(h,d)})}},[t]),St.useEffect(()=>()=>{i.stopAllAction()},[i]),l}const Eet=({focus:t=0,size:e=25,samples:n=10}={})=>`
#define PENUMBRA_FILTER_SIZE float(${e})
#define RGB_NOISE_FUNCTION(uv) (randRGB(uv))
vec3 randRGB(vec2 uv) {
  return vec3(
    fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),
    fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),
    fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)
  );
}

vec3 lowPassRandRGB(vec2 uv) {
  // 3x3 convolution (average)
  // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9
  vec3 result = vec3(0);
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));
  result *= 0.111111111; // 1.0 / 9.0
  return result;
}
vec3 highPassRandRGB(vec2 uv) {
  // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal
  // hp(x) = x - lp(x)
  return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;
}


vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}
float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation
  return (zReceiver - zBlocker) / zBlocker;
}
float findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float blockerDepthSum = float(${t});
  float blockers = 0.0;

  int j = 0;
  vec2 offset = vec2(0.);
  float depth = 0.;

  #pragma unroll_loop_start
  for(int i = 0; i < ${n}; i ++) {
    offset = (vogelDiskSample(j, ${n}, angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;
    depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));
    if (depth < compare) {
      blockerDepthSum += depth;
      blockers++;
    }
    j++;
  }
  #pragma unroll_loop_end

  if (blockers > 0.0) {
    return blockerDepthSum / blockers;
  }
  return -1.0;
}

        
float vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float shadow = 0.0f;
  int j = 0;
  vec2 vogelSample = vec2(0.0);
  vec2 offset = vec2(0.0);
  #pragma unroll_loop_start
  for (int i = 0; i < ${n}; i++) {
    vogelSample = vogelDiskSample(j, ${n}, angle) * texelSize;
    offset = vogelSample * (1.0 + filterRadius * float(${e}));
    shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    j++;
  }
  #pragma unroll_loop_end
  return shadow * 1.0 / ${n}.0;
}

float PCSS (sampler2D shadowMap, vec4 coords) {
  vec2 uv = coords.xy;
  float zReceiver = coords.z; // Assumed to be eye-space z in this code
  float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;
  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);
  if (avgBlockerDepth == -1.0) {
    return 1.0;
  }
  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);
  return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);
}`;function nwe(t,e,n){e.traverse(r=>{r.material&&(t.properties.remove(r.material),r.material.dispose==null||r.material.dispose())}),t.info.programs.length=0,t.compile(e,n)}function bet({focus:t=0,samples:e=10,size:n=25}){const r=dd(l=>l.gl),i=dd(l=>l.scene),o=dd(l=>l.camera);return St.useEffect(()=>{const l=va.shadowmap_pars_fragment;return va.shadowmap_pars_fragment=va.shadowmap_pars_fragment.replace("#ifdef USE_SHADOWMAP",`#ifdef USE_SHADOWMAP
`+Eet({size:n,samples:e,focus:t})).replace("#if defined( SHADOWMAP_TYPE_PCF )",`
return PCSS(shadowMap, shadowCoord);
#if defined( SHADOWMAP_TYPE_PCF )`),nwe(r,i,o),()=>{va.shadowmap_pars_fragment=l,nwe(r,i,o)}},[t,n,e]),null}const bX={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Cet="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",rwe=t=>Array.isArray(t);function yPe({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var o;let l=null,d=!1,h;if(n){if(!(n in bX))throw new Error("Preset must be one of: "+Object.keys(bX).join(", "));t=bX[n],e=Cet}if(d=rwe(t),h=rwe(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(o=t.split(".").pop())==null?void 0:o.toLowerCase(),l=d?mMe:h==="hdr"?get:h==="exr"?yet:null,!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const v=cP(l,d?[t]:t,T=>{T.setPath==null||T.setPath(e),i&&i(T)}),S=d?v[0]:v;S.mapping=d?D1:FM;const x=3001,A=3e3;return"colorSpace"in S?S.colorSpace=r??d?"srgb":"srgb-linear":S.encoding=r??d?x:A,S}const Aet=t=>t.current&&t.current.isScene,Tet=t=>Aet(t)?t.current:t;function _Z(t,e,n,r,i=0){const o=Tet(e||n),l=o.background,d=o.environment,h=o.backgroundBlurriness||0;return t!=="only"&&(o.environment=r),t&&(o.background=r),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=i),()=>{t!=="only"&&(o.environment=d),t&&(o.background=l),t&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=h)}}function SZ({scene:t,background:e=!1,blur:n,map:r}){const i=dd(o=>o.scene);return St.useLayoutEffect(()=>{if(r)return _Z(e,t,i,r,n)},[i,t,r,e,n]),null}function _Pe({background:t=!1,scene:e,blur:n,...r}){const i=yPe(r),o=dd(l=>l.scene);return St.useLayoutEffect(()=>_Z(t,e,o,i,n),[i,t,e,o,n]),null}function Met({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:l=!1,blur:d,scene:h,files:v,path:S,preset:x=void 0,extensions:A}){const T=dd(F=>F.gl),R=dd(F=>F.scene),G=St.useRef(null),[j]=St.useState(()=>new Ux),w=St.useMemo(()=>{const F=new LJ(r);return F.texture.type=Yh,F},[r]);St.useLayoutEffect(()=>(i===1&&G.current.update(T,j),_Z(l,h,R,w.texture,d)),[t,j,w.texture,h,R,l,i,T]);let L=1;return Hb(()=>{(i===1/0||L<i)&&(G.current.update(T,j),L++)}),St.createElement(St.Fragment,null,tPe(St.createElement(St.Fragment,null,t,St.createElement("cubeCamera",{ref:G,args:[e,n,w]}),v||x?St.createElement(_Pe,{background:!0,files:v,preset:x,path:S,extensions:A}):o?St.createElement(SZ,{background:!0,map:o,extensions:A}):null),j))}function Pet(t){var e,n,r,i;const o=yPe(t),l=t.map||o;St.useMemo(()=>jMe({GroundProjectedEnvImpl:N2e}),[]);const d=St.useMemo(()=>[l],[l]),h=(e=t.ground)==null?void 0:e.height,v=(n=t.ground)==null?void 0:n.radius,S=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return St.createElement(St.Fragment,null,St.createElement(SZ,gO({},t,{map:l})),St.createElement("groundProjectedEnvImpl",{args:d,scale:S,height:h,radius:v}))}function Ret(t){return t.ground?St.createElement(Pet,t):t.map?St.createElement(SZ,t):t.children?St.createElement(Met,t):St.createElement(_Pe,t)}const SPe=St.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),UH=St.createContext({}),xZ=St.createContext(null),zH=typeof document<"u",Iet=zH?St.useLayoutEffect:St.useEffect,xPe=St.createContext({strict:!1});function ket(t,e,n,r){const{visualElement:i}=St.useContext(UH),o=St.useContext(xPe),l=St.useContext(xZ),d=St.useContext(SPe).reducedMotion,h=St.useRef();r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const v=h.current;St.useInsertionEffect(()=>{v&&v.update(n,l)});const S=St.useRef(!!window.HandoffAppearAnimations);return Iet(()=>{v&&(v.render(),S.current&&v.animationState&&v.animationState.animateChanges())}),St.useEffect(()=>{v&&(v.updateFeatures(),!S.current&&v.animationState&&v.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,S.current=!1)}),v}function dM(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Det(t,e,n){return St.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dM(n)&&(n.current=r))},[e])}function RO(t){return typeof t=="string"||Array.isArray(t)}function HH(t){return typeof t=="object"&&typeof t.start=="function"}const wZ=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EZ=["initial",...wZ];function jH(t){return HH(t.animate)||EZ.some(e=>RO(t[e]))}function wPe(t){return!!(jH(t)||t.variants)}function Oet(t,e){if(jH(t)){const{initial:n,animate:r}=t;return{initial:n===!1||RO(n)?n:void 0,animate:RO(r)?r:void 0}}return t.inherit!==!1?e:{}}function Bet(t){const{initial:e,animate:n}=Oet(t,St.useContext(UH));return St.useMemo(()=>({initial:e,animate:n}),[iwe(e),iwe(n)])}function iwe(t){return Array.isArray(t)?t.join(" "):t}const awe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},IO={};for(const t in awe)IO[t]={isEnabled:e=>awe[t].some(n=>!!e[n])};function Let(t){for(const e in t)IO[e]={...IO[e],...t[e]}}const EPe=St.createContext({}),bPe=St.createContext({}),Net=Symbol.for("motionComponentSymbol");function Fet({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Let(t);function o(d,h){let v;const S={...St.useContext(SPe),...d,layoutId:Uet(d)},{isStatic:x}=S,A=Bet(d),T=r(d,x);if(!x&&zH){A.visualElement=ket(i,T,S,e);const R=St.useContext(bPe),G=St.useContext(xPe).strict;A.visualElement&&(v=A.visualElement.loadFeatures(S,G,t,R))}return St.createElement(UH.Provider,{value:A},v&&A.visualElement?St.createElement(v,{visualElement:A.visualElement,...S}):null,n(i,d,Det(T,A.visualElement,h),T,x,A.visualElement))}const l=St.forwardRef(o);return l[Net]=i,l}function Uet({layoutId:t}){const e=St.useContext(EPe).id;return e&&t!==void 0?e+"-"+t:t}function zet(t){function e(r,i={}){return Fet(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Het=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bZ(t){return typeof t!="string"||t.includes("-")?!1:!!(Het.indexOf(t)>-1||/[A-Z]/.test(t))}const O4={};function jet(t){Object.assign(O4,t)}const dB=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jb=new Set(dB);function CPe(t,{layout:e,layoutId:n}){return jb.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!O4[t]||t==="opacity")}const Rm=t=>!!(t&&t.getVelocity),Get={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vet=dB.length;function Wet(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let l=0;l<Vet;l++){const d=dB[l];if(t[d]!==void 0){const h=Get[d]||d;o+=`${h}(${t[d]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const APe=t=>e=>typeof e=="string"&&e.startsWith(t),TPe=APe("--"),K$=APe("var(--"),Ket=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qet=(t,e)=>e&&typeof t=="number"?e.transform(t):t,jx=(t,e,n)=>Math.min(Math.max(n,t),e),Gb={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qD={...Gb,transform:t=>jx(0,1,t)},y3={...Gb,default:1},XD=t=>Math.round(t*1e5)/1e5,GH=/(-)?([\d]*\.?[\d])+/g,MPe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xet=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hB(t){return typeof t=="string"}const pB=t=>({test:e=>hB(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ax=pB("deg"),Fy=pB("%"),aa=pB("px"),Yet=pB("vh"),$et=pB("vw"),owe={...Fy,parse:t=>Fy.parse(t)/100,transform:t=>Fy.transform(t*100)},swe={...Gb,transform:Math.round},PPe={borderWidth:aa,borderTopWidth:aa,borderRightWidth:aa,borderBottomWidth:aa,borderLeftWidth:aa,borderRadius:aa,radius:aa,borderTopLeftRadius:aa,borderTopRightRadius:aa,borderBottomRightRadius:aa,borderBottomLeftRadius:aa,width:aa,maxWidth:aa,height:aa,maxHeight:aa,size:aa,top:aa,right:aa,bottom:aa,left:aa,padding:aa,paddingTop:aa,paddingRight:aa,paddingBottom:aa,paddingLeft:aa,margin:aa,marginTop:aa,marginRight:aa,marginBottom:aa,marginLeft:aa,rotate:ax,rotateX:ax,rotateY:ax,rotateZ:ax,scale:y3,scaleX:y3,scaleY:y3,scaleZ:y3,skew:ax,skewX:ax,skewY:ax,distance:aa,translateX:aa,translateY:aa,translateZ:aa,x:aa,y:aa,z:aa,perspective:aa,transformPerspective:aa,opacity:qD,originX:owe,originY:owe,originZ:aa,zIndex:swe,fillOpacity:qD,strokeOpacity:qD,numOctaves:swe};function CZ(t,e,n,r){const{style:i,vars:o,transform:l,transformOrigin:d}=t;let h=!1,v=!1,S=!0;for(const x in e){const A=e[x];if(TPe(x)){o[x]=A;continue}const T=PPe[x],R=qet(A,T);if(jb.has(x)){if(h=!0,l[x]=R,!S)continue;A!==(T.default||0)&&(S=!1)}else x.startsWith("origin")?(v=!0,d[x]=R):i[x]=R}if(e.transform||(h||r?i.transform=Wet(t.transform,n,S,r):i.transform&&(i.transform="none")),v){const{originX:x="50%",originY:A="50%",originZ:T=0}=d;i.transformOrigin=`${x} ${A} ${T}`}}const AZ=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RPe(t,e,n){for(const r in e)!Rm(e[r])&&!CPe(r,n)&&(t[r]=e[r])}function Qet({transformTemplate:t},e,n){return St.useMemo(()=>{const r=AZ();return CZ(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Jet(t,e,n){const r=t.style||{},i={};return RPe(i,r,t),Object.assign(i,Qet(t,e,n)),t.transformValues?t.transformValues(i):i}function Zet(t,e,n){const r={},i=Jet(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const ett=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function B4(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||ett.has(t)}let IPe=t=>!B4(t);function ttt(t){t&&(IPe=e=>e.startsWith("on")?!B4(e):t(e))}try{ttt(require("@emotion/is-prop-valid").default)}catch{}function ntt(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(IPe(i)||n===!0&&B4(i)||!e&&!B4(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function lwe(t,e,n){return typeof t=="string"?t:aa.transform(e+n*t)}function rtt(t,e,n){const r=lwe(e,t.x,t.width),i=lwe(n,t.y,t.height);return`${r} ${i}`}const itt={offset:"stroke-dashoffset",array:"stroke-dasharray"},att={offset:"strokeDashoffset",array:"strokeDasharray"};function ott(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?itt:att;t[o.offset]=aa.transform(-r);const l=aa.transform(e),d=aa.transform(n);t[o.array]=`${l} ${d}`}function TZ(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:d=1,pathOffset:h=0,...v},S,x,A){if(CZ(t,v,S,A),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:R,dimensions:G}=t;T.transform&&(G&&(R.transform=T.transform),delete T.transform),G&&(i!==void 0||o!==void 0||R.transform)&&(R.transformOrigin=rtt(G,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),l!==void 0&&ott(T,l,d,h,!1)}const kPe=()=>({...AZ(),attrs:{}}),MZ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function stt(t,e,n,r){const i=St.useMemo(()=>{const o=kPe();return TZ(o,e,{enableHardwareAcceleration:!1},MZ(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};RPe(o,t.style,t),i.style={...o,...i.style}}return i}function ltt(t=!1){return(n,r,i,{latestValues:o},l)=>{const h=(bZ(n)?stt:Zet)(r,o,l,n),S={...ntt(r,typeof n=="string",t),...h,ref:i},{children:x}=r,A=St.useMemo(()=>Rm(x)?x.get():x,[x]);return St.createElement(n,{...S,children:A})}}const PZ=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function DPe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const OPe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BPe(t,e,n,r){DPe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(OPe.has(i)?i:PZ(i),e.attrs[i])}function RZ(t,e){const{style:n}=t,r={};for(const i in n)(Rm(n[i])||e.style&&Rm(e.style[i])||CPe(i,t))&&(r[i]=n[i]);return r}function LPe(t,e){const n=RZ(t,e);for(const r in t)if(Rm(t[r])||Rm(e[r])){const i=dB.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function IZ(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function utt(t){const e=St.useRef(null);return e.current===null&&(e.current=t()),e.current}const L4=t=>Array.isArray(t),ctt=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ftt=t=>L4(t)?t[t.length-1]||0:t;function Q3(t){const e=Rm(t)?t.get():t;return ctt(e)?e.toValue():e}function dtt({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const l={latestValues:htt(r,i,o,t),renderState:e()};return n&&(l.mount=d=>n(r,d,l)),l}const NPe=t=>(e,n)=>{const r=St.useContext(UH),i=St.useContext(xZ),o=()=>dtt(t,e,r,i);return n?o():utt(o)};function htt(t,e,n,r){const i={},o=r(t,{});for(const A in o)i[A]=Q3(o[A]);let{initial:l,animate:d}=t;const h=jH(t),v=wPe(t);e&&v&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let S=n?n.initial===!1:!1;S=S||l===!1;const x=S?d:l;return x&&typeof x!="boolean"&&!HH(x)&&(Array.isArray(x)?x:[x]).forEach(T=>{const R=IZ(t,T);if(!R)return;const{transitionEnd:G,transition:j,...w}=R;for(const L in w){let F=w[L];if(Array.isArray(F)){const W=S?F.length-1:0;F=F[W]}F!==null&&(i[L]=F)}for(const L in G)i[L]=G[L]}),i}const ic=t=>t;class uwe{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function ptt(t){let e=new uwe,n=new uwe,r=0,i=!1,o=!1;const l=new WeakSet,d={schedule:(h,v=!1,S=!1)=>{const x=S&&i,A=x?e:n;return v&&l.add(h),A.add(h)&&x&&i&&(r=e.order.length),h},cancel:h=>{n.remove(h),l.delete(h)},process:h=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let v=0;v<r;v++){const S=e.order[v];S(h),l.has(S)&&(d.schedule(S),t())}i=!1,o&&(o=!1,d.process(h))}};return d}const _3=["prepare","read","update","preRender","render","postRender"],mtt=40;function vtt(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=_3.reduce((x,A)=>(x[A]=ptt(()=>n=!0),x),{}),l=x=>o[x].process(i),d=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,mtt),1),i.timestamp=x,i.isProcessing=!0,_3.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(d))},h=()=>{n=!0,r=!0,i.isProcessing||t(d)};return{schedule:_3.reduce((x,A)=>{const T=o[A];return x[A]=(R,G=!1,j=!1)=>(n||h(),T.schedule(R,G,j)),x},{}),cancel:x=>_3.forEach(A=>o[A].cancel(x)),state:i,steps:o}}const{schedule:jl,cancel:O1,state:ud,steps:CX}=vtt(typeof requestAnimationFrame<"u"?requestAnimationFrame:ic,!0),gtt={useVisualState:NPe({scrapeMotionValuesFromProps:LPe,createRenderState:kPe,onMount:(t,e,{renderState:n,latestValues:r})=>{jl.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),jl.render(()=>{TZ(n,r,{enableHardwareAcceleration:!1},MZ(e.tagName),t.transformTemplate),BPe(e,n)})}})},ytt={useVisualState:NPe({scrapeMotionValuesFromProps:RZ,createRenderState:AZ})};function _tt(t,{forwardMotionProps:e=!1},n,r){return{...bZ(t)?gtt:ytt,preloadedFeatures:n,useRender:ltt(e),createVisualElement:r,Component:t}}function S1(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const FPe=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function VH(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Stt=t=>e=>FPe(e)&&t(e,VH(e));function T1(t,e,n,r){return S1(t,e,Stt(n),r)}const xtt=(t,e)=>n=>e(t(n)),Tx=(...t)=>t.reduce(xtt);function UPe(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const cwe=UPe("dragHorizontal"),fwe=UPe("dragVertical");function zPe(t){let e=!1;if(t==="y")e=fwe();else if(t==="x")e=cwe();else{const n=cwe(),r=fwe();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function HPe(){const t=zPe(!0);return t?(t(),!1):!0}class $x{constructor(e){this.isMounted=!1,this.node=e}update(){}}function dwe(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,l)=>{if(o.type==="touch"||HPe())return;const d=t.getProps();t.animationState&&d.whileHover&&t.animationState.setActive("whileHover",e),d[r]&&jl.update(()=>d[r](o,l))};return T1(t.current,n,i,{passive:!t.getProps()[r]})}class wtt extends $x{mount(){this.unmount=Tx(dwe(this.node,!0),dwe(this.node,!1))}unmount(){}}class Ett extends $x{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tx(S1(this.node.current,"focus",()=>this.onFocus()),S1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const jPe=(t,e)=>e?t===e?!0:jPe(t,e.parentElement):!1;function AX(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,VH(n))}class btt extends $x{constructor(){super(...arguments),this.removeStartListeners=ic,this.removeEndListeners=ic,this.removeAccessibleListeners=ic,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),o=T1(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:v,onTapCancel:S}=this.node.getProps();jl.update(()=>{jPe(this.node.current,d.target)?v&&v(d,h):S&&S(d,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=T1(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Tx(o,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=d=>{d.key!=="Enter"||!this.checkPressEnd()||AX("up",(h,v)=>{const{onTap:S}=this.node.getProps();S&&jl.update(()=>S(h,v))})};this.removeEndListeners(),this.removeEndListeners=S1(this.node.current,"keyup",l),AX("down",(d,h)=>{this.startPress(d,h)})},n=S1(this.node.current,"keydown",e),r=()=>{this.isPressing&&AX("cancel",(o,l)=>this.cancelPress(o,l))},i=S1(this.node.current,"blur",r);this.removeAccessibleListeners=Tx(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&jl.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!HPe()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&jl.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=T1(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=S1(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tx(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const q$=new WeakMap,TX=new WeakMap,Ctt=t=>{const e=q$.get(t.target);e&&e(t)},Att=t=>{t.forEach(Ctt)};function Ttt({root:t,...e}){const n=t||document;TX.has(n)||TX.set(n,{});const r=TX.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Att,{root:t,...e})),r[i]}function Mtt(t,e,n){const r=Ttt(e);return q$.set(t,n),r.observe(t),()=>{q$.delete(t),r.unobserve(t)}}const Ptt={some:0,all:1};class Rtt extends $x{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ptt[i]},d=h=>{const{isIntersecting:v}=h;if(this.isInView===v||(this.isInView=v,o&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:S,onViewportLeave:x}=this.node.getProps(),A=v?S:x;A&&A(h)};return Mtt(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Itt(e,n))&&this.startObserver()}unmount(){}}function Itt({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ktt={inView:{Feature:Rtt},tap:{Feature:btt},focus:{Feature:Ett},hover:{Feature:wtt}};function GPe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Dtt(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Ott(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function WH(t,e,n){const r=t.getProps();return IZ(r,e,n!==void 0?n:r.custom,Dtt(t),Ott(t))}const Btt="framerAppearId",Ltt="data-"+PZ(Btt);let Ntt=ic,kZ=ic;const Mx=t=>t*1e3,M1=t=>t/1e3,Ftt={current:!1},VPe=t=>Array.isArray(t)&&typeof t[0]=="number";function WPe(t){return!!(!t||typeof t=="string"&&KPe[t]||VPe(t)||Array.isArray(t)&&t.every(WPe))}const RD=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,KPe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:RD([0,.65,.55,1]),circOut:RD([.55,0,1,.45]),backIn:RD([.31,.01,.66,-.59]),backOut:RD([.33,1.53,.69,.99])};function qPe(t){if(t)return VPe(t)?RD(t):Array.isArray(t)?t.map(qPe):KPe[t]}function Utt(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:l="loop",ease:d,times:h}={}){const v={[e]:n};h&&(v.offset=h);const S=qPe(d);return Array.isArray(S)&&(v.easing=S),t.animate(v,{delay:r,duration:i,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function ztt(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const XPe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Htt=1e-7,jtt=12;function Gtt(t,e,n,r,i){let o,l,d=0;do l=e+(n-e)/2,o=XPe(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>Htt&&++d<jtt);return l}function mB(t,e,n,r){if(t===e&&n===r)return ic;const i=o=>Gtt(o,0,1,t,n);return o=>o===0||o===1?o:XPe(i(o),e,r)}const Vtt=mB(.42,0,1,1),Wtt=mB(0,0,.58,1),YPe=mB(.42,0,.58,1),Ktt=t=>Array.isArray(t)&&typeof t[0]!="number",$Pe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QPe=t=>e=>1-t(1-e),JPe=t=>1-Math.sin(Math.acos(t)),DZ=QPe(JPe),qtt=$Pe(DZ),ZPe=mB(.33,1.53,.69,.99),OZ=QPe(ZPe),Xtt=$Pe(OZ),Ytt=t=>(t*=2)<1?.5*OZ(t):.5*(2-Math.pow(2,-10*(t-1))),$tt={linear:ic,easeIn:Vtt,easeInOut:YPe,easeOut:Wtt,circIn:JPe,circInOut:qtt,circOut:DZ,backIn:OZ,backInOut:Xtt,backOut:ZPe,anticipate:Ytt},hwe=t=>{if(Array.isArray(t)){kZ(t.length===4);const[e,n,r,i]=t;return mB(e,n,r,i)}else if(typeof t=="string")return $tt[t];return t},BZ=(t,e)=>n=>!!(hB(n)&&Xet.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),eRe=(t,e,n)=>r=>{if(!hB(r))return r;const[i,o,l,d]=r.match(GH);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},Qtt=t=>jx(0,255,t),MX={...Gb,transform:t=>Math.round(Qtt(t))},vb={test:BZ("rgb","red"),parse:eRe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+MX.transform(t)+", "+MX.transform(e)+", "+MX.transform(n)+", "+XD(qD.transform(r))+")"};function Jtt(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const X$={test:BZ("#"),parse:Jtt,transform:vb.transform},hM={test:BZ("hsl","hue"),parse:eRe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fy.transform(XD(e))+", "+Fy.transform(XD(n))+", "+XD(qD.transform(r))+")"},Lp={test:t=>vb.test(t)||X$.test(t)||hM.test(t),parse:t=>vb.test(t)?vb.parse(t):hM.test(t)?hM.parse(t):X$.parse(t),transform:t=>hB(t)?t:t.hasOwnProperty("red")?vb.transform(t):hM.transform(t)},Tu=(t,e,n)=>-n*t+n*e+t;function PX(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ztt({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=PX(h,d,t+1/3),o=PX(h,d,t),l=PX(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}const RX=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ent=[X$,vb,hM],tnt=t=>ent.find(e=>e.test(t));function pwe(t){const e=tnt(t);let n=e.parse(t);return e===hM&&(n=Ztt(n)),n}const tRe=(t,e)=>{const n=pwe(t),r=pwe(e),i={...n};return o=>(i.red=RX(n.red,r.red,o),i.green=RX(n.green,r.green,o),i.blue=RX(n.blue,r.blue,o),i.alpha=Tu(n.alpha,r.alpha,o),vb.transform(i))};function nnt(t){var e,n;return isNaN(t)&&hB(t)&&(((e=t.match(GH))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MPe))===null||n===void 0?void 0:n.length)||0)>0}const nRe={regex:Ket,countKey:"Vars",token:"${v}",parse:ic},rRe={regex:MPe,countKey:"Colors",token:"${c}",parse:Lp.parse},iRe={regex:GH,countKey:"Numbers",token:"${n}",parse:Gb.parse};function IX(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function N4(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&IX(n,nRe),IX(n,rRe),IX(n,iRe),n}function aRe(t){return N4(t).values}function oRe(t){const{values:e,numColors:n,numVars:r,tokenised:i}=N4(t),o=e.length;return l=>{let d=i;for(let h=0;h<o;h++)h<r?d=d.replace(nRe.token,l[h]):h<r+n?d=d.replace(rRe.token,Lp.transform(l[h])):d=d.replace(iRe.token,XD(l[h]));return d}}const rnt=t=>typeof t=="number"?0:t;function int(t){const e=aRe(t);return oRe(t)(e.map(rnt))}const Gx={test:nnt,parse:aRe,createTransformer:oRe,getAnimatableNone:int},sRe=(t,e)=>n=>`${n>0?e:t}`;function lRe(t,e){return typeof t=="number"?n=>Tu(t,e,n):Lp.test(t)?tRe(t,e):t.startsWith("var(")?sRe(t,e):cRe(t,e)}const uRe=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,l)=>lRe(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}},ant=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=lRe(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},cRe=(t,e)=>{const n=Gx.createTransformer(e),r=N4(t),i=N4(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Tx(uRe(r.values,i.values),n):sRe(t,e)},kO=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},mwe=(t,e)=>n=>Tu(t,e,n);function ont(t){return typeof t=="number"?mwe:typeof t=="string"?Lp.test(t)?tRe:cRe:Array.isArray(t)?uRe:typeof t=="object"?ant:mwe}function snt(t,e,n){const r=[],i=n||ont(t[0]),o=t.length-1;for(let l=0;l<o;l++){let d=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||ic:e;d=Tx(h,d)}r.push(d)}return r}function fRe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(kZ(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=snt(e,r,i),d=l.length,h=v=>{let S=0;if(d>1)for(;S<t.length-2&&!(v<t[S+1]);S++);const x=kO(t[S],t[S+1],v);return l[S](x)};return n?v=>h(jx(t[0],t[o-1],v)):h}function lnt(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kO(0,e,r);t.push(Tu(n,1,i))}}function unt(t){const e=[0];return lnt(e,t.length-1),e}function cnt(t,e){return t.map(n=>n*e)}function fnt(t,e){return t.map(()=>e||YPe).splice(0,t.length-1)}function F4({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Ktt(r)?r.map(hwe):hwe(r),o={done:!1,value:e[0]},l=cnt(n&&n.length===e.length?n:unt(e),t),d=fRe(l,e,{ease:Array.isArray(i)?i:fnt(e,i)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}function dRe(t,e){return e?t*(1e3/e):0}const dnt=5;function hRe(t,e,n){const r=Math.max(e-dnt,0);return dRe(n-t(r),e-r)}const kX=.001,hnt=.01,vwe=10,pnt=.05,mnt=1;function vnt({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;Ntt(t<=Mx(vwe));let l=1-e;l=jx(pnt,mnt,l),t=jx(hnt,vwe,M1(t)),l<1?(i=v=>{const S=v*l,x=S*t,A=S-n,T=Y$(v,l),R=Math.exp(-x);return kX-A/T*R},o=v=>{const x=v*l*t,A=x*n+n,T=Math.pow(l,2)*Math.pow(v,2)*t,R=Math.exp(-x),G=Y$(Math.pow(v,2),l);return(-i(v)+kX>0?-1:1)*((A-T)*R)/G}):(i=v=>{const S=Math.exp(-v*t),x=(v-n)*t+1;return-kX+S*x},o=v=>{const S=Math.exp(-v*t),x=(n-v)*(t*t);return S*x});const d=5/t,h=ynt(i,o,d);if(t=Mx(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const v=Math.pow(h,2)*r;return{stiffness:v,damping:l*2*Math.sqrt(r*v),duration:t}}}const gnt=12;function ynt(t,e,n){let r=n;for(let i=1;i<gnt;i++)r=r-t(r)/e(r);return r}function Y$(t,e){return t*Math.sqrt(1-e*e)}const _nt=["duration","bounce"],Snt=["stiffness","damping","mass"];function gwe(t,e){return e.some(n=>t[n]!==void 0)}function xnt(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gwe(t,Snt)&&gwe(t,_nt)){const n=vnt(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function pRe({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],l={done:!1,value:i},{stiffness:d,damping:h,mass:v,velocity:S,duration:x,isResolvedFromDuration:A}=xnt(r),T=S?-M1(S):0,R=h/(2*Math.sqrt(d*v)),G=o-i,j=M1(Math.sqrt(d/v)),w=Math.abs(G)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let L;if(R<1){const F=Y$(j,R);L=W=>{const U=Math.exp(-R*j*W);return o-U*((T+R*j*G)/F*Math.sin(F*W)+G*Math.cos(F*W))}}else if(R===1)L=F=>o-Math.exp(-j*F)*(G+(T+j*G)*F);else{const F=j*Math.sqrt(R*R-1);L=W=>{const U=Math.exp(-R*j*W),Q=Math.min(F*W,300);return o-U*((T+R*j*G)*Math.sinh(Q)+F*G*Math.cosh(Q))/F}}return{calculatedDuration:A&&x||null,next:F=>{const W=L(F);if(A)l.done=F>=x;else{let U=T;F!==0&&(R<1?U=hRe(L,F,W):U=0);const Q=Math.abs(U)<=n,de=Math.abs(o-W)<=e;l.done=Q&&de}return l.value=l.done?o:W,l}}}function ywe({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:d,max:h,restDelta:v=.5,restSpeed:S}){const x=t[0],A={done:!1,value:x},T=fe=>d!==void 0&&fe<d||h!==void 0&&fe>h,R=fe=>d===void 0?h:h===void 0||Math.abs(d-fe)<Math.abs(h-fe)?d:h;let G=n*e;const j=x+G,w=l===void 0?j:l(j);w!==j&&(G=w-x);const L=fe=>-G*Math.exp(-fe/r),F=fe=>w+L(fe),W=fe=>{const Z=L(fe),he=F(fe);A.done=Math.abs(Z)<=v,A.value=A.done?w:he};let U,Q;const de=fe=>{T(A.value)&&(U=fe,Q=pRe({keyframes:[A.value,R(A.value)],velocity:hRe(F,fe,A.value),damping:i,stiffness:o,restDelta:v,restSpeed:S}))};return de(0),{calculatedDuration:null,next:fe=>{let Z=!1;return!Q&&U===void 0&&(Z=!0,W(fe),de(fe)),U!==void 0&&fe>U?Q.next(fe-U):(!Z&&W(fe),A)}}}const wnt=t=>{const e=({timestamp:n})=>t(n);return{start:()=>jl.update(e,!0),stop:()=>O1(e),now:()=>ud.isProcessing?ud.timestamp:performance.now()}},_we=2e4;function Swe(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_we;)e+=n,r=t.next(e);return e>=_we?1/0:e}const Ent={decay:ywe,inertia:ywe,tween:F4,keyframes:F4,spring:pRe};function U4({autoplay:t=!0,delay:e=0,driver:n=wnt,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:d="loop",onPlay:h,onStop:v,onComplete:S,onUpdate:x,...A}){let T=1,R=!1,G,j;const w=()=>{j=new Promise(Pe=>{G=Pe})};w();let L;const F=Ent[i]||F4;let W;F!==F4&&typeof r[0]!="number"&&(W=fRe([0,100],r,{clamp:!1}),r=[0,100]);const U=F({...A,keyframes:r});let Q;d==="mirror"&&(Q=F({...A,keyframes:[...r].reverse(),velocity:-(A.velocity||0)}));let de="idle",fe=null,Z=null,he=null;U.calculatedDuration===null&&o&&(U.calculatedDuration=Swe(U));const{calculatedDuration:Te}=U;let je=1/0,Ke=1/0;Te!==null&&(je=Te+l,Ke=je*(o+1)-l);let Le=0;const Ge=Pe=>{if(Z===null)return;T>0&&(Z=Math.min(Z,Pe)),T<0&&(Z=Math.min(Pe-Ke/T,Z)),fe!==null?Le=fe:Le=Math.round(Pe-Z)*T;const be=Le-e*(T>=0?1:-1),Ce=T>=0?be<0:be>Ke;Le=Math.max(be,0),de==="finished"&&fe===null&&(Le=Ke);let qe=Le,mt=U;if(o){const en=Le/je;let cn=Math.floor(en),sn=en%1;!sn&&en>=1&&(sn=1),sn===1&&cn--,cn=Math.min(cn,o+1);const $e=!!(cn%2);$e&&(d==="reverse"?(sn=1-sn,l&&(sn-=l/je)):d==="mirror"&&(mt=Q));let Gt=jx(0,1,sn);Le>Ke&&(Gt=d==="reverse"&&$e?1:0),qe=Gt*je}const We=Ce?{done:!1,value:r[0]}:mt.next(qe);W&&(We.value=W(We.value));let{done:Mt}=We;!Ce&&Te!==null&&(Mt=T>=0?Le>=Ke:Le<=0);const dt=fe===null&&(de==="finished"||de==="running"&&Mt);return x&&x(We.value),dt&&_e(),We},ut=()=>{L&&L.stop(),L=void 0},st=()=>{de="idle",ut(),G(),w(),Z=he=null},_e=()=>{de="finished",S&&S(),ut(),G()},Se=()=>{if(R)return;L||(L=n(Ge));const Pe=L.now();h&&h(),fe!==null?Z=Pe-fe:(!Z||de==="finished")&&(Z=Pe),de==="finished"&&w(),he=Z,fe=null,de="running",L.start()};t&&Se();const we={then(Pe,be){return j.then(Pe,be)},get time(){return M1(Le)},set time(Pe){Pe=Mx(Pe),Le=Pe,fe!==null||!L||T===0?fe=Pe:Z=L.now()-Pe/T},get duration(){const Pe=U.calculatedDuration===null?Swe(U):U.calculatedDuration;return M1(Pe)},get speed(){return T},set speed(Pe){Pe===T||!L||(T=Pe,we.time=M1(Le))},get state(){return de},play:Se,pause:()=>{de="paused",fe=Le},stop:()=>{R=!0,de!=="idle"&&(de="idle",v&&v(),st())},cancel:()=>{he!==null&&Ge(he),st()},complete:()=>{de="finished"},sample:Pe=>(Z=0,Ge(Pe))};return we}function bnt(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cnt=bnt(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ant=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),S3=10,Tnt=2e4,Mnt=(t,e)=>e.type==="spring"||t==="backgroundColor"||!WPe(e.ease);function Pnt(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Cnt()&&Ant.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,d,h;const v=()=>{h=new Promise(L=>{d=L})};v();let{keyframes:S,duration:x=300,ease:A,times:T}=i;if(Mnt(e,i)){const L=U4({...i,repeat:0,delay:0});let F={done:!1,value:S[0]};const W=[];let U=0;for(;!F.done&&U<Tnt;)F=L.sample(U),W.push(F.value),U+=S3;T=void 0,S=W,x=U-S3,A="linear"}const R=Utt(t.owner.current,e,S,{...i,duration:x,ease:A,times:T});i.syncStart&&(R.startTime=ud.isProcessing?ud.timestamp:document.timeline?document.timeline.currentTime:performance.now());const G=()=>R.cancel(),j=()=>{jl.update(G),d(),v()};return R.onfinish=()=>{t.set(ztt(S,i)),r&&r(),j()},{then(L,F){return h.then(L,F)},attachTimeline(L){return R.timeline=L,R.onfinish=null,ic},get time(){return M1(R.currentTime||0)},set time(L){R.currentTime=Mx(L)},get speed(){return R.playbackRate},set speed(L){R.playbackRate=L},get duration(){return M1(x)},play:()=>{l||(R.play(),O1(G))},pause:()=>R.pause(),stop:()=>{if(l=!0,R.playState==="idle")return;const{currentTime:L}=R;if(L){const F=U4({...i,autoplay:!1});t.setWithVelocity(F.sample(L-S3).value,F.sample(L).value,S3)}j()},complete:()=>R.finish(),cancel:j}}function Rnt({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ic,pause:ic,stop:ic,then:o=>(o(),Promise.resolve()),cancel:ic,complete:ic});return e?U4({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Int={type:"spring",stiffness:500,damping:25,restSpeed:10},knt=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dnt={type:"keyframes",duration:.8},Ont={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bnt=(t,{keyframes:e})=>e.length>2?Dnt:jb.has(t)?t.startsWith("scale")?knt(e[1]):Int:Ont,$$=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gx.test(e)||e==="0")&&!e.startsWith("url(")),Lnt=new Set(["brightness","contrast","saturate","opacity"]);function Nnt(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(GH)||[];if(!r)return t;const i=n.replace(r,"");let o=Lnt.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Fnt=/([a-z-]*)\(.*?\)/g,Q$={...Gx,getAnimatableNone:t=>{const e=t.match(Fnt);return e?e.map(Nnt).join(" "):t}},Unt={...PPe,color:Lp,backgroundColor:Lp,outlineColor:Lp,fill:Lp,stroke:Lp,borderColor:Lp,borderTopColor:Lp,borderRightColor:Lp,borderBottomColor:Lp,borderLeftColor:Lp,filter:Q$,WebkitFilter:Q$},LZ=t=>Unt[t];function mRe(t,e){let n=LZ(t);return n!==Q$&&(n=Gx),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vRe=t=>/^0[^.\s]+$/.test(t);function znt(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||vRe(t)}function Hnt(t,e,n,r){const i=$$(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const l=r.from!==void 0?r.from:t.get();let d;const h=[];for(let v=0;v<o.length;v++)o[v]===null&&(o[v]=v===0?l:o[v-1]),znt(o[v])&&h.push(v),typeof o[v]=="string"&&o[v]!=="none"&&o[v]!=="0"&&(d=o[v]);if(i&&h.length&&d)for(let v=0;v<h.length;v++){const S=h[v];o[S]=mRe(e,d)}return o}function jnt({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:d,from:h,elapsed:v,...S}){return!!Object.keys(S).length}function gRe(t,e){return t[e]||t.default||t}const NZ=(t,e,n,r={})=>i=>{const o=gRe(r,t)||{},l=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Mx(l);const h=Hnt(e,t,n,o),v=h[0],S=h[h.length-1],x=$$(t,v),A=$$(t,S);let T={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-d,onUpdate:R=>{e.set(R),o.onUpdate&&o.onUpdate(R)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(jnt(o)||(T={...T,...Bnt(t,T)}),T.duration&&(T.duration=Mx(T.duration)),T.repeatDelay&&(T.repeatDelay=Mx(T.repeatDelay)),!x||!A||Ftt.current||o.type===!1)return Rnt(T);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const R=Pnt(e,t,T);if(R)return R}return U4(T)};function z4(t){return!!(Rm(t)&&t.add)}const yRe=t=>/^\-?\d*\.?\d+$/.test(t);function FZ(t,e){t.indexOf(e)===-1&&t.push(e)}function UZ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zZ{constructor(){this.subscriptions=[]}add(e){return FZ(this.subscriptions,e),()=>UZ(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gnt=t=>!isNaN(parseFloat(t));class Vnt{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:l}=ud;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,jl.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>jl.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Gnt(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zZ);const r=this.events[e].add(n);return e==="change"?()=>{r(),jl.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dRe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function YM(t,e){return new Vnt(t,e)}const _Re=t=>e=>e.test(t),Wnt={test:t=>t==="auto",parse:t=>t},SRe=[Gb,aa,Fy,ax,$et,Yet,Wnt],vD=t=>SRe.find(_Re(t)),Knt=[...SRe,Lp,Gx],qnt=t=>Knt.find(_Re(t));function Xnt(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,YM(n))}function Ynt(t,e){const n=WH(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const l in o){const d=ftt(o[l]);Xnt(t,l,d)}}function $nt(t,e,n){var r,i;const o=Object.keys(e).filter(d=>!t.hasValue(d)),l=o.length;if(l)for(let d=0;d<l;d++){const h=o[d],v=e[h];let S=null;Array.isArray(v)&&(S=v[0]),S===null&&(S=(i=(r=n[h])!==null&&r!==void 0?r:t.readValue(h))!==null&&i!==void 0?i:e[h]),S!=null&&(typeof S=="string"&&(yRe(S)||vRe(S))?S=parseFloat(S):!qnt(S)&&Gx.test(v)&&(S=mRe(h,v)),t.addValue(h,YM(S,{owner:t})),n[h]===void 0&&(n[h]=S),S!==null&&t.setBaseTarget(h,S))}}function Qnt(t,e){return e?(e[t]||e.default||e).from:void 0}function Jnt(t,e,n){const r={};for(const i in t){const o=Qnt(i,e);if(o!==void 0)r[i]=o;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function Znt({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xRe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...d}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(o=r);const v=[],S=i&&t.animationState&&t.animationState.getState()[i];for(const x in d){const A=t.getValue(x),T=d[x];if(!A||T===void 0||S&&Znt(S,x))continue;const R={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!A.hasAnimated){const j=t.getProps()[Ltt];j&&(R.elapsed=window.HandoffAppearAnimations(j,x,A,jl),R.syncStart=!0)}A.start(NZ(x,A,T,t.shouldReduceMotion&&jb.has(x)?{type:!1}:R));const G=A.animation;z4(h)&&(h.add(x),G.then(()=>h.remove(x))),v.push(G)}return l&&Promise.all(v).then(()=>{l&&Ynt(t,l)}),v}function J$(t,e,n={}){const r=WH(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(xRe(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:v=0,staggerChildren:S,staggerDirection:x}=i;return ert(t,e,v+h,S,x,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[h,v]=d==="beforeChildren"?[o,l]:[l,o];return h().then(()=>v())}else return Promise.all([o(),l(n.delay)])}function ert(t,e,n=0,r=0,i=1,o){const l=[],d=(t.variantChildren.size-1)*r,h=i===1?(v=0)=>v*r:(v=0)=>d-v*r;return Array.from(t.variantChildren).sort(trt).forEach((v,S)=>{v.notify("AnimationStart",e),l.push(J$(v,e,{...o,delay:n+h(S)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(l)}function trt(t,e){return t.sortNodePosition(e)}function nrt(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>J$(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=J$(t,e,n);else{const i=typeof e=="function"?WH(t,e,n.custom):e;r=Promise.all(xRe(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const rrt=[...wZ].reverse(),irt=wZ.length;function art(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nrt(t,n,r)))}function ort(t){let e=art(t);const n=lrt();let r=!0;const i=(h,v)=>{const S=WH(t,v);if(S){const{transition:x,transitionEnd:A,...T}=S;h={...h,...T,...A}}return h};function o(h){e=h(t)}function l(h,v){const S=t.getProps(),x=t.getVariantContext(!0)||{},A=[],T=new Set;let R={},G=1/0;for(let w=0;w<irt;w++){const L=rrt[w],F=n[L],W=S[L]!==void 0?S[L]:x[L],U=RO(W),Q=L===v?F.isActive:null;Q===!1&&(G=w);let de=W===x[L]&&W!==S[L]&&U;if(de&&r&&t.manuallyAnimateOnMount&&(de=!1),F.protectedKeys={...R},!F.isActive&&Q===null||!W&&!F.prevProp||HH(W)||typeof W=="boolean")continue;const fe=srt(F.prevProp,W);let Z=fe||L===v&&F.isActive&&!de&&U||w>G&&U;const he=Array.isArray(W)?W:[W];let Te=he.reduce(i,{});Q===!1&&(Te={});const{prevResolvedValues:je={}}=F,Ke={...je,...Te},Le=Ge=>{Z=!0,T.delete(Ge),F.needsAnimating[Ge]=!0};for(const Ge in Ke){const ut=Te[Ge],st=je[Ge];R.hasOwnProperty(Ge)||(ut!==st?L4(ut)&&L4(st)?!GPe(ut,st)||fe?Le(Ge):F.protectedKeys[Ge]=!0:ut!==void 0?Le(Ge):T.add(Ge):ut!==void 0&&T.has(Ge)?Le(Ge):F.protectedKeys[Ge]=!0)}F.prevProp=W,F.prevResolvedValues=Te,F.isActive&&(R={...R,...Te}),r&&t.blockInitialAnimation&&(Z=!1),Z&&!de&&A.push(...he.map(Ge=>({animation:Ge,options:{type:L,...h}})))}if(T.size){const w={};T.forEach(L=>{const F=t.getBaseTarget(L);F!==void 0&&(w[L]=F)}),A.push({animation:w})}let j=!!A.length;return r&&S.initial===!1&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(A):Promise.resolve()}function d(h,v,S){var x;if(n[h].isActive===v)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(T=>{var R;return(R=T.animationState)===null||R===void 0?void 0:R.setActive(h,v)}),n[h].isActive=v;const A=l(S,h);for(const T in n)n[T].protectedKeys={};return A}return{animateChanges:l,setActive:d,setAnimateFunction:o,getState:()=>n}}function srt(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GPe(e,t):!1}function qE(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lrt(){return{animate:qE(!0),whileInView:qE(),whileHover:qE(),whileTap:qE(),whileDrag:qE(),whileFocus:qE(),exit:qE()}}class urt extends $x{constructor(e){super(e),e.animationState||(e.animationState=ort(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),HH(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let crt=0;class frt extends $x{constructor(){super(...arguments),this.id=crt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const drt={animation:{Feature:urt},exit:{Feature:frt}},xwe=(t,e)=>Math.abs(t-e);function hrt(t,e){const n=xwe(t.x,e.x),r=xwe(t.y,e.y);return Math.sqrt(n**2+r**2)}class wRe{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=OX(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,x=hrt(v.offset,{x:0,y:0})>=3;if(!S&&!x)return;const{point:A}=v,{timestamp:T}=ud;this.history.push({...A,timestamp:T});const{onStart:R,onMove:G}=this.handlers;S||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=DX(S,this.transformPagePoint),jl.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:x,onSessionEnd:A}=this.handlers,T=OX(v.type==="pointercancel"?this.lastMoveEventInfo:DX(S,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,T),A&&A(v,T)},!FPe(e))return;this.handlers=n,this.transformPagePoint=r;const i=VH(e),o=DX(i,this.transformPagePoint),{point:l}=o,{timestamp:d}=ud;this.history=[{...l,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,OX(o,this.history)),this.removeListeners=Tx(T1(window,"pointermove",this.handlePointerMove),T1(window,"pointerup",this.handlePointerUp),T1(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),O1(this.updatePoint)}}function DX(t,e){return e?{point:e(t.point)}:t}function wwe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function OX({point:t},e){return{point:t,delta:wwe(t,ERe(e)),offset:wwe(t,prt(e)),velocity:mrt(e,.1)}}function prt(t){return t[0]}function ERe(t){return t[t.length-1]}function mrt(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ERe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mx(e)));)n--;if(!r)return{x:0,y:0};const o=M1(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function wv(t){return t.max-t.min}function Z$(t,e=0,n=.01){return Math.abs(t-e)<=n}function Ewe(t,e,n,r=.5){t.origin=r,t.originPoint=Tu(e.min,e.max,t.origin),t.scale=wv(n)/wv(e),(Z$(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Tu(n.min,n.max,t.origin)-t.originPoint,(Z$(t.translate)||isNaN(t.translate))&&(t.translate=0)}function YD(t,e,n,r){Ewe(t.x,e.x,n.x,r?r.originX:void 0),Ewe(t.y,e.y,n.y,r?r.originY:void 0)}function bwe(t,e,n){t.min=n.min+e.min,t.max=t.min+wv(e)}function vrt(t,e,n){bwe(t.x,e.x,n.x),bwe(t.y,e.y,n.y)}function Cwe(t,e,n){t.min=e.min-n.min,t.max=t.min+wv(e)}function $D(t,e,n){Cwe(t.x,e.x,n.x),Cwe(t.y,e.y,n.y)}function grt(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tu(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tu(n,t,r.max):Math.min(t,n)),t}function Awe(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yrt(t,{top:e,left:n,bottom:r,right:i}){return{x:Awe(t.x,n,i),y:Awe(t.y,e,r)}}function Twe(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _rt(t,e){return{x:Twe(t.x,e.x),y:Twe(t.y,e.y)}}function Srt(t,e){let n=.5;const r=wv(t),i=wv(e);return i>r?n=kO(e.min,e.max-r,t.min):r>i&&(n=kO(t.min,t.max-i,e.min)),jx(0,1,n)}function xrt(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const eQ=.35;function wrt(t=eQ){return t===!1?t=0:t===!0&&(t=eQ),{x:Mwe(t,"left","right"),y:Mwe(t,"top","bottom")}}function Mwe(t,e,n){return{min:Pwe(t,e),max:Pwe(t,n)}}function Pwe(t,e){return typeof t=="number"?t:t[e]||0}const Rwe=()=>({translate:0,scale:1,origin:0,originPoint:0}),pM=()=>({x:Rwe(),y:Rwe()}),Iwe=()=>({min:0,max:0}),nf=()=>({x:Iwe(),y:Iwe()});function Ay(t){return[t("x"),t("y")]}function bRe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Ert({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function brt(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function BX(t){return t===void 0||t===1}function tQ({scale:t,scaleX:e,scaleY:n}){return!BX(t)||!BX(e)||!BX(n)}function tb(t){return tQ(t)||CRe(t)||t.z||t.rotate||t.rotateX||t.rotateY}function CRe(t){return kwe(t.x)||kwe(t.y)}function kwe(t){return t&&t!=="0%"}function H4(t,e,n){const r=t-n,i=e*r;return n+i}function Dwe(t,e,n,r,i){return i!==void 0&&(t=H4(t,i,r)),H4(t,n,r)+e}function nQ(t,e=0,n=1,r,i){t.min=Dwe(t.min,e,n,r,i),t.max=Dwe(t.max,e,n,r,i)}function ARe(t,{x:e,y:n}){nQ(t.x,e.translate,e.scale,e.originPoint),nQ(t.y,n.translate,n.scale,n.originPoint)}function Crt(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let d=0;d<i;d++){o=n[d],l=o.projectionDelta;const h=o.instance;h&&h.style&&h.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&mM(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ARe(t,l)),r&&tb(o.latestValues)&&mM(t,o.latestValues))}e.x=Owe(e.x),e.y=Owe(e.y)}function Owe(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cx(t,e){t.min=t.min+e,t.max=t.max+e}function Bwe(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,l=Tu(t.min,t.max,o);nQ(t,e[n],e[r],l,e.scale)}const Art=["x","scaleX","originX"],Trt=["y","scaleY","originY"];function mM(t,e){Bwe(t.x,e,Art),Bwe(t.y,e,Trt)}function TRe(t,e){return bRe(brt(t.getBoundingClientRect(),e))}function Mrt(t,e,n){const r=TRe(t,n),{scroll:i}=e;return i&&(cx(r.x,i.offset.x),cx(r.y,i.offset.y)),r}const Prt=new WeakMap;class Rrt{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nf(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{this.stopAnimation(),n&&this.snapToCursor(VH(h,"page").point)},o=(h,v)=>{const{drag:S,dragPropagation:x,onDragStart:A}=this.getProps();if(S&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zPe(S),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ay(R=>{let G=this.getAxisMotionValue(R).get()||0;if(Fy.test(G)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[R];w&&(G=wv(w)*(parseFloat(G)/100))}}this.originPoint[R]=G}),A&&jl.update(()=>A(h,v),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(h,v)=>{const{dragPropagation:S,dragDirectionLock:x,onDirectionLock:A,onDrag:T}=this.getProps();if(!S&&!this.openGlobalLock)return;const{offset:R}=v;if(x&&this.currentDirection===null){this.currentDirection=Irt(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),T&&T(h,v)},d=(h,v)=>this.stop(h,v);this.panSession=new wRe(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:d},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&jl.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!x3(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=grt(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&dM(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=yrt(r.layoutBox,e):this.constraints=!1,this.elastic=wrt(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ay(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=xrt(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dM(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Mrt(r,i.root,this.visualElement.getTransformPagePoint());let l=_rt(i.layout.layoutBox,o);if(n){const d=n(Ert(l));this.hasMutatedConstraints=!!d,d&&(l=bRe(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},v=Ay(S=>{if(!x3(S,n,this.currentDirection))return;let x=h&&h[S]||{};l&&(x={min:0,max:0});const A=i?200:1e6,T=i?40:1e7,R={type:"inertia",velocity:r?e[S]:0,bounceStiffness:A,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(S,R)});return Promise.all(v).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(NZ(e,r,0,n))}stopAnimation(){Ay(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ay(n=>{const{drag:r}=this.getProps();if(!x3(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];o.set(e[n]-Tu(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dM(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ay(l=>{const d=this.getAxisMotionValue(l);if(d){const h=d.get();i[l]=Srt({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ay(l=>{if(!x3(l,e,null))return;const d=this.getAxisMotionValue(l),{min:h,max:v}=this.constraints[l];d.set(Tu(h,v,i[l]))})}addListeners(){if(!this.visualElement.current)return;Prt.set(this.visualElement,this);const e=this.visualElement.current,n=T1(e,"pointerdown",h=>{const{drag:v,dragListener:S=!0}=this.getProps();v&&S&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();dM(h)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=S1(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:v})=>{this.isDragging&&v&&(Ay(S=>{const x=this.getAxisMotionValue(S);x&&(this.originPoint[S]+=h[S].translate,x.set(x.get()+h[S].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=eQ,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:d}}}function x3(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Irt(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class krt extends $x{constructor(e){super(e),this.removeGroupControls=ic,this.removeListeners=ic,this.controls=new Rrt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ic}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lwe=t=>(e,n)=>{t&&jl.update(()=>t(e,n))};class Drt extends $x{constructor(){super(...arguments),this.removePointerDownListener=ic}onPointerDown(e){this.session=new wRe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lwe(e),onStart:Lwe(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&jl.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=T1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ort(){const t=St.useContext(xZ);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=St.useId();return St.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const J3={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nwe(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gD={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(aa.test(t))t=parseFloat(t);else return t;const n=Nwe(t,e.target.x),r=Nwe(t,e.target.y);return`${n}% ${r}%`}},Brt={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Gx.parse(t);if(i.length>5)return r;const o=Gx.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=h;const v=Tu(d,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=v),typeof i[3+l]=="number"&&(i[3+l]/=v),o(i)}};class Lrt extends eP.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;jet(Nrt),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),J3.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||jl.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MRe(t){const[e,n]=Ort(),r=St.useContext(EPe);return eP.createElement(Lrt,{...t,layoutGroup:r,switchLayoutGroup:St.useContext(bPe),isPresent:e,safeToRemove:n})}const Nrt={borderRadius:{...gD,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gD,borderTopRightRadius:gD,borderBottomLeftRadius:gD,borderBottomRightRadius:gD,boxShadow:Brt},PRe=["TopLeft","TopRight","BottomLeft","BottomRight"],Frt=PRe.length,Fwe=t=>typeof t=="string"?parseFloat(t):t,Uwe=t=>typeof t=="number"||aa.test(t);function Urt(t,e,n,r,i,o){i?(t.opacity=Tu(0,n.opacity!==void 0?n.opacity:1,zrt(r)),t.opacityExit=Tu(e.opacity!==void 0?e.opacity:1,0,Hrt(r))):o&&(t.opacity=Tu(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<Frt;l++){const d=`border${PRe[l]}Radius`;let h=zwe(e,d),v=zwe(n,d);if(h===void 0&&v===void 0)continue;h||(h=0),v||(v=0),h===0||v===0||Uwe(h)===Uwe(v)?(t[d]=Math.max(Tu(Fwe(h),Fwe(v),r),0),(Fy.test(v)||Fy.test(h))&&(t[d]+="%")):t[d]=v}(e.rotate||n.rotate)&&(t.rotate=Tu(e.rotate||0,n.rotate||0,r))}function zwe(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zrt=RRe(0,.5,DZ),Hrt=RRe(.5,.95,ic);function RRe(t,e,n){return r=>r<t?0:r>e?1:n(kO(t,e,r))}function Hwe(t,e){t.min=e.min,t.max=e.max}function sg(t,e){Hwe(t.x,e.x),Hwe(t.y,e.y)}function jwe(t,e,n,r,i){return t-=e,t=H4(t,1/n,r),i!==void 0&&(t=H4(t,1/i,r)),t}function jrt(t,e=0,n=1,r=.5,i,o=t,l=t){if(Fy.test(e)&&(e=parseFloat(e),e=Tu(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=Tu(o.min,o.max,r);t===o&&(d-=e),t.min=jwe(t.min,e,n,d,i),t.max=jwe(t.max,e,n,d,i)}function Gwe(t,e,[n,r,i],o,l){jrt(t,e[n],e[r],e[i],e.scale,o,l)}const Grt=["x","scaleX","originX"],Vrt=["y","scaleY","originY"];function Vwe(t,e,n,r){Gwe(t.x,e,Grt,n?n.x:void 0,r?r.x:void 0),Gwe(t.y,e,Vrt,n?n.y:void 0,r?r.y:void 0)}function Wwe(t){return t.translate===0&&t.scale===1}function IRe(t){return Wwe(t.x)&&Wwe(t.y)}function Wrt(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function kRe(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Kwe(t){return wv(t.x)/wv(t.y)}class Krt{constructor(){this.members=[]}add(e){FZ(this.members,e),e.scheduleRender()}remove(e){if(UZ(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qwe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:h,rotateX:v,rotateY:S}=n;h&&(r+=`rotate(${h}deg) `),v&&(r+=`rotateX(${v}deg) `),S&&(r+=`rotateY(${S}deg) `)}const l=t.x.scale*e.x,d=t.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const qrt=(t,e)=>t.depth-e.depth;class Xrt{constructor(){this.children=[],this.isDirty=!1}add(e){FZ(this.children,e),this.isDirty=!0}remove(e){UZ(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qrt),this.isDirty=!1,this.children.forEach(e)}}function Yrt(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(O1(r),t(o-e))};return jl.read(r,!0),()=>O1(r)}function $rt(t){window.MotionDebug&&window.MotionDebug.record(t)}function Qrt(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Jrt(t,e,n){const r=Rm(t)?t:YM(t);return r.start(NZ("",r,e,n)),r.animation}const Xwe=["","X","Y","Z"],Ywe=1e3;let Zrt=0;const nb={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function DRe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=e==null?void 0:e()){this.id=Zrt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{nb.totalNodes=nb.resolvedTargetDeltas=nb.recalculatedProjection=0,this.nodes.forEach(nit),this.nodes.forEach(sit),this.nodes.forEach(lit),this.nodes.forEach(rit),$rt(nb)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xrt)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new zZ),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qrt(l),this.instance=l;const{layoutId:h,layout:v,visualElement:S}=this.options;if(S&&!S.current&&S.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(v||h)&&(this.isLayoutDirty=!0),t){let x;const A=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=Yrt(A,250),J3.hasAnimatedSinceResize&&(J3.hasAnimatedSinceResize=!1,this.nodes.forEach(Qwe))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&S&&(h||v)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:A,hasRelativeTargetChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const G=this.options.transition||S.getDefaultTransition()||hit,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=S.getProps(),L=!this.targetLayout||!kRe(this.targetLayout,R)||T,F=!A&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||A&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,F);const W={...gRe(G,"layout"),onPlay:j,onComplete:w};(S.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else A||Qwe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,O1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uit),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const x=this.path[S];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($we);return}this.isUpdating||this.nodes.forEach(ait),this.isUpdating=!1,this.nodes.forEach(oit),this.nodes.forEach(eit),this.nodes.forEach(tit),this.clearAllSnapshots();const d=performance.now();ud.delta=jx(0,1e3/60,d-ud.timestamp),ud.timestamp=d,ud.isProcessing=!0,CX.update.process(ud),CX.preRender.process(ud),CX.render.process(ud),ud.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(iit),this.sharedNodes.forEach(cit)}scheduleUpdateProjection(){jl.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){jl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nf(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!IRe(this.projectionDelta),h=this.getTransformTemplate(),v=h?h(this.latestValues,""):void 0,S=v!==this.prevTransformTemplateValue;l&&(d||tb(this.latestValues)||S)&&(i(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),pit(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return nf();const d=l.measureViewportBox(),{scroll:h}=this.root;return h&&(cx(d.x,h.offset.x),cx(d.y,h.offset.y)),d}removeElementScroll(l){const d=nf();sg(d,l);for(let h=0;h<this.path.length;h++){const v=this.path[h],{scroll:S,options:x}=v;if(v!==this.root&&S&&x.layoutScroll){if(S.isRoot){sg(d,l);const{scroll:A}=this.root;A&&(cx(d.x,-A.offset.x),cx(d.y,-A.offset.y))}cx(d.x,S.offset.x),cx(d.y,S.offset.y)}}return d}applyTransform(l,d=!1){const h=nf();sg(h,l);for(let v=0;v<this.path.length;v++){const S=this.path[v];!d&&S.options.layoutScroll&&S.scroll&&S!==S.root&&mM(h,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),tb(S.latestValues)&&mM(h,S.latestValues)}return tb(this.latestValues)&&mM(h,this.latestValues),h}removeTransform(l){const d=nf();sg(d,l);for(let h=0;h<this.path.length;h++){const v=this.path[h];if(!v.instance||!tb(v.latestValues))continue;tQ(v.latestValues)&&v.updateSnapshot();const S=nf(),x=v.measurePageBox();sg(S,x),Vwe(d,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,S)}return tb(this.latestValues)&&Vwe(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ud.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==h;if(!(l||v&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:A}=this.options;if(!(!this.layout||!(x||A))){if(this.resolvedRelativeTargetAt=ud.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nf(),this.relativeTargetOrigin=nf(),$D(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),sg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nf(),this.targetWithTransforms=nf()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vrt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sg(this.target,this.layout.layoutBox),ARe(this.target,this.targetDelta)):sg(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nf(),this.relativeTargetOrigin=nf(),$D(this.relativeTargetOrigin,this.target,T.target),sg(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nb.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tQ(this.parent.latestValues)||CRe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let v=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(v=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===ud.timestamp&&(v=!1),v)return;const{layout:S,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(S||x))return;sg(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,T=this.treeScale.y;Crt(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:R}=d;if(!R){this.projectionTransform&&(this.projectionDelta=pM(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pM(),this.projectionDeltaWithTransform=pM());const G=this.projectionTransform;YD(this.projectionDelta,this.layoutCorrected,R,this.latestValues),this.projectionTransform=qwe(this.projectionDelta,this.treeScale),(this.projectionTransform!==G||this.treeScale.x!==A||this.treeScale.y!==T)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),nb.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,d=!1){const h=this.snapshot,v=h?h.latestValues:{},S={...this.latestValues},x=pM();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=nf(),T=h?h.source:void 0,R=this.layout?this.layout.source:void 0,G=T!==R,j=this.getStack(),w=!j||j.members.length<=1,L=!!(G&&!w&&this.options.crossfade===!0&&!this.path.some(dit));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const U=W/1e3;Jwe(x.x,l.x,U),Jwe(x.y,l.y,U),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($D(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fit(this.relativeTarget,this.relativeTargetOrigin,A,U),F&&Wrt(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=nf()),sg(F,this.relativeTarget)),G&&(this.animationValues=S,Urt(S,v,this.latestValues,U,L,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(O1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jl.update(()=>{J3.hasAnimatedSinceResize=!0,this.currentAnimation=Jrt(0,Ywe,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ywe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:v,latestValues:S}=l;if(!(!d||!h||!v)){if(this!==l&&this.layout&&v&&ORe(this.options.animationType,this.layout.layoutBox,v.layoutBox)){h=this.target||nf();const x=wv(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const A=wv(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+A}sg(d,h),mM(d,S),YD(this.projectionDeltaWithTransform,this.layoutCorrected,d,S)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Krt),this.sharedNodes.get(l).add(d);const v=d.options.initialPromotionConfig;d.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const v=this.getStack();v&&v.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const v={};for(let S=0;S<Xwe.length;S++){const x="rotate"+Xwe[S];h[x]&&(v[x]=h[x],l.setStaticValue(x,0))}l.render();for(const S in v)l.setStaticValue(S,v[S]);l.scheduleRender()}getProjectionStyles(l={}){var d,h;const v={};if(!this.instance||this.isSVG)return v;if(this.isVisible)v.visibility="";else return{visibility:"hidden"};const S=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=Q3(l.pointerEvents)||"",v.transform=S?S(this.latestValues,""):"none",v;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const G={};return this.options.layoutId&&(G.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,G.pointerEvents=Q3(l.pointerEvents)||""),this.hasProjected&&!tb(this.latestValues)&&(G.transform=S?S({},""):"none",this.hasProjected=!1),G}const A=x.animationValues||x.latestValues;this.applyTransformsToTarget(),v.transform=qwe(this.projectionDeltaWithTransform,this.treeScale,A),S&&(v.transform=S(A,v.transform));const{x:T,y:R}=this.projectionDelta;v.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,x.animationValues?v.opacity=x===this?(h=(d=A.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:v.opacity=x===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const G in O4){if(A[G]===void 0)continue;const{correct:j,applyTo:w}=O4[G],L=v.transform==="none"?A[G]:j(A[G],x);if(w){const F=w.length;for(let W=0;W<F;W++)v[w[W]]=L}else v[G]=L}return this.options.layoutId&&(v.pointerEvents=x===this?Q3(l.pointerEvents)||"":"none"),v}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach($we),this.root.sharedNodes.clear()}}}function eit(t){t.updateLayout()}function tit(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?Ay(x=>{const A=l?n.measuredBox[x]:n.layoutBox[x],T=wv(A);A.min=r[x].min,A.max=A.min+T}):ORe(o,n.layoutBox,r)&&Ay(x=>{const A=l?n.measuredBox[x]:n.layoutBox[x],T=wv(r[x]);A.max=A.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+T)});const d=pM();YD(d,r,n.layoutBox);const h=pM();l?YD(h,t.applyTransform(i,!0),n.measuredBox):YD(h,r,n.layoutBox);const v=!IRe(d);let S=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:A,layout:T}=x;if(A&&T){const R=nf();$D(R,n.layoutBox,A.layoutBox);const G=nf();$D(G,r,T.layoutBox),kRe(R,G)||(S=!0),x.options.layoutRoot&&(t.relativeTarget=G,t.relativeTargetOrigin=R,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:v,hasRelativeTargetChanged:S})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nit(t){nb.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rit(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iit(t){t.clearSnapshot()}function $we(t){t.clearMeasurements()}function ait(t){t.isLayoutDirty=!1}function oit(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qwe(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sit(t){t.resolveTargetDelta()}function lit(t){t.calcProjection()}function uit(t){t.resetRotation()}function cit(t){t.removeLeadSnapshot()}function Jwe(t,e,n){t.translate=Tu(e.translate,0,n),t.scale=Tu(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zwe(t,e,n,r){t.min=Tu(e.min,n.min,r),t.max=Tu(e.max,n.max,r)}function fit(t,e,n,r){Zwe(t.x,e.x,n.x,r),Zwe(t.y,e.y,n.y,r)}function dit(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hit={duration:.45,ease:[.4,0,.1,1]},eEe=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),tEe=eEe("applewebkit/")&&!eEe("chrome/")?Math.round:ic;function nEe(t){t.min=tEe(t.min),t.max=tEe(t.max)}function pit(t){nEe(t.x),nEe(t.y)}function ORe(t,e,n){return t==="position"||t==="preserve-aspect"&&!Z$(Kwe(e),Kwe(n),.2)}const mit=DRe({attachResizeListener:(t,e)=>S1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LX={current:void 0},BRe=DRe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!LX.current){const t=new mit({});t.mount(window),t.setOptions({layoutScroll:!0}),LX.current=t}return LX.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vit={pan:{Feature:Drt},drag:{Feature:krt,ProjectionNode:BRe,MeasureLayout:MRe}},git=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yit(t){const e=git.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function rQ(t,e,n=1){const[r,i]=yit(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return yRe(l)?parseFloat(l):l}else return K$(i)?rQ(i,e,n+1):i}function _it(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!K$(o))return;const l=rQ(o,r);l&&i.set(l)});for(const i in e){const o=e[i];if(!K$(o))continue;const l=rQ(o,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const Sit=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),LRe=t=>Sit.has(t),xit=t=>Object.keys(t).some(LRe),rEe=t=>t===Gb||t===aa,iEe=(t,e)=>parseFloat(t.split(", ")[e]),aEe=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return iEe(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?iEe(o[1],t):0}},wit=new Set(["x","y","z"]),Eit=dB.filter(t=>!wit.has(t));function bit(t){const e=[];return Eit.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const $M={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:aEe(4,13),y:aEe(5,14)};$M.translateX=$M.x;$M.translateY=$M.y;const Cit=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:l}=o,d={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(v=>{d[v]=$M[v](r,o)}),e.render();const h=e.measureViewportBox();return n.forEach(v=>{const S=e.getValue(v);S&&S.jump(d[v]),t[v]=$M[v](h,o)}),t},Ait=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(LRe);let o=[],l=!1;const d=[];if(i.forEach(h=>{const v=t.getValue(h);if(!t.hasValue(h))return;let S=n[h],x=vD(S);const A=e[h];let T;if(L4(A)){const R=A.length,G=A[0]===null?1:0;S=A[G],x=vD(S);for(let j=G;j<R&&A[j]!==null;j++)T?kZ(vD(A[j])===T):T=vD(A[j])}else T=vD(A);if(x!==T)if(rEe(x)&&rEe(T)){const R=v.get();typeof R=="string"&&v.set(parseFloat(R)),typeof A=="string"?e[h]=parseFloat(A):Array.isArray(A)&&T===aa&&(e[h]=A.map(parseFloat))}else x!=null&&x.transform&&(T!=null&&T.transform)&&(S===0||A===0)?S===0?v.set(T.transform(S)):e[h]=x.transform(A):(l||(o=bit(t),l=!0),d.push(h),r[h]=r[h]!==void 0?r[h]:e[h],v.jump(A))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,v=Cit(e,t,d);return o.length&&o.forEach(([S,x])=>{t.getValue(S).set(x)}),t.render(),zH&&h!==null&&window.scrollTo({top:h}),{target:v,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Tit(t,e,n,r){return xit(e)?Ait(t,e,n,r):{target:e,transitionEnd:r}}const Mit=(t,e,n,r)=>{const i=_it(t,e,r);return e=i.target,r=i.transitionEnd,Tit(t,e,n,r)},iQ={current:null},NRe={current:!1};function Pit(){if(NRe.current=!0,!!zH)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iQ.current=t.matches;t.addListener(e),e()}else iQ.current=!1}function Rit(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],l=n[i];if(Rm(o))t.addValue(i,o),z4(r)&&r.add(i);else if(Rm(l))t.addValue(i,YM(o,{owner:t})),z4(r)&&r.remove(i);else if(l!==o)if(t.hasValue(i)){const d=t.getValue(i);!d.hasAnimated&&d.set(o)}else{const d=t.getStaticValue(i);t.addValue(i,YM(d!==void 0?d:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const oEe=new WeakMap,FRe=Object.keys(IO),Iit=FRe.length,sEe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kit=EZ.length;class Dit{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>jl.render(this.render,!1,!0);const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=jH(n),this.isVariantNode=wPe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...S}=this.scrapeMotionValuesFromProps(n,{});for(const x in S){const A=S[x];d[x]!==void 0&&Rm(A)&&(A.set(d[x],!1),z4(v)&&v.add(x))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,oEe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NRe.current||Pit(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iQ.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oEe.delete(this.current),this.projection&&this.projection.unmount(),O1(this.notifyUpdate),O1(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=jb.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&jl.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let l,d;for(let h=0;h<Iit;h++){const v=FRe[h],{isEnabled:S,Feature:x,ProjectionNode:A,MeasureLayout:T}=IO[v];A&&(l=A),S(n)&&(!this.features[v]&&x&&(this.features[v]=new x(this)),T&&(d=T))}if(!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:v,drag:S,dragConstraints:x,layoutScroll:A,layoutRoot:T}=n;this.projection.setOptions({layoutId:h,layout:v,alwaysMeasureLayout:!!S||x&&dM(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof v=="string"?v:"both",initialPromotionConfig:o,layoutScroll:A,layoutRoot:T})}return d}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nf()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sEe.length;r++){const i=sEe[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Rit(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kit;r++){const i=EZ[r],o=this.props[i];(RO(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=YM(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=IZ(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Rm(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zZ),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class URe extends Dit{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let l=Jnt(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),o){$nt(this,r,l);const d=Mit(this,r,l,n);n=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:n,...r}}}function Oit(t){return window.getComputedStyle(t)}class Bit extends URe{readValueFromInstance(e,n){if(jb.has(n)){const r=LZ(n);return r&&r.default||0}else{const r=Oit(e),i=(TPe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TRe(e,n)}build(e,n,r,i){CZ(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return RZ(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rm(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){DPe(e,n,r,i)}}class Lit extends URe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jb.has(n)){const r=LZ(n);return r&&r.default||0}return n=OPe.has(n)?n:PZ(n),e.getAttribute(n)}measureInstanceViewportBox(){return nf()}scrapeMotionValuesFromProps(e,n){return LPe(e,n)}build(e,n,r,i){TZ(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){BPe(e,n,r,i)}mount(e){this.isSVGTag=MZ(e.tagName),super.mount(e)}}const Nit=(t,e)=>bZ(t)?new Lit(e,{enableHardwareAcceleration:!1}):new Bit(e,{enableHardwareAcceleration:!0}),Fit={layout:{ProjectionNode:BRe,MeasureLayout:MRe}},Uit={...drt,...ktt,...vit,...Fit},Dp=zet((t,e)=>_tt(t,e,Uit,Nit)),zit=({currentScreen:t,onScreenChange:e,isAnimating:n})=>vr.jsxs(Dp.main,{className:"fixed inset-0 z-10",animate:n?"":t,children:[vr.jsxs("section",{className:`absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-1000 ${t==="Home"&&!n?"":"opacity-0 pointer-events-none"}`,children:[vr.jsx(Dp.img,{src:"/logo.svg",alt:"Medieval Town",className:"w-32",initial:{y:-80,opacity:0},variants:{Home:{y:0,opacity:.9,transition:{delay:1,duration:1.2}}}}),vr.jsx("h1",{className:"text-7xl text-white opacity-90 font-extrabold",children:"Medieval Town"}),vr.jsx(Dp.div,{className:"flex items-center gap-3 mt-2",initial:{y:80,opacity:0},variants:{Home:{y:0,opacity:1,transition:{delay:.2,duration:1.2}}},children:vr.jsx("button",{onClick:()=>e("Castle"),className:"bg-gray-400 bg-opacity-50 p-3 rounded-full text-white font-medium",children:"Visit the historic castle"})})]}),vr.jsx(Dp.section,{animate:n?"":t,className:`absolute inset-0 flex flex-col items-start justify-center p-10 transition-opacity duration-1000 ${t==="Castle"&&!n?"":"opacity-0 pointer-events-none"}`,children:vr.jsxs("div",{className:"md:max-w-2xl",children:[vr.jsx(Dp.h1,{className:"text-7xl text-white opacity-90 font-extrabold -ml-1",initial:{y:80,opacity:0},variants:{Castle:{y:0,opacity:1,transition:{delay:.2,duration:1.2}}},children:"Castle"}),vr.jsx(Dp.p,{className:"text-white mt-2",initial:{y:80,opacity:0},variants:{Castle:{y:0,opacity:1,transition:{delay:.6,duration:1.2}}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem."}),vr.jsx(Dp.button,{onClick:()=>e("Windmill"),className:"bg-gray-400 bg-opacity-50  p-3 mt-3 rounded-full text-white font-medium",initial:{y:80,opacity:0},variants:{Castle:{y:0,opacity:1,transition:{delay:1,duration:1.2}}},children:"Visit the Windmill"})]})}),vr.jsx(Dp.section,{animate:n?"":t,className:`absolute inset-0 flex flex-col items-end justify-center p-10 transition-opacity duration-1000 ${t==="Windmill"&&!n?"":"opacity-0 pointer-events-none"}`,children:vr.jsxs("div",{className:"md:max-w-2xl",children:[vr.jsx(Dp.h1,{className:"text-7xl text-white opacity-90 font-extrabold -ml-1",initial:{y:80,opacity:0},variants:{Windmill:{y:0,opacity:1,transition:{delay:.2,duration:1.2}}},children:"Windmill"}),vr.jsx(Dp.p,{className:"text-white mt-2",initial:{y:80,opacity:0},variants:{Windmill:{y:0,opacity:1,transition:{delay:.6,duration:1.2}}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem."}),vr.jsx(Dp.button,{onClick:()=>e("Farm"),className:"bg-gray-400 bg-opacity-50  p-3 mt-3 rounded-full text-white font-medium",initial:{y:80,opacity:0},variants:{Windmill:{y:0,opacity:1,transition:{delay:1,duration:1.2}}},children:"Visit the Farm"})]})}),vr.jsx(Dp.section,{animate:n?"":t,className:`absolute inset-0 flex flex-col items-start justify-center p-10 transition-opacity duration-1000 ${t==="Farm"&&!n?"":"opacity-0 pointer-events-none"}`,children:vr.jsxs("div",{className:"md:max-w-2xl",children:[vr.jsx(Dp.h1,{className:"text-7xl text-white opacity-90 font-extrabold -ml-1",initial:{y:80,opacity:0},variants:{Farm:{y:0,opacity:1,transition:{delay:.2,duration:1.2}}},children:"Farm"}),vr.jsx(Dp.p,{className:"text-white mt-2",initial:{y:80,opacity:0},variants:{Farm:{y:0,opacity:1,transition:{delay:.6,duration:1.2}}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem. Quisquam quae voluptatum, quia, quibusdam, voluptates voluptate quos quod voluptatibus quas doloribus quidem."}),vr.jsx(Dp.button,{onClick:()=>e("Home"),className:"bg-gray-400 bg-opacity-50  p-3 mt-3 rounded-full text-white font-medium",initial:{y:80,opacity:0},variants:{Farm:{y:0,opacity:1,transition:{delay:1,duration:1.2}}},children:"Back to Home"})]})})]});function Hit({envMapIntensity:t=.3,...e}){const n=St.useRef(),{nodes:r,materials:i,animations:o}=FH("/models/medieval_fantasy_book.glb"),{actions:l}=wet(o,n);return St.useEffect(()=>{l["The Life"].play(),Object.values(i).forEach(d=>{d.envMapIntensity=t})}),vr.jsx("group",{ref:n,...e,dispose:null,children:vr.jsx("group",{name:"Scene",children:vr.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:vr.jsx("group",{name:"dad255dd2cf24ae0bb357684e49722b4fbx",rotation:[Math.PI/2,0,0],children:vr.jsx("group",{name:"Object_2",children:vr.jsxs("group",{name:"RootNode",children:[vr.jsx("group",{name:"flag",position:[-11.513,12.497,-6.752],rotation:[-Math.PI/2,0,-Math.PI/6],children:vr.jsx("group",{name:"Object_17",position:[-7.262,9.035,-8.16],children:vr.jsx("mesh",{name:"0",geometry:r[0].geometry,material:i["Texture-base"],morphTargetDictionary:r[0].morphTargetDictionary,morphTargetInfluences:r[0].morphTargetInfluences,castShadow:!0,receiveShadow:!0})})}),vr.jsx("group",{name:"flag-second",position:[-11.494,12.552,-26.245],rotation:[-Math.PI/2,0,0],children:vr.jsx("group",{name:"Object_20",position:[-7.262,9.035,-8.16],children:vr.jsx("mesh",{name:"1",geometry:r[1].geometry,material:i["Texture-base"],morphTargetDictionary:r[1].morphTargetDictionary,morphTargetInfluences:r[1].morphTargetInfluences,castShadow:!0,receiveShadow:!0})})}),vr.jsx("group",{name:"deers",position:[-23.122,-.049,14.878],rotation:[-Math.PI/2,0,0],children:vr.jsx("group",{name:"Object_26",position:[4.328,30.387,4.387],children:vr.jsx("mesh",{name:"deers_Texture-base_0",geometry:r["deers_Texture-base_0"].geometry,material:i["Texture-base"],castShadow:!0,receiveShadow:!0})})}),vr.jsxs("group",{name:"Scene_1",position:[-4.794,0,.278],rotation:[-Math.PI/2,0,0],children:[vr.jsx("group",{name:"Mill-water-wheel",position:[3.708,-15.395,-.444],rotation:[-1.92,0,0],children:vr.jsx("group",{name:"Object_14",position:[-17.708,31.183,4.781],children:vr.jsx("mesh",{name:"Mill-water-wheel_Texture-base_0",geometry:r["Mill-water-wheel_Texture-base_0"].geometry,material:i["Texture-base"],castShadow:!0,receiveShadow:!0})})}),vr.jsx("group",{name:"Mill-wind-wheel",position:[-35.783,-27.192,3.888],rotation:[.445,-.447,-.498],children:vr.jsx("group",{name:"Object_11",position:[-8.253,39.884,-25.75],rotation:[-.607,.138,.644],children:vr.jsx("mesh",{name:"Mill-wind-wheel_Texture-base_0",geometry:r["Mill-wind-wheel_Texture-base_0"].geometry,material:i["Texture-base"],castShadow:!0,receiveShadow:!0})})}),vr.jsxs("group",{name:"Object_5",position:[-14,15.788,4.337],children:[vr.jsx("mesh",{name:"Scene_Book-tittle_0",geometry:r["Scene_Book-tittle_0"].geometry,material:i["Book-tittle"],castShadow:!0,receiveShadow:!0}),vr.jsx("mesh",{name:"Scene_Texture-base-gloss-jpg_0",geometry:r["Scene_Texture-base-gloss-jpg_0"].geometry,material:i["Texture-base-gloss-jpg"],castShadow:!0,receiveShadow:!0}),vr.jsx("mesh",{name:"Scene_Texture-base_0",geometry:r["Scene_Texture-base_0"].geometry,material:i["Texture-base"],castShadow:!0,receiveShadow:!0}),vr.jsx("mesh",{name:"Scene_Texture-base_0001",geometry:r["Scene_Texture-base_0001"].geometry,material:i["Texture-base"],castShadow:!0,receiveShadow:!0})]})]}),vr.jsx("group",{name:"Waterfall",position:[-4.794,0,.351],rotation:[-Math.PI/2,0,0],children:vr.jsx("group",{name:"Object_23",position:[-14,15.788,4.337],children:vr.jsx("mesh",{name:"Waterfall_Texture-base-gloss-jpg_0",geometry:r["Waterfall_Texture-base-gloss-jpg_0"].geometry,material:i["Texture-base-gloss-jpg"],castShadow:!0,receiveShadow:!0})})})]})})})})})})}FH.preload("/models/medieval_fantasy_book.glb");var j4={exports:{}},Ln={};(function(t){var e=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(xe,Ye,vt)=>Ye in xe?e(xe,Ye,{enumerable:!0,configurable:!0,writable:!0,value:vt}):xe[Ye]=vt,h=(xe,Ye)=>{for(var vt in Ye||(Ye={}))o.call(Ye,vt)&&d(xe,vt,Ye[vt]);if(i)for(var vt of i(Ye))l.call(Ye,vt)&&d(xe,vt,Ye[vt]);return xe},v=(xe,Ye)=>n(xe,r(Ye)),S=xe=>e(xe,"__esModule",{value:!0}),x=(xe,Ye)=>{S(xe);for(var vt in Ye)e(xe,vt,{get:Ye[vt],enumerable:!0})};x(t,{AbstractDerivation:()=>Uf,Atom:()=>Qa,Box:()=>_d,ConstantDerivation:()=>Bu,DerivationFromSource:()=>Du,PointerProxy:()=>Ba,Ticker:()=>zf,getPointerParts:()=>fl,isDerivation:()=>Xl,isPointer:()=>$a,iterateAndCountTicks:()=>cc,iterateOver:()=>fh,pointer:()=>dl,prism:()=>Ys,val:()=>ep,valueDerivation:()=>ss});var A=Array.isArray,T=A,R=typeof Jd=="object"&&Jd&&Jd.Object===Object&&Jd,G=R,j=typeof self=="object"&&self&&self.Object===Object&&self,w=G||j||Function("return this")(),L=w,F=L.Symbol,W=F,U=Object.prototype,Q=U.hasOwnProperty,de=U.toString,fe=W?W.toStringTag:void 0;function Z(xe){var Ye=Q.call(xe,fe),vt=xe[fe];try{xe[fe]=void 0;var nn=!0}catch{}var Er=de.call(xe);return nn&&(Ye?xe[fe]=vt:delete xe[fe]),Er}var he=Z,Te=Object.prototype,je=Te.toString;function Ke(xe){return je.call(xe)}var Le=Ke,Ge="[object Null]",ut="[object Undefined]",st=W?W.toStringTag:void 0;function _e(xe){return xe==null?xe===void 0?ut:Ge:st&&st in Object(xe)?he(xe):Le(xe)}var Se=_e;function we(xe){return xe!=null&&typeof xe=="object"}var Pe=we,be="[object Symbol]";function Ce(xe){return typeof xe=="symbol"||Pe(xe)&&Se(xe)==be}var qe=Ce,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,We=/^\w*$/;function Mt(xe,Ye){if(T(xe))return!1;var vt=typeof xe;return vt=="number"||vt=="symbol"||vt=="boolean"||xe==null||qe(xe)?!0:We.test(xe)||!mt.test(xe)||Ye!=null&&xe in Object(Ye)}var dt=Mt;function en(xe){var Ye=typeof xe;return xe!=null&&(Ye=="object"||Ye=="function")}var cn=en,sn="[object AsyncFunction]",$e="[object Function]",Gt="[object GeneratorFunction]",Ut="[object Proxy]";function Kt(xe){if(!cn(xe))return!1;var Ye=Se(xe);return Ye==$e||Ye==Gt||Ye==sn||Ye==Ut}var Yt=Kt,Cn=L["__core-js_shared__"],Dn=Cn,nr=function(){var xe=/[^.]+$/.exec(Dn&&Dn.keys&&Dn.keys.IE_PROTO||"");return xe?"Symbol(src)_1."+xe:""}();function dr(xe){return!!nr&&nr in xe}var Jr=dr,Hi=Function.prototype,et=Hi.toString;function Be(xe){if(xe!=null){try{return et.call(xe)}catch{}try{return xe+""}catch{}}return""}var Nt=Be,Pn=/[\\^$.*+?()[\]{}|]/g,kn=/^\[object .+?Constructor\]$/,Nn=Function.prototype,Ar=Object.prototype,Zn=Nn.toString,Je=Ar.hasOwnProperty,Jt=RegExp("^"+Zn.call(Je).replace(Pn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function On(xe){if(!cn(xe)||Jr(xe))return!1;var Ye=Yt(xe)?Jt:kn;return Ye.test(Nt(xe))}var Bn=On;function Wn(xe,Ye){return xe==null?void 0:xe[Ye]}var Yn=Wn;function Dr(xe,Ye){var vt=Yn(xe,Ye);return Bn(vt)?vt:void 0}var cr=Dr,ht=cr(Object,"create"),Ot=ht;function Rt(){this.__data__=Ot?Ot(null):{},this.size=0}var ir=Rt;function hr(xe){var Ye=this.has(xe)&&delete this.__data__[xe];return this.size-=Ye?1:0,Ye}var Li=hr,Pa="__lodash_hash_undefined__",Ra=Object.prototype,ft=Ra.hasOwnProperty;function kt(xe){var Ye=this.__data__;if(Ot){var vt=Ye[xe];return vt===Pa?void 0:vt}return ft.call(Ye,xe)?Ye[xe]:void 0}var Bt=kt,Un=Object.prototype,Pr=Un.hasOwnProperty;function yr(xe){var Ye=this.__data__;return Ot?Ye[xe]!==void 0:Pr.call(Ye,xe)}var Kn=yr,Sr="__lodash_hash_undefined__";function $n(xe,Ye){var vt=this.__data__;return this.size+=this.has(xe)?0:1,vt[xe]=Ot&&Ye===void 0?Sr:Ye,this}var oa=$n;function Ir(xe){var Ye=-1,vt=xe==null?0:xe.length;for(this.clear();++Ye<vt;){var nn=xe[Ye];this.set(nn[0],nn[1])}}Ir.prototype.clear=ir,Ir.prototype.delete=Li,Ir.prototype.get=Bt,Ir.prototype.has=Kn,Ir.prototype.set=oa;var ja=Ir;function xa(){this.__data__=[],this.size=0}var Ee=xa;function oe(xe,Ye){return xe===Ye||xe!==xe&&Ye!==Ye}var ke=oe;function Ze(xe,Ye){for(var vt=xe.length;vt--;)if(ke(xe[vt][0],Ye))return vt;return-1}var Xe=Ze,rt=Array.prototype,It=rt.splice;function Dt(xe){var Ye=this.__data__,vt=Xe(Ye,xe);if(vt<0)return!1;var nn=Ye.length-1;return vt==nn?Ye.pop():It.call(Ye,vt,1),--this.size,!0}var ln=Dt;function dn(xe){var Ye=this.__data__,vt=Xe(Ye,xe);return vt<0?void 0:Ye[vt][1]}var _n=dn;function $t(xe){return Xe(this.__data__,xe)>-1}var Rn=$t;function wn(xe,Ye){var vt=this.__data__,nn=Xe(vt,xe);return nn<0?(++this.size,vt.push([xe,Ye])):vt[nn][1]=Ye,this}var er=wn;function tr(xe){var Ye=-1,vt=xe==null?0:xe.length;for(this.clear();++Ye<vt;){var nn=xe[Ye];this.set(nn[0],nn[1])}}tr.prototype.clear=Ee,tr.prototype.delete=ln,tr.prototype.get=_n,tr.prototype.has=Rn,tr.prototype.set=er;var Tr=tr,Wr=cr(L,"Map"),pr=Wr;function Rr(){this.size=0,this.__data__={hash:new ja,map:new(pr||Tr),string:new ja}}var Or=Rr;function pi(xe){var Ye=typeof xe;return Ye=="string"||Ye=="number"||Ye=="symbol"||Ye=="boolean"?xe!=="__proto__":xe===null}var ji=pi;function ti(xe,Ye){var vt=xe.__data__;return ji(Ye)?vt[typeof Ye=="string"?"string":"hash"]:vt.map}var ki=ti;function Ni(xe){var Ye=ki(this,xe).delete(xe);return this.size-=Ye?1:0,Ye}var Fi=Ni;function no(xe){return ki(this,xe).get(xe)}var mi=no;function yi(xe){return ki(this,xe).has(xe)}var Ki=yi;function ca(xe,Ye){var vt=ki(this,xe),nn=vt.size;return vt.set(xe,Ye),this.size+=vt.size==nn?0:1,this}var Da=ca;function co(xe){var Ye=-1,vt=xe==null?0:xe.length;for(this.clear();++Ye<vt;){var nn=xe[Ye];this.set(nn[0],nn[1])}}co.prototype.clear=Or,co.prototype.delete=Fi,co.prototype.get=mi,co.prototype.has=Ki,co.prototype.set=Da;var ko=co,ll="Expected a function";function Ss(xe,Ye){if(typeof xe!="function"||Ye!=null&&typeof Ye!="function")throw new TypeError(ll);var vt=function(){var nn=arguments,Er=Ye?Ye.apply(this,nn):nn[0],Ti=vt.cache;if(Ti.has(Er))return Ti.get(Er);var Ko=xe.apply(this,nn);return vt.cache=Ti.set(Er,Ko)||Ti,Ko};return vt.cache=new(Ss.Cache||ko),vt}Ss.Cache=ko;var ul=Ss,El=500;function ou(xe){var Ye=ul(xe,function(nn){return vt.size===El&&vt.clear(),nn}),vt=Ye.cache;return Ye}var Gl=ou,Bc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qh=/\\(\\)?/g,of=Gl(function(xe){var Ye=[];return xe.charCodeAt(0)===46&&Ye.push(""),xe.replace(Bc,function(vt,nn,Er,Ti){Ye.push(Er?Ti.replace(Qh,"$1"):nn||vt)}),Ye}),Iu=of;function Jh(xe,Ye){for(var vt=-1,nn=xe==null?0:xe.length,Er=Array(nn);++vt<nn;)Er[vt]=Ye(xe[vt],vt,xe);return Er}var xs=Jh,Pi=1/0,hd=W?W.prototype:void 0,oh=hd?hd.toString:void 0;function Lc(xe){if(typeof xe=="string")return xe;if(T(xe))return xs(xe,Lc)+"";if(qe(xe))return oh?oh.call(xe):"";var Ye=xe+"";return Ye=="0"&&1/xe==-Pi?"-0":Ye}var Vp=Lc;function Zh(xe){return xe==null?"":Vp(xe)}var ws=Zh;function Ga(xe,Ye){return T(xe)?xe:dt(xe,Ye)?[xe]:Iu(ws(xe))}var Vl=Ga,pd=1/0;function sf(xe){if(typeof xe=="string"||qe(xe))return xe;var Ye=xe+"";return Ye=="0"&&1/xe==-pd?"-0":Ye}var su=sf;function Wl(xe,Ye){Ye=Vl(Ye,xe);for(var vt=0,nn=Ye.length;xe!=null&&vt<nn;)xe=xe[su(Ye[vt++])];return vt&&vt==nn?xe:void 0}var sh=Wl;function Do(xe,Ye,vt){var nn=xe==null?void 0:sh(xe,Ye);return nn===void 0?vt:nn}var Ks=Do;function Oo(xe,Ye){return function(vt){return xe(Ye(vt))}}var fo=Oo,md=fo(Object.getPrototypeOf,Object),bl=md,Im="[object Object]",oc=Function.prototype,Tv=Object.prototype,Wo=oc.toString,Nc=Tv.hasOwnProperty,Es=Wo.call(Object);function vd(xe){if(!Pe(xe)||Se(xe)!=Im)return!1;var Ye=bl(xe);if(Ye===null)return!0;var vt=Nc.call(Ye,"constructor")&&Ye.constructor;return typeof vt=="function"&&vt instanceof vt&&Wo.call(vt)==Es}var Ps=vd;function Rs(xe){var Ye=xe==null?0:xe.length;return Ye?xe[Ye-1]:void 0}var sc=Rs,Kl=class{constructor(xe){this._untapFromSourceTimeout=null,this._cb=Ye=>{for(const vt of this._tappers.values())vt(Ye)},this._lastTapperId=0,this._untapFromSource=null,this._props=xe,this._tappers=new Map}_check(){this._untapFromSource?this._tappers.size===0&&this._scheduleToUntapFromSource():this._tappers.size!==0&&(this._untapFromSource=this._props.tapToSource(this._cb))}_scheduleToUntapFromSource(){this._untapFromSourceTimeout===null&&(this._untapFromSourceTimeout=setTimeout(()=>{this._untapFromSourceTimeout=null,this._tappers.size===0&&(this._untapFromSource(),this._untapFromSource=null)},0))}tap(xe){const Ye=this._lastTapperId++;return this._tappers.set(Ye,xe),this._check(),()=>{this._removeTapperById(Ye)}}_removeTapperById(xe){this._tappers.delete(xe),this._check()}},Nf=class{constructor(){this._lastTapperId=0,this._tappers=new Map,this.tappable=new Kl({tapToSource:xe=>this._tap(xe)})}_tap(xe){var Ye;const vt=this._lastTapperId++;return this._tappers.set(vt,xe),(Ye=this._onNumberOfTappersChangeListener)==null||Ye.call(this,this._tappers.size),()=>{this._removeTapperById(vt)}}_removeTapperById(xe){var Ye;const vt=this._tappers.size;this._tappers.delete(xe);const nn=this._tappers.size;vt!==nn&&((Ye=this._onNumberOfTappersChangeListener)==null||Ye.call(this,nn))}emit(xe){for(const Ye of this._tappers.values())Ye(xe)}hasTappers(){return this._tappers.size!==0}onNumberOfTappersChange(xe){this._onNumberOfTappersChangeListener=xe}},ku=class{constructor(xe,Ye){return this._possiblyMarkAsStale=()=>{this._ticker.onThisOrNextTick(this._refresh)},this._refresh=()=>{const vt=this._derivation.getValue();vt===this._lastValue&&this._lastValueRecorded===!0||(this._lastValue=vt,this._lastValueRecorded=!0,this._emitter.emit(vt))},this._derivation=xe,this._ticker=Ye,this._emitter=new Nf,this._emitter.onNumberOfTappersChange(()=>{this._reactToNumberOfTappersChange()}),this._hadTappers=!1,this._lastValueRecorded=!1,this._lastValue=void 0,this}_reactToNumberOfTappersChange(){const xe=this._emitter.hasTappers();xe!==this._hadTappers&&(this._hadTappers=xe,xe?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}tappable(){return this._emitter.tappable}},ql=class{constructor(xe,Ye=!1){return this.dontEmitValues=Ye,this._possiblyMarkAsStale=()=>{this._emitter.emit(void 0)},this._derivation=xe,this._emitter=new Nf,this._emitter.onNumberOfTappersChange(()=>{this._reactToNumberOfTappersChange()}),this._hadTappers=!1,this}_reactToNumberOfTappersChange(){const xe=this._emitter.hasTappers();xe!==this._hadTappers&&(this._hadTappers=xe,xe?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}tappable(){return this._emitter.tappable}};function Xl(xe){return xe&&xe.isDerivation&&xe.isDerivation===!0}var wa;(function(xe){xe[xe.none=0]="none",xe[xe.dep=1]="dep",xe[xe.inner=2]="inner"})(wa||(wa={}));var yo=()=>{class xe extends Uf{constructor(vt,nn){return super(),this._depDerivation=vt,this._fn=nn,this._innerDerivation=void 0,this._staleDependency=1,this._addDependency(vt),this}_recalculateHot(){const vt=this._staleDependency;if(this._staleDependency=0,vt===2)return this._innerDerivation.getValue();const nn=this._fn(this._depDerivation.getValue());return Xl(nn)?(this._innerDerivation=nn,this._addDependency(nn),nn.getValue()):nn}_recalculateCold(){const vt=this._fn(this._depDerivation.getValue());return Xl(vt)?vt.getValue():vt}_recalculate(){return this.isHot?this._recalculateHot():this._recalculateCold()}_reactToDependencyBecomingStale(vt){const nn=vt===this._depDerivation?1:2;if(nn===2&&vt!==this._innerDerivation)throw Error("got a _reactToDependencyBecomingStale() from neither the dep nor the inner derivation");this._staleDependency===0?(this._staleDependency=nn,nn===1&&this._removeInnerDerivation()):this._staleDependency===1||nn===1&&(this._staleDependency=1,this._removeInnerDerivation())}_removeInnerDerivation(){this._innerDerivation&&(this._removeDependency(this._innerDerivation),this._innerDerivation=void 0)}_keepHot(){this._staleDependency=1,this.getValue()}_becomeCold(){this._staleDependency=1,this._removeInnerDerivation()}}return xe.displayName="flatMap",xe},_o=void 0;function Cl(xe,Ye){return _o||(_o=yo()),new _o(xe,Ye)}var gd=()=>class extends Uf{constructor(Ye,vt){super(),this._dep=Ye,this._fn=vt,this._addDependency(Ye)}_recalculate(){return this._fn(this._dep.getValue())}_reactToDependencyBecomingStale(){}},So=void 0;function Is(xe,Ye){return So||(So=gd()),new So(xe,Ye)}var bs=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const xe=this._head;if(xe)return this._head=xe.next,xe.data}push(xe){const Ye={next:this._head,data:xe};this._head=Ye}};function Ff(){const xe=()=>{},Ye=new bs,vt=xe;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{Ye.push(vt)},stopIgnoringDependencies:()=>{Ye.peek()!==vt||Ye.pop()},reportResolutionStart:ls=>{const pc=Ye.peek();pc&&pc(ls),Ye.push(vt)},reportResolutionEnd:ls=>{Ye.pop()},pushCollector:ls=>{Ye.push(ls)},popCollector:ls=>{if(Ye.peek()!==ls)throw new Error("Popped collector is not on top of the stack");Ye.pop()}}}function lc(){const xe="__dataverse_discoveryMechanism_sharedStack",Ye=typeof window<"u"?window:typeof Jd<"u"?Jd:{};if(Ye){const vt=Ye[xe];if(vt&&typeof vt=="object"&&vt.type==="Dataverse_discoveryMechanism")return vt;{const nn=Ff();return Ye[xe]=nn,nn}}else return Ff()}var{startIgnoringDependencies:Fc,stopIgnoringDependencies:yd,reportResolutionEnd:lh,reportResolutionStart:uc,pushCollector:Wp,popCollector:km}=lc(),Uf=class{constructor(){this.isDerivation=!0,this._didMarkDependentsAsStale=!1,this._isHot=!1,this._isFresh=!1,this._lastValue=void 0,this._dependents=new Set,this._dependencies=new Set,this._internal_markAsStale=xe=>{if(this._reactToDependencyBecomingStale(xe),!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const Ye of this._dependents)Ye(this)}}}get isHot(){return this._isHot}_addDependency(xe){this._dependencies.has(xe)||(this._dependencies.add(xe),this._isHot&&xe.addDependent(this._internal_markAsStale))}_removeDependency(xe){this._dependencies.has(xe)&&(this._dependencies.delete(xe),this._isHot&&xe.removeDependent(this._internal_markAsStale))}changes(xe){return new ku(this,xe).tappable()}changesWithoutValues(){return new ql(this).tappable()}keepHot(){return this.changesWithoutValues().tap(()=>{})}tapImmediate(xe,Ye){const vt=this.changes(xe).tap(Ye);return Ye(this.getValue()),vt}addDependent(xe){const Ye=this._dependents.size>0;this._dependents.add(xe);const vt=this._dependents.size>0;Ye!==vt&&this._reactToNumberOfDependentsChange()}removeDependent(xe){const Ye=this._dependents.size>0;this._dependents.delete(xe);const vt=this._dependents.size>0;Ye!==vt&&this._reactToNumberOfDependentsChange()}_markAsStale(xe){this._internal_markAsStale(xe)}getValue(){if(uc(this),!this._isFresh){const xe=this._recalculate();this._lastValue=xe,this._isHot&&(this._isFresh=!0,this._didMarkDependentsAsStale=!1)}return lh(this),this._lastValue}_reactToNumberOfDependentsChange(){const xe=this._dependents.size>0;if(xe!==this._isHot)if(this._isHot=xe,this._didMarkDependentsAsStale=!1,this._isFresh=!1,xe){for(const Ye of this._dependencies)Ye.addDependent(this._internal_markAsStale);this._keepHot()}else{for(const Ye of this._dependencies)Ye.removeDependent(this._internal_markAsStale);this._becomeCold()}}_keepHot(){}_becomeCold(){}map(xe){return Is(this,xe)}flatMap(xe){return Cl(this,xe)}},lf=()=>{},Du=class extends Uf{constructor(xe,Ye){super(),this._tapToSource=xe,this._getValueFromSource=Ye,this._untapFromChanges=lf,this._cachedValue=void 0,this._hasCachedValue=!1}_recalculate(){return this.isHot?(this._hasCachedValue||(this._cachedValue=this._getValueFromSource(),this._hasCachedValue=!0),this._cachedValue):this._getValueFromSource()}_keepHot(){this._hasCachedValue=!1,this._cachedValue=void 0,this._untapFromChanges=this._tapToSource(xe=>{this._hasCachedValue=!0,this._cachedValue=xe,this._markAsStale(this)})}_becomeCold(){this._untapFromChanges(),this._untapFromChanges=lf,this._hasCachedValue=!1,this._cachedValue=void 0}_reactToDependencyBecomingStale(){}},os=new WeakMap,uf=new WeakMap,uh=Symbol("pointerMeta"),ks={get(xe,Ye){if(Ye===uh)return os.get(xe);let vt=uf.get(xe);vt||(vt=new Map,uf.set(xe,vt));const nn=vt.get(Ye);if(nn!==void 0)return nn;const Er=os.get(xe),Ti=Bo({root:Er.root,path:[...Er.path,Ye]});return vt.set(Ye,Ti),Ti}},cl=xe=>xe[uh],fl=xe=>{const{root:Ye,path:vt}=cl(xe);return{root:Ye,path:vt}};function Bo(xe){var Ye;const vt={root:xe.root,path:(Ye=xe.path)!=null?Ye:[]},nn={};return os.set(nn,vt),new Proxy(nn,ks)}var dl=Bo,$a=xe=>xe&&!!cl(xe);function lu(xe,Ye,vt){return Ye.length===0?vt(xe):cf(xe,Ye,vt)}var cf=(xe,Ye,vt)=>{if(Ye.length===0)return vt(xe);if(Array.isArray(xe)){let[nn,...Er]=Ye;nn=parseInt(String(nn),10),isNaN(nn)&&(nn=0);const Ti=xe[nn],Ko=cf(Ti,Er,vt);if(Ti===Ko)return xe;const Fu=[...xe];return Fu.splice(nn,1,Ko),Fu}else if(typeof xe=="object"&&xe!==null){const[nn,...Er]=Ye,Ti=xe[nn],Ko=cf(Ti,Er,vt);return Ti===Ko?xe:v(h({},xe),{[nn]:Ko})}else{const[nn,...Er]=Ye;return{[nn]:cf(void 0,Er,vt)}}},ff;(function(xe){xe[xe.Dict=0]="Dict",xe[xe.Array=1]="Array",xe[xe.Other=2]="Other"})(ff||(ff={}));var qs=xe=>Array.isArray(xe)?1:Ps(xe)?0:2,Xs=(xe,Ye,vt=qs(xe))=>vt===0&&typeof Ye=="string"||vt===1&&vi(Ye)?xe[Ye]:void 0,vi=xe=>{const Ye=typeof xe=="number"?xe:parseInt(xe,10);return!isNaN(Ye)&&Ye>=0&&Ye<1/0&&(Ye|0)===Ye},Ou=class{constructor(xe,Ye){this._parent=xe,this._path=Ye,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(xe){this.identityChangeListeners.add(xe)}removeIdentityChangeListener(xe){this.identityChangeListeners.delete(xe),this._checkForGC()}removeChild(xe){this.children.delete(xe),this._checkForGC()}getChild(xe){return this.children.get(xe)}getOrCreateChild(xe){let Ye=this.children.get(xe);return Ye||(Ye=Ye=new Ou(this,this._path.concat([xe])),this.children.set(xe,Ye)),Ye}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(sc(this._path))}},Qa=class{constructor(xe){this.$$isIdentityDerivationProvider=!0,this.reduceState=(Ye,vt)=>{const nn=lu(this.getState(),Ye,vt);return this.setState(nn),nn},this._onPathValueChange=(Ye,vt)=>{const nn=this._getOrCreateScopeForPath(Ye);return nn.identityChangeListeners.add(vt),()=>{nn.identityChangeListeners.delete(vt)}},this._currentState=xe,this._rootScope=new Ou(void 0,[]),this.pointer=dl({root:this,path:[]})}setState(xe){const Ye=this._currentState;this._currentState=xe,this._checkUpdates(this._rootScope,Ye,xe)}getState(){return this._currentState}getIn(xe){return xe.length===0?this.getState():Ks(this.getState(),xe)}setIn(xe,Ye){return this.reduceState(xe,()=>Ye)}_checkUpdates(xe,Ye,vt){if(Ye===vt)return;for(const Ti of xe.identityChangeListeners)Ti(vt);if(xe.children.size===0)return;const nn=qs(Ye),Er=qs(vt);if(!(nn===2&&nn===Er))for(const[Ti,Ko]of xe.children){const Fu=Xs(Ye,Ti,nn),$s=Xs(vt,Ti,Er);this._checkUpdates(Ko,Fu,$s)}}_getOrCreateScopeForPath(xe){let Ye=this._rootScope;for(const vt of xe)Ye=Ye.getOrCreateChild(vt);return Ye}getIdentityDerivation(xe){return new Du(Ye=>this._onPathValueChange(xe,Ye),()=>this.getIn(xe))}},Ds=new WeakMap,ss=xe=>{const Ye=cl(xe);let vt=Ds.get(Ye);if(!vt){const nn=Ye.root;if(!Oa(nn))throw new Error("Cannot run valueDerivation() on a pointer whose root is not an IdentityChangeProvider");const{path:Er}=Ye;vt=nn.getIdentityDerivation(Er),Ds.set(Ye,vt)}return vt};function Oa(xe){return typeof xe=="object"&&xe!==null&&xe.$$isIdentityDerivationProvider===!0}var ep=xe=>$a(xe)?ss(xe).getValue():Xl(xe)?xe.getValue():xe,_d=class{constructor(xe){this._value=xe,this._emitter=new Nf,this._publicDerivation=new Du(Ye=>this._emitter.tappable.tap(Ye),this.get.bind(this))}set(xe){xe!==this._value&&(this._value=xe,this._emitter.emit(xe))}get(){return this._value}get derivation(){return this._publicDerivation}},Bu=class extends Uf{constructor(xe){return super(),this._v=xe,this}_recalculate(){return this._v}_reactToDependencyBecomingStale(){}};function*cc(xe){let Ye;if($a(xe))Ye=ss(xe);else if(Xl(xe))Ye=xe;else throw new Error("Only pointers and derivations are supported");let vt=0;const nn=Ye.changesWithoutValues().tap(()=>{vt++});try{for(;;){const Er=vt;vt=0,yield{value:Ye.getValue(),ticks:Er}}}finally{nn()}}function ch(){const xe=new zf;if(typeof window<"u"){const Ye=vt=>{xe.tick(vt),window.requestAnimationFrame(Ye)};window.requestAnimationFrame(Ye)}else xe.tick(0),setTimeout(()=>xe.tick(1),0);return xe}var Os,zf=class{constructor(){this._ticking=!1,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}static get raf(){return Os||(Os=ch()),Os}onThisOrNextTick(xe){this._scheduledForThisOrNextTick.add(xe)}onNextTick(xe){this._scheduledForNextTick.add(xe)}offThisOrNextTick(xe){this._scheduledForThisOrNextTick.delete(xe)}offNextTick(xe){this._scheduledForNextTick.delete(xe)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}tick(xe=performance.now()){this.__ticks++,this._ticking=!0,this._timeAtCurrentTick=xe;for(const Ye of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(Ye);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(xe){const Ye=this.time;if(xe>10&&console.warn("_tick() recursing for 10 times"),xe>100)throw new Error("Maximum recursion limit for _tick()");const vt=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const nn of vt)nn(Ye);if(this._scheduledForThisOrNextTick.size>0)return this._tick(xe+1)}};function*fh(xe){let Ye;if($a(xe))Ye=ss(xe);else if(Xl(xe))Ye=xe;else throw new Error("Only pointers and derivations are supported");const vt=new zf,nn=Ye.changes(vt).tap(Er=>{});try{for(;;)vt.tick(),yield Ye.getValue()}finally{nn()}}var Al=()=>{},fc=class extends Uf{constructor(xe){super(),this._fn=xe,this._cacheOfDendencyValues=new Map,this._possiblyStaleDeps=new Set,this._prismScope=new Ja}_recalculate(){let xe;if(this._possiblyStaleDeps.size>0){let nn=!1;Fc();for(const Er of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(Er)!==Er.getValue()){nn=!0;break}if(yd(),this._possiblyStaleDeps.clear(),!nn)return this._lastValue}const Ye=new Set;this._cacheOfDendencyValues.clear();const vt=nn=>{Ye.add(nn),this._addDependency(nn)};Wp(vt),To.push(this._prismScope);try{xe=this._fn()}catch(nn){console.error(nn)}finally{To.pop()!==this._prismScope&&console.warn("The Prism hook stack has slipped. This is a bug.")}km(vt);for(const nn of this._dependencies)Ye.has(nn)||this._removeDependency(nn);this._dependencies=Ye,Fc();for(const nn of Ye)this._cacheOfDendencyValues.set(nn,nn.getValue());return yd(),xe}_reactToDependencyBecomingStale(xe){this._possiblyStaleDeps.add(xe)}_keepHot(){this._prismScope=new Ja,Fc(),this.getValue(),yd()}_becomeCold(){ro(this._prismScope),this._prismScope=new Ja}},Ja=class{constructor(){this.isPrismScope=!0,this._subs={}}sub(xe){return this._subs[xe]||(this._subs[xe]=new Ja),this._subs[xe]}get subs(){return this._subs}};function ro(xe){for(const Ye of Object.values(xe.subs))ro(Ye);ga(xe)}function ga(xe){const Ye=Yl.get(xe);if(Ye)for(const vt of Ye.values())Lu(vt.cleanup,void 0);Yl.delete(xe)}function Lu(xe,Ye){try{return{value:xe(),ok:!0}}catch(vt){return setTimeout(function(){throw vt}),{value:Ye,ok:!1}}}var To=new bs,xo=new WeakMap,Yl=new WeakMap,uu=new WeakMap;function dc(xe,Ye){const vt=To.peek();if(!vt)throw new Error("prism.ref() is called outside of a prism() call.");let nn=xo.get(vt);nn===void 0&&(nn=new Map,xo.set(vt,nn));let Er=nn.get(xe);if(Er!==void 0)return Er;{const Ti={current:Ye};return nn.set(xe,Ti),Ti}}function Nu(xe,Ye,vt){const nn=To.peek();if(!nn)throw new Error("prism.effect() is called outside of a prism() call.");let Er=Yl.get(nn);Er===void 0&&(Er=new Map,Yl.set(nn,Er));let Ti=Er.get(xe);Ti===void 0&&(Ti={cleanup:Al,deps:void 0},Er.set(xe,Ti)),sa(Ti.deps,vt)&&(Ti.cleanup(),Fc(),Ti.cleanup=Lu(Ye,Al).value,yd(),Ti.deps=vt)}function sa(xe,Ye){if(xe===void 0||Ye===void 0)return!0;const vt=xe.length;if(vt!==Ye.length)return!0;for(let nn=0;nn<vt;nn++)if(xe[nn]!==Ye[nn])return!0;return!1}function hc(xe,Ye,vt){const nn=To.peek();if(!nn)throw new Error("prism.memo() is called outside of a prism() call.");let Er=uu.get(nn);Er||(Er=new Map,uu.set(nn,Er));let Ti=Er.get(xe);return Ti===void 0&&(Ti={cachedValue:null,deps:void 0},Er.set(xe,Ti)),sa(Ti.deps,vt)&&(Fc(),Ti.cachedValue=Lu(Ye,void 0).value,yd(),Ti.deps=vt),Ti.cachedValue}function df(xe,Ye){const{b:vt,setValue:nn}=Ai.memo("state/"+xe,()=>{const Er=new _d(Ye);return{b:Er,setValue:Ko=>Er.set(Ko)}},[]);return[vt.derivation.getValue(),nn]}function tp(){if(!To.peek())throw new Error("The parent function is called outside of a prism() call.")}function np(xe,Ye){const vt=To.peek();if(!vt)throw new Error("prism.scope() is called outside of a prism() call.");const nn=vt.sub(xe);To.push(nn);const Er=Lu(Ye,void 0).value;return To.pop(),Er}function $l(xe,Ye,vt){return hc(xe,()=>Ai(Ye),vt).getValue()}function cu(){return!!To.peek()}var Ai=xe=>new fc(xe);Ai.ref=dc,Ai.effect=Nu,Ai.memo=hc,Ai.ensurePrism=tp,Ai.state=df,Ai.scope=np,Ai.sub=$l,Ai.inPrism=cu;var Ys=Ai,Ba=class{constructor(xe){this.$$isIdentityDerivationProvider=!0,this._currentPointerBox=new _d(xe),this.pointer=dl({root:this,path:[]})}setPointer(xe){this._currentPointerBox.set(xe)}getIdentityDerivation(xe){return this._currentPointerBox.derivation.flatMap(Ye=>{const vt=xe.reduce((nn,Er)=>nn[Er],Ye);return ss(vt)})}}})(Ln);j4.exports;(function(t,e){var n=Object.create,r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,v=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,A=(D,V,ee)=>V in D?r(D,V,{enumerable:!0,configurable:!0,writable:!0,value:ee}):D[V]=ee,T=(D,V)=>{for(var ee in V||(V={}))S.call(V,ee)&&A(D,ee,V[ee]);if(h)for(var ee of h(V))x.call(V,ee)&&A(D,ee,V[ee]);return D},R=(D,V)=>i(D,l(V)),G=D=>r(D,"__esModule",{value:!0}),j=(D,V)=>function(){return V||(0,D[Object.keys(D)[0]])((V={exports:{}}).exports,V),V.exports},w=(D,V)=>{G(D);for(var ee in V)r(D,ee,{get:V[ee],enumerable:!0})},L=(D,V,ee)=>{if(V&&typeof V=="object"||typeof V=="function")for(let ge of d(V))!S.call(D,ge)&&ge!=="default"&&r(D,ge,{get:()=>V[ge],enumerable:!(ee=o(V,ge))||ee.enumerable});return D},F=D=>L(G(r(D!=null?n(v(D)):{},"default",D&&D.__esModule&&"default"in D?{get:()=>D.default,enumerable:!0}:{value:D,enumerable:!0})),D),W=(D,V,ee)=>(A(D,typeof V!="symbol"?V+"":V,ee),ee),U=j({"../node_modules/timing-function/lib/UnitBezier.js"(D,V){V.exports=function(){function ee(ge,ze,nt,At){this.set(ge,ze,nt,At)}return ee.prototype.set=function(ge,ze,nt,At){this._cx=3*ge,this._bx=3*(nt-ge)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*ze,this._by=3*(At-ze)-this._cy,this._ay=1-this._cy-this._by},ee.epsilon=1e-6,ee.prototype._sampleCurveX=function(ge){return((this._ax*ge+this._bx)*ge+this._cx)*ge},ee.prototype._sampleCurveY=function(ge){return((this._ay*ge+this._by)*ge+this._cy)*ge},ee.prototype._sampleCurveDerivativeX=function(ge){return(3*this._ax*ge+2*this._bx)*ge+this._cx},ee.prototype._solveCurveX=function(ge,ze){var nt,At,Xt,an,yn,or;for(Xt=void 0,an=void 0,yn=void 0,or=void 0,nt=void 0,At=void 0,yn=ge,At=0;At<8;){if(or=this._sampleCurveX(yn)-ge,Math.abs(or)<ze)return yn;if(nt=this._sampleCurveDerivativeX(yn),Math.abs(nt)<ze)break;yn=yn-or/nt,At++}if(Xt=0,an=1,yn=ge,yn<Xt)return Xt;if(yn>an)return an;for(;Xt<an;){if(or=this._sampleCurveX(yn),Math.abs(or-ge)<ze)return yn;ge>or?Xt=yn:an=yn,yn=(an-Xt)*.5+Xt}return yn},ee.prototype.solve=function(ge,ze){return this._sampleCurveY(this._solveCurveX(ge,ze))},ee.prototype.solveSimple=function(ge){return this._sampleCurveY(this._solveCurveX(ge,1e-6))},ee}()}}),Q=j({"../node_modules/levenshtein-edit-distance/index.js"(D,V){var ee,ge;ee=[],ge=[];function ze(nt,At,Xt){var an,yn,or,mr,Lr,bi,di,Ia;if(nt===At)return 0;if(an=nt.length,yn=At.length,an===0)return yn;if(yn===0)return an;for(Xt&&(nt=nt.toLowerCase(),At=At.toLowerCase()),di=0;di<an;)ge[di]=nt.charCodeAt(di),ee[di]=++di;for(Ia=0;Ia<yn;)for(or=At.charCodeAt(Ia),mr=Lr=Ia++,di=-1;++di<an;)bi=or===ge[di]?Lr:Lr+1,Lr=ee[di],ee[di]=mr=Lr>mr?bi>mr?mr+1:bi:bi>Lr?Lr+1:bi;return mr}V.exports=ze}}),de=j({"../node_modules/propose/propose.js"(D,V){var ee=Q();function ge(){var ze,nt,At,Xt,an,yn=0,or=arguments[0],mr=arguments[1],Lr=mr.length,bi=arguments[2];bi&&(Xt=bi.threshold,an=bi.ignoreCase),Xt===void 0&&(Xt=0);for(var di=0;di<Lr;++di)an?nt=ee(or,mr[di],!0):nt=ee(or,mr[di]),nt>or.length?ze=1-nt/mr[di].length:ze=1-nt/or.length,ze>yn&&(yn=ze,At=mr[di]);return yn>=Xt?At:null}V.exports=ge}}),fe=j({"../node_modules/fast-deep-equal/index.js"(D,V){V.exports=function ee(ge,ze){if(ge===ze)return!0;if(ge&&ze&&typeof ge=="object"&&typeof ze=="object"){if(ge.constructor!==ze.constructor)return!1;var nt,At,Xt;if(Array.isArray(ge)){if(nt=ge.length,nt!=ze.length)return!1;for(At=nt;At--!==0;)if(!ee(ge[At],ze[At]))return!1;return!0}if(ge.constructor===RegExp)return ge.source===ze.source&&ge.flags===ze.flags;if(ge.valueOf!==Object.prototype.valueOf)return ge.valueOf()===ze.valueOf();if(ge.toString!==Object.prototype.toString)return ge.toString()===ze.toString();if(Xt=Object.keys(ge),nt=Xt.length,nt!==Object.keys(ze).length)return!1;for(At=nt;At--!==0;)if(!Object.prototype.hasOwnProperty.call(ze,Xt[At]))return!1;for(At=nt;At--!==0;){var an=Xt[At];if(!ee(ge[an],ze[an]))return!1}return!0}return ge!==ge&&ze!==ze}}});w(e,{getProject:()=>XP,notify:()=>Y1,onChange:()=>gw,types:()=>Q1,val:()=>tL});var Z={};w(Z,{getProject:()=>XP,notify:()=>Y1,onChange:()=>gw,types:()=>Q1,val:()=>tL});var he=F(Ln),Te=class{constructor(){W(this,"atom",new he.Atom({projects:{}}))}add(D,V){this.atom.reduceState(["projects",D],()=>V)}get(D){return this.atom.getState().projects[D]}has(D){return!!this.get(D)}},je=new Te,Ke=je,Le=new WeakMap;function Ge(D){return Le.get(D)}function ut(D,V){Le.set(D,V)}var st=[],_e=Array.isArray,Se=_e,we=typeof Jd=="object"&&Jd&&Jd.Object===Object&&Jd,Pe=we,be=typeof self=="object"&&self&&self.Object===Object&&self,Ce=Pe||be||Function("return this")(),qe=Ce,mt=qe.Symbol,We=mt,Mt=Object.prototype,dt=Mt.hasOwnProperty,en=Mt.toString,cn=We?We.toStringTag:void 0;function sn(D){var V=dt.call(D,cn),ee=D[cn];try{D[cn]=void 0;var ge=!0}catch{}var ze=en.call(D);return ge&&(V?D[cn]=ee:delete D[cn]),ze}var $e=sn,Gt=Object.prototype,Ut=Gt.toString;function Kt(D){return Ut.call(D)}var Yt=Kt,Cn="[object Null]",Dn="[object Undefined]",nr=We?We.toStringTag:void 0;function dr(D){return D==null?D===void 0?Dn:Cn:nr&&nr in Object(D)?$e(D):Yt(D)}var Jr=dr;function Hi(D){return D!=null&&typeof D=="object"}var et=Hi,Be="[object Symbol]";function Nt(D){return typeof D=="symbol"||et(D)&&Jr(D)==Be}var Pn=Nt,kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nn=/^\w*$/;function Ar(D,V){if(Se(D))return!1;var ee=typeof D;return ee=="number"||ee=="symbol"||ee=="boolean"||D==null||Pn(D)?!0:Nn.test(D)||!kn.test(D)||V!=null&&D in Object(V)}var Zn=Ar;function Je(D){var V=typeof D;return D!=null&&(V=="object"||V=="function")}var Jt=Je,On="[object AsyncFunction]",Bn="[object Function]",Wn="[object GeneratorFunction]",Yn="[object Proxy]";function Dr(D){if(!Jt(D))return!1;var V=Jr(D);return V==Bn||V==Wn||V==On||V==Yn}var cr=Dr,ht=qe["__core-js_shared__"],Ot=ht,Rt=function(){var D=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();function ir(D){return!!Rt&&Rt in D}var hr=ir,Li=Function.prototype,Pa=Li.toString;function Ra(D){if(D!=null){try{return Pa.call(D)}catch{}try{return D+""}catch{}}return""}var ft=Ra,kt=/[\\^$.*+?()[\]{}|]/g,Bt=/^\[object .+?Constructor\]$/,Un=Function.prototype,Pr=Object.prototype,yr=Un.toString,Kn=Pr.hasOwnProperty,Sr=RegExp("^"+yr.call(Kn).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $n(D){if(!Jt(D)||hr(D))return!1;var V=cr(D)?Sr:Bt;return V.test(ft(D))}var oa=$n;function Ir(D,V){return D==null?void 0:D[V]}var ja=Ir;function xa(D,V){var ee=ja(D,V);return oa(ee)?ee:void 0}var Ee=xa,oe=Ee(Object,"create"),ke=oe;function Ze(){this.__data__=ke?ke(null):{},this.size=0}var Xe=Ze;function rt(D){var V=this.has(D)&&delete this.__data__[D];return this.size-=V?1:0,V}var It=rt,Dt="__lodash_hash_undefined__",ln=Object.prototype,dn=ln.hasOwnProperty;function _n(D){var V=this.__data__;if(ke){var ee=V[D];return ee===Dt?void 0:ee}return dn.call(V,D)?V[D]:void 0}var $t=_n,Rn=Object.prototype,wn=Rn.hasOwnProperty;function er(D){var V=this.__data__;return ke?V[D]!==void 0:wn.call(V,D)}var tr=er,Tr="__lodash_hash_undefined__";function Wr(D,V){var ee=this.__data__;return this.size+=this.has(D)?0:1,ee[D]=ke&&V===void 0?Tr:V,this}var pr=Wr;function Rr(D){var V=-1,ee=D==null?0:D.length;for(this.clear();++V<ee;){var ge=D[V];this.set(ge[0],ge[1])}}Rr.prototype.clear=Xe,Rr.prototype.delete=It,Rr.prototype.get=$t,Rr.prototype.has=tr,Rr.prototype.set=pr;var Or=Rr;function pi(){this.__data__=[],this.size=0}var ji=pi;function ti(D,V){return D===V||D!==D&&V!==V}var ki=ti;function Ni(D,V){for(var ee=D.length;ee--;)if(ki(D[ee][0],V))return ee;return-1}var Fi=Ni,no=Array.prototype,mi=no.splice;function yi(D){var V=this.__data__,ee=Fi(V,D);if(ee<0)return!1;var ge=V.length-1;return ee==ge?V.pop():mi.call(V,ee,1),--this.size,!0}var Ki=yi;function ca(D){var V=this.__data__,ee=Fi(V,D);return ee<0?void 0:V[ee][1]}var Da=ca;function co(D){return Fi(this.__data__,D)>-1}var ko=co;function ll(D,V){var ee=this.__data__,ge=Fi(ee,D);return ge<0?(++this.size,ee.push([D,V])):ee[ge][1]=V,this}var Ss=ll;function ul(D){var V=-1,ee=D==null?0:D.length;for(this.clear();++V<ee;){var ge=D[V];this.set(ge[0],ge[1])}}ul.prototype.clear=ji,ul.prototype.delete=Ki,ul.prototype.get=Da,ul.prototype.has=ko,ul.prototype.set=Ss;var El=ul,ou=Ee(qe,"Map"),Gl=ou;function Bc(){this.size=0,this.__data__={hash:new Or,map:new(Gl||El),string:new Or}}var Qh=Bc;function of(D){var V=typeof D;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?D!=="__proto__":D===null}var Iu=of;function Jh(D,V){var ee=D.__data__;return Iu(V)?ee[typeof V=="string"?"string":"hash"]:ee.map}var xs=Jh;function Pi(D){var V=xs(this,D).delete(D);return this.size-=V?1:0,V}var hd=Pi;function oh(D){return xs(this,D).get(D)}var Lc=oh;function Vp(D){return xs(this,D).has(D)}var Zh=Vp;function ws(D,V){var ee=xs(this,D),ge=ee.size;return ee.set(D,V),this.size+=ee.size==ge?0:1,this}var Ga=ws;function Vl(D){var V=-1,ee=D==null?0:D.length;for(this.clear();++V<ee;){var ge=D[V];this.set(ge[0],ge[1])}}Vl.prototype.clear=Qh,Vl.prototype.delete=hd,Vl.prototype.get=Lc,Vl.prototype.has=Zh,Vl.prototype.set=Ga;var pd=Vl,sf="Expected a function";function su(D,V){if(typeof D!="function"||V!=null&&typeof V!="function")throw new TypeError(sf);var ee=function(){var ge=arguments,ze=V?V.apply(this,ge):ge[0],nt=ee.cache;if(nt.has(ze))return nt.get(ze);var At=D.apply(this,ge);return ee.cache=nt.set(ze,At)||nt,At};return ee.cache=new(su.Cache||pd),ee}su.Cache=pd;var Wl=su,sh=500;function Do(D){var V=Wl(D,function(ge){return ee.size===sh&&ee.clear(),ge}),ee=V.cache;return V}var Ks=Do,Oo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fo=/\\(\\)?/g,md=Ks(function(D){var V=[];return D.charCodeAt(0)===46&&V.push(""),D.replace(Oo,function(ee,ge,ze,nt){V.push(ze?nt.replace(fo,"$1"):ge||ee)}),V}),bl=md;function Im(D,V){for(var ee=-1,ge=D==null?0:D.length,ze=Array(ge);++ee<ge;)ze[ee]=V(D[ee],ee,D);return ze}var oc=Im,Tv=1/0,Wo=We?We.prototype:void 0,Nc=Wo?Wo.toString:void 0;function Es(D){if(typeof D=="string")return D;if(Se(D))return oc(D,Es)+"";if(Pn(D))return Nc?Nc.call(D):"";var V=D+"";return V=="0"&&1/D==-Tv?"-0":V}var vd=Es;function Ps(D){return D==null?"":vd(D)}var Rs=Ps;function sc(D,V){return Se(D)?D:Zn(D,V)?[D]:bl(Rs(D))}var Kl=sc,Nf=1/0;function ku(D){if(typeof D=="string"||Pn(D))return D;var V=D+"";return V=="0"&&1/D==-Nf?"-0":V}var ql=ku;function Xl(D,V){V=Kl(V,D);for(var ee=0,ge=V.length;D!=null&&ee<ge;)D=D[ql(V[ee++])];return ee&&ee==ge?D:void 0}var wa=Xl;function yo(D,V,ee){var ge=D==null?void 0:wa(D,V);return ge===void 0?ee:ge}var _o=yo;function Cl(D,V){return V.length===0?D:_o(D,V)}var gd=class{constructor(){W(this,"_values",{})}get(D,V){if(this.has(D))return this._values[D];{const ee=V();return this._values[D]=ee,ee}}has(D){return this._values.hasOwnProperty(D)}},So=F(Ln),Is=function(){try{var D=Ee(Object,"defineProperty");return D({},"",{}),D}catch{}}(),bs=Is;function Ff(D,V,ee){V=="__proto__"&&bs?bs(D,V,{configurable:!0,enumerable:!0,value:ee,writable:!0}):D[V]=ee}var lc=Ff,Fc=Object.prototype,yd=Fc.hasOwnProperty;function lh(D,V,ee){var ge=D[V];(!(yd.call(D,V)&&ki(ge,ee))||ee===void 0&&!(V in D))&&lc(D,V,ee)}var uc=lh,Wp=9007199254740991,km=/^(?:0|[1-9]\d*)$/;function Uf(D,V){var ee=typeof D;return V=V??Wp,!!V&&(ee=="number"||ee!="symbol"&&km.test(D))&&D>-1&&D%1==0&&D<V}var lf=Uf;function Du(D,V,ee,ge){if(!Jt(D))return D;V=Kl(V,D);for(var ze=-1,nt=V.length,At=nt-1,Xt=D;Xt!=null&&++ze<nt;){var an=ql(V[ze]),yn=ee;if(an==="__proto__"||an==="constructor"||an==="prototype")return D;if(ze!=At){var or=Xt[an];yn=ge?ge(or,an,Xt):void 0,yn===void 0&&(yn=Jt(or)?or:lf(V[ze+1])?[]:{})}uc(Xt,an,yn),Xt=Xt[an]}return D}var os=Du;function uf(D,V,ee){return D==null?D:os(D,V,ee)}var uh=uf,ks=new WeakMap;function cl(D){return fl(D)}function fl(D){if(ks.has(D))return ks.get(D);const V=D.type==="compound"?dl(D):D.type==="enum"?Bo(D):D.default;return ks.set(D,V),V}function Bo(D){const V={$case:D.defaultCase};for(const[ee,ge]of Object.entries(D.cases))V[ee]=fl(ge);return V}function dl(D){const V={};for(const[ee,ge]of Object.entries(D.props))V[ee]=fl(ge);return V}var $a=F(Ln),lu=F(U());function cf(D,V,ee){return(0,$a.prism)(()=>{const ge=(0,$a.val)(V);return $a.prism.memo("driver",()=>ge?ge.type==="BasicKeyframedTrack"?ff(D,ge,ee):(D.logger.error("Track type not yet supported."),new $a.ConstantDerivation(void 0)):new $a.ConstantDerivation(void 0),[ge]).getValue()})}function ff(D,V,ee){return(0,$a.prism)(()=>{let ge=$a.prism.ref("state",{started:!1}),ze=ge.current;const nt=ee.getValue();return(!ze.started||nt<ze.validFrom||ze.validTo<=nt)&&(ge.current=ze=Xs(D,ee,V)),ze.der.getValue()})}var qs=new $a.ConstantDerivation(void 0);function Xs(D,V,ee){const ge=V.getValue();if(ee.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:qs};let ze=0;for(;;){const nt=ee.keyframes[ze];if(!nt)return vi.error;const At=ze===ee.keyframes.length-1;if(ge<nt.position)return ze===0?vi.beforeFirstKeyframe(nt):vi.error;if(nt.position===ge)return At?vi.lastKeyframe(nt):vi.between(nt,ee.keyframes[ze+1],V);if(ze===ee.keyframes.length-1)return vi.lastKeyframe(nt);{const Xt=ze+1;if(ee.keyframes[Xt].position<=ge){ze=Xt;continue}else return vi.between(nt,ee.keyframes[ze+1],V)}}}var vi={beforeFirstKeyframe(D){return{started:!0,validFrom:-1/0,validTo:D.position,der:new $a.ConstantDerivation({left:D.value,progression:0})}},lastKeyframe(D){return{started:!0,validFrom:D.position,validTo:1/0,der:new $a.ConstantDerivation({left:D.value,progression:0})}},between(D,V,ee){if(!D.connectedRight)return{started:!0,validFrom:D.position,validTo:V.position,der:new $a.ConstantDerivation({left:D.value,progression:0})};const ge=new lu.default(D.handles[2],D.handles[3],V.handles[0],V.handles[1]),ze=At=>(At-D.position)/(V.position-D.position),nt=(0,$a.prism)(()=>{const At=ze(ee.getValue()),Xt=ge.solveSimple(At);return{left:D.value,right:V.value,progression:Xt}});return{started:!0,validFrom:D.position,validTo:V.position,der:nt}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:qs}};function Ou(D,V,ee){const ze=ee.get(D);if(ze&&ze.override===V)return ze.merged;const nt=T({},D);for(const At of Object.keys(V)){const Xt=V[At],an=D[At];nt[At]=typeof Xt=="object"&&typeof an=="object"?Ou(an,Xt,ee):Xt===void 0?an:Xt}return ee.set(D,{override:V,merged:nt}),nt}function Qa(D,V){let ee=D;for(const ge of V)ee=ee[ge];return ee}var Ds=F(Ln),ss=(D,V)=>{const ee=Ds.prism.memo(D,()=>new Ds.Atom(V),[]);return ee.setState(V),ee},Oa=F(Ln),ep=F(Ln),_d=ep.Ticker.raf,Bu=_d,cc=F(Ln),ch=/\s/;function Os(D){for(var V=D.length;V--&&ch.test(D.charAt(V)););return V}var zf=Os,fh=/^\s+/;function Al(D){return D&&D.slice(0,zf(D)+1).replace(fh,"")}var fc=Al,Ja=0/0,ro=/^[-+]0x[0-9a-f]+$/i,ga=/^0b[01]+$/i,Lu=/^0o[0-7]+$/i,To=parseInt;function xo(D){if(typeof D=="number")return D;if(Pn(D))return Ja;if(Jt(D)){var V=typeof D.valueOf=="function"?D.valueOf():D;D=Jt(V)?V+"":V}if(typeof D!="string")return D===0?D:+D;D=fc(D);var ee=ga.test(D);return ee||Lu.test(D)?To(D.slice(2),ee?2:8):ro.test(D)?Ja:+D}var Yl=xo,uu=1/0,dc=17976931348623157e292;function Nu(D){if(!D)return D===0?D:0;if(D=Yl(D),D===uu||D===-uu){var V=D<0?-1:1;return V*dc}return D===D?D:0}var sa=Nu;function hc(D){var V=sa(D),ee=V%1;return V===V?ee?V-ee:V:0}var df=hc;function tp(D){return D}var np=tp,$l=Ee(qe,"WeakMap"),cu=$l,Ai=9007199254740991;function Ys(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=Ai}var Ba=Ys;function xe(D){return D!=null&&Ba(D.length)&&!cr(D)}var Ye=xe,vt=Object.prototype;function nn(D){var V=D&&D.constructor,ee=typeof V=="function"&&V.prototype||vt;return D===ee}var Er=nn;function Ti(D,V){for(var ee=-1,ge=Array(D);++ee<D;)ge[ee]=V(ee);return ge}var Ko=Ti,Fu="[object Arguments]";function $s(D){return et(D)&&Jr(D)==Fu}var ls=$s,pc=Object.prototype,dh=pc.hasOwnProperty,Sd=pc.propertyIsEnumerable,Kp=ls(function(){return arguments}())?ls:function(D){return et(D)&&dh.call(D,"callee")&&!Sd.call(D,"callee")},Dm=Kp;function Mv(){return!1}var rp=Mv,la=e&&!e.nodeType&&e,Tl=la&&!0&&t&&!t.nodeType&&t,hh=Tl&&Tl.exports===la,Hf=hh?qe.Buffer:void 0,Pv=Hf?Hf.isBuffer:void 0,hf=Pv||rp,Uu=hf,ph="[object Arguments]",Uc="[object Array]",qp="[object Boolean]",ip="[object Date]",ap="[object Error]",Om="[object Function]",op="[object Map]",Xp="[object Number]",Rv="[object Object]",b0="[object RegExp]",mh="[object Set]",vh="[object String]",jf="[object WeakMap]",zu="[object ArrayBuffer]",xd="[object DataView]",pf="[object Float32Array]",zc="[object Float64Array]",Hu="[object Int8Array]",Gf="[object Int16Array]",Yp="[object Int32Array]",wd="[object Uint8Array]",sp="[object Uint8ClampedArray]",Vf="[object Uint16Array]",lp="[object Uint32Array]",io={};io[pf]=io[zc]=io[Hu]=io[Gf]=io[Yp]=io[wd]=io[sp]=io[Vf]=io[lp]=!0,io[ph]=io[Uc]=io[zu]=io[qp]=io[xd]=io[ip]=io[ap]=io[Om]=io[op]=io[Xp]=io[Rv]=io[b0]=io[mh]=io[vh]=io[jf]=!1;function Bm(D){return et(D)&&Ba(D.length)&&!!io[Jr(D)]}var gh=Bm;function Wf(D){return function(V){return D(V)}}var ho=Wf,La=e&&!e.nodeType&&e,fu=La&&!0&&t&&!t.nodeType&&t,us=fu&&fu.exports===La,Cs=us&&Pe.process,mc=function(){try{var D=fu&&fu.require&&fu.require("util").types;return D||Cs&&Cs.binding&&Cs.binding("util")}catch{}}(),Hc=mc,hl=Hc&&Hc.isTypedArray,Kf=hl?ho(hl):gh,cs=Kf,$p=Object.prototype,Qp=$p.hasOwnProperty;function Ql(D,V){var ee=Se(D),ge=!ee&&Dm(D),ze=!ee&&!ge&&Uu(D),nt=!ee&&!ge&&!ze&&cs(D),At=ee||ge||ze||nt,Xt=At?Ko(D.length,String):[],an=Xt.length;for(var yn in D)(V||Qp.call(D,yn))&&!(At&&(yn=="length"||ze&&(yn=="offset"||yn=="parent")||nt&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||lf(yn,an)))&&Xt.push(yn);return Xt}var Qs=Ql;function mf(D,V){return function(ee){return D(V(ee))}}var yh=mf,Lm=yh(Object.keys,Object),Ed=Lm,Jp=Object.prototype,_h=Jp.hasOwnProperty;function qf(D){if(!Er(D))return Ed(D);var V=[];for(var ee in Object(D))_h.call(D,ee)&&ee!="constructor"&&V.push(ee);return V}var up=qf;function bd(D){return Ye(D)?Qs(D):up(D)}var Sh=bd;function xh(D,V){for(var ee=-1,ge=V.length,ze=D.length;++ee<ge;)D[ze+ee]=V[ee];return D}var wh=xh,Nm=yh(Object.getPrototypeOf,Object),Eh=Nm,Zp="[object Object]",vf=Function.prototype,bh=Object.prototype,Cd=vf.toString,cp=bh.hasOwnProperty,Bs=Cd.call(Object);function Gr(D){if(!et(D)||Jr(D)!=Zp)return!1;var V=Eh(D);if(V===null)return!0;var ee=cp.call(V,"constructor")&&V.constructor;return typeof ee=="function"&&ee instanceof ee&&Cd.call(ee)==Bs}var Ml=Gr;function wo(D,V,ee){var ge=-1,ze=D.length;V<0&&(V=-V>ze?0:ze+V),ee=ee>ze?ze:ee,ee<0&&(ee+=ze),ze=V>ee?0:ee-V>>>0,V>>>=0;for(var nt=Array(ze);++ge<ze;)nt[ge]=D[ge+V];return nt}var Lo=wo;function qo(D,V,ee){var ge=D.length;return ee=ee===void 0?ge:ee,!V&&ee>=ge?D:Lo(D,V,ee)}var Fm=qo,Qn="\\ud800-\\udfff",pl="\\u0300-\\u036f",jc="\\ufe20-\\ufe2f",Xf="\\u20d0-\\u20ff",Gc=pl+jc+Xf,vc="\\ufe0e\\ufe0f",Yf="\\u200d",Na=RegExp("["+Yf+Qn+Gc+vc+"]");function em(D){return Na.test(D)}var Jl=em;function wr(D){return D.split("")}var du=wr,Ad="\\ud800-\\udfff",ju="\\u0300-\\u036f",fs="\\ufe20-\\ufe2f",hu="\\u20d0-\\u20ff",$f=ju+fs+hu,Qf="\\ufe0e\\ufe0f",Td="["+Ad+"]",Vc="["+$f+"]",Wc="\\ud83c[\\udffb-\\udfff]",Ch="(?:"+Vc+"|"+Wc+")",Md="[^"+Ad+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",fp="[\\ud800-\\udbff][\\udc00-\\udfff]",gf="\\u200d",yc=Ch+"?",Xo="["+Qf+"]?",Gu="(?:"+gf+"(?:"+[Md,gc,fp].join("|")+")"+Xo+yc+")*",_c=Xo+yc+Gu,Sc="(?:"+[Md+Vc+"?",Vc,gc,fp,Td].join("|")+")",Pl=RegExp(Wc+"(?="+Wc+")|"+Sc+_c,"g");function Pd(D){return D.match(Pl)||[]}var ml=Pd;function Ah(D){return Jl(D)?ml(D):du(D)}var dp=Ah;function Rd(D,V,ee){return D===D&&(ee!==void 0&&(D=D<=ee?D:ee),V!==void 0&&(D=D>=V?D:V)),D}var Th=Rd;function Kc(D,V,ee){return ee===void 0&&(ee=V,V=void 0),ee!==void 0&&(ee=Yl(ee),ee=ee===ee?ee:0),V!==void 0&&(V=Yl(V),V=V===V?V:0),Th(Yl(D),V,ee)}var Mo=Kc;function Ri(){this.__data__=new El,this.size=0}var Di=Ri;function Eo(D){var V=this.__data__,ee=V.delete(D);return this.size=V.size,ee}var Za=Eo;function As(D){return this.__data__.get(D)}var Zl=As;function No(D){return this.__data__.has(D)}var Id=No,pu=200;function Jf(D,V){var ee=this.__data__;if(ee instanceof El){var ge=ee.__data__;if(!Gl||ge.length<pu-1)return ge.push([D,V]),this.size=++ee.size,this;ee=this.__data__=new pd(ge)}return ee.set(D,V),this.size=ee.size,this}var kd=Jf;function Ls(D){var V=this.__data__=new El(D);this.size=V.size}Ls.prototype.clear=Di,Ls.prototype.delete=Za,Ls.prototype.get=Zl,Ls.prototype.has=Id,Ls.prototype.set=kd;var Yo=Ls;function tm(D,V){for(var ee=-1,ge=D==null?0:D.length,ze=0,nt=[];++ee<ge;){var At=D[ee];V(At,ee,D)&&(nt[ze++]=At)}return nt}var hp=tm;function Js(){return[]}var mu=Js,$o=Object.prototype,Fo=$o.propertyIsEnumerable,Qo=Object.getOwnPropertySymbols,vu=Qo?function(D){return D==null?[]:(D=Object(D),hp(Qo(D),function(V){return Fo.call(D,V)}))}:mu,yf=vu;function Zs(D,V,ee){var ge=V(D);return Se(D)?ge:wh(ge,ee(D))}var pp=Zs;function Mh(D){return pp(D,Sh,yf)}var gu=Mh,Jo=Ee(qe,"DataView"),el=Jo,po=Ee(qe,"Promise"),xc=po,eu=Ee(qe,"Set"),qc=eu,wc="[object Map]",Vu="[object Object]",mp="[object Promise]",Xc="[object Set]",Dd="[object WeakMap]",Um="[object DataView]",nm=ft(el),Ec=ft(Gl),_f=ft(xc),bg=ft(qc),zm=ft(cu),C=Jr;(el&&C(new el(new ArrayBuffer(1)))!=Um||Gl&&C(new Gl)!=wc||xc&&C(xc.resolve())!=mp||qc&&C(new qc)!=Xc||cu&&C(new cu)!=Dd)&&(C=function(D){var V=Jr(D),ee=V==Vu?D.constructor:void 0,ge=ee?ft(ee):"";if(ge)switch(ge){case nm:return Um;case Ec:return wc;case _f:return mp;case bg:return Xc;case zm:return Dd}return V});var M=C,z=qe.Uint8Array,ae=z,ce="__lodash_hash_undefined__";function Me(D){return this.__data__.set(D,ce),this}var ot=Me;function yt(D){return this.__data__.has(D)}var pn=yt;function qn(D){var V=-1,ee=D==null?0:D.length;for(this.__data__=new pd;++V<ee;)this.add(D[V])}qn.prototype.add=qn.prototype.push=ot,qn.prototype.has=pn;var ui=qn;function oi(D,V){for(var ee=-1,ge=D==null?0:D.length;++ee<ge;)if(V(D[ee],ee,D))return!0;return!1}var rr=oi;function Fa(D,V){return D.has(V)}var eo=Fa,yu=1,Ht=2;function wt(D,V,ee,ge,ze,nt){var At=ee&yu,Xt=D.length,an=V.length;if(Xt!=an&&!(At&&an>Xt))return!1;var yn=nt.get(D),or=nt.get(V);if(yn&&or)return yn==V&&or==D;var mr=-1,Lr=!0,bi=ee&Ht?new ui:void 0;for(nt.set(D,V),nt.set(V,D);++mr<Xt;){var di=D[mr],Ia=V[mr];if(ge)var ts=At?ge(Ia,di,mr,V,D,nt):ge(di,Ia,mr,D,V,nt);if(ts!==void 0){if(ts)continue;Lr=!1;break}if(bi){if(!rr(V,function(qa,nl){if(!eo(bi,nl)&&(di===qa||ze(di,qa,ee,ge,nt)))return bi.push(nl)})){Lr=!1;break}}else if(!(di===Ia||ze(di,Ia,ee,ge,nt))){Lr=!1;break}}return nt.delete(D),nt.delete(V),Lr}var hn=wt;function Cr(D){var V=-1,ee=Array(D.size);return D.forEach(function(ge,ze){ee[++V]=[ze,ge]}),ee}var Xr=Cr;function Wa(D){var V=-1,ee=Array(D.size);return D.forEach(function(ge){ee[++V]=ge}),ee}var ci=Wa,Ea=1,Zo=2,ta="[object Boolean]",Yc="[object Date]",Cg="[object Error]",Ag="[object Map]",jy="[object Number]",Ph="[object RegExp]",Tg="[object Set]",Gy="[object String]",U1="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",H=We?We.prototype:void 0,Y=H?H.valueOf:void 0;function ie(D,V,ee,ge,ze,nt,At){switch(ee){case E:if(D.byteLength!=V.byteLength||D.byteOffset!=V.byteOffset)return!1;D=D.buffer,V=V.buffer;case _:return!(D.byteLength!=V.byteLength||!nt(new ae(D),new ae(V)));case ta:case Yc:case jy:return ki(+D,+V);case Cg:return D.name==V.name&&D.message==V.message;case Ph:case Gy:return D==V+"";case Ag:var Xt=Xr;case Tg:var an=ge&Ea;if(Xt||(Xt=ci),D.size!=V.size&&!an)return!1;var yn=At.get(D);if(yn)return yn==V;ge|=Zo,At.set(D,V);var or=hn(Xt(D),Xt(V),ge,ze,nt,At);return At.delete(D),or;case U1:if(Y)return Y.call(D)==Y.call(V)}return!1}var ve=ie,at=1,bt=Object.prototype,mn=bt.hasOwnProperty;function ar(D,V,ee,ge,ze,nt){var At=ee&at,Xt=gu(D),an=Xt.length,yn=gu(V),or=yn.length;if(an!=or&&!At)return!1;for(var mr=an;mr--;){var Lr=Xt[mr];if(!(At?Lr in V:mn.call(V,Lr)))return!1}var bi=nt.get(D),di=nt.get(V);if(bi&&di)return bi==V&&di==D;var Ia=!0;nt.set(D,V),nt.set(V,D);for(var ts=At;++mr<an;){Lr=Xt[mr];var qa=D[Lr],nl=V[Lr];if(ge)var td=At?ge(nl,qa,Lr,V,D,nt):ge(qa,nl,Lr,D,V,nt);if(!(td===void 0?qa===nl||ze(qa,nl,ee,ge,nt):td)){Ia=!1;break}ts||(ts=Lr=="constructor")}if(Ia&&!ts){var Ld=D.constructor,xf=V.constructor;Ld!=xf&&"constructor"in D&&"constructor"in V&&!(typeof Ld=="function"&&Ld instanceof Ld&&typeof xf=="function"&&xf instanceof xf)&&(Ia=!1)}return nt.delete(D),nt.delete(V),Ia}var Ur=ar,qi=1,_i="[object Arguments]",ao="[object Array]",Zr="[object Object]",_u=Object.prototype,bc=_u.hasOwnProperty;function qt(D,V,ee,ge,ze,nt){var At=Se(D),Xt=Se(V),an=At?ao:M(D),yn=Xt?ao:M(V);an=an==_i?Zr:an,yn=yn==_i?Zr:yn;var or=an==Zr,mr=yn==Zr,Lr=an==yn;if(Lr&&Uu(D)){if(!Uu(V))return!1;At=!0,or=!1}if(Lr&&!or)return nt||(nt=new Yo),At||cs(D)?hn(D,V,ee,ge,ze,nt):ve(D,V,an,ee,ge,ze,nt);if(!(ee&qi)){var bi=or&&bc.call(D,"__wrapped__"),di=mr&&bc.call(V,"__wrapped__");if(bi||di){var Ia=bi?D.value():D,ts=di?V.value():V;return nt||(nt=new Yo),ze(Ia,ts,ee,ge,nt)}}return Lr?(nt||(nt=new Yo),Ur(D,V,ee,ge,ze,nt)):!1}var Pt=qt;function rn(D,V,ee,ge,ze){return D===V?!0:D==null||V==null||!et(D)&&!et(V)?D!==D&&V!==V:Pt(D,V,ee,ge,rn,ze)}var Mr=rn,ni=1,Xi=2;function Yi(D,V,ee,ge){var ze=ee.length,nt=ze,At=!ge;if(D==null)return!nt;for(D=Object(D);ze--;){var Xt=ee[ze];if(At&&Xt[2]?Xt[1]!==D[Xt[0]]:!(Xt[0]in D))return!1}for(;++ze<nt;){Xt=ee[ze];var an=Xt[0],yn=D[an],or=Xt[1];if(At&&Xt[2]){if(yn===void 0&&!(an in D))return!1}else{var mr=new Yo;if(ge)var Lr=ge(yn,or,an,D,V,mr);if(!(Lr===void 0?Mr(or,yn,ni|Xi,ge,mr):Lr))return!1}}return!0}var Ka=Yi;function ds(D){return D===D&&!Jt(D)}var ya=ds;function Si(D){for(var V=Sh(D),ee=V.length;ee--;){var ge=V[ee],ze=D[ge];V[ee]=[ge,ze,ya(ze)]}return V}var Wu=Si;function Ns(D,V){return function(ee){return ee==null?!1:ee[D]===V&&(V!==void 0||D in Object(ee))}}var Rl=Ns;function Mg(D){var V=Wu(D);return V.length==1&&V[0][2]?Rl(V[0][0],V[0][1]):function(ee){return ee===D||Ka(ee,D,V)}}var C0=Mg;function Su(D,V){return D!=null&&V in Object(D)}var z1=Su;function Rh(D,V,ee){V=Kl(V,D);for(var ge=-1,ze=V.length,nt=!1;++ge<ze;){var At=ql(V[ge]);if(!(nt=D!=null&&ee(D,At)))break;D=D[At]}return nt||++ge!=ze?nt:(ze=D==null?0:D.length,!!ze&&Ba(ze)&&lf(At,ze)&&(Se(D)||Dm(D)))}var Hm=Rh;function A0(D,V){return D!=null&&Hm(D,V,z1)}var Vy=A0,H1=1,Jx=2;function Wy(D,V){return Zn(D)&&ya(V)?Rl(ql(D),V):function(ee){var ge=_o(ee,D);return ge===void 0&&ge===V?Vy(ee,D):Mr(V,ge,H1|Jx)}}var Pg=Wy;function Qr(D){return function(V){return V==null?void 0:V[D]}}var T0=Qr;function j1(D){return function(V){return wa(V,D)}}var rm=j1;function jm(D){return Zn(D)?T0(ql(D)):rm(D)}var M0=jm;function Ky(D){return typeof D=="function"?D:D==null?np:typeof D=="object"?Se(D)?Pg(D[0],D[1]):C0(D):M0(D)}var Zx=Ky;function G1(D){return function(V,ee,ge){for(var ze=-1,nt=Object(V),At=ge(V),Xt=At.length;Xt--;){var an=At[D?Xt:++ze];if(ee(nt[an],an,nt)===!1)break}return V}}var im=G1,P0=im(),qy=P0;function Xy(D,V){return D&&qy(D,V,Sh)}var am=Xy,Rg=function(){return qe.Date.now()},Iv=Rg,V1="Expected a function",Zf=Math.max,Gm=Math.min;function Vm(D,V,ee){var ge,ze,nt,At,Xt,an,yn=0,or=!1,mr=!1,Lr=!0;if(typeof D!="function")throw new TypeError(V1);V=Yl(V)||0,Jt(ee)&&(or=!!ee.leading,mr="maxWait"in ee,nt=mr?Zf(Yl(ee.maxWait)||0,V):nt,Lr="trailing"in ee?!!ee.trailing:Lr);function bi(ps){var nd=ge,yp=ze;return ge=ze=void 0,yn=ps,At=D.apply(yp,nd),At}function di(ps){return yn=ps,Xt=setTimeout(qa,V),or?bi(ps):At}function Ia(ps){var nd=ps-an,yp=ps-yn,lm=V-nd;return mr?Gm(lm,nt-yp):lm}function ts(ps){var nd=ps-an,yp=ps-yn;return an===void 0||nd>=V||nd<0||mr&&yp>=nt}function qa(){var ps=Iv();if(ts(ps))return nl(ps);Xt=setTimeout(qa,Ia(ps))}function nl(ps){return Xt=void 0,Lr&&ge?bi(ps):(ge=ze=void 0,At)}function td(){Xt!==void 0&&clearTimeout(Xt),yn=0,ge=an=ze=Xt=void 0}function Ld(){return Xt===void 0?At:nl(Iv())}function xf(){var ps=Iv(),nd=ts(ps);if(ge=arguments,ze=this,an=ps,nd){if(Xt===void 0)return di(an);if(mr)return clearTimeout(Xt),Xt=setTimeout(qa,V),bi(an)}return Xt===void 0&&(Xt=setTimeout(qa,V)),At}return xf.cancel=td,xf.flush=Ld,xf}var W1=Vm;function Ih(D){return typeof D=="number"&&D==df(D)}var ew=Ih;function R0(D,V){var ee={};return V=Zx(V),am(D,function(ge,ze,nt){lc(ee,ze,V(ge,ze,nt))}),ee}var tw=R0,tl=9007199254740991,Yy=Math.floor;function Wb(D,V){var ee="";if(!D||V<1||V>tl)return ee;do V%2&&(ee+=D),V=Yy(V/2),V&&(D+=D);while(V);return ee}var I0=Wb,nw=T0("length"),k0=nw,K1="\\ud800-\\udfff",Kb="\\u0300-\\u036f",$y="\\ufe20-\\ufe2f",qb="\\u20d0-\\u20ff",gP=Kb+$y+qb,Xb="\\ufe0e\\ufe0f",rw="["+K1+"]",Wm="["+gP+"]",iw="\\ud83c[\\udffb-\\udfff]",Yb="(?:"+Wm+"|"+iw+")",om="[^"+K1+"]",$b="(?:\\ud83c[\\udde6-\\uddff]){2}",kv="[\\ud800-\\udbff][\\udc00-\\udfff]",Qy="\\u200d",q1=Yb+"?",Km="["+Xb+"]?",Qb="(?:"+Qy+"(?:"+[om,$b,kv].join("|")+")"+Km+q1+")*",yP=Km+q1+Qb,Jb="(?:"+[om+Wm+"?",Wm,$b,kv,rw].join("|")+")",aw=RegExp(iw+"(?="+iw+")|"+Jb+yP,"g");function kh(D){for(var V=aw.lastIndex=0;aw.test(D);)++V;return V}var X1=kh;function Zb(D){return Jl(D)?X1(D):k0(D)}var vp=Zb,Jy=Math.ceil;function Ig(D,V){V=V===void 0?" ":vd(V);var ee=V.length;if(ee<2)return ee?I0(V,D):V;var ge=I0(V,Jy(D/vp(V)));return Jl(V)?Fm(dp(ge),0,D).join(""):ge.slice(0,D)}var ow=Ig;function sw(D,V,ee){D=Rs(D),V=df(V);var ge=V?vp(D):0;return V&&ge<V?ow(V-ge,ee)+D:D}var Dv=sw,_P=5*1e3,SP=class{constructor(D){W(this,"_cache",new gd),W(this,"_keepHotUntapDebounce"),ut(this,D)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return Ge(this).propsP}get sheet(){return Ge(this).sheet.publicApi}get project(){return Ge(this).sheet.project.publicApi}get address(){return T({},Ge(this).address)}_valuesDerivation(){return this._cache.get("onValuesChangeDerivation",()=>{const D=Ge(this);return(0,cc.prism)(()=>(0,cc.val)(D.getValues().getValue()))})}onValuesChange(D){return this._valuesDerivation().tapImmediate(Bu,D)}get value(){const D=this._valuesDerivation();{if(!D.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const V=D.keepHot();this._keepHotUntapDebounce=W1(()=>{V(),this._keepHotUntapDebounce=void 0},_P)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return D.getValue()}set initialValue(D){Ge(this).setInitialValue(D)}};function qm(D){return D.type==="compound"||D.type==="enum"}function Zy(D,V){if(!D)return;const[ee,...ge]=V;if(ee===void 0)return D;if(!qm(D))return;const ze=D.type==="enum"?D.cases[ee]:D.props[ee];return Zy(ze,ge)}function lw(D){return!qm(D)}var D0=class{constructor(D,V,ee){this.sheet=D,this.template=V,this.nativeObject=ee,W(this,"$$isIdentityDerivationProvider",!0),W(this,"address"),W(this,"publicApi"),W(this,"_initialValue",new Oa.Atom({})),W(this,"_cache",new gd),W(this,"_logger"),W(this,"_internalUtilCtx"),this._logger=D._logger.named("SheetObject",V.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=R(T({},V.address),{sheetInstanceId:D.address.sheetInstanceId}),this.publicApi=new SP(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,Oa.prism)(()=>{const D=(0,Oa.val)(this.template.getDefaultValues()),V=(0,Oa.val)(this._initialValue.pointer),ee=Oa.prism.memo("withInitialCache",()=>new WeakMap,[]),ge=Ou(D,V,ee),ze=(0,Oa.val)(this.template.getStaticValues()),nt=Oa.prism.memo("withStatics",()=>new WeakMap,[]);let Xt=Ou(ge,ze,nt),an;{const or=Oa.prism.memo("seq",()=>this.getSequencedValues(),[]),mr=Oa.prism.memo("withSeqsCache",()=>new WeakMap,[]);an=(0,Oa.val)((0,Oa.val)(or)),Xt=Ou(Xt,an,mr)}return ss("finalAtom",Xt).pointer}))}getValueByPointer(D){const V=(0,Oa.val)(this.getValues()),{path:ee}=(0,Oa.getPointerParts)(D);return(0,Oa.val)(Qa(V,ee))}getIdentityDerivation(D){return(0,Oa.prism)(()=>{const V=(0,Oa.val)(this.getValues());return(0,Oa.val)(Qa(V,D))})}getSequencedValues(){return(0,Oa.prism)(()=>{const D=Oa.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),V=(0,Oa.val)(D),ee=new Oa.Atom({}),ge=(0,Oa.val)(this.template.configPointer);return Oa.prism.effect("processTracks",()=>{const ze=[];for(const{trackId:nt,pathToProp:At}of V){const Xt=this._trackIdToDerivation(nt),an=Zy(ge,At),yn=an.deserializeAndSanitize,or=an.interpolate,mr=()=>{const bi=Xt.getValue();if(!bi)return ee.setIn(At,void 0);const di=yn(bi.left),Ia=di===void 0?an.default:di;if(bi.right===void 0)return ee.setIn(At,Ia);const ts=yn(bi.right),qa=ts===void 0?an.default:ts;return ee.setIn(At,or(Ia,qa,bi.progression))},Lr=Xt.changesWithoutValues().tap(mr);mr(),ze.push(Lr)}return()=>{for(const nt of ze)nt()}},[ge,...V]),ee.pointer})}_trackIdToDerivation(D){const V=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[D],ee=this.sheet.getSequence().positionDerivation;return cf(this._internalUtilCtx,V,ee)}get propsP(){return this._cache.get("propsP",()=>(0,Oa.pointer)({root:this,path:[]}))}validateValue(D,V){}setInitialValue(D){this.validateValue(this.propsP,D),this._initialValue.setState(D)}};function hs(D){return function(ee,ge){return D(ee,ge())}}var e_;(function(D){D[D.GENERAL=1]="GENERAL",D[D.TODO=2]="TODO",D[D.TROUBLESHOOTING=4]="TROUBLESHOOTING"})(e_||(e_={}));var Xm;(function(D){D[D.INTERNAL=8]="INTERNAL",D[D.DEV=16]="DEV",D[D.PUBLIC=32]="PUBLIC"})(Xm||(Xm={}));var O0;(function(D){D[D.TRACE=64]="TRACE",D[D.DEBUG=128]="DEBUG",D[D.WARN=256]="WARN",D[D.ERROR=512]="ERROR"})(O0||(O0={}));var B0;(function(D){D[D.ERROR_PUBLIC=545]="ERROR_PUBLIC",D[D.ERROR_DEV=529]="ERROR_DEV",D[D._HMM=524]="_HMM",D[D._TODO=522]="_TODO",D[D._ERROR=521]="_ERROR",D[D.WARN_PUBLIC=289]="WARN_PUBLIC",D[D.WARN_DEV=273]="WARN_DEV",D[D._KAPOW=268]="_KAPOW",D[D._WARN=265]="_WARN",D[D.DEBUG_DEV=145]="DEBUG_DEV",D[D._DEBUG=137]="_DEBUG",D[D.TRACE_DEV=81]="TRACE_DEV",D[D._TRACE=73]="_TRACE"})(B0||(B0={}));var tu={_hmm:ed(524),_todo:ed(522),_error:ed(521),errorDev:ed(529),errorPublic:ed(545),_kapow:ed(268),_warn:ed(265),warnDev:ed(273),warnPublic:ed(289),_debug:ed(137),debugDev:ed(145),_trace:ed(73),traceDev:ed(81)};function ed(D){return Object.freeze({audience:Od(D,8)?"internal":Od(D,16)?"dev":"public",category:Od(D,4)?"troubleshooting":Od(D,2)?"todo":"general",level:Od(D,512)?512:Od(D,256)?256:Od(D,128)?128:64})}function Od(D,V){return(D&V)===V}function es(D,V){return((V&32)===32?!0:(V&16)===16?D.dev:(V&8)===8?D.internal:!1)&&D.min<=V}var Sf={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(D,V,ee){return this.create({names:[...D.names,{name:V,key:ee}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(D){if(D.length<5)return D;const V=D.replace(this.collapseOnRE,"");return this.cssMemo.has(V)||this.cssMemo.set(V,this.css(D)),V},css(D){var V,ee,ge,ze;const nt=this.cssMemo.get(D);if(nt)return nt;let At=`color:${(ee=(V=this.color)==null?void 0:V.call(this,D))!=null?ee:`hsl(${(D.charCodeAt(0)+D.charCodeAt(D.length-1))%360}, 100%, 60%)`}`;return(ge=this.bold)!=null&&ge.test(D)&&(At+=";font-weight:600"),(ze=this.italic)!=null&&ze.test(D)&&(At+=";font-style:italic"),this.cssMemo.set(D,At),At}}};function p(D=console,V={}){const ee=R(T({},Sf),{includes:T({},Sf.includes)}),ge={styled:X.bind(ee,D),noStyle:Ae.bind(ee,D)},ze=k.bind(ee);function nt(){return ee.loggingConsoleStyle&&ee.loggerConsoleStyle?ge.styled:ge.noStyle}return ee.create=nt(),{configureLogger(At){var Xt;At==="console"?(ee.loggerConsoleStyle=Sf.loggerConsoleStyle,ee.create=nt()):At.type==="console"?(ee.loggerConsoleStyle=(Xt=At.style)!=null?Xt:Sf.loggerConsoleStyle,ee.create=nt()):At.type==="keyed"?(ee.creatExt=an=>At.keyed(an.names),ee.create=ze):At.type==="named"&&(ee.creatExt=y.bind(null,At.named),ee.create=ze)},configureLogging(At){var Xt,an,yn,or,mr;ee.includes.dev=(Xt=At.dev)!=null?Xt:Sf.includes.dev,ee.includes.internal=(an=At.internal)!=null?an:Sf.includes.internal,ee.includes.min=(yn=At.min)!=null?yn:Sf.includes.min,ee.include=(or=At.include)!=null?or:Sf.include,ee.loggingConsoleStyle=(mr=At.consoleStyle)!=null?mr:Sf.loggingConsoleStyle,ee.create=nt()},getLogger(){return ee.create({names:[]})}}}function y(D,V){const ee=[];for(let{name:ge,key:ze}of V.names)ee.push(ze==null?ge:`${ge} (${ze})`);return D(ee)}function k(D){const V=T(T({},this.includes),this.include(D)),ee=this.filtered,ge=this.named.bind(this,D),ze=this.creatExt(D),nt=es(V,524),At=es(V,522),Xt=es(V,521),an=es(V,529),yn=es(V,545),or=es(V,265),mr=es(V,268),Lr=es(V,273),bi=es(V,289),di=es(V,137),Ia=es(V,145),ts=es(V,73),qa=es(V,81),nl=nt?ze.error.bind(ze,tu._hmm):ee.bind(D,524),td=At?ze.error.bind(ze,tu._todo):ee.bind(D,522),Ld=Xt?ze.error.bind(ze,tu._error):ee.bind(D,521),xf=an?ze.error.bind(ze,tu.errorDev):ee.bind(D,529),ps=yn?ze.error.bind(ze,tu.errorPublic):ee.bind(D,545),nd=mr?ze.warn.bind(ze,tu._kapow):ee.bind(D,268),yp=or?ze.warn.bind(ze,tu._warn):ee.bind(D,265),lm=Lr?ze.warn.bind(ze,tu.warnDev):ee.bind(D,273),a_=bi?ze.warn.bind(ze,tu.warnPublic):ee.bind(D,273),o_=di?ze.debug.bind(ze,tu._debug):ee.bind(D,137),U0=Ia?ze.debug.bind(ze,tu.debugDev):ee.bind(D,145),s_=ts?ze.trace.bind(ze,tu._trace):ee.bind(D,73),z0=qa?ze.trace.bind(ze,tu.traceDev):ee.bind(D,81),vl={_hmm:nl,_todo:td,_error:Ld,errorDev:xf,errorPublic:ps,_kapow:nd,_warn:yp,warnDev:lm,warnPublic:a_,_debug:o_,debugDev:U0,_trace:s_,traceDev:z0,lazy:{_hmm:nt?hs(nl):nl,_todo:At?hs(td):td,_error:Xt?hs(Ld):Ld,errorDev:an?hs(xf):xf,errorPublic:yn?hs(ps):ps,_kapow:mr?hs(nd):nd,_warn:or?hs(yp):yp,warnDev:Lr?hs(lm):lm,warnPublic:bi?hs(a_):a_,_debug:di?hs(o_):o_,debugDev:Ia?hs(U0):U0,_trace:ts?hs(s_):s_,traceDev:qa?hs(z0):z0},named:ge,utilFor:{internal(){return{debug:vl._debug,error:vl._error,warn:vl._warn,trace:vl._trace,named(_p,Fs){return vl.named(_p,Fs).utilFor.internal()}}},dev(){return{debug:vl.debugDev,error:vl.errorDev,warn:vl.warnDev,trace:vl.traceDev,named(_p,Fs){return vl.named(_p,Fs).utilFor.dev()}}},public(){return{error:vl.errorPublic,warn:vl.warnPublic,debug(_p,Fs){vl._warn(`(public "debug" filtered out) ${_p}`,Fs)},trace(_p,Fs){vl._warn(`(public "trace" filtered out) ${_p}`,Fs)},named(_p,Fs){return vl.named(_p,Fs).utilFor.public()}}}}};return vl}function X(D,V){const ee=T(T({},this.includes),this.include(V)),ge=[];let ze="";for(let an=0;an<V.names.length;an++){const{name:yn,key:or}=V.names[an];if(ze+=` %c${yn}`,ge.push(this.style.css(yn)),or!=null){const mr=`%c#${or}`;ze+=mr,ge.push(this.style.css(mr))}}const nt=this.filtered,At=this.named.bind(this,V),Xt=[ze,...ge];return Ue(nt,V,ee,D,Xt,se(Xt),At)}function se(D){const V=D.slice(0);for(let ee=1;ee<V.length;ee++)V[ee]+=";background-color:#e0005a;padding:2px;color:white";return V}function Ae(D,V){const ee=T(T({},this.includes),this.include(V));let ge="";for(let Xt=0;Xt<V.names.length;Xt++){const{name:an,key:yn}=V.names[Xt];ge+=` ${an}`,yn!=null&&(ge+=`#${yn}`)}const ze=this.filtered,nt=this.named.bind(this,V),At=[ge];return Ue(ze,V,ee,D,At,At,nt)}function Ue(D,V,ee,ge,ze,nt,At){const Xt=es(ee,524),an=es(ee,522),yn=es(ee,521),or=es(ee,529),mr=es(ee,545),Lr=es(ee,265),bi=es(ee,268),di=es(ee,273),Ia=es(ee,289),ts=es(ee,137),qa=es(ee,145),nl=es(ee,73),td=es(ee,81),Ld=Xt?ge.error.bind(ge,...ze):D.bind(V,524),xf=an?ge.error.bind(ge,...ze):D.bind(V,522),ps=yn?ge.error.bind(ge,...ze):D.bind(V,521),nd=or?ge.error.bind(ge,...ze):D.bind(V,529),yp=mr?ge.error.bind(ge,...ze):D.bind(V,545),lm=bi?ge.warn.bind(ge,...nt):D.bind(V,268),a_=Lr?ge.warn.bind(ge,...ze):D.bind(V,265),o_=di?ge.warn.bind(ge,...ze):D.bind(V,273),U0=Ia?ge.warn.bind(ge,...ze):D.bind(V,273),s_=ts?ge.info.bind(ge,...ze):D.bind(V,137),z0=qa?ge.info.bind(ge,...ze):D.bind(V,145),vl=nl?ge.debug.bind(ge,...ze):D.bind(V,73),_p=td?ge.debug.bind(ge,...ze):D.bind(V,81),Fs={_hmm:Ld,_todo:xf,_error:ps,errorDev:nd,errorPublic:yp,_kapow:lm,_warn:a_,warnDev:o_,warnPublic:U0,_debug:s_,debugDev:z0,_trace:vl,traceDev:_p,lazy:{_hmm:Xt?hs(Ld):Ld,_todo:an?hs(xf):xf,_error:yn?hs(ps):ps,errorDev:or?hs(nd):nd,errorPublic:mr?hs(yp):yp,_kapow:bi?hs(lm):lm,_warn:Lr?hs(a_):a_,warnDev:di?hs(o_):o_,warnPublic:Ia?hs(U0):U0,_debug:ts?hs(s_):s_,debugDev:qa?hs(z0):z0,_trace:nl?hs(vl):vl,traceDev:td?hs(_p):_p},named:At,utilFor:{internal(){return{debug:Fs._debug,error:Fs._error,warn:Fs._warn,trace:Fs._trace,named(Nd,Lv){return Fs.named(Nd,Lv).utilFor.internal()}}},dev(){return{debug:Fs.debugDev,error:Fs.errorDev,warn:Fs.warnDev,trace:Fs.traceDev,named(Nd,Lv){return Fs.named(Nd,Lv).utilFor.dev()}}},public(){return{error:Fs.errorPublic,warn:Fs.warnPublic,debug(Nd,Lv){Fs._warn(`(public "debug" filtered out) ${Nd}`,Lv)},trace(Nd,Lv){Fs._warn(`(public "trace" filtered out) ${Nd}`,Lv)},named(Nd,Lv){return Fs.named(Nd,Lv).utilFor.public()}}}}};return Fs}var tt=p(console,{_debug:function(){},_error:function(){}});tt.configureLogging({dev:!0,min:O0.TRACE});var pt=tt.getLogger().named("Theatre.js (default logger)").utilFor.dev(),on=new WeakMap;function zr(D){const V=on.get(D);if(V)return V;const ee=new Map;return on.set(D,ee),Gi([],D,ee),ee}function Gi(D,V,ee){for(const[ge,ze]of Object.entries(V.props))if(!qm(ze)){const nt=[...D,ge];ee.set(JSON.stringify(nt),ee.size),zn(nt,ze,ee)}for(const[ge,ze]of Object.entries(V.props))if(qm(ze)){const nt=[...D,ge];ee.set(JSON.stringify(nt),ee.size),zn(nt,ze,ee)}}function zn(D,V,ee){if(V.type==="compound")Gi(D,V,ee);else{if(V.type==="enum")throw new Error("Enums aren't supported yet");ee.set(JSON.stringify(D),ee.size)}}var fi=class{constructor(D,V,ee,ge){this.sheetTemplate=D,W(this,"address"),W(this,"type","Theatre_SheetObjectTemplate"),W(this,"_config"),W(this,"_cache",new gd),W(this,"project"),this.address=R(T({},D.address),{objectKey:V}),this._config=new So.Atom(ge),this.project=D.project}get staticConfig(){return this._config.getState()}get configPointer(){return this._config.pointer}createInstance(D,V,ee){return this._config.setState(ee),new D0(D,this,V)}reconfigure(D){this._config.setState(D)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,So.prism)(()=>{const D=(0,So.val)(this.configPointer);return cl(D)}))}getStaticValues(){return this._cache.get("getDerivationOfStatics",()=>(0,So.prism)(()=>{var D;const V=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],ee=(D=(0,So.val)(V.staticOverrides.byObject[this.address.objectKey]))!=null?D:{};return(0,So.val)(this.configPointer).deserializeAndSanitize(ee)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,So.prism)(()=>{const D=this.project.pointers.historic.sheetsById[this.address.sheetId],V=(0,So.val)(D.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!V)return st;const ee=[];if(!V)return st;const ge=(0,So.val)(this.configPointer),ze=Object.entries(V);for(const[At,Xt]of ze){const an=$i(At);if(!an)continue;const yn=Zy(ge,an);yn&&lw(yn)&&ee.push({pathToProp:an,trackId:Xt})}const nt=zr(ge);return ee.sort((At,Xt)=>{const an=At.pathToProp,yn=Xt.pathToProp,or=nt.get(JSON.stringify(an)),mr=nt.get(JSON.stringify(yn));return or>mr?1:-1}),ee.length===0?st:ee}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>this.getArrayOfValidSequenceTracks().map(D=>{let V={};for(const{pathToProp:ee,trackId:ge}of D)uh(V,ee,ge);return V}))}getDefaultsAtPointer(D){const{path:V}=(0,So.getPointerParts)(D),ee=this.getDefaultValues().getValue();return Cl(ee,V)}};function $i(D){try{return JSON.parse(D)}catch{pt.warn(`property ${JSON.stringify(D)} cannot be parsed. Skipping.`);return}}var Mi=F(Ln);F(de());var zt=class extends Error{},Et=class extends zt{},Lt=F(Ln),Sn=F(Ln);function Mn(){let D,V;const ee=new Promise((ze,nt)=>{D=At=>{ze(At),ge.status="resolved"},V=At=>{nt(At),ge.status="rejected"}}),ge={resolve:D,reject:V,promise:ee,status:"pending"};return ge}var Vi=()=>{},Kr=Vi,na=F(Ln),ba=class{constructor(D){this._ticker=D,W(this,"_stopPlayCallback",Kr),W(this,"_state",new na.Atom({position:0,playing:!1})),W(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=Kr}gotoPosition(D){this._updatePositionInState(D)}_updatePositionInState(D){this._state.reduceState(["position"],()=>D)}getCurrentPosition(){return this._state.getState().position}get playing(){return this._state.getState().playing}set playing(D){this._state.setIn(["playing"],D)}play(D,V,ee,ge){this.playing&&this.pause(),this.playing=!0;const ze=this._ticker,nt=V[1]-V[0];{const Lr=this.getCurrentPosition();Lr<V[0]||Lr>V[1]?ge==="normal"||ge==="alternate"?this._updatePositionInState(V[0]):(ge==="reverse"||ge==="alternateReverse")&&this._updatePositionInState(V[1]):ge==="normal"||ge==="alternate"?Lr===V[1]&&this._updatePositionInState(V[0]):Lr===V[0]&&this._updatePositionInState(V[1])}const At=Mn(),Xt=ze.time,an=nt*D;let yn=this.getCurrentPosition()-V[0];(ge==="reverse"||ge==="alternateReverse")&&(yn=V[1]-this.getCurrentPosition());const or=Lr=>{const di=Math.max(Lr-Xt,0)/1e3,Ia=Math.min(di*ee+yn,an);if(Ia!==an){const ts=Math.floor(Ia/nt);let qa=Ia/nt%1*nt;if(ge!=="normal")if(ge==="reverse")qa=nt-qa;else{const nl=ts%2===0;ge==="alternate"?nl||(qa=nt-qa):nl&&(qa=nt-qa)}this._updatePositionInState(qa+V[0]),mr()}else{if(ge==="normal")this._updatePositionInState(V[1]);else if(ge==="reverse")this._updatePositionInState(V[0]);else{const ts=(D-1)%2===0;ge==="alternate"?ts?this._updatePositionInState(V[1]):this._updatePositionInState(V[0]):ts?this._updatePositionInState(V[0]):this._updatePositionInState(V[1])}this.playing=!1,At.resolve(!0)}};this._stopPlayCallback=()=>{ze.offThisOrNextTick(or),ze.offNextTick(or),this.playing&&At.resolve(!1)};const mr=()=>ze.onNextTick(or);return ze.onThisOrNextTick(or),At.promise}playDynamicRange(D){this.playing&&this.pause(),this.playing=!0;const V=this._ticker,ee=Mn(),ge=D.keepHot();ee.promise.then(ge,ge);let ze=V.time;const nt=Xt=>{const an=Math.max(Xt-ze,0);ze=Xt;const yn=an/1e3,or=this.getCurrentPosition(),mr=D.getValue();if(or<mr[0]||or>mr[1])this.gotoPosition(mr[0]);else{let Lr=or+yn;Lr>mr[1]&&(Lr=mr[0]+(Lr-mr[1])),this.gotoPosition(Lr)}At()};this._stopPlayCallback=()=>{V.offThisOrNextTick(nt),V.offNextTick(nt),ee.resolve(!1)};const At=()=>V.onNextTick(nt);return V.onThisOrNextTick(nt),ee.promise}},fa=F(Ln),Ov="__TheatreJS_StudioBundle",uw="__TheatreJS_CoreBundle",xP="__TheatreJS_Notifications",cw=D=>(...V)=>{var ee;switch(D){case"success":{pt.debug(V.slice(0,2).join(`
`));break}case"info":{pt.debug(V.slice(0,2).join(`
`));break}case"warning":{pt.warn(V.slice(0,2).join(`
`));break}}return typeof window<"u"?(ee=window[xP])==null?void 0:ee.notify[D](...V):void 0},Y1={warning:cw("warning"),success:cw("success"),info:cw("info"),error:cw("error")};typeof window<"u"&&(window.addEventListener("error",D=>{Y1.error("An error occurred",`<pre>${D.message}</pre>

See **console** for details.`)}),window.addEventListener("unhandledrejection",D=>{Y1.error("An error occurred",`<pre>${D.reason}</pre>

See **console** for details.`)}));var _B=class{constructor(D,V,ee,ge){this._ticker=D,this._decodedBuffer=V,this._audioContext=ee,this._nodeDestination=ge,W(this,"_mainGain"),W(this,"_state",new fa.Atom({position:0,playing:!1})),W(this,"statePointer"),W(this,"_stopPlayCallback",Kr),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(D){const V=Mn();this._playing&&this.pause(),this._playing=!0;let ee;const ge=()=>{ee==null||ee(),ee=this._loopInRange(D.getValue()).stop},ze=D.changesWithoutValues().tap(ge);return ge(),this._stopPlayCallback=()=>{ee==null||ee(),ze(),V.resolve(!1)},V.promise}_loopInRange(D){const ee=this._ticker;let ge=this.getCurrentPosition();const ze=D[1]-D[0];ge<D[0]||ge>D[1]?this._updatePositionInState(D[0]):ge===D[1]&&this._updatePositionInState(D[0]),ge=this.getCurrentPosition();const nt=this._audioContext.createBufferSource();nt.buffer=this._decodedBuffer,nt.connect(this._mainGain),nt.playbackRate.value=1,nt.loop=!0,nt.loopStart=D[0],nt.loopEnd=D[1];const At=ee.time;let Xt=ge-D[0];nt.start(0,ge);const an=mr=>{let Ia=(Math.max(mr-At,0)/1e3*1+Xt)/ze%1*ze;this._updatePositionInState(Ia+D[0]),yn()},yn=()=>ee.onNextTick(an);return ee.onThisOrNextTick(an),{stop:()=>{nt.stop(),nt.disconnect(),ee.offThisOrNextTick(an),ee.offNextTick(an)}}}get _playing(){return this._state.getState().playing}set _playing(D){this._state.setIn(["playing"],D)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=Kr}gotoPosition(D){this._updatePositionInState(D)}_updatePositionInState(D){this._state.reduceState(["position"],()=>D)}getCurrentPosition(){return this._state.getState().position}play(D,V,ee,ge){this._playing&&this.pause(),this._playing=!0;const ze=this._ticker;let nt=this.getCurrentPosition();const At=V[1]-V[0];if(ge!=="normal")throw new Et(`Audio-controlled sequences can only be played in the "normal" direction. '${ge}' given.`);nt<V[0]||nt>V[1]?this._updatePositionInState(V[0]):nt===V[1]&&this._updatePositionInState(V[0]),nt=this.getCurrentPosition();const Xt=Mn(),an=this._audioContext.createBufferSource();an.buffer=this._decodedBuffer,an.connect(this._mainGain),an.playbackRate.value=ee,D>1e3&&(Y1.warning("Can't play sequences with audio more than 1000 times",`The sequence will still play, but only 1000 times. The \`iterationCount: ${D}\` provided to \`sequence.play()\`
is too high for a sequence with audio.

To fix this, either set \`iterationCount\` to a lower value, or remove the audio from the sequence.`,[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),D=1e3),D>1&&(an.loop=!0,an.loopStart=V[0],an.loopEnd=V[1]);const yn=ze.time;let or=nt-V[0];const mr=At*D;an.start(0,nt,mr-or);const Lr=Ia=>{const qa=Math.max(Ia-yn,0)/1e3,nl=Math.min(qa*ee+or,mr);if(nl!==mr){let td=nl/At%1*At;this._updatePositionInState(td+V[0]),di()}else this._updatePositionInState(V[1]),this._playing=!1,bi(),Xt.resolve(!0)},bi=()=>{an.stop(),an.disconnect()};this._stopPlayCallback=()=>{bi(),ze.offThisOrNextTick(Lr),ze.offNextTick(Lr),this._playing&&Xt.resolve(!1)};const di=()=>ze.onNextTick(Lr);return ze.onThisOrNextTick(Lr),Xt.promise}},SB=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(D){ut(this,D)}play(D){const V=Ge(this);if(V._project.isReady())return V.play(D);{const ee=Mn();return ee.resolve(!0),ee.promise}}pause(){Ge(this).pause()}get position(){return Ge(this).position}set position(D){Ge(this).position=D}async attachAudio(D){const{audioContext:V,destinationNode:ee,decodedBuffer:ge,gainNode:ze}=await wP(D),nt=new _B(Bu,ge,V,ze);return Ge(this).replacePlaybackController(nt),{audioContext:V,destinationNode:ee,decodedBuffer:ge,gainNode:ze}}get pointer(){return Ge(this).pointer}};async function wP(D){function V(){if(D.audioContext)return Promise.resolve(D.audioContext);const yn=new AudioContext;return yn.state==="running"||typeof window>"u"?Promise.resolve(yn):new Promise(or=>{const mr=()=>{yn.resume()},Lr=["mousedown","keydown","touchstart"],bi={capture:!0,passive:!1};Lr.forEach(di=>{window.addEventListener(di,mr,bi)}),yn.addEventListener("statechange",()=>{yn.state==="running"&&(Lr.forEach(di=>{window.removeEventListener(di,mr,bi)}),or(yn))})})}async function ee(){if(D.source instanceof AudioBuffer)return D.source;const yn=Mn();if(typeof D.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let or;try{or=await fetch(D.source)}catch(di){throw console.error(di),new Error(`Could not fetch '${D.source}'. Network error logged above.`)}let mr;try{mr=await or.arrayBuffer()}catch(di){throw console.error(di),new Error(`Could not read '${D.source}' as an arrayBuffer.`)}(await ge).decodeAudioData(mr,yn.resolve,yn.reject);let bi;try{bi=await yn.promise}catch(di){throw console.error(di),new Error(`Could not decode ${D.source} as an audio file.`)}return bi}const ge=V(),ze=ee(),[nt,At]=await Promise.all([ge,ze]),Xt=D.destinationNode||nt.destination,an=nt.createGain();return an.connect(Xt),{audioContext:nt,decodedBuffer:At,gainNode:an,destinationNode:Xt}}var xB=class{constructor(D,V,ee,ge,ze){this._project=D,this._sheet=V,this._lengthD=ee,this._subUnitsPerUnitD=ge,W(this,"address"),W(this,"publicApi"),W(this,"_playbackControllerBox"),W(this,"_statePointerDerivation"),W(this,"_positionD"),W(this,"_positionFormatterD"),W(this,"_playableRangeD"),W(this,"pointer",(0,Lt.pointer)({root:this,path:[]})),W(this,"$$isIdentityDerivationProvider",!0),W(this,"_logger"),W(this,"closestGridPosition",nt=>{const Xt=1/this.subUnitsPerUnit;return parseFloat((Math.round(nt/Xt)*Xt).toFixed(3))}),this._logger=D._logger.named("Sheet",V.address.sheetId).named("Instance",V.address.sheetInstanceId),this.address=R(T({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new SB(this),this._playbackControllerBox=new Sn.Box(ze??new ba(Bu)),this._statePointerDerivation=this._playbackControllerBox.derivation.map(nt=>nt.statePointer),this._positionD=this._statePointerDerivation.flatMap(nt=>(0,Sn.valueDerivation)(nt.position)),this._positionFormatterD=this._subUnitsPerUnitD.map(nt=>new oj(nt))}getIdentityDerivation(D){if(D.length===0)return(0,Sn.prism)(()=>({length:(0,Sn.val)(this.pointer.length),playing:(0,Sn.val)(this.pointer.playing),position:(0,Sn.val)(this.pointer.position)}));if(D.length>1)return(0,Sn.prism)(()=>{});const[V]=D;return V==="length"?this._lengthD:V==="position"?this._positionD:V==="playing"?(0,Sn.prism)(()=>(0,Sn.val)(this._statePointerDerivation.getValue().playing)):(0,Sn.prism)(()=>{})}get positionFormatter(){return this._positionFormatterD.getValue()}get derivationToStatePointer(){return this._statePointerDerivation}get length(){return this._lengthD.getValue()}get positionDerivation(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(D){let V=D;this.pause(),V>this.length&&(V=this.length);const ee=this.length;this._playbackControllerBox.get().gotoPosition(V>ee?ee:V)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,Sn.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,Sn.prism)(()=>[0,(0,Sn.val)(this._lengthD)])}playDynamicRange(D){return this._playbackControllerBox.get().playDynamicRange(D)}async play(D){const V=this.length,ee=D&&D.range?D.range:[0,V],ge=D&&typeof D.iterationCount=="number"?D.iterationCount:1,ze=D&&typeof D.rate<"u"?D.rate:1,nt=D&&D.direction?D.direction:"normal";return await this._play(ge,[ee[0],ee[1]],ze,nt)}_play(D,V,ee,ge){return this._playbackControllerBox.get().play(D,V,ee,ge)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(D){this.pause();const V=this._playbackControllerBox.get();this._playbackControllerBox.set(D);const ee=V.getCurrentPosition();V.destroy(),D.gotoPosition(ee)}},oj=class{constructor(D){this._fps=D}formatSubUnitForGrid(D){const V=D%1,ee=1/this._fps;return Math.round(V/ee)+"f"}formatFullUnitForGrid(D){let V=D,ee="";if(V>=$1){const ze=Math.floor(V/$1);ee+=ze+"h",V=V%$1}if(V>=t_){const ze=Math.floor(V/t_);ee+=ze+"m",V=V%t_}if(V>=L0){const ze=Math.floor(V/L0);ee+=ze+"s",V=V%L0}const ge=1/this._fps;if(V>=ge){const ze=Math.floor(V/ge);ee+=ze+"f",V=V%ge}return ee.length===0?"0s":ee}formatForPlayhead(D){let V=D,ee="";if(V>=$1){const ze=Math.floor(V/$1);ee+=Dv(ze.toString(),2,"0")+"h",V=V%$1}if(V>=t_){const ze=Math.floor(V/t_);ee+=Dv(ze.toString(),2,"0")+"m",V=V%t_}else ee.length>0&&(ee+="00m");if(V>=L0){const ze=Math.floor(V/L0);ee+=Dv(ze.toString(),2,"0")+"s",V=V%L0}else ee+="00s";const ge=1/this._fps;if(V>=ge){const ze=Math.round(V/ge);ee+=Dv(ze.toString(),2,"0")+"f",V=V%ge}else V/ge>.98?(ee+=Dv(1 .toString(),2,"0")+"f",V=V%ge):ee+="00f";return ee.length===0?"00s00f":ee}formatBasic(D){return D.toFixed(2)+"s"}},L0=1,t_=L0*60,$1=t_*60,Q1={};w(Q1,{boolean:()=>TP,compound:()=>nC,number:()=>rC,rgba:()=>uj,string:()=>kB,stringLiteral:()=>PP});function eC(D,V){return D.length<=V?D:D.substr(0,V-3)+"..."}var sj=D=>typeof D=="string"?`string("${eC(D,10)}")`:typeof D=="number"?`number(${eC(String(D),10)})`:D===null?"null":D===void 0?"undefined":typeof D=="boolean"?String(D):Array.isArray(D)?"array":typeof D=="object"?"object":"unknown",EP=sj;function wB(D,{removeAlphaIfOpaque:V=!1}={}){const ee=(D.a*255|256).toString(16).slice(1);return`#${(D.r*255|256).toString(16).slice(1)+(D.g*255|256).toString(16).slice(1)+(D.b*255|256).toString(16).slice(1)+(V&&ee==="ff"?"":ee)}`}function tC(D){return R(T({},D),{toString(){return wB(this,{removeAlphaIfOpaque:!0})}})}function EB(D){return Object.fromEntries(Object.entries(D).map(([V,ee])=>[V,Mo(ee,0,1)]))}function bB(D){function V(ee){return ee>=.0031308?1.055*ee**(1/2.4)-.055:12.92*ee}return EB({r:V(D.r),g:V(D.g),b:V(D.b),a:D.a})}function bP(D){function V(ee){return ee>=.04045?((ee+.055)/(1+.055))**2.4:ee/12.92}return{r:V(D.r),g:V(D.g),b:V(D.b),a:D.a}}function CP(D){let V=.4122214708*D.r+.5363325363*D.g+.0514459929*D.b,ee=.2119034982*D.r+.6806995451*D.g+.1073969566*D.b,ge=.0883024619*D.r+.2817188376*D.g+.6299787005*D.b,ze=Math.cbrt(V),nt=Math.cbrt(ee),At=Math.cbrt(ge);return{L:.2104542553*ze+.793617785*nt-.0040720468*At,a:1.9779984951*ze-2.428592205*nt+.4505937099*At,b:.0259040371*ze+.7827717662*nt-.808675766*At,alpha:D.a}}function CB(D){let V=D.L+.3963377774*D.a+.2158037573*D.b,ee=D.L-.1055613458*D.a-.0638541728*D.b,ge=D.L-.0894841775*D.a-1.291485548*D.b,ze=V*V*V,nt=ee*ee*ee,At=ge*ge*ge;return{r:4.0767416621*ze-3.3077115913*nt+.2309699292*At,g:-1.2684380046*ze+2.6097574011*nt-.3413193965*At,b:-.0041960863*ze-.7034186147*nt+1.707614701*At,a:D.alpha}}var N0=Symbol("TheatrePropType_Basic");function AP(D){return typeof D=="object"&&!!D&&D[N0]==="TheatrePropType"}function AB(D){if(typeof D=="number")return rC(D);if(typeof D=="boolean")return TP(D);if(typeof D=="string")return kB(D);if(typeof D=="object"&&D){if(AP(D))return D;if(Ml(D))return nC(D);throw new Et(`This value is not a valid prop type: ${EP(D)}`)}else throw new Et(`This value is not a valid prop type: ${EP(D)}`)}function TB(D){const V={};for(const ee of Object.keys(D)){const ge=D[ee];AP(ge)?V[ee]=ge:V[ee]=AB(ge)}return V}var nC=(D,V={})=>{const ee=TB(D),ge=new WeakMap;return{type:"compound",props:ee,valueType:null,[N0]:"TheatrePropType",label:V.label,default:tw(ee,nt=>nt.default),deserializeAndSanitize:nt=>{if(typeof nt!="object"||!nt)return;if(ge.has(nt))return ge.get(nt);const At={};let Xt=!1;for(const[an,yn]of Object.entries(ee))if(Object.prototype.hasOwnProperty.call(nt,an)){const or=yn.deserializeAndSanitize(nt[an]);or!=null&&(Xt=!0,At[an]=or)}if(ge.set(nt,At),Xt)return At}}},rC=(D,V={})=>{var ee;return R(T({type:"number",valueType:0,default:D,[N0]:"TheatrePropType"},V||{}),{label:V.label,nudgeFn:(ee=V.nudgeFn)!=null?ee:RP,nudgeMultiplier:typeof V.nudgeMultiplier=="number"?V.nudgeMultiplier:1,interpolate:lj,deserializeAndSanitize:iC(V.range)})},iC=D=>D?V=>{if(typeof V=="number"&&isFinite(V))return Mo(V,D[0],D[1])}:MB,MB=D=>typeof D=="number"&&isFinite(D)?D:void 0,lj=(D,V,ee)=>D+ee*(V-D),uj=(D={r:0,g:0,b:0,a:1},V={})=>{const ee={};for(const ge of["r","g","b","a"])ee[ge]=Math.min(Math.max(D[ge],0),1);return{type:"rgba",valueType:null,default:tC(ee),[N0]:"TheatrePropType",label:V.label,interpolate:RB,deserializeAndSanitize:PB}},PB=D=>{if(!D)return;let V=!0;for(const ge of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(D,ge)||typeof D[ge]!="number")&&(V=!1);if(!V)return;const ee={};for(const ge of["r","g","b","a"])ee[ge]=Math.min(Math.max(D[ge],0),1);return tC(ee)},RB=(D,V,ee)=>{const ge=CP(bP(D)),ze=CP(bP(V)),nt={L:(1-ee)*ge.L+ee*ze.L,a:(1-ee)*ge.a+ee*ze.a,b:(1-ee)*ge.b+ee*ze.b,alpha:(1-ee)*ge.alpha+ee*ze.alpha},At=bB(CB(nt));return tC(At)},TP=(D,V={})=>{var ee;return{type:"boolean",default:D,valueType:null,[N0]:"TheatrePropType",label:V.label,interpolate:(ee=V.interpolate)!=null?ee:MP,deserializeAndSanitize:IB}},IB=D=>typeof D=="boolean"?D:void 0;function MP(D){return D}var kB=(D,V={})=>{var ee;return{type:"string",default:D,valueType:null,[N0]:"TheatrePropType",label:V.label,interpolate:(ee=V.interpolate)!=null?ee:MP,deserializeAndSanitize:DB}};function DB(D){return typeof D=="string"?D:void 0}function PP(D,V,ee={}){var ge,ze;return{type:"stringLiteral",default:D,valuesAndLabels:T({},V),[N0]:"TheatrePropType",valueType:null,as:(ge=ee.as)!=null?ge:"menu",label:ee.label,interpolate:(ze=ee.interpolate)!=null?ze:MP,deserializeAndSanitize(nt){if(typeof nt=="string"&&Object.prototype.hasOwnProperty.call(V,nt))return nt}}}var RP=({config:D,deltaX:V,deltaFraction:ee,magnitude:ge})=>{const{range:ze}=D;return ze&&!ze.includes(1/0)&&!ze.includes(-1/0)?ee*(ze[1]-ze[0])*ge*D.nudgeMultiplier:V*ge*D.nudgeMultiplier},fw=D=>D.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function aC(D,V){return fw(D)}F(fe());var IP=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(D){ut(this,D)}object(D,V,ee){const ge=Ge(this),ze=aC(D),nt=ge.getObject(ze),At=null;if(nt)return nt.publicApi;{const Xt=nC(V);return ge.createObject(ze,At,Xt).publicApi}}get sequence(){return Ge(this).getSequence().publicApi}get project(){return Ge(this).project.publicApi}get address(){return T({},Ge(this).address)}detachObject(D){const V=Ge(this),ee=aC(D);if(!V.getObject(ee)){Y1.warning(`Couldn't delete object "${ee}"`,`There is no object with key "${ee}".

To fix this, make sure you are calling \`sheet.deleteObject("${ee}")\` with the correct key.`),console.warn(`Object key "${ee}" does not exist.`);return}V.deleteObject(ee)}},oC=F(Ln),cj=class{constructor(D,V){this.template=D,this.instanceId=V,W(this,"_objects",new oC.Atom({})),W(this,"_sequence"),W(this,"address"),W(this,"publicApi"),W(this,"project"),W(this,"objectsP",this._objects.pointer),W(this,"type","Theatre_Sheet"),W(this,"_logger"),this._logger=D.project._logger.named("Sheet",V),this._logger._trace("creating sheet"),this.project=D.project,this.address=R(T({},D.address),{sheetInstanceId:this.instanceId}),this.publicApi=new IP(this)}createObject(D,V,ee){const ze=this.template.getObjectTemplate(D,V,ee).createInstance(this,V,ee);return this._objects.setIn([D],ze),ze}getObject(D){return this._objects.getState()[D]}deleteObject(D){this._objects.reduceState([],V=>{const ee=T({},V);return delete ee[D],ee})}getSequence(){if(!this._sequence){const D=(0,oC.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length).map(OB),V=(0,oC.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit).map(kP);this._sequence=new xB(this.template.project,this,D,V)}return this._sequence}},OB=D=>typeof D=="number"&&isFinite(D)&&D>0?D:10,kP=D=>typeof D=="number"&&ew(D)&&D>=1&&D<=1e3?D:30,BB=class{constructor(D,V){this.project=D,W(this,"type","Theatre_SheetTemplate"),W(this,"address"),W(this,"_instances",new Mi.Atom({})),W(this,"instancesP",this._instances.pointer),W(this,"_objectTemplates",new Mi.Atom({})),W(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=R(T({},D.address),{sheetId:V})}getInstance(D){let V=this._instances.getState()[D];return V||(V=new cj(this,D),this._instances.setIn([D],V)),V}getObjectTemplate(D,V,ee){let ge=this._objectTemplates.getState()[D];return ge||(ge=new fi(this,D,V,ee),this._objectTemplates.setIn([D],ge)),ge}},DP=F(Ln),OP=F(Ln),LB=D=>new Promise(V=>setTimeout(V,D)),NB=LB;function sm(D){for(var V=arguments.length,ee=Array(V>1?V-1:0),ge=1;ge<V;ge++)ee[ge-1]=arguments[ge];throw Error("[Immer] minified error nr: "+D+(ee.length?" "+ee.map(function(ze){return"'"+ze+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function n_(D){return!!D&&!!D[Bd]}function kg(D){return!!D&&(function(V){if(!V||typeof V!="object")return!1;var ee=Object.getPrototypeOf(V);if(ee===null)return!0;var ge=Object.hasOwnProperty.call(ee,"constructor")&&ee.constructor;return ge===Object||typeof ge=="function"&&Function.toString.call(ge)===mj}(D)||Array.isArray(D)||!!D[qB]||!!D.constructor[qB]||LP(D)||lC(D))}function FB(D){return n_(D)||sm(23,D),D[Bd].t}function dw(D,V,ee){ee===void 0&&(ee=!1),r_(D)===0?(ee?Object.keys:pC)(D).forEach(function(ge){ee&&typeof ge=="symbol"||V(ge,D[ge],D)}):D.forEach(function(ge,ze){return V(ze,ge,D)})}function r_(D){var V=D[Bd];return V?V.i>3?V.i-4:V.i:Array.isArray(D)?1:LP(D)?2:lC(D)?3:0}function BP(D,V){return r_(D)===2?D.has(V):Object.prototype.hasOwnProperty.call(D,V)}function fj(D,V){return r_(D)===2?D.get(V):D[V]}function sC(D,V,ee){var ge=r_(D);ge===2?D.set(V,ee):ge===3?(D.delete(V),D.add(ee)):D[V]=ee}function UB(D,V){return D===V?D!==0||1/D==1/V:D!=D&&V!=V}function LP(D){return vw&&D instanceof Map}function lC(D){return pj&&D instanceof Set}function i_(D){return D.o||D.t}function NP(D){if(Array.isArray(D))return Array.prototype.slice.call(D);var V=XB(D);delete V[Bd];for(var ee=pC(V),ge=0;ge<ee.length;ge++){var ze=ee[ge],nt=V[ze];nt.writable===!1&&(nt.writable=!0,nt.configurable=!0),(nt.get||nt.set)&&(V[ze]={configurable:!0,writable:!0,enumerable:nt.enumerable,value:D[ze]})}return Object.create(Object.getPrototypeOf(D),V)}function uC(D,V){return V===void 0&&(V=!1),FP(D)||n_(D)||!kg(D)||(r_(D)>1&&(D.set=D.add=D.clear=D.delete=dj),Object.freeze(D),V&&dw(D,function(ee,ge){return uC(ge,!0)},!0)),D}function dj(){sm(2)}function FP(D){return D==null||typeof D!="object"||Object.isFrozen(D)}function Bv(D){var V=vj[D];return V||sm(18,D),V}function zB(){return mw}function UP(D,V){V&&(Bv("Patches"),D.u=[],D.s=[],D.v=V)}function hw(D){zP(D),D.p.forEach(jB),D.p=null}function zP(D){D===mw&&(mw=D.l)}function HB(D){return mw={p:[],l:mw,h:D,m:!0,_:0}}function jB(D){var V=D[Bd];V.i===0||V.i===1?V.j():V.O=!0}function cC(D,V){V._=V.p.length;var ee=V.p[0],ge=D!==void 0&&D!==ee;return V.h.g||Bv("ES5").S(V,D,ge),ge?(ee[Bd].P&&(hw(V),sm(4)),kg(D)&&(D=pw(V,D),V.l||fC(V,D)),V.u&&Bv("Patches").M(ee[Bd],D,V.u,V.s)):D=pw(V,ee,[]),hw(V),V.u&&V.v(V.u,V.s),D!==KB?D:void 0}function pw(D,V,ee){if(FP(V))return V;var ge=V[Bd];if(!ge)return dw(V,function(nt,At){return GB(D,ge,V,nt,At,ee)},!0),V;if(ge.A!==D)return V;if(!ge.P)return fC(D,ge.t,!0),ge.t;if(!ge.I){ge.I=!0,ge.A._--;var ze=ge.i===4||ge.i===5?ge.o=NP(ge.k):ge.o;dw(ge.i===3?new Set(ze):ze,function(nt,At){return GB(D,ge,ze,nt,At,ee)}),fC(D,ze,!1),ee&&D.u&&Bv("Patches").R(ge,ee,D.u,D.s)}return ge.o}function GB(D,V,ee,ge,ze,nt){if(n_(ze)){var At=pw(D,ze,nt&&V&&V.i!==3&&!BP(V.D,ge)?nt.concat(ge):void 0);if(sC(ee,ge,At),!n_(At))return;D.m=!1}if(kg(ze)&&!FP(ze)){if(!D.h.F&&D._<1)return;pw(D,ze),V&&V.A.l||fC(D,ze)}}function fC(D,V,ee){ee===void 0&&(ee=!1),D.h.F&&D.m&&uC(V,ee)}function dC(D,V){var ee=D[Bd];return(ee?i_(ee):D)[V]}function VB(D,V){if(V in D)for(var ee=Object.getPrototypeOf(D);ee;){var ge=Object.getOwnPropertyDescriptor(ee,V);if(ge)return ge;ee=Object.getPrototypeOf(ee)}}function HP(D){D.P||(D.P=!0,D.l&&HP(D.l))}function hC(D){D.o||(D.o=NP(D.t))}function jP(D,V,ee){var ge=LP(V)?Bv("MapSet").N(V,ee):lC(V)?Bv("MapSet").T(V,ee):D.g?function(ze,nt){var At=Array.isArray(ze),Xt={i:At?1:0,A:nt?nt.A:zB(),P:!1,I:!1,D:{},l:nt,t:ze,k:null,o:null,j:null,C:!1},an=Xt,yn=mC;At&&(an=[Xt],yn=J1);var or=Proxy.revocable(an,yn),mr=or.revoke,Lr=or.proxy;return Xt.k=Lr,Xt.j=mr,Lr}(V,ee):Bv("ES5").J(V,ee);return(ee?ee.A:zB()).p.push(ge),ge}function hj(D){return n_(D)||sm(22,D),function V(ee){if(!kg(ee))return ee;var ge,ze=ee[Bd],nt=r_(ee);if(ze){if(!ze.P&&(ze.i<4||!Bv("ES5").K(ze)))return ze.t;ze.I=!0,ge=GP(ee,nt),ze.I=!1}else ge=GP(ee,nt);return dw(ge,function(At,Xt){ze&&fj(ze.t,At)===Xt||sC(ge,At,V(Xt))}),nt===3?new Set(ge):ge}(D)}function GP(D,V){switch(V){case 2:return new Map(D);case 3:return Array.from(D)}return NP(D)}var WB,mw,F0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",vw=typeof Map<"u",pj=typeof Set<"u",VP=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",KB=F0?Symbol.for("immer-nothing"):((WB={})["immer-nothing"]=!0,WB),qB=F0?Symbol.for("immer-draftable"):"__$immer_draftable",Bd=F0?Symbol.for("immer-state"):"__$immer_state",mj=""+Object.prototype.constructor,pC=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:Object.getOwnPropertyNames,XB=Object.getOwnPropertyDescriptors||function(D){var V={};return pC(D).forEach(function(ee){V[ee]=Object.getOwnPropertyDescriptor(D,ee)}),V},vj={},mC={get:function(D,V){if(V===Bd)return D;var ee=i_(D);if(!BP(ee,V))return function(ze,nt,At){var Xt,an=VB(nt,At);return an?"value"in an?an.value:(Xt=an.get)===null||Xt===void 0?void 0:Xt.call(ze.k):void 0}(D,ee,V);var ge=ee[V];return D.I||!kg(ge)?ge:ge===dC(D.t,V)?(hC(D),D.o[V]=jP(D.A.h,ge,D)):ge},has:function(D,V){return V in i_(D)},ownKeys:function(D){return Reflect.ownKeys(i_(D))},set:function(D,V,ee){var ge=VB(i_(D),V);if(ge!=null&&ge.set)return ge.set.call(D.k,ee),!0;if(!D.P){var ze=dC(i_(D),V),nt=ze==null?void 0:ze[Bd];if(nt&&nt.t===ee)return D.o[V]=ee,D.D[V]=!1,!0;if(UB(ee,ze)&&(ee!==void 0||BP(D.t,V)))return!0;hC(D),HP(D)}return D.o[V]===ee&&typeof ee!="number"&&(ee!==void 0||V in D.o)||(D.o[V]=ee,D.D[V]=!0,!0)},deleteProperty:function(D,V){return dC(D.t,V)!==void 0||V in D.t?(D.D[V]=!1,hC(D),HP(D)):delete D.D[V],D.o&&delete D.o[V],!0},getOwnPropertyDescriptor:function(D,V){var ee=i_(D),ge=Reflect.getOwnPropertyDescriptor(ee,V);return ge&&{writable:!0,configurable:D.i!==1||V!=="length",enumerable:ge.enumerable,value:ee[V]}},defineProperty:function(){sm(11)},getPrototypeOf:function(D){return Object.getPrototypeOf(D.t)},setPrototypeOf:function(){sm(12)}},J1={};dw(mC,function(D,V){J1[D]=function(){return arguments[0]=arguments[0][0],V.apply(this,arguments)}}),J1.deleteProperty=function(D,V){return mC.deleteProperty.call(this,D[0],V)},J1.set=function(D,V,ee){return mC.set.call(this,D[0],V,ee,D[0])};var YB=function(){function D(ee){var ge=this;this.g=VP,this.F=!0,this.produce=function(ze,nt,At){if(typeof ze=="function"&&typeof nt!="function"){var Xt=nt;nt=ze;var an=ge;return function(bi){var di=this;bi===void 0&&(bi=Xt);for(var Ia=arguments.length,ts=Array(Ia>1?Ia-1:0),qa=1;qa<Ia;qa++)ts[qa-1]=arguments[qa];return an.produce(bi,function(nl){var td;return(td=nt).call.apply(td,[di,nl].concat(ts))})}}var yn;if(typeof nt!="function"&&sm(6),At!==void 0&&typeof At!="function"&&sm(7),kg(ze)){var or=HB(ge),mr=jP(ge,ze,void 0),Lr=!0;try{yn=nt(mr),Lr=!1}finally{Lr?hw(or):zP(or)}return typeof Promise<"u"&&yn instanceof Promise?yn.then(function(bi){return UP(or,At),cC(bi,or)},function(bi){throw hw(or),bi}):(UP(or,At),cC(yn,or))}if(!ze||typeof ze!="object")return(yn=nt(ze))===KB?void 0:(yn===void 0&&(yn=ze),ge.F&&uC(yn,!0),yn);sm(21,ze)},this.produceWithPatches=function(ze,nt){return typeof ze=="function"?function(an){for(var yn=arguments.length,or=Array(yn>1?yn-1:0),mr=1;mr<yn;mr++)or[mr-1]=arguments[mr];return ge.produceWithPatches(an,function(Lr){return ze.apply(void 0,[Lr].concat(or))})}:[ge.produce(ze,nt,function(an,yn){At=an,Xt=yn}),At,Xt];var At,Xt},typeof(ee==null?void 0:ee.useProxies)=="boolean"&&this.setUseProxies(ee.useProxies),typeof(ee==null?void 0:ee.autoFreeze)=="boolean"&&this.setAutoFreeze(ee.autoFreeze)}var V=D.prototype;return V.createDraft=function(ee){kg(ee)||sm(8),n_(ee)&&(ee=hj(ee));var ge=HB(this),ze=jP(this,ee,void 0);return ze[Bd].C=!0,zP(ge),ze},V.finishDraft=function(ee,ge){var ze=ee&&ee[Bd],nt=ze.A;return UP(nt,ge),cC(void 0,nt)},V.setAutoFreeze=function(ee){this.F=ee},V.setUseProxies=function(ee){ee&&!VP&&sm(20),this.g=ee},V.applyPatches=function(ee,ge){var ze;for(ze=ge.length-1;ze>=0;ze--){var nt=ge[ze];if(nt.path.length===0&&nt.op==="replace"){ee=nt.value;break}}var At=Bv("Patches").$;return n_(ee)?At(ee,ge):this.produce(ee,function(Xt){return At(Xt,ge.slice(ze+1))})},D}(),gp=new YB;gp.produce,gp.produceWithPatches.bind(gp),gp.setAutoFreeze.bind(gp),gp.setUseProxies.bind(gp),gp.applyPatches.bind(gp),gp.createDraft.bind(gp),gp.finishDraft.bind(gp);var $B={currentProjectStateDefinitionVersion:"0.4.0"},WP=$B;async function QB(D,V,ee){await NB(0),D.transaction(({drafts:ge})=>{var ze;const nt=V.address.projectId;ge.ephemeral.coreByProject[nt]={lastExportedObject:null,loadingState:{type:"loading"}},ge.ahistoric.coreByProject[nt]={ahistoricStuff:""};function At(){ge.ephemeral.coreByProject[nt].loadingState={type:"loaded"},ge.historic.coreByProject[nt]={sheetsById:{},definitionVersion:WP.currentProjectStateDefinitionVersion,revisionHistory:[]}}function Xt(mr){ge.ephemeral.coreByProject[nt].loadingState={type:"loaded"},ge.historic.coreByProject[nt]=mr}function an(){ge.ephemeral.coreByProject[nt].loadingState={type:"loaded"}}function yn(mr){ge.ephemeral.coreByProject[nt].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:mr}}const or=(ze=FB(ge.historic))==null?void 0:ze.coreByProject[V.address.projectId];or?ee&&or.revisionHistory.indexOf(ee.revisionHistory[0])==-1?yn(ee):an():ee?Xt(ee):At()})}function vC(){}function KP(D){var V,ee;const ge=(V=D==null?void 0:D.logging)!=null&&V.internal?(ee=D.logging.min)!=null?ee:O0.WARN:1/0,ze=ge<=O0.DEBUG,nt=ge<=O0.ERROR,At=p(void 0,{_debug:ze?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):vC,_error:nt?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):vC});if(D){const{logger:Xt,logging:an}=D;Xt&&At.configureLogger(Xt),an?At.configureLogging(an):At.configureLogging({dev:!1})}return At.getLogger().named("Theatre")}var gj=class{constructor(D,V={},ee){this.config=V,this.publicApi=ee,W(this,"pointers"),W(this,"_pointerProxies"),W(this,"address"),W(this,"_readyDeferred"),W(this,"_sheetTemplates",new OP.Atom({})),W(this,"sheetTemplatesP",this._sheetTemplates.pointer),W(this,"_studio"),W(this,"type","Theatre_Project"),W(this,"_logger");var ge;this._logger=KP({logging:{dev:!0}}).named("Project",D),this._logger.traceDev("creating project"),this.address={projectId:D};const ze=new OP.Atom({ahistoric:{ahistoricStuff:""},historic:(ge=V.state)!=null?ge:{sheetsById:{},definitionVersion:WP.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._pointerProxies={historic:new DP.PointerProxy(ze.pointer.historic),ahistoric:new DP.PointerProxy(ze.pointer.ahistoric),ephemeral:new DP.PointerProxy(ze.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},Ke.add(D,this),this._readyDeferred=Mn(),V.state?setTimeout(()=>{this._studio||(this._readyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error(`Argument config.state in Theatre.getProject("${D}", config) is empty. You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state`):setTimeout(()=>{if(!this._studio)throw new Error(`Argument config.state in Theatre.getProject("${D}", config) is empty. This is fine while you are using @theatre/core along with @theatre/studio. But since @theatre/studio is not loaded, the state of project "${D}" will be empty.

To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(D){if(this._studio){if(this._studio!==D)throw new Error(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);console.warn(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);return}this._studio=D,D.initialized.then(async()=>{await QB(D,this,this.config.state),this._pointerProxies.historic.setPointer(D.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(D.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(D.atomP.ephemeral.coreByProject[this.address.projectId]),this._readyDeferred.resolve(void 0)})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyDeferred.promise}isReady(){return this._readyDeferred.status==="resolved"}getOrCreateSheet(D,V="default"){let ee=this._sheetTemplates.getState()[D];return ee||(ee=new BB(this,D),this._sheetTemplates.setIn([D],ee)),ee.getInstance(V)}},JB=class{get type(){return"Theatre_Project_PublicAPI"}constructor(D,V={}){ut(this,new gj(D,V,this))}get ready(){return Ge(this).ready}get isReady(){return Ge(this).isReady()}get address(){return T({},Ge(this).address)}sheet(D,V="default"){const ee=aC(D);return Ge(this).getOrCreateSheet(ee,V).publicApi}};F(fe());var ZB=F(Ln),qP=F(Ln);function XP(D,V={}){const ee=Ke.get(D);if(ee)return ee.publicApi;const ze=KP().named("Project",D);return V.state?(eL(D,V.state),ze._debug("deep validated config.state on disk")):ze._debug("no config.state"),new JB(D,V)}var yj=(D,V)=>{if(Array.isArray(V)||V==null||V.definitionVersion!==WP.currentProjectStateDefinitionVersion)throw new Et(`Error validating conf.state in Theatre.getProject(${JSON.stringify(D)}, conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state`)},eL=(D,V)=>{yj(D,V)};function gw(D,V){if((0,ZB.isPointer)(D))return(0,qP.valueDerivation)(D).tapImmediate(Bu,V);if((0,qP.isDerivation)(D))return D.tapImmediate(Bu,V);throw new Error("Called onChange(p) where p is neither a pointer nor a derivation.")}function tL(D){if((0,ZB.isPointer)(D))return(0,qP.valueDerivation)(D).getValue();throw new Error("Called val(p) where p is not a pointer.")}var _j=class{constructor(){W(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.5.1"}getBitsForStudio(D,V){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=D;const ee={projectsP:Ke.atom.pointer.projects,privateAPI:Ge,coreExports:Z};V(ee)}};nL();function nL(){if(typeof window>"u")return;const D=window[uw];if(typeof D<"u")throw typeof D=="object"&&D&&typeof D.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error(`The variable window.${uw} seems to be already set by a module other than @theatre/core.`);const V=new _j;window[uw]=V;const ee=window[Ov];ee&&ee!==null&&ee.type==="Theatre_StudioBundle"&&ee.registerCoreBundle(V)}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */})(j4,j4.exports);var is=j4.exports,jit=Object.create,KH=Object.defineProperty,Git=Object.defineProperties,Vit=Object.getOwnPropertyDescriptor,Wit=Object.getOwnPropertyDescriptors,Kit=Object.getOwnPropertyNames,G4=Object.getOwnPropertySymbols,qit=Object.getPrototypeOf,HZ=Object.prototype.hasOwnProperty,zRe=Object.prototype.propertyIsEnumerable,lEe=(t,e,n)=>e in t?KH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mu=(t,e)=>{for(var n in e||(e={}))HZ.call(e,n)&&lEe(t,n,e[n]);if(G4)for(var n of G4(e))zRe.call(e,n)&&lEe(t,n,e[n]);return t},Xh=(t,e)=>Git(t,Wit(e)),Xit=t=>KH(t,"__esModule",{value:!0}),jZ=(t,e)=>{var n={};for(var r in t)HZ.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&G4)for(var r of G4(t))e.indexOf(r)<0&&zRe.call(t,r)&&(n[r]=t[r]);return n},Yit=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},$it=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Kit(e))!HZ.call(t,r)&&r!=="default"&&KH(t,r,{get:()=>e[r],enumerable:!(n=Vit(e,r))||n.enumerable});return t},Qit=t=>$it(Xit(KH(t!=null?jit(qit(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Jit=Yit({"../../node_modules/zustand/vanilla.js"(t){Object.defineProperty(t,"__esModule",{value:!0});function e(n){var r,i=new Set,o=function(A,T){var R=typeof A=="function"?A(r):A;if(R!==r){var G=r;r=T?R:Object.assign({},r,R),i.forEach(function(j){return j(r,G)})}},l=function(){return r},d=function(A,T,R){T===void 0&&(T=l),R===void 0&&(R=Object.is);var G=T(r);function j(){var w=T(r);if(!R(G,w)){var L=G;A(G=w,L)}}return i.add(j),function(){return i.delete(j)}},h=function(A,T,R){return T||R?d(A,T,R):(i.add(A),function(){return i.delete(A)})},v=function(){return i.clear()},S={setState:o,getState:l,subscribe:h,destroy:v};return r=n(o,l,S),S}t.default=e}}),Zit=Qit(Jit()),V4=new WeakSet,eat=(t,e)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new Iy,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(n,r)=>{t({scene:n,gl:r}),e().createSnapshot()},addEditable:(n,r)=>{t(i=>({editables:Xh(Mu({},i.editables),{[n]:r})}))},removeEditable:n=>{t(r=>{const i=Mu({},r.editables);return delete i[n],{editables:i}})},createSnapshot:()=>{t(n=>{var r,i;return{sceneSnapshot:(i=(r=n.scene)==null?void 0:r.clone())!=null?i:null,editablesSnapshot:n.editables}})},setSnapshotProxyObject:(n,r)=>{t(i=>({editablesSnapshot:Xh(Mu({},i.editablesSnapshot),{[r]:Xh(Mu({},i.editablesSnapshot[r]),{proxyObject:n})})}))}}),kb=(0,Zit.default)(eat),tat=({gl:t,scene:e})=>{const n=kb.getState().init;n(e,t)};function nat(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GZ=nat;function rat(){return dd(({invalidate:t})=>t)}var HRe=St.createContext(void 0),iat=()=>{const t=St.useContext(HRe);if(!t)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return t},aat=()=>iat().sheet,oat=({sheet:t,children:e})=>{const{scene:n,gl:r}=dd(i=>({scene:i.scene,gl:i.gl}));return St.useEffect(()=>{if(!t||t.type!=="Theatre_Sheet_PublicAPI")throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")},[t]),St.useLayoutEffect(()=>{tat({gl:r,scene:n})},[n,r]),eP.createElement(HRe.Provider,{value:{sheet:t}},e)},sat=oat;function jRe(t){return typeof t=="number"&&isFinite(t)}function lat(t){return["x","y","z"].every(e=>jRe(t[e]))}var aQ=t=>t?{x:t[0],y:t[1],z:t[2]}:{x:0,y:0,z:0},NX=(t,e=aQ(),{nudgeMultiplier:n=.01}={})=>({parse:r=>{const i=r[t],o=i?Array.isArray(i)?aQ(i):jRe(i)?{x:i,y:i,z:i}:lat(i)?{x:i.x,y:i.y,z:i.z}:(is.notify.warning(`Invalid value for vector prop "${t}"`,`Couldn't make sense of \`${t}={${JSON.stringify(i)}}\`, falling back to \`${t}={${JSON.stringify([e.x,e.y,e.z])}}\`.

To fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`),e):e;return["x","y","z"].forEach(l=>{r[`${t}-${l}`]&&(o[l]=r[`${t}-${l}`])}),o},apply:(r,i)=>{i[t].set(r.x,r.y,r.z)},type:{[t]:{x:is.types.number(e.x,{nudgeMultiplier:n}),y:is.types.number(e.y,{nudgeMultiplier:n}),z:is.types.number(e.z,{nudgeMultiplier:n})}}}),wm=(t,e=0,{nudgeMultiplier:n=.01}={})=>({parse:r=>{var i;return(i=r[t])!=null?i:e},apply:(r,i)=>{i[t]=r},type:{[t]:is.types.number(e,{nudgeMultiplier:n})}}),XT=(t,e=new ur(0,0,0))=>({parse:n=>{var r;return Xh(Mu({},(r=n[t])!=null?r:e),{a:1})},apply:(n,r)=>{r[t].setRGB(n.r,n.g,n.b)},type:{[t]:is.types.rgba(Xh(Mu({},e),{a:1}))}}),QD=(t,e)=>Xh(Mu({},t),{props:Mu(Mu({},t.props),e)}),h1={props:{position:NX("position"),rotation:NX("rotation"),scale:NX("scale",aQ([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:t=>new D4(t,YT)},uEe=Xh(Mu({},QD(h1,{intensity:wm("intensity",1),distance:wm("distance"),decay:wm("decay"),color:XT("color",new ur("white"))})),{dimensionless:!0}),cEe=Xh(Mu({},QD(h1,{near:wm("near",.1,{nudgeMultiplier:.1}),far:wm("far",2e3,{nudgeMultiplier:.1})})),{updateObject:t=>{t.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:t=>new kMe(t)}),YT="#40AAA4",uat={group:Xh(Mu({},h1),{icon:"collection",createHelper:t=>new D4(t,YT)}),mesh:Xh(Mu({},h1),{icon:"cube",createHelper:t=>new D4(t,YT)}),spotLight:Xh(Mu({},QD(uEe,{angle:wm("angle",0,{nudgeMultiplier:.001}),penumbra:wm("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:t=>new MMe(t,YT)}),directionalLight:Xh(Mu({},QD(h1,{intensity:wm("intensity",1),color:XT("color",new ur("white"))})),{icon:"sun",dimensionless:!0,createHelper:t=>new IMe(t,1,YT)}),pointLight:Xh(Mu({},uEe),{icon:"lightBulb",createHelper:t=>new RMe(t,1,YT)}),ambientLight:{props:{intensity:wm("intensity",1),color:XT("color",new ur("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:wm("intensity",1),color:XT("color",new ur("white")),groundColor:XT("groundColor",new ur("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:QD(cEe,{fov:wm("fov",50,{nudgeMultiplier:.1}),zoom:wm("zoom",1)}),orthographicCamera:cEe,points:h1,line:h1,lineLoop:h1,lineSegments:h1,fog:{props:{color:XT("color"),near:wm("near",1,{nudgeMultiplier:.1}),far:wm("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},cat=uat;kb.getState().createSnapshot;var GRe=t=>`${t.sheetId}:${t.sheetInstanceId}:${t.objectKey}`,fat=t=>{const e=(r,i)=>{if(r!=="primitive"&&!i)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return St.forwardRef((o,l)=>{var d=o,{theatreKey:h,visible:v,editableType:S,additionalProps:x,objRef:A}=d,T=jZ(d,["theatreKey","visible","editableType","additionalProps","objRef"]);if(typeof h!="string")throw new Error(`No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${h}`);if(r==="primitive"&&!S)throw new Error(`When using the primitive component, you must provide the editableType prop. Received: ${S}`);const R=i??S,G=St.useRef(),j=aat(),[w,L]=St.useState(void 0),F=St.useMemo(()=>GRe(Xh(Mu({},j.address),{objectKey:h})),[j,h]),W=rat();return St.useEffect(()=>{if(r==="perspectiveCamera"||r==="orthographicCamera"){const U=r.charAt(0).toUpperCase()+r.slice(1);is.notify.warning(`Possibly incorrect use of <e.${r} />`,`You seem to have declared the camera "${h}" simply as \`<e.${r} ... />\`. This alone won't make r3f use it for rendering.

The easiest way to create a custom animatable \`${U}\` is to import it from \`@react-three/drei\`, and make it editable.
\`\`\`
import {${U}} from '@react-three/drei'

const EditableCamera =
  editable(${U}, '${r}')
\`\`\`
Then you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.
\`\`\`
<EditableCamera
  theatreKey="${h}"
  makeDefault
>
\`\`\`
`)}},[r,h]),St.useLayoutEffect(()=>{if(j)if(w){j.object(h,Object.assign(Mu({},x),...Object.values(t[R].props).map(U=>U.type)),{reconfigure:!0});return}else{const U=j.object(h,Object.assign(Mu({},x),...Object.values(t[R].props).map(Q=>Q.type)));V4.add(U),L(U),A&&(typeof A=="function"?A(U):A.current=U),kb.getState().addEditable(F,{type:R,sheetObject:U,visibleOnlyInEditor:v==="editor",objectConfig:t[R]})}},[j,F,x]),St.useLayoutEffect(()=>{w&&(w.initialValue=Object.fromEntries(Object.entries(t[R].props).map(([U,Q])=>[U,Q.parse(T)])))},[w,...Object.keys(t[R].props).map(U=>T[U])]),St.useLayoutEffect(()=>{if(!w)return;const U=G.current,Q=fe=>{var Z,he;Object.entries(t[R].props).forEach(([Te,je])=>je.apply(fe[Te],U)),(he=(Z=t[R]).updateObject)==null||he.call(Z,U),W()};Q(w.value);const de=w.onValuesChange(Q);return()=>{de(),w.sheet.detachObject(h),V4.delete(w),kb.getState().removeEditable(F)}},[w]),eP.createElement(r,Xh(Mu({ref:GZ([G,l])},T),{visible:v!=="editor"&&v,userData:{__editable:!0,__storeKey:F}}))})},n=Xh(Mu({},Object.fromEntries(Object.keys(t).map(r=>[r,e(r,r)]))),{primitive:e("primitive",null)});return Object.assign(e,n)},dat=fat(cat),RM=dat,hat=RM(St.forwardRef((t,e)=>{var n=t,{makeDefault:r,lookAt:i}=n,o=jZ(n,["makeDefault","lookAt"]);const l=dd(({set:S})=>S),d=dd(({camera:S})=>S),h=dd(({size:S})=>S),v=St.useRef(null);return St.useLayoutEffect(()=>{o.manual||(v.current.aspect=h.width/h.height)},[h,o]),St.useLayoutEffect(()=>{v.current.updateProjectionMatrix()}),St.useLayoutEffect(()=>{if(r){const S=d;return l(()=>({camera:v.current})),()=>l(()=>({camera:S}))}},[v,r,l]),Hb(()=>{var S;if(i&&v.current){v.current.lookAt(Array.isArray(i)?new Ve(...i):i.current?i.current.position:i);const x=kb.getState().editablesSnapshot;x&&((S=x[v.current.userData.__storeKey].proxyObject)==null||S.rotation.copy(v.current.rotation))}}),St.createElement("perspectiveCamera",Mu({ref:GZ([v,e])},o))}),"perspectiveCamera");RM(St.forwardRef((t,e)=>{var n=t,{makeDefault:r,lookAt:i}=n,o=jZ(n,["makeDefault","lookAt"]);const l=dd(({set:S})=>S),d=dd(({camera:S})=>S),h=dd(({size:S})=>S),v=St.useRef(null);return St.useLayoutEffect(()=>{o.manual||v.current.updateProjectionMatrix()},[h,o]),St.useLayoutEffect(()=>{v.current.updateProjectionMatrix()}),St.useLayoutEffect(()=>{if(r){const S=d;return l(()=>({camera:v.current})),()=>l(()=>({camera:S}))}},[v,r,l]),Hb(()=>{var S;if(i&&v.current){v.current.lookAt(Array.isArray(i)?new Ve(...i):i.current?i.current.position:i);const x=kb.getState().editablesSnapshot;x&&((S=x[v.current.userData.__storeKey].proxyObject)==null||S.rotation.copy(v.current.rotation))}}),St.createElement("orthographicCamera",Mu({left:h.width/-2,right:h.width/2,top:h.height/2,bottom:h.height/-2,ref:GZ([v,e])},o))}),"orthographicCamera");/**
 * postprocessing v6.33.3 build Mon Oct 30 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var qH="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",pat=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;
#else
float coc=texture2D(cocBuffer,vUv).g*scale;
#endif
if(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);
#else
vec2 step=texelSize*coc;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,w3=class extends Oc{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new Ma(null),cocBuffer:new Ma(null),texelSize:new Ma(new vn),kernel64:new Ma(null),kernel16:new Ma(null),scale:new Ma(1)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:pat,vertexShader:qH}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let r=0,i=0;for(let o=0,l=Math.sqrt(80);o<80;++o){const d=o*t,h=Math.sqrt(o)/l,v=h*Math.cos(d),S=h*Math.sin(d);o%5===0?(n[i++]=v,n[i++]=S):(e[r++]=v,e[r++]=S)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},mo={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},VRe={RED:0,GREEN:1,BLUE:2,ALPHA:3},WRe="",Pf="srgb",XH="srgb-linear",ID={FULL:0,SINGLE:1},Uy={NONE:0,DEPTH:1,CONVOLUTION:2},Go={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},VZ={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},WZ={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2,MULTIPLY_RGB:3},KRe=Number(Bb.replace(/\D+/g,"")),qRe=KRe>=152,mat=new Map([[YO,XH],[gg,Pf]]),vat=new Map([[XH,YO],[Pf,gg]]);function DO(t){return t===null?null:qRe?t.outputColorSpace:mat.get(t.outputEncoding)}function ky(t,e){t!==null&&(qRe?t.colorSpace=e:t.encoding=vat.get(e))}function KZ(t){return KRe<154?t.replace("colorspace_fragment","encodings_fragment"):t}function fEe(t,e,n){return t*(e-n)-e}function oQ(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var gat=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,yat=class extends Oc{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ma(null),focusDistance:new Ma(0),focusRange:new Ma(0),cameraNear:new Ma(.3),cameraFar:new Ma(1e3)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:gat,vertexShader:qH}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=xg){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-fEe(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=oQ(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-fEe(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=oQ(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof ys?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},_at=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,Sat="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",xat=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],wat=class extends Oc{constructor(t=new go){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Ma(null),texelSize:new Ma(new go),scale:new Ma(1),kernel:new Ma(0)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:_at,vertexShader:Sat}),this.fragmentShader=KZ(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=VZ.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return xat[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},Eat=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,XRe=class extends Oc{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Ma(null),opacity:new Ma(1)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Eat,vertexShader:qH}),this.fragmentShader=KZ(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},bat=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,Cat=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,Aat=class extends Oc{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new Ma(null),texelPosition:new Ma(new vn)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:bat,vertexShader:Cat}),this.depthCopyMode=ID.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=xg){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},Tat=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,Mat="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Pat=class extends Oc{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ma(null),normalBuffer:new Ma(null),texelSize:new Ma(new vn)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Tat,vertexShader:Mat})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=xg){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Rat=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,Iat="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",kat=class extends Oc{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Bb.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ma(null),depthBuffer:new Ma(null),resolution:new Ma(new vn),texelSize:new Ma(new vn),cameraNear:new Ma(.3),cameraFar:new Ma(1e3),aspect:new Ma(1),time:new Ma(0)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=xg){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=Rat.replace(Go.FRAGMENT_HEAD,t.get(Go.FRAGMENT_HEAD)||"").replace(Go.FRAGMENT_MAIN_UV,t.get(Go.FRAGMENT_MAIN_UV)||"").replace(Go.FRAGMENT_MAIN_IMAGE,t.get(Go.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=Iat.replace(Go.VERTEX_HEAD,t.get(Go.VERTEX_HEAD)||"").replace(Go.VERTEX_MAIN_SUPPORT,t.get(Go.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=KZ(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof ys?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return Go}},Dat=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 3
vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);
#elif MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,Oat=class extends Oc{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Ma(t),inputBuffer:new Ma(null),strength:new Ma(1)},blending:rh,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Dat,vertexShader:qH}),this.colorChannel=VRe.RED,this.maskFunction=WZ.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==Of&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},Bat=new Fx,nx=null;function Lat(){if(nx===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);nx=new da,nx.setAttribute!==void 0?(nx.setAttribute("position",new lo(t,3)),nx.setAttribute("uv",new lo(e,2))):(nx.addAttribute("position",new lo(t,3)),nx.addAttribute("uv",new lo(e,2)))}return nx}var Av=class YRe{constructor(e="Pass",n=new Ux,r=Bat){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new Yr(Lat(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Ux),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=xg){}render(e,n,r,i,o){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof af||n instanceof ac||n instanceof Ws||n instanceof YRe)&&this[e].dispose()}}},$Re=class extends Av{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new XRe,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new af(1,1,{minFilter:as,magFilter:as,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Of?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":DO(t)===Pf&&ky(this.renderTarget.texture,Pf))}},Nat=class extends Av{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const o=t.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},dEe=new ur,QRe=class extends Av{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const o=this.overrideClearColor,l=this.overrideClearAlpha,d=t.getClearAlpha(),h=o!==null,v=l>=0;h?(t.getClearColor(dEe),t.setClearColor(o,v?l:d)):v&&t.setClearAlpha(l),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),h?t.setClearColor(dEe,d):v&&t.setClearAlpha(d)}},JRe=class extends Av{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new QRe,this.overrideMaterialManager=n===null?null:new pEe(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new pEe(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const o=this.scene,l=this.camera,d=this.selection,h=l.layers.mask,v=o.background,S=t.shadowMap.autoUpdate,x=this.renderToScreen?null:e;d!==null&&l.layers.set(d.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(x),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,o,l):t.render(o,l),l.layers.mask=h,o.background=v,t.shadowMap.autoUpdate=S}},Fat=class extends Av{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=gv.AUTO_SIZE,height:r=gv.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}={}){super("DepthDownsamplingPass");const l=new Pat;l.normalBuffer=t,this.fullscreenMaterial=l,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new af(1,1,{minFilter:Vs,magFilter:Vs,depthBuffer:!1,type:kf}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const d=this.resolution=new gv(this,i,o,e);d.addEventListener("change",h=>this.setSize(d.baseWidth,d.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=xg){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Uat=class extends Av{constructor({depthPacking:t=HM}={}){super("DepthCopyPass");const e=new Aat;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new af(1,1,{type:t===HM?Of:kf,minFilter:Vs,magFilter:Vs,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=xg){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},E3=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function zat(t){return(t[0]*E3[0]+t[1]*E3[1]+t[2]*E3[2]+t[3]*E3[3])/255}var Hat=class extends Uat{constructor({depthPacking:t=HM,mode:e=ID.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===HM?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,r,i){const o=this.fullscreenMaterial,l=o.mode;if(l===ID.FULL&&super.render(t),this.callback!==null){const d=this.renderTarget,h=this.pixelBuffer,v=d.texture.type!==kf;let S=0,x=0;if(l===ID.SINGLE)super.render(t);else{const A=o.texelPosition;S=Math.round(A.x*d.width),x=Math.round(A.y*d.height)}t.readRenderTargetPixels(d,S,x,1,1,h),this.callback(v?zat(h):h[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===ID.FULL&&super.setSize(t,e)}};function hEe(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),o=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const l of n.entries())l[1]!==null&&n.set(l[0],l[1].replace(o,i))}}function jat(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const o=r!==void 0&&/mainImage/.test(r),l=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(l&&n.attributes&Uy.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!o&&!l)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const d=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,h=n.shaderParts;let v=h.get(Go.FRAGMENT_HEAD)||"",S=h.get(Go.FRAGMENT_MAIN_UV)||"",x=h.get(Go.FRAGMENT_MAIN_IMAGE)||"",A=h.get(Go.VERTEX_HEAD)||"",T=h.get(Go.VERTEX_MAIN_SUPPORT)||"";const R=new Set,G=new Set;if(l&&(S+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const L=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);T+=`	${t}MainSupport(`,T+=L?`vUv);
`:`);
`;for(const F of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const W of F[1].split(/\s*,\s*/))n.varyings.add(W),R.add(W),G.add(W);for(const F of i.matchAll(d))G.add(F[1])}for(const L of r.matchAll(d))G.add(L[1]);for(const L of e.defines.keys())G.add(L.replace(/\([\w\s,]*\)/g,""));for(const L of e.uniforms.keys())G.add(L);G.delete("while"),G.delete("for"),G.delete("if"),e.uniforms.forEach((L,F)=>n.uniforms.set(t+F.charAt(0).toUpperCase()+F.slice(1),L)),e.defines.forEach((L,F)=>n.defines.set(t+F.charAt(0).toUpperCase()+F.slice(1),L));const j=new Map([["fragment",r],["vertex",i]]);hEe(t,G,n.defines),hEe(t,G,j),r=j.get("fragment"),i=j.get("vertex");const w=e.blendMode;if(n.blendModes.set(w.blendFunction,w),o){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(x+=e.inputColorSpace===Pf?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==WRe?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const L=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;x+=`${t}MainImage(color0, UV, `,n.attributes&Uy.DEPTH&&L.test(r)&&(x+="depth, ",n.readDepth=!0),x+=`color1);
	`;const F=t+"BlendOpacity";n.uniforms.set(F,w.opacity),x+=`color0 = blend${w.blendFunction}(color0, color1, ${F});

	`,v+=`uniform float ${F};

`}if(v+=r+`
`,i!==null&&(A+=i+`
`),h.set(Go.FRAGMENT_HEAD,v),h.set(Go.FRAGMENT_MAIN_UV,S),h.set(Go.FRAGMENT_MAIN_IMAGE,x),h.set(Go.VERTEX_HEAD,A),h.set(Go.VERTEX_MAIN_SUPPORT,T),e.extensions!==null)for(const L of e.extensions)n.extensions.add(L)}}var Gat=class extends Av{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new kat(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new $at;let e=0;for(const l of this.effects)if(l.blendMode.blendFunction===mo.DST)t.attributes|=l.getAttributes()&Uy.DEPTH;else{if(t.attributes&l.getAttributes()&Uy.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${l.name})`);jat("e"+e++,l,t)}let n=t.shaderParts.get(Go.FRAGMENT_HEAD),r=t.shaderParts.get(Go.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(Go.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const l of t.blendModes.values())n+=l.getShaderCode().replace(o,`blend${l.blendFunction}`)+`
`;t.attributes&Uy.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Pf&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(Go.FRAGMENT_HEAD,n),t.shaderParts.set(Go.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(Go.FRAGMENT_MAIN_UV,i);for(const[l,d]of t.shaderParts)d!==null&&t.shaderParts.set(l,d.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=xg){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const o of this.effects)o.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const o=this.fullscreenMaterial;o.inputBuffer=e.texture,o.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==Of&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},Vat=class extends Av{constructor({kernelSize:t=VZ.MEDIUM,resolutionScale:e=.5,width:n=gv.AUTO_SIZE,height:r=gv.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}={}){super("KawaseBlurPass"),this.renderTargetA=new af(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const l=this.resolution=new gv(this,i,o,e);l.addEventListener("change",d=>this.setSize(l.baseWidth,l.baseHeight)),this._blurMaterial=new wat,this._blurMaterial.kernelSize=t,this.copyMaterial=new XRe}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const o=this.scene,l=this.camera,d=this.renderTargetA,h=this.renderTargetB,v=this.blurMaterial,S=v.kernelSequence;let x=e;this.fullscreenMaterial=v;for(let A=0,T=S.length;A<T;++A){const R=A&1?h:d;v.kernel=S[A],v.inputBuffer=x.texture,t.setRenderTarget(R),t.render(o,l),x=R}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=x.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(o,l)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Of?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):DO(t)===Pf&&(ky(this.renderTargetA.texture,Pf),ky(this.renderTargetB.texture,Pf)))}static get AUTO_SIZE(){return gv.AUTO_SIZE}},Wat=class extends Av{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new QRe(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const o=t.getContext(),l=t.state.buffers,d=this.scene,h=this.camera,v=this.clearPass,S=this.inverted?0:1,x=1-S;l.color.setMask(!1),l.depth.setMask(!1),l.color.setLocked(!0),l.depth.setLocked(!0),l.stencil.setTest(!0),l.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),l.stencil.setFunc(o.ALWAYS,S,4294967295),l.stencil.setClear(x),l.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?v.render(t,null):(v.render(t,e),v.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(d,h)):(t.setRenderTarget(e),t.render(d,h),t.setRenderTarget(n),t.render(d,h)),l.color.setLocked(!1),l.depth.setLocked(!1),l.stencil.setLocked(!1),l.stencil.setFunc(o.EQUAL,1,4294967295),l.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),l.stencil.setLocked(!0)}},Kat=class extends Av{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=gv.AUTO_SIZE,height:o=gv.AUTO_SIZE,resolutionX:l=i,resolutionY:d=o}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new JRe(t,e,new eZ);const h=this.renderPass;h.ignoreBackground=!0,h.skipShadowMapUpdate=!0;const v=h.getClearPass();v.overrideClearColor=new ur(7829503),v.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new af(1,1,{minFilter:Vs,magFilter:Vs}),this.renderTarget.texture.name="NormalPass.Target");const S=this.resolution=new gv(this,l,d,r);S.addEventListener("change",x=>this.setSize(S.baseWidth,S.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,o,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},VT=class extends Av{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const o=this.fullscreenMaterial.uniforms;e!==null&&o!==void 0&&o[this.input]!==void 0&&(o[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==Of&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},FX=1/1e3,qat=1e3,Xat=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*FX}get fixedDelta(){return this._fixedDelta*FX}set fixedDelta(t){this._fixedDelta=t*qat}get elapsed(){return this._elapsed*FX}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},Yat=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:o}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,o,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new $Re,this.depthTexture=null,this.passes=[],this.timer=new Xat,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new vn),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===Of&&DO(e)===Pf&&(ky(this.inputBuffer.texture,Pf),ky(this.outputBuffer.texture,Pf),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const o of this.passes)o.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new zJ;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Nx,e.type=A1):e.type=Py,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const o=this.renderer,l=o===null?new vn:o.getDrawingBufferSize(new vn),d={minFilter:as,magFilter:as,stencilBuffer:n,depthBuffer:e,type:r},h=new af(l.width,l.height,d);return i>0&&(h.ignoreDepthForMultisampleCopy=!1,h.samples=i),r===Of&&DO(o)===Pf&&ky(h.texture,Pf),h.texture.name="EffectComposer.Buffer",h.texture.generateMipmaps=!1,h}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,o=i.getDrawingBufferSize(new vn),l=i.getContext().getContextAttributes().alpha,d=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(o.width,o.height),e.initialize(i,l,d),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const h=this.createDepthTexture();for(e of r)e.setDepthTexture(h)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const l=(h,v)=>h||v.needsDepthTexture;n.reduce(l,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,o=this.outputBuffer,l=!1,d,h,v;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const S of this.passes)S.enabled&&(S.render(n,i,o,e,l),S.needsSwap&&(l&&(r.renderToScreen=S.renderToScreen,d=n.getContext(),h=n.state.buffers.stencil,h.setFunc(d.NOTEQUAL,1,4294967295),r.render(n,i,o,e,l),h.setFunc(d.EQUAL,1,4294967295)),v=i,i=o,o=v),S instanceof Wat?l=!0:S instanceof Nat&&(l=!1))}setSize(e,n,r){const i=this.renderer,o=i.getSize(new vn);(e===void 0||n===void 0)&&(e=o.width,n=o.height),(o.width!==e||o.height!==n)&&i.setSize(e,n,r);const l=i.getDrawingBufferSize(new vn);this.inputBuffer.setSize(l.width,l.height),this.outputBuffer.setSize(l.width,l.height);for(const d of this.passes)d.setSize(l.width,l.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},$at=class{constructor(){this.shaderParts=new Map([[Go.FRAGMENT_HEAD,null],[Go.FRAGMENT_MAIN_UV,null],[Go.FRAGMENT_MAIN_IMAGE,null],[Go.VERTEX_HEAD,null],[Go.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Uy.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=XH}},UX=!1,pEe=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Mf:n=this.materialsFlatShadedDoubleSide;break;case If:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Mf:n=this.materialsDoubleSide;break;case If:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Oc))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const o=e[i].value;o.isRenderTargetTexture&&(e[i].value=null,n.set(i,o))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=y0;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=If,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Mf,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=If,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Mf,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,UX){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const o of i)o[0].material=o[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return UX}static set workaroundEnabled(t){UX=t}},rx=-1,gv=class extends Cv{constructor(t,e=rx,n=rx,r=1){super(),this.resizable=t,this.baseSize=new vn(1,1),this.preferredSize=new vn(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new vn,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==rx?n.width=e.width:e.height!==rx?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==rx?n.height=e.height:e.width!==rx?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(rx),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return rx}},Qat="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Jat="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Zat="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",eot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",tot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",not="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",rot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",iot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",aot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",oot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",sot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",lot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",uot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",cot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",fot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",dot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",hot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",pot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",mot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",vot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",got="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",yot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",_ot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",Sot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",xot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",wot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",Eot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",bot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",Cot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",Aot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Tot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",Mot="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Pot=new Map([[mo.ADD,Qat],[mo.ALPHA,Jat],[mo.AVERAGE,Zat],[mo.COLOR,eot],[mo.COLOR_BURN,tot],[mo.COLOR_DODGE,not],[mo.DARKEN,rot],[mo.DIFFERENCE,iot],[mo.DIVIDE,aot],[mo.DST,null],[mo.EXCLUSION,oot],[mo.HARD_LIGHT,sot],[mo.HARD_MIX,lot],[mo.HUE,uot],[mo.INVERT,cot],[mo.INVERT_RGB,fot],[mo.LIGHTEN,dot],[mo.LINEAR_BURN,hot],[mo.LINEAR_DODGE,pot],[mo.LINEAR_LIGHT,mot],[mo.LUMINOSITY,vot],[mo.MULTIPLY,got],[mo.NEGATION,yot],[mo.NORMAL,_ot],[mo.OVERLAY,Sot],[mo.PIN_LIGHT,xot],[mo.REFLECT,wot],[mo.SATURATION,Eot],[mo.SCREEN,bot],[mo.SOFT_LIGHT,Cot],[mo.SRC,Aot],[mo.SUBTRACT,Tot],[mo.VIVID_LIGHT,Mot]]),Rot=class extends Cv{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new Ma(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return Pot.get(this.blendFunction)}},sQ=class extends Cv{constructor(t,e,{attributes:n=Uy.NONE,blendFunction:r=mo.NORMAL,defines:i=new Map,uniforms:o=new Map,extensions:l=null,vertexShader:d=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=d,this.defines=i,this.uniforms=o,this.extensions=l,this.blendMode=new Rot(r),this.blendMode.addEventListener("change",h=>this.setChanged()),this._inputColorSpace=XH,this._outputColorSpace=WRe}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=xg){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof af||e instanceof ac||e instanceof Ws||e instanceof Av)&&this[t].dispose()}}},Iot=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform lowp sampler2D farCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);
#if MASK_FUNCTION == 1
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,colorFar.a);cocNearFar.x=min(cocNearFar.x*scale,1.0);
#else
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,texture2D(farCoCBuffer,uv).g);cocNearFar=min(cocNearFar*scale,1.0);
#endif
vec4 result=inputColor*(1.0-cocNearFar.y)+colorFar;result=mix(result,colorNear,cocNearFar.x);outputColor=result;}`,kot=class extends sQ{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:o=.1,focusRange:l=o,bokehScale:d=1,resolutionScale:h=1,width:v=gv.AUTO_SIZE,height:S=gv.AUTO_SIZE,resolutionX:x=v,resolutionY:A=S}={}){super("DepthOfFieldEffect",Iot,{blendFunction:e,attributes:Uy.DEPTH,uniforms:new Map([["nearColorBuffer",new Ma(null)],["farColorBuffer",new Ma(null)],["nearCoCBuffer",new Ma(null)],["farCoCBuffer",new Ma(null)],["scale",new Ma(1)]])}),this.camera=t,this.renderTarget=new af(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.uniforms.get("farCoCBuffer").value=this.renderTargetCoC.texture,this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new VT(new yat(t));const T=this.cocMaterial;T.focusDistance=i,T.focusRange=l,n!==void 0&&(T.worldFocusDistance=n),r!==void 0&&(T.worldFocusRange=r),this.blurPass=new Vat({resolutionScale:h,resolutionX:x,resolutionY:A,kernelSize:VZ.MEDIUM}),this.maskPass=new VT(new Oat(this.renderTargetCoC.texture));const R=this.maskPass.fullscreenMaterial;R.colorChannel=VRe.GREEN,this.maskFunction=WZ.MULTIPLY_RGB,this.bokehNearBasePass=new VT(new w3(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new VT(new w3(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new VT(new w3(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new VT(new w3(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const G=this.resolution=new gv(this,x,A,h);G.addEventListener("change",j=>this.setSize(G.baseWidth,G.baseHeight)),this.bokehScale=d}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get maskFunction(){return this.maskPass.fullscreenMaterial.maskFunction}set maskFunction(t){this.maskFunction!==t&&(this.defines.set("MASK_FUNCTION",t.toFixed(0)),this.maskPass.fullscreenMaterial.maskFunction=t,this.setChanged())}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.cocMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return oQ(-n,e.near,e.far)}setDepthTexture(t,e=xg){this.cocMaterial.depthBuffer=t,this.cocMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget,i=this.renderTargetCoC,o=this.renderTargetCoCBlurred,l=this.renderTargetMasked;if(this.target!==null){const d=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=d}this.cocPass.render(t,null,i),this.blurPass.render(t,i,o),this.maskPass.render(t,e,l),this.bokehFarBasePass.render(t,l,r),this.bokehFarFillPass.render(t,r,this.renderTargetFar),this.bokehNearBasePass.render(t,e,r),this.bokehNearFillPass.render(t,r,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetFar.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,Of),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,DO(t)===Pf&&(ky(this.renderTarget.texture,Pf),ky(this.renderTargetNear.texture,Pf),ky(this.renderTargetFar.texture,Pf),ky(this.renderTargetMasked.texture,Pf)))}};const qZ=St.createContext(null),mEe=t=>(t.getAttributes()&Uy.CONVOLUTION)===Uy.CONVOLUTION,Dot=eP.memo(St.forwardRef(({children:t,camera:e,scene:n,resolutionScale:r,enabled:i=!0,renderPriority:o=1,autoClear:l=!0,depthBuffer:d,enableNormalPass:h,stencilBuffer:v,multisampling:S=8,frameBufferType:x=Yh},A)=>{const{gl:T,scene:R,camera:G,size:j}=dd(),w=n||R,L=e||G,[F,W,U]=St.useMemo(()=>{const Z=w2e(),he=new Yat(T,{depthBuffer:d,stencilBuffer:v,multisampling:S>0&&Z?S:0,frameBufferType:x});he.addPass(new JRe(w,L));let Te=null,je=null;return h&&(je=new Kat(w,L),je.enabled=!1,he.addPass(je),r!==void 0&&Z&&(Te=new Fat({normalBuffer:je.texture,resolutionScale:r}),Te.enabled=!1,he.addPass(Te))),[he,je,Te]},[L,T,d,v,S,x,w,h,r]);St.useEffect(()=>F==null?void 0:F.setSize(j.width,j.height),[F,j]),Hb((Z,he)=>{if(i){const Te=T.autoClear;T.autoClear=l,v&&!l&&T.clearStencil(),F.render(he),T.autoClear=Te}},i?o:0);const Q=St.useRef(null),de=kZe(Q);St.useLayoutEffect(()=>{const Z=[];if(Q.current&&de.current&&F){const he=de.current.objects;for(let Te=0;Te<he.length;Te++){const je=he[Te];if(je instanceof sQ){const Ke=[je];if(!mEe(je)){let Ge=null;for(;(Ge=he[Te+1])instanceof sQ&&!mEe(Ge);)Ke.push(Ge),Te++}const Le=new Gat(L,...Ke);Z.push(Le)}else je instanceof Av&&Z.push(je)}for(const Te of Z)F==null||F.addPass(Te);W&&(W.enabled=!0),U&&(U.enabled=!0)}return()=>{for(const he of Z)F==null||F.removePass(he);W&&(W.enabled=!1),U&&(U.enabled=!1)}},[F,t,L,W,U,de]),St.useEffect(()=>{const Z=T.toneMapping;return T.toneMapping=vg,()=>{T.toneMapping=Z}},[]);const fe=St.useMemo(()=>({composer:F,normalPass:W,downSamplingPass:U,resolutionScale:r,camera:L,scene:w}),[F,W,U,r,L,w]);return St.useImperativeHandle(A,()=>F,[F]),vr.jsx(qZ.Provider,{value:fe,children:vr.jsx("group",{ref:Q,children:t})})})),Oot=St.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:o,focalLength:l,bokehScale:d,resolutionScale:h,resolutionX:v,resolutionY:S,width:x,height:A,target:T,depthTexture:R,...G},j){const{camera:w}=St.useContext(qZ),L=T!=null,F=St.useMemo(()=>{const W=new kot(w,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:o,focalLength:l,bokehScale:d,resolutionScale:h,resolutionX:v,resolutionY:S,width:x,height:A});L&&(W.target=new Ve),R&&W.setDepthTexture(R.texture,R.packing);const U=W.maskPass;return U.maskFunction=WZ.MULTIPLY_RGB_SET_ALPHA,W},[w,e,n,r,i,o,l,d,h,v,S,x,A,L,R]);return St.useEffect(()=>()=>{F.dispose()},[F]),vr.jsx("primitive",{...G,ref:j,object:F,target:T})}),Bot=St.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:r=!1,smoothTime:i=.25,...o},l)=>{const d=St.useRef(null),h=St.useRef(null),v=St.useRef(null),S=dd(({scene:U})=>U),x=dd(({pointer:U})=>U),{composer:A,camera:T}=St.useContext(qZ),[R]=St.useState(()=>new Hat),[G]=St.useState(()=>new $Re);St.useEffect(()=>(A.addPass(R),A.addPass(G),()=>{A.removePass(R),A.removePass(G)}),[A,R,G]),St.useEffect(()=>()=>{R.dispose(),G.dispose()},[R,G]);const[j]=St.useState(()=>new Ve(0,0,0)),[w]=St.useState(()=>new Ve(0,0,0)),L=St.useCallback(async(U,Q)=>(w.x=U,w.y=Q,w.z=await R.readDepth(w),w.z=w.z*2-1,1-w.z>1e-7?w.unproject(T):!1),[w,R,T]),F=St.useCallback(async(U,Q=!0)=>{var de;if(t)j.set(...t);else{const{x:fe,y:Z}=e?x:{x:0,y:0},he=await L(fe,Z);he&&j.copy(he)}Q&&((de=d.current)!=null&&de.target)&&(i>0&&U>0?x2e.damp3(d.current.target,j,i,U):d.current.target.copy(j))},[t,j,e,L,i,x]);Hb(async(U,Q)=>{var de;r||F(Q),h.current&&h.current.position.copy(j),v.current&&((de=d.current)!=null&&de.target)&&v.current.position.copy(d.current.target)});const W=St.useMemo(()=>({dofRef:d,hitpoint:j,update:F}),[j,F]);return St.useImperativeHandle(l,()=>W,[W]),vr.jsxs(vr.Fragment,{children:[n?tPe(vr.jsxs(vr.Fragment,{children:[vr.jsxs("mesh",{ref:h,children:[vr.jsx("sphereGeometry",{args:[n,16,16]}),vr.jsx("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),vr.jsxs("mesh",{ref:v,children:[vr.jsx("sphereGeometry",{args:[n/2,16,16]}),vr.jsx("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),S):null,vr.jsx(Oot,{ref:d,...o,target:j})]})}),Lot=()=>{const t=St.useRef(new Ve(0,0,0)),e=St.useRef();return Hb(()=>{e.current&&t.current.copy(e.current.position)}),vr.jsxs(vr.Fragment,{children:[vr.jsx(RM.directionalLight,{theatreKey:"SunLight",position:[3,3,3],intensity:.2,castShadow:!0,"shadow-bias":-.001,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),vr.jsx(RM.group,{theatreKey:"MedievalFantasyBook",children:vr.jsx(Hit,{scale:.1,envMapIntensity:.3})}),vr.jsx(Ret,{preset:"dawn",background:!0,blur:4}),vr.jsxs(RM.mesh,{theatreKey:"Autofocus",ref:e,visible:"editor",children:[vr.jsx("sphereGeometry",{args:[.01,8,8]}),vr.jsx("meshBasicMaterial",{color:"red",wireframe:!0})]}),vr.jsx(Dot,{children:vr.jsx(Bot,{smoothTime:.1,debug:.04,focusRange:.002,bokehScale:8,target:t.current})})]})};var W4={exports:{}};W4.exports;(function(t,e){var n=Object.create,r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,v=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,A=(a,u,f)=>u in a?r(a,u,{enumerable:!0,configurable:!0,writable:!0,value:f}):a[u]=f,T=(a,u)=>{for(var f in u||(u={}))S.call(u,f)&&A(a,f,u[f]);if(h)for(var f of h(u))x.call(u,f)&&A(a,f,u[f]);return a},R=(a,u)=>i(a,l(u)),G=a=>r(a,"__esModule",{value:!0}),j=(a,u)=>{var f={};for(var m in a)S.call(a,m)&&u.indexOf(m)<0&&(f[m]=a[m]);if(a!=null&&h)for(var m of h(a))u.indexOf(m)<0&&x.call(a,m)&&(f[m]=a[m]);return f},w=(a,u)=>function(){return a&&(u=(0,a[Object.keys(a)[0]])(a=0)),u},L=(a,u)=>function(){return u||(0,a[Object.keys(a)[0]])((u={exports:{}}).exports,u),u.exports},F=(a,u)=>{G(a);for(var f in u)r(a,f,{get:u[f],enumerable:!0})},W=(a,u,f)=>{if(u&&typeof u=="object"||typeof u=="function")for(let m of d(u))!S.call(a,m)&&m!=="default"&&r(a,m,{get:()=>u[m],enumerable:!(f=o(u,m))||f.enumerable});return a},U=a=>W(G(r(a!=null?n(v(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a),Q=(a,u,f)=>(A(a,typeof u!="symbol"?u+"":u,f),f),de=(a,u,f)=>new Promise((m,b)=>{var P=q=>{try{O(f.next(q))}catch(K){b(K)}},B=q=>{try{O(f.throw(q))}catch(K){b(K)}},O=q=>q.done?m(q.value):Promise.resolve(q.value).then(P,B);O((f=f.apply(a,u)).next())});function fe(a){he=a}function Z(){return he}var he,Te=w({"studio/src/getStudio.ts"(){}});function je(a){return u=>typeof u=="object"&&!!u&&u.type===a}var Ke,Le,Ge,ut,st,_e,Se,we=w({"shared/src/instanceTypes.ts"(){Ke=je("Theatre_Project"),Le=je("Theatre_Sheet"),Ge=je("Theatre_SheetTemplate"),ut=je("Theatre_SheetObject"),st=je("Theatre_SheetObjectTemplate"),_e=je("Theatre_Sheet_PublicAPI"),Se=je("Theatre_SheetObject_PublicAPI")}}),Pe=L({"../node_modules/jiff/lib/lcs.js"(a){a.compare=b,a.reduce=P;var u,f,m;a.REMOVE=u=-1,a.ADD=f=1,a.EQUAL=m=0;function b(J,te){var ne=J.length,re=te.length,ue=B(J,te),pe=ue<ne&&ue<re?O(J,te):0,me=pe+ue-1;ne-=me,re-=me;for(var De=K(ne,re),Re=ne-1;Re>=0;--Re)for(var He=re-1;He>=0;--He)De[He][Re]=q(De,J,te,ue,Re,He);return{prefix:ue,matrix:De,suffix:pe}}function P(J,te,ne){var re,ue,pe,me,De=ne.matrix,Re=ne.prefix;for(re=0;re<Re;++re)te=J(te,m,re,re);for(pe=re,Re=De.length,re=0,ue=0;re<Re;)switch(me=De[re][ue].type,te=J(te,me,re+pe,ue+pe),me){case m:++re,++ue;break;case u:++ue;break;case f:++re;break}for(re+=pe,ue+=pe,Re=ne.suffix,pe=0;pe<Re;++pe)te=J(te,m,re+pe,ue+pe);return te}function B(J,te){for(var ne=0,re=Math.min(J.length,te.length);ne<re&&J[ne]===te[ne];)++ne;return ne}function O(J,te){for(var ne=J.length-1,re=te.length-1,ue=Math.min(ne,re),pe=0;pe<ue&&J[ne-pe]===te[re-pe];)++pe;return pe}function q(J,te,ne,re,ue,pe){return te[ue+re]===ne[pe+re]?{value:J[pe+1][ue+1].value,type:m}:J[pe][ue+1].value<J[pe+1][ue].value?{value:J[pe][ue+1].value+1,type:u}:{value:J[pe+1][ue].value+1,type:f}}function K(J,te){var ne=[],re,ue,pe;for(pe=ne[te]=[],ue=0;ue<J;++ue)pe[ue]={value:J-ue,type:u};for(re=0;re<te;++re)ne[re]=[],ne[re][J]={value:te-re,type:f};return ne[te][J]={value:0,type:m},ne}}}),be=L({"../node_modules/jiff/lib/array.js"(a){a.cons=u,a.tail=f,a.map=m;function u(b,P){var B=P.length,O=new Array(B+1);O[0]=b;for(var q=0;q<B;++q)O[q+1]=P[q];return O}function f(b){for(var P=b.length-1,B=new Array(P),O=0;O<P;++O)B[O]=b[O+1];return B}function m(b,P){for(var B=new Array(P.length),O=0;O<P.length;++O)B[O]=b(P[O]);return B}}}),Ce=L({"../node_modules/jiff/lib/jsonPointerParse.js"(a,u){u.exports=B;var f=/\/|~1|~0/g,m="/",b="~",P="~1";function B(O,q){var K,J,te,ne;for(K=O.charAt(0)===m?1:0,J="",f.lastIndex=K;te=f.exec(O);)if(ne=te[0],J+=O.slice(K,f.lastIndex-ne.length),K=f.lastIndex,ne===m){if(q(J)===!1)return O;J=""}else J+=ne===P?m:b;return J+=O.slice(K),q(J),O}}}),qe=L({"../node_modules/jiff/lib/jsonPointer.js"(a){var u=Ce();a.find=J,a.join=ne,a.absolute=te,a.parse=re,a.contains=ue,a.encodeSegment=me,a.decodeSegment=pe,a.parseArrayIndex=He,a.isValidArrayIndex=Re;var f="/",m=/\//g,b="~1",P=/~1/g,B="~",O=/~/g,q="~0",K=/~0/g;function J(Fe,Qe,gt,Wt){if(typeof Qe=="string"){if(Qe==="")return{target:Fe,key:void 0};if(Qe===f)return{target:Fe,key:""};var Tt=Fe,An,jn=Wt!==void 0;return u(Qe,function(jt){if(Fe==null)return Tt=null,!1;Array.isArray(Fe)?An=jn?Oe(gt,He(jt),Fe,Wt):jt==="-"?jt:He(jt):An=jt,Tt=Fe,Fe=Fe[An]}),Tt===null?void 0:{target:Tt,key:An}}}function te(Fe){return Fe[0]===f?Fe:f+Fe}function ne(Fe){return Fe.join(f)}function re(Fe){var Qe=[];return u(Fe,Qe.push.bind(Qe)),Qe}function ue(Fe,Qe){return Qe.indexOf(Fe)===0&&Qe[Fe.length]===f}function pe(Fe){return Fe.replace(P,f).replace(K,B)}function me(Fe){return Fe.replace(O,q).replace(m,b)}var De=/^(0|[1-9]\d*)$/;function Re(Fe){return De.test(Fe)}function He(Fe){if(Re(Fe))return+Fe;throw new SyntaxError("invalid array index "+Fe)}function Oe(Fe,Qe,gt,Wt){var Tt=Qe;if(Tt<0)throw new Error("array index out of bounds "+Tt);if(Wt!==void 0&&typeof Fe=="function"&&(Tt=Fe(Qe,gt,Wt),Tt<0))throw new Error("could not find patch context "+Wt);return Tt}}}),mt=L({"../node_modules/jiff/lib/clone.js"(a,u){u.exports=f;function f(P){return P==null||typeof P!="object"?P:Array.isArray(P)?m(P):b(P)}function m(P){for(var B=P.length,O=new Array(B),q=0;q<B;++q)O[q]=f(P[q]);return O}function b(P){for(var B=Object.keys(P),O={},q,K=0,J=B.length;K<J;++K)q=B[K],O[q]=f(P[q]);return O}}}),We=L({"../node_modules/jiff/lib/deepEquals.js"(a,u){u.exports=f;function f(P,B){return P===B?!0:Array.isArray(P)&&Array.isArray(B)?m(P,B):typeof P=="object"&&typeof B=="object"?b(P,B):!1}function m(P,B){if(P.length!==B.length)return!1;for(var O=0;O<P.length;++O)if(!f(P[O],B[O]))return!1;return!0}function b(P,B){if(P===null&&B!==null||P!==null&&B===null)return!1;var O=Object.keys(P),q=Object.keys(B);if(O.length!==q.length)return!1;for(var K=0,J;K<O.length;++K)if(J=O[K],!(J in B&&f(P[J],B[J])))return!1;return!0}}}),Mt=L({"../node_modules/jiff/lib/commutePaths.js"(a,u){var f=qe();u.exports=function(te,ne){var re=f.parse(te.path),ue=f.parse(ne.path),pe=q(re,ue),me=P(re,ue,pe.length),De=K(te),Re=K(ne);return pe.length===0&&!me?[Re,De]:me?b(De,re,Re,ue):m(De,re,Re)};function m(J,te,ne,re){if(J.path===ne.path)throw new TypeError("cannot commute "+J.op+","+ne.op+" with identical object paths");return[ne,J]}function b(J,te,ne,re){return te.length===re.length?B(J,te,ne,re):(te.length>re.length?(te=O(ne,re,J,te,-1),J.path=f.absolute(f.join(te))):(re=O(J,te,ne,re,1),ne.path=f.absolute(f.join(re))),[ne,J])}function P(J,te,ne){return f.isValidArrayIndex(J[ne])&&f.isValidArrayIndex(te[ne])}function B(J,te,ne,re){var ue=te.length-1,pe=+te[ue],me=+re[ue],De;return pe<me?J.op==="add"||J.op==="copy"?(De=re.slice(),De[ue]=Math.max(0,me-1),ne.path=f.absolute(f.join(De))):J.op==="remove"&&(De=re.slice(),De[ue]=me+1,ne.path=f.absolute(f.join(De))):ne.op==="add"||ne.op==="copy"?(De=te.slice(),De[ue]=pe+1,J.path=f.absolute(f.join(De))):pe>me&&ne.op==="remove"&&(De=te.slice(),De[ue]=Math.max(0,pe-1),J.path=f.absolute(f.join(De))),[ne,J]}function O(J,te,ne,re,ue){var pe=te.length-1,me=+te[pe],De=+re[pe],Re=re.slice();return me>De||(J.op==="add"||J.op==="copy"?Re[pe]=Math.max(0,De-ue):J.op==="remove"&&(Re[pe]=Math.max(0,De+ue))),Re}function q(J,te){var ne=J.length,re=te.length;if(ne===0||re===0||ne<2&&re<2)return[];for(var ue=ne===re?ne-1:Math.min(ne,re),pe=0;pe<ue&&J[pe]===te[pe];)++pe;return J.slice(0,pe)}function K(J){return J.op==="remove"?{op:J.op,path:J.path}:J.op==="copy"||J.op==="move"?{op:J.op,path:J.path,from:J.from}:{op:J.op,path:J.path,value:J.value}}}}),dt=L({"../node_modules/jiff/lib/TestFailedError.js"(a,u){u.exports=f;function f(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}f.prototype=Object.create(Error.prototype),f.prototype.constructor=f}}),en=L({"../node_modules/jiff/lib/InvalidPatchOperationError.js"(a,u){u.exports=f;function f(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}f.prototype=Object.create(Error.prototype),f.prototype.constructor=f}}),cn=L({"../node_modules/jiff/lib/PatchNotInvertibleError.js"(a,u){u.exports=f;function f(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}f.prototype=Object.create(Error.prototype),f.prototype.constructor=f}}),sn=L({"../node_modules/jiff/lib/patches.js"(a){var u=qe(),f=mt(),m=We(),b=Mt(),P=be(),B=dt(),O=en(),q=cn(),K=u.find,J=u.parseArrayIndex;a.test={apply:te,inverse:ne,commute:re},a.add={apply:ue,inverse:me,commute:De},a.remove={apply:Fe,inverse:gt,commute:Wt},a.replace={apply:Re,inverse:He,commute:Oe},a.move={apply:Tt,inverse:An,commute:jn},a.copy={apply:jt,inverse:xn,commute:De};function te(un,gn,Nr){var xi=K(un,gn.path,Nr.findContext,gn.context),ra=xi.target,fr,gr;if(Array.isArray(ra)?(fr=J(xi.key),gr=ra[fr]):gr=xi.key===void 0?xi.target:xi.target[xi.key],!m(gr,gn.value))throw new B("test failed "+JSON.stringify(gn));return un}function ne(un,gn){return un.push(gn),1}function re(un,gn){if(un.path===gn.path&&gn.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return gn.op==="test"||gn.op==="replace"?[gn,un]:b(un,gn)}function ue(un,gn,Nr){var xi=K(un,gn.path,Nr.findContext,gn.context);if(_r(xi))throw new O("path does not exist "+gn.path);if(gn.value===void 0)throw new O("missing value");var ra=f(gn.value);return xi.key===void 0?ra:(pe(xi,ra),un)}function pe(un,gn){var Nr=un.target;if(Array.isArray(Nr))if(un.key==="-")Nr.push(gn);else{if(un.key>Nr.length)throw new O("target of add outside of array bounds");Nr.splice(un.key,0,gn)}else if(si(Nr))Nr[un.key]=gn;else throw new O("target of add must be an object or array "+un.key)}function me(un,gn){var Nr=gn.context;return Nr!==void 0&&(Nr={before:Nr.before,after:P.cons(gn.value,Nr.after)}),un.push({op:"test",path:gn.path,value:gn.value,context:Nr}),un.push({op:"remove",path:gn.path,context:Nr}),1}function De(un,gn){if(un.path===gn.path&&gn.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return b(un,gn)}function Re(un,gn,Nr){var xi=K(un,gn.path,Nr.findContext,gn.context);if(_r(xi)||lr(xi))throw new O("path does not exist "+gn.path);if(gn.value===void 0)throw new O("missing value");var ra=f(gn.value);if(xi.key===void 0)return ra;var fr=xi.target;return Array.isArray(fr)?fr[J(xi.key)]=ra:fr[xi.key]=ra,un}function He(un,gn,Nr,xi){var ra=xi[Nr-1];if(ra===void 0||ra.op!=="test"||ra.path!==gn.path)throw new q("cannot invert replace w/o test");var fr=ra.context;return fr!==void 0&&(fr={before:fr.before,after:P.cons(ra.value,P.tail(fr.after))}),un.push({op:"test",path:ra.path,value:gn.value}),un.push({op:"replace",path:ra.path,value:ra.value}),2}function Oe(un,gn){if(un.path===gn.path&&gn.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return gn.op==="test"||gn.op==="replace"?[gn,un]:b(un,gn)}function Fe(un,gn,Nr){var xi=K(un,gn.path,Nr.findContext,gn.context);if(_r(xi)||xi.target[xi.key]===void 0)throw new O("path does not exist "+gn.path);return Qe(xi),un}function Qe(un){var gn=un.target,Nr;if(Array.isArray(gn))return Nr=gn.splice(J(un.key),1),Nr[0];if(si(gn))return Nr=gn[un.key],delete gn[un.key],Nr;throw new O("target of remove must be an object or array")}function gt(un,gn,Nr,xi){var ra=xi[Nr-1];if(ra===void 0||ra.op!=="test"||ra.path!==gn.path)throw new q("cannot invert remove w/o test");var fr=ra.context;return fr!==void 0&&(fr={before:fr.before,after:P.tail(fr.after)}),un.push({op:"add",path:ra.path,value:ra.value,context:fr}),2}function Wt(un,gn){return un.path===gn.path&&gn.op==="remove"?[gn,un]:b(un,gn)}function Tt(un,gn,Nr){if(u.contains(gn.path,gn.from))throw new O("move.from cannot be ancestor of move.path");var xi=K(un,gn.path,Nr.findContext,gn.context),ra=K(un,gn.from,Nr.findContext,gn.fromContext);return pe(xi,Qe(ra)),un}function An(un,gn){return un.push({op:"move",path:gn.from,context:gn.fromContext,from:gn.path,fromContext:gn.context}),1}function jn(un,gn){if(un.path===gn.path&&gn.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return b(un,gn)}function jt(un,gn,Nr){var xi=K(un,gn.path,Nr.findContext,gn.context),ra=K(un,gn.from,Nr.findContext,gn.fromContext);if(_r(ra)||lr(ra))throw new O("copy.from must exist");var fr=ra.target,gr;return Array.isArray(fr)?gr=fr[J(ra.key)]:gr=fr[ra.key],pe(xi,f(gr)),un}function xn(un,gn){throw new q("cannot invert "+gn.op)}function _r(un){return un===void 0||un.target==null&&un.key!==void 0}function lr(un){return un.key!==void 0&&un.target[un.key]===void 0}function si(un){return un!==null&&typeof un=="object"}}}),$e=L({"../node_modules/jiff/lib/jsonPatch.js"(a){var u=sn(),f=mt(),m=en();a.apply=P,a.applyInPlace=B,a.clone=f,a.isValidObject=q,a.defaultHash=O;var b={};function P(J,te,ne){return B(J,f(te),ne)}function B(J,te,ne){if(ne||(ne=b),!Array.isArray(J))return te;for(var re,ue,pe=0;pe<J.length;++pe){if(ue=J[pe],re=u[ue.op],re===void 0)throw new m("invalid op "+JSON.stringify(ue));te=re.apply(te,ue,ne)}return te}function O(J){return q(J)||K(J)?JSON.stringify(J):J}function q(J){return J!==null&&Object.prototype.toString.call(J)==="[object Object]"}function K(J){return Object.prototype.toString.call(J)==="[object Array]"}}}),Gt=L({"../node_modules/jiff/lib/inverse.js"(a,u){var f=sn();u.exports=function(P){var B=[],O,q;for(O=P.length-1;O>=0;O-=q)q=m(B,P[O],O,P);return B};function m(b,P,B,O){var q=f[P.op];return q!==void 0&&typeof q.inverse=="function"?q.inverse(b,P,B,O):1}}}),Ut=L({"../node_modules/jiff/jiff.js"(a){var u=Pe(),f=be(),m=$e(),b=Gt(),P=qe(),B=P.encodeSegment;a.diff=K,a.patch=m.apply,a.patchInPlace=m.applyInPlace,a.inverse=b,a.clone=m.clone,a.InvalidPatchOperationError=en(),a.TestFailedError=dt(),a.PatchNotInvertibleError=cn();var O=m.isValidObject,q=m.defaultHash;function K(He,Oe,Fe){return te(He,Oe,"",J(Fe,[])).patch}function J(He,Oe){return typeof He=="object"?{patch:Oe,hash:me(Re,He.hash,q),makeContext:me(Re,He.makeContext,De),invertible:He.invertible!==!1}:{patch:Oe,hash:me(Re,He,q),makeContext:De,invertible:!0}}function te(He,Oe,Fe,Qe){return Array.isArray(He)&&Array.isArray(Oe)?re(He,Oe,Fe,Qe):O(He)&&O(Oe)?ne(He,Oe,Fe,Qe):pe(He,Oe,Fe,Qe)}function ne(He,Oe,Fe,Qe){var gt=Object.keys(Oe),Wt=Qe.patch,Tt,An;for(Tt=gt.length-1;Tt>=0;--Tt){An=gt[Tt];var jn=Fe+"/"+B(An);He[An]!==void 0?te(He[An],Oe[An],jn,Qe):Wt.push({op:"add",path:jn,value:Oe[An]})}for(gt=Object.keys(He),Tt=gt.length-1;Tt>=0;--Tt)if(An=gt[Tt],Oe[An]===void 0){var jt=Fe+"/"+B(An);Qe.invertible&&Wt.push({op:"test",path:jt,value:He[An]}),Wt.push({op:"remove",path:jt})}return Qe}function re(He,Oe,Fe,Qe){var gt=f.map(Qe.hash,He),Wt=f.map(Qe.hash,Oe),Tt=u.compare(gt,Wt);return ue(He,Oe,Fe,Qe,Tt)}function ue(He,Oe,Fe,Qe,gt){var Wt=0;return u.reduce(function(Tt,An,jn,jt){var xn,_r,lr=Tt.patch,si=Fe+"/"+(jt+Wt);return An===u.REMOVE?(xn=lr[lr.length-1],_r=Tt.makeContext(jt,He),Tt.invertible&&lr.push({op:"test",path:si,value:He[jt],context:_r}),xn!==void 0&&xn.op==="add"&&xn.path===si?(xn.op="replace",xn.context=_r):lr.push({op:"remove",path:si,context:_r}),Wt-=1):An===u.ADD?(lr.push({op:"add",path:si,value:Oe[jn],context:Tt.makeContext(jt,He)}),Wt+=1):te(He[jt],Oe[jn],si,Tt),Tt},Qe,gt)}function pe(He,Oe,Fe,Qe){return He!==Oe&&(Qe.invertible&&Qe.patch.push({op:"test",path:Fe,value:He}),Qe.patch.push({op:"replace",path:Fe,value:Oe})),Qe}function me(He,Oe,Fe){return He(Oe)?Oe:Fe}function De(){}function Re(He){return typeof He=="function"}}}),Kt=L({"../node_modules/json-touch-patch/lib/utils/pluck.js"(a,u){function f(m,b){for(var P=0,B=b.length-1;P<B;P++){if(!m[b[P]])return null;m=m[b[P]]}return m}u.exports=f}}),Yt=L({"../node_modules/json-touch-patch/lib/utils/toKeys.js"(a,u){function f(b){return b==="~0"?"~":"/"}function m(b){var P=b.split("/");if(b.indexOf("~")===-1)return P;for(var B=0,O=P.length;B<O;B++)P[B].indexOf("~")!==-1&&(P[B]=P[B].replace(/~[01]/g,f));return P}u.exports=m}}),Cn=L({"../node_modules/json-touch-patch/lib/get.js"(a,u){var f=Kt(),m=Yt();function b(P,B){var O=m(B),q=O[O.length-1],K=f(P,O);return K?K[q]:void 0}u.exports=b}}),Dn=L({"../node_modules/json-touch-patch/lib/utils/deepEqual.js"(a,u){function f(m,b){if(m===b)return!0;if(!(m&&b)||typeof m!="object"||typeof b!="object"||m.length!==b.length)return!1;if(Array.isArray(m)){if(!Array.isArray(b))return!1;for(var P=0,B=m.length;P<B;P++)if(!f(m[P],b[P]))return!1;return!0}var O=Object.keys(m);if(O.length!==Object.keys(b).length)return!1;for(var q=0,K=O.length;q<K;q++){var J=O[q];if(!f(m[J],b[J]))return!1}return!0}u.exports=f}}),nr=L({"../node_modules/json-touch-patch/lib/utils/toArrayIndex.js"(a,u){function f(m,b){if(b==="-")return m.length;for(var P=0,B=b.length;P<B;P++){var O=b.charCodeAt(P);if(57<O||O<48)return 1/0}return+b}u.exports=f}}),dr=L({"../node_modules/json-touch-patch/lib/add.js"(a,u){var f=Dn(),m=Kt(),b=nr(),P=Yt();function B(O,q,K,J){if(typeof K>"u")return"[op:add] require value, but got undefined";var te=P(q),ne=te[te.length-1],re=m(O,te);if(re===null)return"[op:add] path not found: "+q;if(Array.isArray(re)){var ue=b(re,ne);if(re.length<ue)return"[op:add] invalid array index: "+q;J(O,te).splice(ue,0,K)}else f(re[ne],K)||(J(O,te)[ne]=K)}u.exports=B}}),Jr=L({"../node_modules/json-touch-patch/lib/remove.js"(a,u){var f=Kt(),m=nr(),b=Yt();function P(B,O,q){var K=b(O),J=K[K.length-1],te=f(B,K);if(te===null)return"[op:remove] path not found: "+O;if(Array.isArray(te)){var ne=m(te,J);if(te.length<=ne)return"[op:remove] invalid array index: "+O;q(B,K).splice(ne,1)}else delete q(B,K)[J]}u.exports=P}}),Hi=L({"../node_modules/json-touch-patch/lib/replace.js"(a,u){var f=Dn(),m=Kt(),b=nr(),P=Yt();function B(O,q,K,J){if(typeof K>"u")return"[op:replace] require value, but got undefined";var te=P(q),ne=te[te.length-1],re=m(O,te);if(re===null)return"[op:replace] path not found: "+q;if(Array.isArray(re)){var ue=b(re,ne);if(re.length<=ue)return"[op:replace] invalid array index: "+q;f(re[ue],K)||J(O,te).splice(ue,1,K)}else f(re[ne],K)||(J(O,te)[ne]=K)}u.exports=B}}),et=L({"../node_modules/json-touch-patch/lib/move.js"(a,u){var f=dr(),m=Kt(),b=nr(),P=Yt();function B(O,q,K,J){if(K!==q){var te=P(q),ne=te[te.length-1],re=m(O,te);if(re===null)return"[op:move] path not found: "+q;var ue=void 0;if(Array.isArray(re)){var pe=b(re,ne);if(re.length<=pe)return"[op:move] invalid array index: "+K;ue=re[pe],J(O,te).splice(pe,1)}else ue=re[ne],delete J(O,te)[ne];return f(O,K,ue,J)}}u.exports=B}}),Be=L({"../node_modules/json-touch-patch/lib/copy.js"(a,u){var f=Kt(),m=Yt(),b=dr();function P(B,O,q,K){var J=m(O),te=J[J.length-1],ne=f(B,J);return ne===null?"[op:copy] path not found: "+O:b(B,q,ne[te],K)}u.exports=P}}),Nt=L({"../node_modules/json-touch-patch/lib/test.js"(a,u){var f=Dn(),m=Kt(),b=Yt();function P(B,O,q){var K=b(O),J=K[K.length-1],te=m(B,K);if(te===null)return"[op:test] path not found: "+O;if(!f(te[J],q)){var ne=JSON.stringify(te[J]),re=JSON.stringify(q);return"[op:test] not matched: "+ne+" "+re}}u.exports=P}}),Pn=L({"../node_modules/json-touch-patch/lib/utils/shallowCopy.js"(a,u){function f(m){if(!m||typeof m!="object")return m;if(Array.isArray(m)){for(var b=m.length,P=new Array(b),B=0;B<b;B++)P[B]=m[B];return P}for(var O=Object.keys(m),q={},K=0,J=O.length;K<J;K++){var te=O[K];q[te]=m[te]}return q}u.exports=f}}),kn=L({"../node_modules/json-touch-patch/lib/utils/createAPI.js"(a,u){var f=Cn(),m=dr(),b=Jr(),P=Hi(),B=et(),O=Be(),q=Nt(),K=Dn(),J=Pn(),te=Yt();function ne(re,ue){return{get:function(pe){return f(re,pe)},add:function(pe,me){return m(re,pe,me,ue)},remove:function(pe){return b(re,pe,ue)},replace:function(pe,me){return P(re,pe,me,ue)},move:function(pe,me){return B(re,pe,me,ue)},copy:function(pe,me){return O(re,pe,me,ue)},test:function(pe,me){return q(re,pe,me)},deepEqual:K,shallowCopy:J,toKeys:te}}u.exports=ne}}),Nn=L({"../node_modules/json-touch-patch/lib/utils/exit.js"(a,u){function f(m,b,P,B){return B.error=P,B.partial?b[""]:m}u.exports=f}}),Ar=L({"../node_modules/json-touch-patch/lib/utils/toBoolean.js"(a,u){function f(m){return!!m}u.exports=f}}),Zn=L({"../node_modules/json-touch-patch/lib/utils/throwException.js"(a,u){function f(m){if(m)throw new TypeError(m)}u.exports=f}}),Je=L({"../node_modules/json-touch-patch/lib/utils/pluckWithShallowCopy.js"(a,u){var f=Pn();function m(b,P){for(var B=0,O=P.length-1;B<O;B++)b=b[P[B]]=f(b[P[B]]);return b}u.exports=m}}),Jt=L({"../node_modules/json-touch-patch/lib/utils/pluckWithCachedShallowCopy.js"(a,u){var f=Pn();function m(P,B,O){var q=P[B];return O.has(q)||(q=f(q),O.add(q)),q}function b(P,B,O){for(var q=0,K=B.length-1;q<K;q++)P=P[B[q]]=m(P,B[q],O);return P}u.exports=b}}),On=L({"../node_modules/json-touch-patch/lib/patch.js"(a,u){var f=kn(),m=Nn(),b=Ar(),P=Zn(),B=Je(),O=Jt(),q=dr(),K=Jr(),J=Hi(),te=et(),ne=Be(),re=Nt(),ue=Set||function(){var me=[];return me.has=function(De){return this.indexOf(De)!==-1},me.add=function(De){this.push(De)},me};function pe(me,De,Re){if(De.length===0)return me;Re=Re||{};for(var He=Re.strict?P:b,Oe=De.length===1?B:function(An){return function(jn,jt){return O(jn,jt,An)}}(new ue),Fe={"":me},Qe,gt=0,Wt=De.length;gt<Wt;gt++){var Tt=De[gt];switch(Tt.op){case"add":if(He(q(Fe,""+Tt.path,Tt.value,Oe)))return m(me,Fe,Tt,Re);break;case"remove":if(He(K(Fe,""+Tt.path,Oe)))return m(me,Fe,Tt,Re);break;case"replace":if(He(J(Fe,""+Tt.path,Tt.value,Oe)))return m(me,Fe,Tt,Re);break;case"move":if(He(te(Fe,""+Tt.from,""+Tt.path,Oe)))return m(me,Fe,Tt,Re);break;case"copy":if(He(ne(Fe,""+Tt.from,""+Tt.path,Oe)))return m(me,Fe,Tt,Re);break;case"test":if(He(re(Fe,""+Tt.path,Tt.value)))return m(me,Fe,Tt,Re);break;default:if(Re.custom&&Re.custom[Tt.op]){if(Qe=Qe||f(Fe,Oe),He(Re.custom[Tt.op](Qe,Tt,gt,De)))return m(me,Fe,Tt,Re)}else return He("[op:"+Tt.op+"] unknown"),m(me,Fe,Tt,Re);break}}return Fe[""]}u.exports=pe}}),Bn=L({"../node_modules/json-touch-patch/lib/index.js"(a,u){u.exports=On()}});function Wn(a){var u=a==null?0:a.length;return u?a[u-1]:void 0}var Yn,Dr=w({"../node_modules/lodash-es/last.js"(){Yn=Wn}});function cr(a){return function(f,m){return a(f,m())}}function ht(a){return Object.freeze({audience:Ot(a,8)?"internal":Ot(a,16)?"dev":"public",category:Ot(a,4)?"troubleshooting":Ot(a,2)?"todo":"general",level:Ot(a,512)?512:Ot(a,256)?256:Ot(a,128)?128:64})}function Ot(a,u){return(a&u)===u}function Rt(a,u){return((u&32)===32?!0:(u&16)===16?a.dev:(u&8)===8?a.internal:!1)&&a.min<=u}function ir(a=console,u={}){const f=R(T({},Sr),{includes:T({},Sr.includes)}),m={styled:Pa.bind(f,a),noStyle:ft.bind(f,a)},b=Li.bind(f);function P(){return f.loggingConsoleStyle&&f.loggerConsoleStyle?m.styled:m.noStyle}return f.create=P(),{configureLogger(B){var O;B==="console"?(f.loggerConsoleStyle=Sr.loggerConsoleStyle,f.create=P()):B.type==="console"?(f.loggerConsoleStyle=(O=B.style)!=null?O:Sr.loggerConsoleStyle,f.create=P()):B.type==="keyed"?(f.creatExt=q=>B.keyed(q.names),f.create=b):B.type==="named"&&(f.creatExt=hr.bind(null,B.named),f.create=b)},configureLogging(B){var O,q,K,J,te;f.includes.dev=(O=B.dev)!=null?O:Sr.includes.dev,f.includes.internal=(q=B.internal)!=null?q:Sr.includes.internal,f.includes.min=(K=B.min)!=null?K:Sr.includes.min,f.include=(J=B.include)!=null?J:Sr.include,f.loggingConsoleStyle=(te=B.consoleStyle)!=null?te:Sr.loggingConsoleStyle,f.create=P()},getLogger(){return f.create({names:[]})}}}function hr(a,u){const f=[];for(let{name:m,key:b}of u.names)f.push(b==null?m:`${m} (${b})`);return a(f)}function Li(a){const u=T(T({},this.includes),this.include(a)),f=this.filtered,m=this.named.bind(this,a),b=this.creatExt(a),P=Rt(u,524),B=Rt(u,522),O=Rt(u,521),q=Rt(u,529),K=Rt(u,545),J=Rt(u,265),te=Rt(u,268),ne=Rt(u,273),re=Rt(u,289),ue=Rt(u,137),pe=Rt(u,145),me=Rt(u,73),De=Rt(u,81),Re=P?b.error.bind(b,Kn._hmm):f.bind(a,524),He=B?b.error.bind(b,Kn._todo):f.bind(a,522),Oe=O?b.error.bind(b,Kn._error):f.bind(a,521),Fe=q?b.error.bind(b,Kn.errorDev):f.bind(a,529),Qe=K?b.error.bind(b,Kn.errorPublic):f.bind(a,545),gt=te?b.warn.bind(b,Kn._kapow):f.bind(a,268),Wt=J?b.warn.bind(b,Kn._warn):f.bind(a,265),Tt=ne?b.warn.bind(b,Kn.warnDev):f.bind(a,273),An=re?b.warn.bind(b,Kn.warnPublic):f.bind(a,273),jn=ue?b.debug.bind(b,Kn._debug):f.bind(a,137),jt=pe?b.debug.bind(b,Kn.debugDev):f.bind(a,145),xn=me?b.trace.bind(b,Kn._trace):f.bind(a,73),_r=De?b.trace.bind(b,Kn.traceDev):f.bind(a,81),lr={_hmm:Re,_todo:He,_error:Oe,errorDev:Fe,errorPublic:Qe,_kapow:gt,_warn:Wt,warnDev:Tt,warnPublic:An,_debug:jn,debugDev:jt,_trace:xn,traceDev:_r,lazy:{_hmm:P?cr(Re):Re,_todo:B?cr(He):He,_error:O?cr(Oe):Oe,errorDev:q?cr(Fe):Fe,errorPublic:K?cr(Qe):Qe,_kapow:te?cr(gt):gt,_warn:J?cr(Wt):Wt,warnDev:ne?cr(Tt):Tt,warnPublic:re?cr(An):An,_debug:ue?cr(jn):jn,debugDev:pe?cr(jt):jt,_trace:me?cr(xn):xn,traceDev:De?cr(_r):_r},named:m,utilFor:{internal(){return{debug:lr._debug,error:lr._error,warn:lr._warn,trace:lr._trace,named(si,un){return lr.named(si,un).utilFor.internal()}}},dev(){return{debug:lr.debugDev,error:lr.errorDev,warn:lr.warnDev,trace:lr.traceDev,named(si,un){return lr.named(si,un).utilFor.dev()}}},public(){return{error:lr.errorPublic,warn:lr.warnPublic,debug(si,un){lr._warn(`(public "debug" filtered out) ${si}`,un)},trace(si,un){lr._warn(`(public "trace" filtered out) ${si}`,un)},named(si,un){return lr.named(si,un).utilFor.public()}}}}};return lr}function Pa(a,u){const f=T(T({},this.includes),this.include(u)),m=[];let b="";for(let q=0;q<u.names.length;q++){const{name:K,key:J}=u.names[q];if(b+=` %c${K}`,m.push(this.style.css(K)),J!=null){const te=`%c#${J}`;b+=te,m.push(this.style.css(te))}}const P=this.filtered,B=this.named.bind(this,u),O=[b,...m];return kt(P,u,f,a,O,Ra(O),B)}function Ra(a){const u=a.slice(0);for(let f=1;f<u.length;f++)u[f]+=";background-color:#e0005a;padding:2px;color:white";return u}function ft(a,u){const f=T(T({},this.includes),this.include(u));let m="";for(let O=0;O<u.names.length;O++){const{name:q,key:K}=u.names[O];m+=` ${q}`,K!=null&&(m+=`#${K}`)}const b=this.filtered,P=this.named.bind(this,u),B=[m];return kt(b,u,f,a,B,B,P)}function kt(a,u,f,m,b,P,B){const O=Rt(f,524),q=Rt(f,522),K=Rt(f,521),J=Rt(f,529),te=Rt(f,545),ne=Rt(f,265),re=Rt(f,268),ue=Rt(f,273),pe=Rt(f,289),me=Rt(f,137),De=Rt(f,145),Re=Rt(f,73),He=Rt(f,81),Oe=O?m.error.bind(m,...b):a.bind(u,524),Fe=q?m.error.bind(m,...b):a.bind(u,522),Qe=K?m.error.bind(m,...b):a.bind(u,521),gt=J?m.error.bind(m,...b):a.bind(u,529),Wt=te?m.error.bind(m,...b):a.bind(u,545),Tt=re?m.warn.bind(m,...P):a.bind(u,268),An=ne?m.warn.bind(m,...b):a.bind(u,265),jn=ue?m.warn.bind(m,...b):a.bind(u,273),jt=pe?m.warn.bind(m,...b):a.bind(u,273),xn=me?m.info.bind(m,...b):a.bind(u,137),_r=De?m.info.bind(m,...b):a.bind(u,145),lr=Re?m.debug.bind(m,...b):a.bind(u,73),si=He?m.debug.bind(m,...b):a.bind(u,81),un={_hmm:Oe,_todo:Fe,_error:Qe,errorDev:gt,errorPublic:Wt,_kapow:Tt,_warn:An,warnDev:jn,warnPublic:jt,_debug:xn,debugDev:_r,_trace:lr,traceDev:si,lazy:{_hmm:O?cr(Oe):Oe,_todo:q?cr(Fe):Fe,_error:K?cr(Qe):Qe,errorDev:J?cr(gt):gt,errorPublic:te?cr(Wt):Wt,_kapow:re?cr(Tt):Tt,_warn:ne?cr(An):An,warnDev:ue?cr(jn):jn,warnPublic:pe?cr(jt):jt,_debug:me?cr(xn):xn,debugDev:De?cr(_r):_r,_trace:Re?cr(lr):lr,traceDev:He?cr(si):si},named:B,utilFor:{internal(){return{debug:un._debug,error:un._error,warn:un._warn,trace:un._trace,named(gn,Nr){return un.named(gn,Nr).utilFor.internal()}}},dev(){return{debug:un.debugDev,error:un.errorDev,warn:un.warnDev,trace:un.traceDev,named(gn,Nr){return un.named(gn,Nr).utilFor.dev()}}},public(){return{error:un.errorPublic,warn:un.warnPublic,debug(gn,Nr){un._warn(`(public "debug" filtered out) ${gn}`,Nr)},trace(gn,Nr){un._warn(`(public "trace" filtered out) ${gn}`,Nr)},named(gn,Nr){return un.named(gn,Nr).utilFor.public()}}}}};return un}var Bt,Un,Pr,yr,Kn,Sr,$n=w({"shared/src/_logger/logger.ts"(){(function(a){a[a.GENERAL=1]="GENERAL",a[a.TODO=2]="TODO",a[a.TROUBLESHOOTING=4]="TROUBLESHOOTING"})(Bt||(Bt={})),function(a){a[a.INTERNAL=8]="INTERNAL",a[a.DEV=16]="DEV",a[a.PUBLIC=32]="PUBLIC"}(Un||(Un={})),function(a){a[a.TRACE=64]="TRACE",a[a.DEBUG=128]="DEBUG",a[a.WARN=256]="WARN",a[a.ERROR=512]="ERROR"}(Pr||(Pr={})),function(a){a[a.ERROR_PUBLIC=545]="ERROR_PUBLIC",a[a.ERROR_DEV=529]="ERROR_DEV",a[a._HMM=524]="_HMM",a[a._TODO=522]="_TODO",a[a._ERROR=521]="_ERROR",a[a.WARN_PUBLIC=289]="WARN_PUBLIC",a[a.WARN_DEV=273]="WARN_DEV",a[a._KAPOW=268]="_KAPOW",a[a._WARN=265]="_WARN",a[a.DEBUG_DEV=145]="DEBUG_DEV",a[a._DEBUG=137]="_DEBUG",a[a.TRACE_DEV=81]="TRACE_DEV",a[a._TRACE=73]="_TRACE"}(yr||(yr={})),Kn={_hmm:ht(524),_todo:ht(522),_error:ht(521),errorDev:ht(529),errorPublic:ht(545),_kapow:ht(268),_warn:ht(265),warnDev:ht(273),warnPublic:ht(289),_debug:ht(137),debugDev:ht(145),_trace:ht(73),traceDev:ht(81)},Sr={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(a,u,f){return this.create({names:[...a.names,{name:u,key:f}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(a){if(a.length<5)return a;const u=a.replace(this.collapseOnRE,"");return this.cssMemo.has(u)||this.cssMemo.set(u,this.css(a)),u},css(a){var u,f,m,b;const P=this.cssMemo.get(a);if(P)return P;let B=`color:${(f=(u=this.color)==null?void 0:u.call(this,a))!=null?f:`hsl(${(a.charCodeAt(0)+a.charCodeAt(a.length-1))%360}, 100%, 60%)`}`;return(m=this.bold)!=null&&m.test(a)&&(B+=";font-weight:600"),(b=this.italic)!=null&&b.test(a)&&(B+=";font-style:italic"),this.cssMemo.set(a,B),B}}}}}),oa,Ir,ja=w({"shared/src/logger.ts"(){$n(),$n(),oa=ir(console,{_debug:function(){},_error:function(){}}),oa.configureLogging({dev:!0,min:Pr.TRACE}),Ir=oa.getLogger().named("Theatre.js (default logger)").utilFor.dev()}});function xa(a){const u=new WeakMap;return f=>(u.has(f)||u.set(f,a(f)),u.get(f))}var Ee=w({"shared/src/utils/memoizeFn.ts"(){}});function oe(a,u){return u.every((f,m)=>f===a[m])}function ke(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;f++)if(a[f]!==u[f])return!1;return!0}function Ze(a){var u;const f=[];for(;;){const m=f.length;let b=(u=a[0])==null?void 0:u[m];if(b===void 0)return f;for(const P of a)if(b!==P[m])return f;f.push(b)}}var Xe,rt,It=w({"shared/src/utils/addresses.ts"(){Ee(),Xe=xa(a=>JSON.stringify(a)),rt=a=>JSON.parse(a)}}),Dt,ln,dn=w({"../node_modules/lodash-es/_freeGlobal.js"(){Dt=typeof Jd=="object"&&Jd&&Jd.Object===Object&&Jd,ln=Dt}}),_n,$t,Rn,wn=w({"../node_modules/lodash-es/_root.js"(){dn(),_n=typeof self=="object"&&self&&self.Object===Object&&self,$t=ln||_n||Function("return this")(),Rn=$t}}),er,tr,Tr=w({"../node_modules/lodash-es/_Symbol.js"(){wn(),er=Rn.Symbol,tr=er}});function Wr(a){var u=Rr.call(a,pi),f=a[pi];try{a[pi]=void 0;var m=!0}catch{}var b=Or.call(a);return m&&(u?a[pi]=f:delete a[pi]),b}var pr,Rr,Or,pi,ji,ti=w({"../node_modules/lodash-es/_getRawTag.js"(){Tr(),pr=Object.prototype,Rr=pr.hasOwnProperty,Or=pr.toString,pi=tr?tr.toStringTag:void 0,ji=Wr}});function ki(a){return Fi.call(a)}var Ni,Fi,no,mi=w({"../node_modules/lodash-es/_objectToString.js"(){Ni=Object.prototype,Fi=Ni.toString,no=ki}});function yi(a){return a==null?a===void 0?ca:Ki:Da&&Da in Object(a)?ji(a):no(a)}var Ki,ca,Da,co,ko=w({"../node_modules/lodash-es/_baseGetTag.js"(){Tr(),ti(),mi(),Ki="[object Null]",ca="[object Undefined]",Da=tr?tr.toStringTag:void 0,co=yi}});function ll(a){return a!=null&&typeof a=="object"}var Ss,ul=w({"../node_modules/lodash-es/isObjectLike.js"(){Ss=ll}});function El(a){return typeof a=="symbol"||Ss(a)&&co(a)==ou}var ou,Gl,Bc=w({"../node_modules/lodash-es/isSymbol.js"(){ko(),ul(),ou="[object Symbol]",Gl=El}});function Qh(a,u){for(var f=-1,m=a==null?0:a.length,b=Array(m);++f<m;)b[f]=u(a[f],f,a);return b}var of,Iu=w({"../node_modules/lodash-es/_arrayMap.js"(){of=Qh}}),Jh,xs,Pi=w({"../node_modules/lodash-es/isArray.js"(){Jh=Array.isArray,xs=Jh}});function hd(a){if(typeof a=="string")return a;if(xs(a))return of(a,hd)+"";if(Gl(a))return Vp?Vp.call(a):"";var u=a+"";return u=="0"&&1/a==-oh?"-0":u}var oh,Lc,Vp,Zh,ws=w({"../node_modules/lodash-es/_baseToString.js"(){Tr(),Iu(),Pi(),Bc(),oh=1/0,Lc=tr?tr.prototype:void 0,Vp=Lc?Lc.toString:void 0,Zh=hd}});function Ga(a){for(var u=a.length;u--&&Vl.test(a.charAt(u)););return u}var Vl,pd,sf=w({"../node_modules/lodash-es/_trimmedEndIndex.js"(){Vl=/\s/,pd=Ga}});function su(a){return a&&a.slice(0,pd(a)+1).replace(Wl,"")}var Wl,sh,Do=w({"../node_modules/lodash-es/_baseTrim.js"(){sf(),Wl=/^\s+/,sh=su}});function Ks(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}var Oo,fo=w({"../node_modules/lodash-es/isObject.js"(){Oo=Ks}});function md(a){if(typeof a=="number")return a;if(Gl(a))return bl;if(Oo(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=Oo(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=sh(a);var f=oc.test(a);return f||Tv.test(a)?Wo(a.slice(2),f?2:8):Im.test(a)?bl:+a}var bl,Im,oc,Tv,Wo,Nc,Es=w({"../node_modules/lodash-es/toNumber.js"(){Do(),fo(),Bc(),bl=0/0,Im=/^[-+]0x[0-9a-f]+$/i,oc=/^0b[01]+$/i,Tv=/^0o[0-7]+$/i,Wo=parseInt,Nc=md}});function vd(a){if(!a)return a===0?a:0;if(a=Nc(a),a===Ps||a===-Ps){var u=a<0?-1:1;return u*Rs}return a===a?a:0}var Ps,Rs,sc,Kl=w({"../node_modules/lodash-es/toFinite.js"(){Es(),Ps=1/0,Rs=17976931348623157e292,sc=vd}});function Nf(a){var u=sc(a),f=u%1;return u===u?f?u-f:u:0}var ku,ql=w({"../node_modules/lodash-es/toInteger.js"(){Kl(),ku=Nf}});function Xl(a){return a}var wa,yo=w({"../node_modules/lodash-es/identity.js"(){wa=Xl}});function _o(a){if(!Oo(a))return!1;var u=co(a);return u==gd||u==So||u==Cl||u==Is}var Cl,gd,So,Is,bs,Ff=w({"../node_modules/lodash-es/isFunction.js"(){ko(),fo(),Cl="[object AsyncFunction]",gd="[object Function]",So="[object GeneratorFunction]",Is="[object Proxy]",bs=_o}}),lc,Fc,yd=w({"../node_modules/lodash-es/_coreJsData.js"(){wn(),lc=Rn["__core-js_shared__"],Fc=lc}});function lh(a){return!!uc&&uc in a}var uc,Wp,km=w({"../node_modules/lodash-es/_isMasked.js"(){yd(),uc=function(){var a=/[^.]+$/.exec(Fc&&Fc.keys&&Fc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Wp=lh}});function Uf(a){if(a!=null){try{return Du.call(a)}catch{}try{return a+""}catch{}}return""}var lf,Du,os,uf=w({"../node_modules/lodash-es/_toSource.js"(){lf=Function.prototype,Du=lf.toString,os=Uf}});function uh(a){if(!Oo(a)||Wp(a))return!1;var u=bs(a)?lu:cl;return u.test(os(a))}var ks,cl,fl,Bo,dl,$a,lu,cf,ff=w({"../node_modules/lodash-es/_baseIsNative.js"(){Ff(),km(),fo(),uf(),ks=/[\\^$.*+?()[\]{}|]/g,cl=/^\[object .+?Constructor\]$/,fl=Function.prototype,Bo=Object.prototype,dl=fl.toString,$a=Bo.hasOwnProperty,lu=RegExp("^"+dl.call($a).replace(ks,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cf=uh}});function qs(a,u){return a==null?void 0:a[u]}var Xs,vi=w({"../node_modules/lodash-es/_getValue.js"(){Xs=qs}});function Ou(a,u){var f=Xs(a,u);return cf(f)?f:void 0}var Qa,Ds=w({"../node_modules/lodash-es/_getNative.js"(){ff(),vi(),Qa=Ou}}),ss,Oa,ep=w({"../node_modules/lodash-es/_WeakMap.js"(){Ds(),wn(),ss=Qa(Rn,"WeakMap"),Oa=ss}});function _d(a,u,f){switch(f.length){case 0:return a.call(u);case 1:return a.call(u,f[0]);case 2:return a.call(u,f[0],f[1]);case 3:return a.call(u,f[0],f[1],f[2])}return a.apply(u,f)}var Bu,cc=w({"../node_modules/lodash-es/_apply.js"(){Bu=_d}});function ch(){}var Os,zf=w({"../node_modules/lodash-es/noop.js"(){Os=ch}});function fh(a,u){var f=-1,m=a.length;for(u||(u=Array(m));++f<m;)u[f]=a[f];return u}var Al,fc=w({"../node_modules/lodash-es/_copyArray.js"(){Al=fh}});function Ja(a){var u=0,f=0;return function(){var m=Lu(),b=ga-(m-f);if(f=m,b>0){if(++u>=ro)return arguments[0]}else u=0;return a.apply(void 0,arguments)}}var ro,ga,Lu,To,xo=w({"../node_modules/lodash-es/_shortOut.js"(){ro=800,ga=16,Lu=Date.now,To=Ja}});function Yl(a){return function(){return a}}var uu,dc=w({"../node_modules/lodash-es/constant.js"(){uu=Yl}}),Nu,sa,hc=w({"../node_modules/lodash-es/_defineProperty.js"(){Ds(),Nu=function(){try{var a=Qa(Object,"defineProperty");return a({},"",{}),a}catch{}}(),sa=Nu}}),df,tp,np=w({"../node_modules/lodash-es/_baseSetToString.js"(){dc(),hc(),yo(),df=sa?function(a,u){return sa(a,"toString",{configurable:!0,enumerable:!1,value:uu(u),writable:!0})}:wa,tp=df}}),$l,cu,Ai=w({"../node_modules/lodash-es/_setToString.js"(){np(),xo(),$l=To(tp),cu=$l}});function Ys(a,u,f,m){for(var b=a.length,P=f+(m?1:-1);m?P--:++P<b;)if(u(a[P],P,a))return P;return-1}var Ba,xe=w({"../node_modules/lodash-es/_baseFindIndex.js"(){Ba=Ys}});function Ye(a){return a!==a}var vt,nn=w({"../node_modules/lodash-es/_baseIsNaN.js"(){vt=Ye}});function Er(a,u,f){for(var m=f-1,b=a.length;++m<b;)if(a[m]===u)return m;return-1}var Ti,Ko=w({"../node_modules/lodash-es/_strictIndexOf.js"(){Ti=Er}});function Fu(a,u,f){return u===u?Ti(a,u,f):Ba(a,vt,f)}var $s,ls=w({"../node_modules/lodash-es/_baseIndexOf.js"(){xe(),nn(),Ko(),$s=Fu}});function pc(a,u){var f=a==null?0:a.length;return!!f&&$s(a,u,0)>-1}var dh,Sd=w({"../node_modules/lodash-es/_arrayIncludes.js"(){ls(),dh=pc}});function Kp(a,u){var f=typeof a;return u=u??Dm,!!u&&(f=="number"||f!="symbol"&&Mv.test(a))&&a>-1&&a%1==0&&a<u}var Dm,Mv,rp,la=w({"../node_modules/lodash-es/_isIndex.js"(){Dm=9007199254740991,Mv=/^(?:0|[1-9]\d*)$/,rp=Kp}});function Tl(a,u,f){u=="__proto__"&&sa?sa(a,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[u]=f}var hh,Hf=w({"../node_modules/lodash-es/_baseAssignValue.js"(){hc(),hh=Tl}});function Pv(a,u){return a===u||a!==a&&u!==u}var hf,Uu=w({"../node_modules/lodash-es/eq.js"(){hf=Pv}});function ph(a,u,f){var m=a[u];(!(qp.call(a,u)&&hf(m,f))||f===void 0&&!(u in a))&&hh(a,u,f)}var Uc,qp,ip,ap=w({"../node_modules/lodash-es/_assignValue.js"(){Hf(),Uu(),Uc=Object.prototype,qp=Uc.hasOwnProperty,ip=ph}});function Om(a,u,f){return u=op(u===void 0?a.length-1:u,0),function(){for(var m=arguments,b=-1,P=op(m.length-u,0),B=Array(P);++b<P;)B[b]=m[u+b];b=-1;for(var O=Array(u+1);++b<u;)O[b]=m[b];return O[u]=f(B),Bu(a,this,O)}}var op,Xp,Rv=w({"../node_modules/lodash-es/_overRest.js"(){cc(),op=Math.max,Xp=Om}});function b0(a,u){return cu(Xp(a,u,wa),a+"")}var mh,vh=w({"../node_modules/lodash-es/_baseRest.js"(){yo(),Rv(),Ai(),mh=b0}});function jf(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=zu}var zu,xd,pf=w({"../node_modules/lodash-es/isLength.js"(){zu=9007199254740991,xd=jf}});function zc(a){return a!=null&&xd(a.length)&&!bs(a)}var Hu,Gf=w({"../node_modules/lodash-es/isArrayLike.js"(){Ff(),pf(),Hu=zc}});function Yp(a,u,f){if(!Oo(f))return!1;var m=typeof u;return(m=="number"?Hu(f)&&rp(u,f.length):m=="string"&&u in f)?hf(f[u],a):!1}var wd,sp=w({"../node_modules/lodash-es/_isIterateeCall.js"(){Uu(),Gf(),la(),fo(),wd=Yp}});function Vf(a){var u=a&&a.constructor,f=typeof u=="function"&&u.prototype||lp;return a===f}var lp,io,Bm=w({"../node_modules/lodash-es/_isPrototype.js"(){lp=Object.prototype,io=Vf}});function gh(a,u){for(var f=-1,m=Array(a);++f<a;)m[f]=u(f);return m}var Wf,ho=w({"../node_modules/lodash-es/_baseTimes.js"(){Wf=gh}});function La(a){return Ss(a)&&co(a)==fu}var fu,us,Cs=w({"../node_modules/lodash-es/_baseIsArguments.js"(){ko(),ul(),fu="[object Arguments]",us=La}}),mc,Hc,hl,Kf,cs,$p=w({"../node_modules/lodash-es/isArguments.js"(){Cs(),ul(),mc=Object.prototype,Hc=mc.hasOwnProperty,hl=mc.propertyIsEnumerable,Kf=us(function(){return arguments}())?us:function(a){return Ss(a)&&Hc.call(a,"callee")&&!hl.call(a,"callee")},cs=Kf}});function Qp(){return!1}var Ql,Qs=w({"../node_modules/lodash-es/stubFalse.js"(){Ql=Qp}}),mf,yh,Lm,Ed,Jp,_h,qf,up=w({"../node_modules/lodash-es/isBuffer.js"(){wn(),Qs(),mf=e&&!e.nodeType&&e,yh=mf&&!0&&t&&!t.nodeType&&t,Lm=yh&&yh.exports===mf,Ed=Lm?Rn.Buffer:void 0,Jp=Ed?Ed.isBuffer:void 0,_h=Jp||Ql,qf=_h}});function bd(a){return Ss(a)&&xd(a.length)&&!!Na[co(a)]}var Sh,xh,wh,Nm,Eh,Zp,vf,bh,Cd,cp,Bs,Gr,Ml,wo,Lo,qo,Fm,Qn,pl,jc,Xf,Gc,vc,Yf,Na,em,Jl=w({"../node_modules/lodash-es/_baseIsTypedArray.js"(){ko(),pf(),ul(),Sh="[object Arguments]",xh="[object Array]",wh="[object Boolean]",Nm="[object Date]",Eh="[object Error]",Zp="[object Function]",vf="[object Map]",bh="[object Number]",Cd="[object Object]",cp="[object RegExp]",Bs="[object Set]",Gr="[object String]",Ml="[object WeakMap]",wo="[object ArrayBuffer]",Lo="[object DataView]",qo="[object Float32Array]",Fm="[object Float64Array]",Qn="[object Int8Array]",pl="[object Int16Array]",jc="[object Int32Array]",Xf="[object Uint8Array]",Gc="[object Uint8ClampedArray]",vc="[object Uint16Array]",Yf="[object Uint32Array]",Na={},Na[qo]=Na[Fm]=Na[Qn]=Na[pl]=Na[jc]=Na[Xf]=Na[Gc]=Na[vc]=Na[Yf]=!0,Na[Sh]=Na[xh]=Na[wo]=Na[wh]=Na[Lo]=Na[Nm]=Na[Eh]=Na[Zp]=Na[vf]=Na[bh]=Na[Cd]=Na[cp]=Na[Bs]=Na[Gr]=Na[Ml]=!1,em=bd}});function wr(a){return function(u){return a(u)}}var du,Ad=w({"../node_modules/lodash-es/_baseUnary.js"(){du=wr}}),ju,fs,hu,$f,Qf,Td,Vc=w({"../node_modules/lodash-es/_nodeUtil.js"(){dn(),ju=e&&!e.nodeType&&e,fs=ju&&!0&&t&&!t.nodeType&&t,hu=fs&&fs.exports===ju,$f=hu&&ln.process,Qf=function(){try{var a=fs&&fs.require&&fs.require("util").types;return a||$f&&$f.binding&&$f.binding("util")}catch{}}(),Td=Qf}}),Wc,Ch,Md,gc=w({"../node_modules/lodash-es/isTypedArray.js"(){Jl(),Ad(),Vc(),Wc=Td&&Td.isTypedArray,Ch=Wc?du(Wc):em,Md=Ch}});function fp(a,u){var f=xs(a),m=!f&&cs(a),b=!f&&!m&&qf(a),P=!f&&!m&&!b&&Md(a),B=f||m||b||P,O=B?Wf(a.length,String):[],q=O.length;for(var K in a)(u||yc.call(a,K))&&!(B&&(K=="length"||b&&(K=="offset"||K=="parent")||P&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||rp(K,q)))&&O.push(K);return O}var gf,yc,Xo,Gu=w({"../node_modules/lodash-es/_arrayLikeKeys.js"(){ho(),$p(),Pi(),up(),la(),gc(),gf=Object.prototype,yc=gf.hasOwnProperty,Xo=fp}});function _c(a,u){return function(f){return a(u(f))}}var Sc,Pl=w({"../node_modules/lodash-es/_overArg.js"(){Sc=_c}}),Pd,ml,Ah=w({"../node_modules/lodash-es/_nativeKeys.js"(){Pl(),Pd=Sc(Object.keys,Object),ml=Pd}});function dp(a){if(!io(a))return ml(a);var u=[];for(var f in Object(a))Th.call(a,f)&&f!="constructor"&&u.push(f);return u}var Rd,Th,Kc,Mo=w({"../node_modules/lodash-es/_baseKeys.js"(){Bm(),Ah(),Rd=Object.prototype,Th=Rd.hasOwnProperty,Kc=dp}});function Ri(a){return Hu(a)?Xo(a):Kc(a)}var Di,Eo=w({"../node_modules/lodash-es/keys.js"(){Gu(),Mo(),Gf(),Di=Ri}});function Za(a,u){if(xs(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||Gl(a)?!0:Zl.test(a)||!As.test(a)||u!=null&&a in Object(u)}var As,Zl,No,Id=w({"../node_modules/lodash-es/_isKey.js"(){Pi(),Bc(),As=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zl=/^\w*$/,No=Za}}),pu,Jf,kd=w({"../node_modules/lodash-es/_nativeCreate.js"(){Ds(),pu=Qa(Object,"create"),Jf=pu}});function Ls(){this.__data__=Jf?Jf(null):{},this.size=0}var Yo,tm=w({"../node_modules/lodash-es/_hashClear.js"(){kd(),Yo=Ls}});function hp(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}var Js,mu=w({"../node_modules/lodash-es/_hashDelete.js"(){Js=hp}});function $o(a){var u=this.__data__;if(Jf){var f=u[a];return f===Fo?void 0:f}return vu.call(u,a)?u[a]:void 0}var Fo,Qo,vu,yf,Zs=w({"../node_modules/lodash-es/_hashGet.js"(){kd(),Fo="__lodash_hash_undefined__",Qo=Object.prototype,vu=Qo.hasOwnProperty,yf=$o}});function pp(a){var u=this.__data__;return Jf?u[a]!==void 0:gu.call(u,a)}var Mh,gu,Jo,el=w({"../node_modules/lodash-es/_hashHas.js"(){kd(),Mh=Object.prototype,gu=Mh.hasOwnProperty,Jo=pp}});function po(a,u){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=Jf&&u===void 0?xc:u,this}var xc,eu,qc=w({"../node_modules/lodash-es/_hashSet.js"(){kd(),xc="__lodash_hash_undefined__",eu=po}});function wc(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var m=a[u];this.set(m[0],m[1])}}var Vu,mp=w({"../node_modules/lodash-es/_Hash.js"(){tm(),mu(),Zs(),el(),qc(),wc.prototype.clear=Yo,wc.prototype.delete=Js,wc.prototype.get=yf,wc.prototype.has=Jo,wc.prototype.set=eu,Vu=wc}});function Xc(){this.__data__=[],this.size=0}var Dd,Um=w({"../node_modules/lodash-es/_listCacheClear.js"(){Dd=Xc}});function nm(a,u){for(var f=a.length;f--;)if(hf(a[f][0],u))return f;return-1}var Ec,_f=w({"../node_modules/lodash-es/_assocIndexOf.js"(){Uu(),Ec=nm}});function bg(a){var u=this.__data__,f=Ec(u,a);if(f<0)return!1;var m=u.length-1;return f==m?u.pop():C.call(u,f,1),--this.size,!0}var zm,C,M,z=w({"../node_modules/lodash-es/_listCacheDelete.js"(){_f(),zm=Array.prototype,C=zm.splice,M=bg}});function ae(a){var u=this.__data__,f=Ec(u,a);return f<0?void 0:u[f][1]}var ce,Me=w({"../node_modules/lodash-es/_listCacheGet.js"(){_f(),ce=ae}});function ot(a){return Ec(this.__data__,a)>-1}var yt,pn=w({"../node_modules/lodash-es/_listCacheHas.js"(){_f(),yt=ot}});function qn(a,u){var f=this.__data__,m=Ec(f,a);return m<0?(++this.size,f.push([a,u])):f[m][1]=u,this}var ui,oi=w({"../node_modules/lodash-es/_listCacheSet.js"(){_f(),ui=qn}});function rr(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var m=a[u];this.set(m[0],m[1])}}var Fa,eo=w({"../node_modules/lodash-es/_ListCache.js"(){Um(),z(),Me(),pn(),oi(),rr.prototype.clear=Dd,rr.prototype.delete=M,rr.prototype.get=ce,rr.prototype.has=yt,rr.prototype.set=ui,Fa=rr}}),yu,Ht,wt=w({"../node_modules/lodash-es/_Map.js"(){Ds(),wn(),yu=Qa(Rn,"Map"),Ht=yu}});function hn(){this.size=0,this.__data__={hash:new Vu,map:new(Ht||Fa),string:new Vu}}var Cr,Xr=w({"../node_modules/lodash-es/_mapCacheClear.js"(){mp(),eo(),wt(),Cr=hn}});function Wa(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}var ci,Ea=w({"../node_modules/lodash-es/_isKeyable.js"(){ci=Wa}});function Zo(a,u){var f=a.__data__;return ci(u)?f[typeof u=="string"?"string":"hash"]:f.map}var ta,Yc=w({"../node_modules/lodash-es/_getMapData.js"(){Ea(),ta=Zo}});function Cg(a){var u=ta(this,a).delete(a);return this.size-=u?1:0,u}var Ag,jy=w({"../node_modules/lodash-es/_mapCacheDelete.js"(){Yc(),Ag=Cg}});function Ph(a){return ta(this,a).get(a)}var Tg,Gy=w({"../node_modules/lodash-es/_mapCacheGet.js"(){Yc(),Tg=Ph}});function U1(a){return ta(this,a).has(a)}var _,E=w({"../node_modules/lodash-es/_mapCacheHas.js"(){Yc(),_=U1}});function H(a,u){var f=ta(this,a),m=f.size;return f.set(a,u),this.size+=f.size==m?0:1,this}var Y,ie=w({"../node_modules/lodash-es/_mapCacheSet.js"(){Yc(),Y=H}});function ve(a){var u=-1,f=a==null?0:a.length;for(this.clear();++u<f;){var m=a[u];this.set(m[0],m[1])}}var at,bt=w({"../node_modules/lodash-es/_MapCache.js"(){Xr(),jy(),Gy(),E(),ie(),ve.prototype.clear=Cr,ve.prototype.delete=Ag,ve.prototype.get=Tg,ve.prototype.has=_,ve.prototype.set=Y,at=ve}});function mn(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new TypeError(ar);var f=function(){var m=arguments,b=u?u.apply(this,m):m[0],P=f.cache;if(P.has(b))return P.get(b);var B=a.apply(this,m);return f.cache=P.set(b,B)||P,B};return f.cache=new(mn.Cache||at),f}var ar,Ur,qi=w({"../node_modules/lodash-es/memoize.js"(){bt(),ar="Expected a function",mn.Cache=at,Ur=mn}});function _i(a){var u=Ur(a,function(m){return f.size===ao&&f.clear(),m}),f=u.cache;return u}var ao,Zr,_u=w({"../node_modules/lodash-es/_memoizeCapped.js"(){qi(),ao=500,Zr=_i}}),bc,qt,Pt,rn,Mr=w({"../node_modules/lodash-es/_stringToPath.js"(){_u(),bc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qt=/\\(\\)?/g,Pt=Zr(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(bc,function(f,m,b,P){u.push(b?P.replace(qt,"$1"):m||f)}),u}),rn=Pt}});function ni(a){return a==null?"":Zh(a)}var Xi,Yi=w({"../node_modules/lodash-es/toString.js"(){ws(),Xi=ni}});function Ka(a,u){return xs(a)?a:No(a,u)?[a]:rn(Xi(a))}var ds,ya=w({"../node_modules/lodash-es/_castPath.js"(){Pi(),Id(),Mr(),Yi(),ds=Ka}});function Si(a){if(typeof a=="string"||Gl(a))return a;var u=a+"";return u=="0"&&1/a==-Wu?"-0":u}var Wu,Ns,Rl=w({"../node_modules/lodash-es/_toKey.js"(){Bc(),Wu=1/0,Ns=Si}});function Mg(a,u){u=ds(u,a);for(var f=0,m=u.length;a!=null&&f<m;)a=a[Ns(u[f++])];return f&&f==m?a:void 0}var C0,Su=w({"../node_modules/lodash-es/_baseGet.js"(){ya(),Rl(),C0=Mg}});function z1(a,u,f){var m=a==null?void 0:C0(a,u);return m===void 0?f:m}var Rh,Hm=w({"../node_modules/lodash-es/get.js"(){Su(),Rh=z1}});function A0(a,u){for(var f=-1,m=u.length,b=a.length;++f<m;)a[b+f]=u[f];return a}var Vy,H1=w({"../node_modules/lodash-es/_arrayPush.js"(){Vy=A0}});function Jx(a){return xs(a)||cs(a)||!!(Wy&&a&&a[Wy])}var Wy,Pg,Qr=w({"../node_modules/lodash-es/_isFlattenable.js"(){Tr(),$p(),Pi(),Wy=tr?tr.isConcatSpreadable:void 0,Pg=Jx}});function T0(a,u,f,m,b){var P=-1,B=a.length;for(f||(f=Pg),b||(b=[]);++P<B;){var O=a[P];u>0&&f(O)?u>1?T0(O,u-1,f,m,b):Vy(b,O):m||(b[b.length]=O)}return b}var j1,rm=w({"../node_modules/lodash-es/_baseFlatten.js"(){H1(),Qr(),j1=T0}}),jm,M0,Ky=w({"../node_modules/lodash-es/_getPrototype.js"(){Pl(),jm=Sc(Object.getPrototypeOf,Object),M0=jm}});function Zx(a){if(!Ss(a)||co(a)!=G1)return!1;var u=M0(a);if(u===null)return!0;var f=Xy.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&qy.call(f)==am}var G1,im,P0,qy,Xy,am,Rg,Iv=w({"../node_modules/lodash-es/isPlainObject.js"(){ko(),Ky(),ul(),G1="[object Object]",im=Function.prototype,P0=Object.prototype,qy=im.toString,Xy=P0.hasOwnProperty,am=qy.call(Object),Rg=Zx}});function V1(a){var u=Math[a];return function(f,m){if(f=Nc(f),m=m==null?0:Gm(ku(m),292),m&&Zf(f)){var b=(Xi(f)+"e").split("e"),P=u(b[0]+"e"+(+b[1]+m));return b=(Xi(P)+"e").split("e"),+(b[0]+"e"+(+b[1]-m))}return u(f)}}var Zf,Gm,Vm,W1=w({"../node_modules/lodash-es/_createRound.js"(){wn(),ql(),Es(),Yi(),Zf=Rn.isFinite,Gm=Math.min,Vm=V1}});function Ih(a,u,f){return a===a&&(f!==void 0&&(a=a<=f?a:f),u!==void 0&&(a=a>=u?a:u)),a}var ew,R0=w({"../node_modules/lodash-es/_baseClamp.js"(){ew=Ih}});function tw(a,u,f){return f===void 0&&(f=u,u=void 0),f!==void 0&&(f=Nc(f),f=f===f?f:0),u!==void 0&&(u=Nc(u),u=u===u?u:0),ew(Nc(a),u,f)}var tl,Yy=w({"../node_modules/lodash-es/clamp.js"(){R0(),Es(),tl=tw}});function Wb(){this.__data__=new Fa,this.size=0}var I0,nw=w({"../node_modules/lodash-es/_stackClear.js"(){eo(),I0=Wb}});function k0(a){var u=this.__data__,f=u.delete(a);return this.size=u.size,f}var K1,Kb=w({"../node_modules/lodash-es/_stackDelete.js"(){K1=k0}});function $y(a){return this.__data__.get(a)}var qb,gP=w({"../node_modules/lodash-es/_stackGet.js"(){qb=$y}});function Xb(a){return this.__data__.has(a)}var rw,Wm=w({"../node_modules/lodash-es/_stackHas.js"(){rw=Xb}});function iw(a,u){var f=this.__data__;if(f instanceof Fa){var m=f.__data__;if(!Ht||m.length<Yb-1)return m.push([a,u]),this.size=++f.size,this;f=this.__data__=new at(m)}return f.set(a,u),this.size=f.size,this}var Yb,om,$b=w({"../node_modules/lodash-es/_stackSet.js"(){eo(),wt(),bt(),Yb=200,om=iw}});function kv(a){var u=this.__data__=new Fa(a);this.size=u.size}var Qy,q1=w({"../node_modules/lodash-es/_Stack.js"(){eo(),nw(),Kb(),gP(),Wm(),$b(),kv.prototype.clear=I0,kv.prototype.delete=K1,kv.prototype.get=qb,kv.prototype.has=rw,kv.prototype.set=om,Qy=kv}});function Km(a,u){for(var f=-1,m=a==null?0:a.length,b=0,P=[];++f<m;){var B=a[f];u(B,f,a)&&(P[b++]=B)}return P}var Qb,yP=w({"../node_modules/lodash-es/_arrayFilter.js"(){Qb=Km}});function Jb(){return[]}var aw,kh=w({"../node_modules/lodash-es/stubArray.js"(){aw=Jb}}),X1,Zb,vp,Jy,Ig,ow=w({"../node_modules/lodash-es/_getSymbols.js"(){yP(),kh(),X1=Object.prototype,Zb=X1.propertyIsEnumerable,vp=Object.getOwnPropertySymbols,Jy=vp?function(a){return a==null?[]:(a=Object(a),Qb(vp(a),function(u){return Zb.call(a,u)}))}:aw,Ig=Jy}});function sw(a,u,f){var m=u(a);return xs(a)?m:Vy(m,f(a))}var Dv,_P=w({"../node_modules/lodash-es/_baseGetAllKeys.js"(){H1(),Pi(),Dv=sw}});function SP(a){return Dv(a,Di,Ig)}var qm,Zy=w({"../node_modules/lodash-es/_getAllKeys.js"(){_P(),ow(),Eo(),qm=SP}}),lw,D0,hs=w({"../node_modules/lodash-es/_DataView.js"(){Ds(),wn(),lw=Qa(Rn,"DataView"),D0=lw}}),e_,Xm,O0=w({"../node_modules/lodash-es/_Promise.js"(){Ds(),wn(),e_=Qa(Rn,"Promise"),Xm=e_}}),B0,tu,ed=w({"../node_modules/lodash-es/_Set.js"(){Ds(),wn(),B0=Qa(Rn,"Set"),tu=B0}}),Od,es,Sf,p,y,k,X,se,Ae,Ue,tt,pt,on,zr=w({"../node_modules/lodash-es/_getTag.js"(){hs(),wt(),O0(),ed(),ep(),ko(),uf(),Od="[object Map]",es="[object Object]",Sf="[object Promise]",p="[object Set]",y="[object WeakMap]",k="[object DataView]",X=os(D0),se=os(Ht),Ae=os(Xm),Ue=os(tu),tt=os(Oa),pt=co,(D0&&pt(new D0(new ArrayBuffer(1)))!=k||Ht&&pt(new Ht)!=Od||Xm&&pt(Xm.resolve())!=Sf||tu&&pt(new tu)!=p||Oa&&pt(new Oa)!=y)&&(pt=function(a){var u=co(a),f=u==es?a.constructor:void 0,m=f?os(f):"";if(m)switch(m){case X:return k;case se:return Od;case Ae:return Sf;case Ue:return p;case tt:return y}return u}),on=pt}}),Gi,zn,fi=w({"../node_modules/lodash-es/_Uint8Array.js"(){wn(),Gi=Rn.Uint8Array,zn=Gi}});function $i(a){return this.__data__.set(a,Mi),this}var Mi,zt,Et=w({"../node_modules/lodash-es/_setCacheAdd.js"(){Mi="__lodash_hash_undefined__",zt=$i}});function Lt(a){return this.__data__.has(a)}var Sn,Mn=w({"../node_modules/lodash-es/_setCacheHas.js"(){Sn=Lt}});function Vi(a){var u=-1,f=a==null?0:a.length;for(this.__data__=new at;++u<f;)this.add(a[u])}var Kr,na=w({"../node_modules/lodash-es/_SetCache.js"(){bt(),Et(),Mn(),Vi.prototype.add=Vi.prototype.push=zt,Vi.prototype.has=Sn,Kr=Vi}});function ba(a,u){for(var f=-1,m=a==null?0:a.length;++f<m;)if(u(a[f],f,a))return!0;return!1}var fa,Ov=w({"../node_modules/lodash-es/_arraySome.js"(){fa=ba}});function uw(a,u){return a.has(u)}var xP,cw=w({"../node_modules/lodash-es/_cacheHas.js"(){xP=uw}});function Y1(a,u,f,m,b,P){var B=f&_B,O=a.length,q=u.length;if(O!=q&&!(B&&q>O))return!1;var K=P.get(a),J=P.get(u);if(K&&J)return K==u&&J==a;var te=-1,ne=!0,re=f&SB?new Kr:void 0;for(P.set(a,u),P.set(u,a);++te<O;){var ue=a[te],pe=u[te];if(m)var me=B?m(pe,ue,te,u,a,P):m(ue,pe,te,a,u,P);if(me!==void 0){if(me)continue;ne=!1;break}if(re){if(!fa(u,function(De,Re){if(!xP(re,Re)&&(ue===De||b(ue,De,f,m,P)))return re.push(Re)})){ne=!1;break}}else if(!(ue===pe||b(ue,pe,f,m,P))){ne=!1;break}}return P.delete(a),P.delete(u),ne}var _B,SB,wP,xB=w({"../node_modules/lodash-es/_equalArrays.js"(){na(),Ov(),cw(),_B=1,SB=2,wP=Y1}});function oj(a){var u=-1,f=Array(a.size);return a.forEach(function(m,b){f[++u]=[b,m]}),f}var L0,t_=w({"../node_modules/lodash-es/_mapToArray.js"(){L0=oj}});function $1(a){var u=-1,f=Array(a.size);return a.forEach(function(m){f[++u]=m}),f}var Q1,eC=w({"../node_modules/lodash-es/_setToArray.js"(){Q1=$1}});function sj(a,u,f,m,b,P,B){switch(f){case nC:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case TB:return!(a.byteLength!=u.byteLength||!P(new zn(a),new zn(u)));case tC:case EB:case CP:return hf(+a,+u);case bB:return a.name==u.name&&a.message==u.message;case CB:case AP:return a==u+"";case bP:var O=L0;case N0:var q=m&EP;if(O||(O=Q1),a.size!=u.size&&!q)return!1;var K=B.get(a);if(K)return K==u;m|=wB,B.set(a,u);var J=wP(O(a),O(u),m,b,P,B);return B.delete(a),J;case AB:if(iC)return iC.call(a)==iC.call(u)}return!1}var EP,wB,tC,EB,bB,bP,CP,CB,N0,AP,AB,TB,nC,rC,iC,MB,lj=w({"../node_modules/lodash-es/_equalByTag.js"(){Tr(),fi(),Uu(),xB(),t_(),eC(),EP=1,wB=2,tC="[object Boolean]",EB="[object Date]",bB="[object Error]",bP="[object Map]",CP="[object Number]",CB="[object RegExp]",N0="[object Set]",AP="[object String]",AB="[object Symbol]",TB="[object ArrayBuffer]",nC="[object DataView]",rC=tr?tr.prototype:void 0,iC=rC?rC.valueOf:void 0,MB=sj}});function uj(a,u,f,m,b,P){var B=f&PB,O=qm(a),q=O.length,K=qm(u),J=K.length;if(q!=J&&!B)return!1;for(var te=q;te--;){var ne=O[te];if(!(B?ne in u:TP.call(u,ne)))return!1}var re=P.get(a),ue=P.get(u);if(re&&ue)return re==u&&ue==a;var pe=!0;P.set(a,u),P.set(u,a);for(var me=B;++te<q;){ne=O[te];var De=a[ne],Re=u[ne];if(m)var He=B?m(Re,De,ne,u,a,P):m(De,Re,ne,a,u,P);if(!(He===void 0?De===Re||b(De,Re,f,m,P):He)){pe=!1;break}me||(me=ne=="constructor")}if(pe&&!me){var Oe=a.constructor,Fe=u.constructor;Oe!=Fe&&"constructor"in a&&"constructor"in u&&!(typeof Oe=="function"&&Oe instanceof Oe&&typeof Fe=="function"&&Fe instanceof Fe)&&(pe=!1)}return P.delete(a),P.delete(u),pe}var PB,RB,TP,IB,MP=w({"../node_modules/lodash-es/_equalObjects.js"(){Zy(),PB=1,RB=Object.prototype,TP=RB.hasOwnProperty,IB=uj}});function kB(a,u,f,m,b,P){var B=xs(a),O=xs(u),q=B?RP:on(a),K=O?RP:on(u);q=q==PP?fw:q,K=K==PP?fw:K;var J=q==fw,te=K==fw,ne=q==K;if(ne&&qf(a)){if(!qf(u))return!1;B=!0,J=!1}if(ne&&!J)return P||(P=new Qy),B||Md(a)?wP(a,u,f,m,b,P):MB(a,u,q,f,m,b,P);if(!(f&DB)){var re=J&&IP.call(a,"__wrapped__"),ue=te&&IP.call(u,"__wrapped__");if(re||ue){var pe=re?a.value():a,me=ue?u.value():u;return P||(P=new Qy),b(pe,me,f,m,P)}}return ne?(P||(P=new Qy),IB(a,u,f,m,b,P)):!1}var DB,PP,RP,fw,aC,IP,oC,cj=w({"../node_modules/lodash-es/_baseIsEqualDeep.js"(){q1(),xB(),lj(),MP(),zr(),Pi(),up(),gc(),DB=1,PP="[object Arguments]",RP="[object Array]",fw="[object Object]",aC=Object.prototype,IP=aC.hasOwnProperty,oC=kB}});function OB(a,u,f,m,b){return a===u?!0:a==null||u==null||!Ss(a)&&!Ss(u)?a!==a&&u!==u:oC(a,u,f,m,OB,b)}var kP,BB=w({"../node_modules/lodash-es/_baseIsEqual.js"(){cj(),ul(),kP=OB}});function DP(a,u,f,m){var b=f.length,P=b,B=!m;if(a==null)return!P;for(a=Object(a);b--;){var O=f[b];if(B&&O[2]?O[1]!==a[O[0]]:!(O[0]in a))return!1}for(;++b<P;){O=f[b];var q=O[0],K=a[q],J=O[1];if(B&&O[2]){if(K===void 0&&!(q in a))return!1}else{var te=new Qy;if(m)var ne=m(K,J,q,a,u,te);if(!(ne===void 0?kP(J,K,OP|LB,m,te):ne))return!1}}return!0}var OP,LB,NB,sm=w({"../node_modules/lodash-es/_baseIsMatch.js"(){q1(),BB(),OP=1,LB=2,NB=DP}});function n_(a){return a===a&&!Oo(a)}var kg,FB=w({"../node_modules/lodash-es/_isStrictComparable.js"(){fo(),kg=n_}});function dw(a){for(var u=Di(a),f=u.length;f--;){var m=u[f],b=a[m];u[f]=[m,b,kg(b)]}return u}var r_,BP=w({"../node_modules/lodash-es/_getMatchData.js"(){FB(),Eo(),r_=dw}});function fj(a,u){return function(f){return f==null?!1:f[a]===u&&(u!==void 0||a in Object(f))}}var sC,UB=w({"../node_modules/lodash-es/_matchesStrictComparable.js"(){sC=fj}});function LP(a){var u=r_(a);return u.length==1&&u[0][2]?sC(u[0][0],u[0][1]):function(f){return f===a||NB(f,a,u)}}var lC,i_=w({"../node_modules/lodash-es/_baseMatches.js"(){sm(),BP(),UB(),lC=LP}});function NP(a,u){return a!=null&&u in Object(a)}var uC,dj=w({"../node_modules/lodash-es/_baseHasIn.js"(){uC=NP}});function FP(a,u,f){u=ds(u,a);for(var m=-1,b=u.length,P=!1;++m<b;){var B=Ns(u[m]);if(!(P=a!=null&&f(a,B)))break;a=a[B]}return P||++m!=b?P:(b=a==null?0:a.length,!!b&&xd(b)&&rp(B,b)&&(xs(a)||cs(a)))}var Bv,zB=w({"../node_modules/lodash-es/_hasPath.js"(){ya(),$p(),Pi(),la(),pf(),Rl(),Bv=FP}});function UP(a,u){return a!=null&&Bv(a,u,uC)}var hw,zP=w({"../node_modules/lodash-es/hasIn.js"(){dj(),zB(),hw=UP}});function HB(a,u){return No(a)&&kg(u)?sC(Ns(a),u):function(f){var m=Rh(f,a);return m===void 0&&m===u?hw(f,a):kP(u,m,jB|cC)}}var jB,cC,pw,GB=w({"../node_modules/lodash-es/_baseMatchesProperty.js"(){BB(),Hm(),zP(),Id(),FB(),UB(),Rl(),jB=1,cC=2,pw=HB}});function fC(a){return function(u){return u==null?void 0:u[a]}}var dC,VB=w({"../node_modules/lodash-es/_baseProperty.js"(){dC=fC}});function HP(a){return function(u){return C0(u,a)}}var hC,jP=w({"../node_modules/lodash-es/_basePropertyDeep.js"(){Su(),hC=HP}});function hj(a){return No(a)?dC(Ns(a)):hC(a)}var GP,WB=w({"../node_modules/lodash-es/property.js"(){VB(),jP(),Id(),Rl(),GP=hj}});function mw(a){return typeof a=="function"?a:a==null?wa:typeof a=="object"?xs(a)?pw(a[0],a[1]):lC(a):GP(a)}var F0,vw=w({"../node_modules/lodash-es/_baseIteratee.js"(){i_(),GB(),yo(),Pi(),WB(),F0=mw}});function pj(a,u,f,m){for(var b=-1,P=a==null?0:a.length;++b<P;){var B=a[b];u(m,B,f(B),a)}return m}var VP,KB=w({"../node_modules/lodash-es/_arrayAggregator.js"(){VP=pj}});function qB(a){return function(u,f,m){for(var b=-1,P=Object(u),B=m(u),O=B.length;O--;){var q=B[a?O:++b];if(f(P[q],q,P)===!1)break}return u}}var Bd,mj=w({"../node_modules/lodash-es/_createBaseFor.js"(){Bd=qB}}),pC,XB,vj=w({"../node_modules/lodash-es/_baseFor.js"(){mj(),pC=Bd(),XB=pC}});function mC(a,u){return a&&XB(a,u,Di)}var J1,YB=w({"../node_modules/lodash-es/_baseForOwn.js"(){vj(),Eo(),J1=mC}});function gp(a,u){return function(f,m){if(f==null)return f;if(!Hu(f))return a(f,m);for(var b=f.length,P=u?b:-1,B=Object(f);(u?P--:++P<b)&&m(B[P],P,B)!==!1;);return f}}var $B,WP=w({"../node_modules/lodash-es/_createBaseEach.js"(){Gf(),$B=gp}}),QB,vC,KP=w({"../node_modules/lodash-es/_baseEach.js"(){YB(),WP(),QB=$B(J1),vC=QB}});function gj(a,u,f,m){return vC(a,function(b,P,B){u(m,b,f(b),B)}),m}var JB,ZB=w({"../node_modules/lodash-es/_baseAggregator.js"(){KP(),JB=gj}});function qP(a,u){return function(f,m){var b=xs(f)?VP:JB,P=u?u():{};return b(f,a,F0(m,2),P)}}var XP,yj=w({"../node_modules/lodash-es/_createAggregator.js"(){KB(),ZB(),vw(),Pi(),XP=qP}}),eL,gw,tL=w({"../node_modules/lodash-es/now.js"(){wn(),eL=function(){return Rn.Date.now()},gw=eL}});function _j(a,u,f){var m,b,P,B,O,q,K=0,J=!1,te=!1,ne=!0;if(typeof a!="function")throw new TypeError(nL);u=Nc(u)||0,Oo(f)&&(J=!!f.leading,te="maxWait"in f,P=te?D(Nc(f.maxWait)||0,u):P,ne="trailing"in f?!!f.trailing:ne);function re(Qe){var gt=m,Wt=b;return m=b=void 0,K=Qe,B=a.apply(Wt,gt),B}function ue(Qe){return K=Qe,O=setTimeout(De,u),J?re(Qe):B}function pe(Qe){var gt=Qe-q,Wt=Qe-K,Tt=u-gt;return te?V(Tt,P-Wt):Tt}function me(Qe){var gt=Qe-q,Wt=Qe-K;return q===void 0||gt>=u||gt<0||te&&Wt>=P}function De(){var Qe=gw();if(me(Qe))return Re(Qe);O=setTimeout(De,pe(Qe))}function Re(Qe){return O=void 0,ne&&m?re(Qe):(m=b=void 0,B)}function He(){O!==void 0&&clearTimeout(O),K=0,m=q=b=O=void 0}function Oe(){return O===void 0?B:Re(gw())}function Fe(){var Qe=gw(),gt=me(Qe);if(m=arguments,b=this,q=Qe,gt){if(O===void 0)return ue(q);if(te)return clearTimeout(O),O=setTimeout(De,u),re(q)}return O===void 0&&(O=setTimeout(De,u)),B}return Fe.cancel=He,Fe.flush=Oe,Fe}var nL,D,V,ee,ge=w({"../node_modules/lodash-es/debounce.js"(){fo(),tL(),Es(),nL="Expected a function",D=Math.max,V=Math.min,ee=_j}});function ze(a,u,f){for(var m=-1,b=a==null?0:a.length;++m<b;)if(f(u,a[m]))return!0;return!1}var nt,At=w({"../node_modules/lodash-es/_arrayIncludesWith.js"(){nt=ze}});function Xt(a,u,f){var m=a==null?0:a.length;if(!m)return-1;var b=f==null?0:ku(f);return b<0&&(b=an(m+b,0)),Ba(a,F0(u,3),b)}var an,yn,or=w({"../node_modules/lodash-es/findIndex.js"(){xe(),vw(),ql(),an=Math.max,yn=Xt}});function mr(a,u,f){var m=a==null?0:a.length;if(!m)return-1;var b=m-1;return f!==void 0&&(b=ku(f),b=f<0?Lr(m+b,0):bi(b,m-1)),Ba(a,F0(u,3),b,!0)}var Lr,bi,di,Ia=w({"../node_modules/lodash-es/findLastIndex.js"(){xe(),vw(),ql(),Lr=Math.max,bi=Math.min,di=mr}});function ts(a,u){var f=-1,m=Hu(a)?Array(a.length):[];return vC(a,function(b,P,B){m[++f]=u(b,P,B)}),m}var qa,nl=w({"../node_modules/lodash-es/_baseMap.js"(){KP(),Gf(),qa=ts}});function td(a,u,f){return a>=xf(u,f)&&a<Ld(u,f)}var Ld,xf,ps,nd=w({"../node_modules/lodash-es/_baseInRange.js"(){Ld=Math.max,xf=Math.min,ps=td}});function yp(a,u,f){return u=sc(u),f===void 0?(f=u,u=0):f=sc(f),a=Nc(a),ps(a,u,f)}var lm,a_=w({"../node_modules/lodash-es/inRange.js"(){nd(),Kl(),Es(),lm=yp}});function o_(a){return typeof a=="number"&&a==ku(a)}var U0,s_=w({"../node_modules/lodash-es/isInteger.js"(){ql(),U0=o_}}),z0,vl,_p=w({"../node_modules/lodash-es/keyBy.js"(){Hf(),yj(),z0=XP(function(a,u,f){hh(a,f,u)}),vl=z0}});function Fs(a,u){var f={};return u=F0(u,3),J1(a,function(m,b,P){hh(f,b,u(m,b,P))}),f}var Nd,Lv=w({"../node_modules/lodash-es/mapValues.js"(){Hf(),YB(),vw(),Nd=Fs}});function uke(a,u,f,m){if(!Oo(a))return a;u=ds(u,a);for(var b=-1,P=u.length,B=P-1,O=a;O!=null&&++b<P;){var q=Ns(u[b]),K=f;if(q==="__proto__"||q==="constructor"||q==="prototype")return a;if(b!=B){var J=O[q];K=m?m(J,q,O):void 0,K===void 0&&(K=Oo(J)?J:rp(u[b+1])?[]:{})}ip(O,q,K),O=O[q]}return a}var l2,cke=w({"../node_modules/lodash-es/_baseSet.js"(){ap(),ya(),la(),fo(),Rl(),l2=uke}});function fke(a,u){var f=a.length;for(a.sort(u);f--;)a[f]=a[f].value;return a}var u2,dke=w({"../node_modules/lodash-es/_baseSortBy.js"(){u2=fke}});function hke(a,u){if(a!==u){var f=a!==void 0,m=a===null,b=a===a,P=Gl(a),B=u!==void 0,O=u===null,q=u===u,K=Gl(u);if(!O&&!K&&!P&&a>u||P&&B&&q&&!O&&!K||m&&B&&q||!f&&q||!b)return 1;if(!m&&!P&&!K&&a<u||K&&f&&b&&!m&&!P||O&&f&&b||!B&&b||!q)return-1}return 0}var c2,pke=w({"../node_modules/lodash-es/_compareAscending.js"(){Bc(),c2=hke}});function mke(a,u,f){for(var m=-1,b=a.criteria,P=u.criteria,B=b.length,O=f.length;++m<B;){var q=c2(b[m],P[m]);if(q){if(m>=O)return q;var K=f[m];return q*(K=="desc"?-1:1)}}return a.index-u.index}var f2,vke=w({"../node_modules/lodash-es/_compareMultiple.js"(){pke(),f2=mke}});function gke(a,u,f){u.length?u=of(u,function(P){return xs(P)?function(B){return C0(B,P.length===1?P[0]:P)}:P}):u=[wa];var m=-1;u=of(u,du(F0));var b=qa(a,function(P,B,O){var q=of(u,function(K){return K(P)});return{criteria:q,index:++m,value:P}});return u2(b,function(P,B){return f2(P,B,f)})}var d2,yke=w({"../node_modules/lodash-es/_baseOrderBy.js"(){Iu(),Su(),vw(),nl(),dke(),Ad(),vke(),yo(),Pi(),d2=gke}});function _ke(a,u,f,m){for(var b=f-1,P=a.length;++b<P;)if(m(a[b],u))return b;return-1}var h2,Ske=w({"../node_modules/lodash-es/_baseIndexOfWith.js"(){h2=_ke}});function xke(a,u,f,m){var b=m?h2:$s,P=-1,B=u.length,O=a;for(a===u&&(u=Al(u)),f&&(O=of(a,du(f)));++P<B;)for(var q=0,K=u[P],J=f?f(K):K;(q=b(O,J,q,m))>-1;)O!==a&&Sj.call(O,q,1),Sj.call(a,q,1);return a}var p2,Sj,m2,wke=w({"../node_modules/lodash-es/_basePullAll.js"(){Iu(),ls(),Ske(),Ad(),fc(),p2=Array.prototype,Sj=p2.splice,m2=xke}});function Eke(a,u){return a&&a.length&&u&&u.length?m2(a,u):a}var v2,bke=w({"../node_modules/lodash-es/pullAll.js"(){wke(),v2=Eke}}),g2,y2,Cke=w({"../node_modules/lodash-es/pull.js"(){vh(),bke(),g2=mh(v2),y2=g2}}),_2,S2,Ake=w({"../node_modules/lodash-es/round.js"(){W1(),_2=Vm("round"),S2=_2}});function Tke(a,u,f){return a==null?a:l2(a,u,f)}var gC,xj=w({"../node_modules/lodash-es/set.js"(){cke(),gC=Tke}}),x2,w2,Mke=w({"../node_modules/lodash-es/sortBy.js"(){rm(),yke(),vh(),sp(),x2=mh(function(a,u){if(a==null)return[];var f=u.length;return f>1&&wd(a,u[0],u[1])?u=[]:f>2&&wd(u[0],u[1],u[2])&&(u=[u[0]]),d2(a,j1(u,1),[])}),w2=x2}}),E2,b2,C2,Pke=w({"../node_modules/lodash-es/_createSet.js"(){ed(),zf(),eC(),E2=1/0,b2=tu&&1/Q1(new tu([,-0]))[1]==E2?function(a){return new tu(a)}:Os,C2=b2}});function Rke(a,u,f){var m=-1,b=dh,P=a.length,B=!0,O=[],q=O;if(f)B=!1,b=nt;else if(P>=A2){var K=u?null:C2(a);if(K)return Q1(K);B=!1,b=xP,q=new Kr}else q=u?[]:O;e:for(;++m<P;){var J=a[m],te=u?u(J):J;if(J=f||J!==0?J:0,B&&te===te){for(var ne=q.length;ne--;)if(q[ne]===te)continue e;u&&q.push(te),O.push(J)}else b(q,te,f)||(q!==O&&q.push(te),O.push(J))}return O}var A2,T2,Ike=w({"../node_modules/lodash-es/_baseUniq.js"(){na(),Sd(),At(),cw(),Pke(),eC(),A2=200,T2=Rke}});function kke(a){return a&&a.length?T2(a):[]}var Z1,Dke=w({"../node_modules/lodash-es/uniq.js"(){Ike(),Z1=kke}}),wf=w({"../node_modules/lodash-es/lodash.js"(){Yy(),ge(),or(),a_(),s_(),Iv(),Dr(),Lv(),qi(),Ake(),Dke()}});function YP(a){return JSON.stringify(wj(a))}function wj(a){return Rg(a)?Object.keys(a).sort().reduce((u,f)=>(u[f]=wj(a[f]),u),{}):Array.isArray(a)?a.map(wj):a}var Oke=w({"shared/src/utils/stableJsonStringify.ts"(){wf()}}),M2,$P,P2=w({"../node_modules/nanoid/non-secure/index.js"(){M2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",$P=(a=21)=>{let u="",f=a;for(;f--;)u+=M2[Math.random()*64|0];return u}}});function R2(){return $P(10)}function Bke(){return $P(10)}function Lke(){return $P(10)}var Ef,l_=w({"shared/src/utils/ids.ts"(){Oke(),P2(),Ef={forSheet(){return"sheet"},forSheetObject(a){return YP({o:a.address.objectKey})},forSheetObjectProp(a,u){return YP({o:a.address.objectKey,p:u})},forTrackKeyframe(a,u,f){return YP({o:a.address.objectKey,t:u,k:f})},forSheetObjectAggregateKeyframe(a,u){return Ef.forCompoundPropAggregateKeyframe(a,[],u)},forSheetAggregateKeyframe(a,u){return YP({o:a.address.sheetId,pos:u})},forCompoundPropAggregateKeyframe(a,u,f){return YP({o:a.address.objectKey,p:u,pos:f})}}}});function yw(a,u){return u.length===0?a:Rh(a,u)}var rL=w({"shared/src/utils/getDeep.ts"(){Hm()}}),Nke=L({"../node_modules/queue-microtask/index.js"(a,u){var f;u.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Jd):m=>(f||(f=Promise.resolve())).then(m).catch(b=>setTimeout(()=>{throw b},0))}}),I2=L({"../node_modules/object-assign/index.js"(a,u){var f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function P(O){if(O==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(O)}function B(){try{if(!Object.assign)return!1;var O=new String("abc");if(O[5]="de",Object.getOwnPropertyNames(O)[0]==="5")return!1;for(var q={},K=0;K<10;K++)q["_"+String.fromCharCode(K)]=K;var J=Object.getOwnPropertyNames(q).map(function(ne){return q[ne]});if(J.join("")!=="0123456789")return!1;var te={};return"abcdefghijklmnopqrst".split("").forEach(function(ne){te[ne]=ne}),Object.keys(Object.assign({},te)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}u.exports=B()?Object.assign:function(O,q){for(var K,J=P(O),te,ne=1;ne<arguments.length;ne++){K=Object(arguments[ne]);for(var re in K)m.call(K,re)&&(J[re]=K[re]);if(f){te=f(K);for(var ue=0;ue<te.length;ue++)b.call(K,te[ue])&&(J[te[ue]]=K[te[ue]])}}return J}}}),Fke=L({"../node_modules/react/cjs/react.development.js"(a){(function(){var u=I2(),f="17.0.2",m=60103,b=60106;a.Fragment=60107,a.StrictMode=60108,a.Profiler=60114;var P=60109,B=60110,O=60112;a.Suspense=60113;var q=60120,K=60115,J=60116,te=60121,ne=60122,re=60117,ue=60129,pe=60131;if(typeof Symbol=="function"&&Symbol.for){var me=Symbol.for;m=me("react.element"),b=me("react.portal"),a.Fragment=me("react.fragment"),a.StrictMode=me("react.strict_mode"),a.Profiler=me("react.profiler"),P=me("react.provider"),B=me("react.context"),O=me("react.forward_ref"),a.Suspense=me("react.suspense"),q=me("react.suspense_list"),K=me("react.memo"),J=me("react.lazy"),te=me("react.block"),ne=me("react.server.block"),re=me("react.fundamental"),me("react.scope"),me("react.opaque.id"),ue=me("react.debug_trace_mode"),me("react.offscreen"),pe=me("react.legacy_hidden")}var De=typeof Symbol=="function"&&Symbol.iterator,Re="@@iterator";function He(Ne){if(Ne===null||typeof Ne!="object")return null;var Ct=De&&Ne[De]||Ne[Re];return typeof Ct=="function"?Ct:null}var Oe={current:null},Fe={transition:0},Qe={current:null},gt={},Wt=null;function Tt(Ne){Wt=Ne}gt.setExtraStackFrame=function(Ne){Wt=Ne},gt.getCurrentStack=null,gt.getStackAddendum=function(){var Ne="";Wt&&(Ne+=Wt);var Ct=gt.getCurrentStack;return Ct&&(Ne+=Ct()||""),Ne};var An={current:!1},jn={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Fe,ReactCurrentOwner:Qe,IsSomeRendererActing:An,assign:u};jn.ReactDebugCurrentFrame=gt;function jt(Ne){{for(var Ct=arguments.length,fn=new Array(Ct>1?Ct-1:0),In=1;In<Ct;In++)fn[In-1]=arguments[In];_r("warn",Ne,fn)}}function xn(Ne){{for(var Ct=arguments.length,fn=new Array(Ct>1?Ct-1:0),In=1;In<Ct;In++)fn[In-1]=arguments[In];_r("error",Ne,fn)}}function _r(Ne,Ct,fn){{var In=jn.ReactDebugCurrentFrame,jr=In.getStackAddendum();jr!==""&&(Ct+="%s",fn=fn.concat([jr]));var ia=fn.map(function(Wi){return""+Wi});ia.unshift("Warning: "+Ct),Function.prototype.apply.call(console[Ne],console,ia)}}var lr={};function si(Ne,Ct){{var fn=Ne.constructor,In=fn&&(fn.displayName||fn.name)||"ReactClass",jr=In+"."+Ct;if(lr[jr])return;xn("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Ct,In),lr[jr]=!0}}var un={isMounted:function(Ne){return!1},enqueueForceUpdate:function(Ne,Ct,fn){si(Ne,"forceUpdate")},enqueueReplaceState:function(Ne,Ct,fn,In){si(Ne,"replaceState")},enqueueSetState:function(Ne,Ct,fn,In){si(Ne,"setState")}},gn={};Object.freeze(gn);function Nr(Ne,Ct,fn){this.props=Ne,this.context=Ct,this.refs=gn,this.updater=fn||un}Nr.prototype.isReactComponent={},Nr.prototype.setState=function(Ne,Ct){if(!(typeof Ne=="object"||typeof Ne=="function"||Ne==null))throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ne,Ct,"setState")},Nr.prototype.forceUpdate=function(Ne){this.updater.enqueueForceUpdate(this,Ne,"forceUpdate")};{var xi={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},ra=function(Ne,Ct){Object.defineProperty(Nr.prototype,Ne,{get:function(){jt("%s(...) is deprecated in plain JavaScript React classes. %s",Ct[0],Ct[1])}})};for(var fr in xi)xi.hasOwnProperty(fr)&&ra(fr,xi[fr])}function gr(){}gr.prototype=Nr.prototype;function qr(Ne,Ct,fn){this.props=Ne,this.context=Ct,this.refs=gn,this.updater=fn||un}var wi=qr.prototype=new gr;wi.constructor=qr,u(wi,Nr.prototype),wi.isPureReactComponent=!0;function tn(){var Ne={current:null};return Object.seal(Ne),Ne}function Qi(Ne,Ct,fn){var In=Ct.displayName||Ct.name||"";return Ne.displayName||(In!==""?fn+"("+In+")":fn)}function Xn(Ne){return Ne.displayName||"Context"}function Bi(Ne){if(Ne==null)return null;if(typeof Ne.tag=="number"&&xn("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof Ne=="function")return Ne.displayName||Ne.name||null;if(typeof Ne=="string")return Ne;switch(Ne){case a.Fragment:return"Fragment";case b:return"Portal";case a.Profiler:return"Profiler";case a.StrictMode:return"StrictMode";case a.Suspense:return"Suspense";case q:return"SuspenseList"}if(typeof Ne=="object")switch(Ne.$$typeof){case B:var Ct=Ne;return Xn(Ct)+".Consumer";case P:var fn=Ne;return Xn(fn._context)+".Provider";case O:return Qi(Ne,Ne.render,"ForwardRef");case K:return Bi(Ne.type);case te:return Bi(Ne._render);case J:{var In=Ne,jr=In._payload,ia=In._init;try{return Bi(ia(jr))}catch{return null}}}return null}var ha=Object.prototype.hasOwnProperty,gi={key:!0,ref:!0,__self:!0,__source:!0},Tn,xr,Xa;Xa={};function Ui(Ne){if(ha.call(Ne,"ref")){var Ct=Object.getOwnPropertyDescriptor(Ne,"ref").get;if(Ct&&Ct.isReactWarning)return!1}return Ne.ref!==void 0}function zo(Ne){if(ha.call(Ne,"key")){var Ct=Object.getOwnPropertyDescriptor(Ne,"key").get;if(Ct&&Ct.isReactWarning)return!1}return Ne.key!==void 0}function Va(Ne,Ct){var fn=function(){Tn||(Tn=!0,xn("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ct))};fn.isReactWarning=!0,Object.defineProperty(Ne,"key",{get:fn,configurable:!0})}function Dl(Ne,Ct){var fn=function(){xr||(xr=!0,xn("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ct))};fn.isReactWarning=!0,Object.defineProperty(Ne,"ref",{get:fn,configurable:!0})}function Wv(Ne){if(typeof Ne.ref=="string"&&Qe.current&&Ne.__self&&Qe.current.stateNode!==Ne.__self){var Ct=Bi(Qe.current.type);Xa[Ct]||(xn('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Ct,Ne.ref),Xa[Ct]=!0)}}var _l=function(Ne,Ct,fn,In,jr,ia,Wi){var zi={$$typeof:m,type:Ne,key:Ct,ref:fn,props:Wi,_owner:ia};return zi._store={},Object.defineProperty(zi._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(zi,"_self",{configurable:!1,enumerable:!1,writable:!1,value:In}),Object.defineProperty(zi,"_source",{configurable:!1,enumerable:!1,writable:!1,value:jr}),Object.freeze&&(Object.freeze(zi.props),Object.freeze(zi)),zi};function qg(Ne,Ct,fn){var In,jr={},ia=null,Wi=null,zi=null,ms=null;if(Ct!=null){Ui(Ct)&&(Wi=Ct.ref,Wv(Ct)),zo(Ct)&&(ia=""+Ct.key),zi=Ct.__self===void 0?null:Ct.__self,ms=Ct.__source===void 0?null:Ct.__source;for(In in Ct)ha.call(Ct,In)&&!gi.hasOwnProperty(In)&&(jr[In]=Ct[In])}var Us=arguments.length-2;if(Us===1)jr.children=fn;else if(Us>1){for(var Ol=Array(Us),Xu=0;Xu<Us;Xu++)Ol[Xu]=arguments[Xu+2];Object.freeze&&Object.freeze(Ol),jr.children=Ol}if(Ne&&Ne.defaultProps){var qd=Ne.defaultProps;for(In in qd)jr[In]===void 0&&(jr[In]=qd[In])}if(ia||Wi){var Xd=typeof Ne=="function"?Ne.displayName||Ne.name||"Unknown":Ne;ia&&Va(jr,Xd),Wi&&Dl(jr,Xd)}return _l(Ne,ia,Wi,zi,ms,Qe.current,jr)}function Kv(Ne,Ct){var fn=_l(Ne.type,Ct,Ne.ref,Ne._self,Ne._source,Ne._owner,Ne.props);return fn}function id(Ne,Ct,fn){if(Ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ne+".");var In,jr=u({},Ne.props),ia=Ne.key,Wi=Ne.ref,zi=Ne._self,ms=Ne._source,Us=Ne._owner;if(Ct!=null){Ui(Ct)&&(Wi=Ct.ref,Us=Qe.current),zo(Ct)&&(ia=""+Ct.key);var Ol;Ne.type&&Ne.type.defaultProps&&(Ol=Ne.type.defaultProps);for(In in Ct)ha.call(Ct,In)&&!gi.hasOwnProperty(In)&&(Ct[In]===void 0&&Ol!==void 0?jr[In]=Ol[In]:jr[In]=Ct[In])}var Xu=arguments.length-2;if(Xu===1)jr.children=fn;else if(Xu>1){for(var qd=Array(Xu),Xd=0;Xd<Xu;Xd++)qd[Xd]=arguments[Xd+2];jr.children=qd}return _l(Ne.type,ia,Wi,zi,ms,Us,jr)}function Ci(Ne){return typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===m}var Ho=".",Xg=":";function Eu(Ne){var Ct=/[=:]/g,fn={"=":"=0",":":"=2"},In=Ne.replace(Ct,function(jr){return fn[jr]});return"$"+In}var ns=!1,wI=/\/+/g;function bS(Ne){return Ne.replace(wI,"$&/")}function Br(Ne,Ct){return typeof Ne=="object"&&Ne!==null&&Ne.key!=null?Eu(""+Ne.key):Ct.toString(36)}function hi(Ne,Ct,fn,In,jr){var ia=typeof Ne;(ia==="undefined"||ia==="boolean")&&(Ne=null);var Wi=!1;if(Ne===null)Wi=!0;else switch(ia){case"string":case"number":Wi=!0;break;case"object":switch(Ne.$$typeof){case m:case b:Wi=!0}}if(Wi){var zi=Ne,ms=jr(zi),Us=In===""?Ho+Br(zi,0):In;if(Array.isArray(ms)){var Ol="";Us!=null&&(Ol=bS(Us)+"/"),hi(ms,Ct,Ol,"",function(kI){return kI})}else ms!=null&&(Ci(ms)&&(ms=Kv(ms,fn+(ms.key&&(!zi||zi.key!==ms.key)?bS(""+ms.key)+"/":"")+Us)),Ct.push(ms));return 1}var Xu,qd,Xd=0,mm=In===""?Ho:In+Xg;if(Array.isArray(Ne))for(var MA=0;MA<Ne.length;MA++)Xu=Ne[MA],qd=mm+Br(Xu,MA),Xd+=hi(Xu,Ct,fn,qd,jr);else{var sE=He(Ne);if(typeof sE=="function"){var II=Ne;sE===II.entries&&(ns||jt("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ns=!0);for(var aU=sE.call(II),oU,sU=0;!(oU=aU.next()).done;)Xu=oU.value,qd=mm+Br(Xu,sU++),Xd+=hi(Xu,Ct,fn,qd,jr)}else if(ia==="object"){var lU=""+Ne;throw Error("Objects are not valid as a React child (found: "+(lU==="[object Object]"?"object with keys {"+Object.keys(Ne).join(", ")+"}":lU)+"). If you meant to render a collection of children, use an array instead.")}}return Xd}function Ca(Ne,Ct,fn){if(Ne==null)return Ne;var In=[],jr=0;return hi(Ne,In,"","",function(ia){return Ct.call(fn,ia,jr++)}),In}function Ts(Ne){var Ct=0;return Ca(Ne,function(){Ct++}),Ct}function Tc(Ne,Ct,fn){Ca(Ne,function(){Ct.apply(this,arguments)},fn)}function bf(Ne){return Ca(Ne,function(Ct){return Ct})||[]}function Cf(Ne){if(!Ci(Ne))throw Error("React.Children.only expected to receive a single React element child.");return Ne}function hm(Ne,Ct){Ct===void 0?Ct=null:Ct!==null&&typeof Ct!="function"&&xn("createContext: Expected the optional second argument to be a function. Instead received: %s",Ct);var fn={$$typeof:B,_calculateChangedBits:Ct,_currentValue:Ne,_currentValue2:Ne,_threadCount:0,Provider:null,Consumer:null};fn.Provider={$$typeof:P,_context:fn};var In=!1,jr=!1,ia=!1;{var Wi={$$typeof:B,_context:fn,_calculateChangedBits:fn._calculateChangedBits};Object.defineProperties(Wi,{Provider:{get:function(){return jr||(jr=!0,xn("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),fn.Provider},set:function(zi){fn.Provider=zi}},_currentValue:{get:function(){return fn._currentValue},set:function(zi){fn._currentValue=zi}},_currentValue2:{get:function(){return fn._currentValue2},set:function(zi){fn._currentValue2=zi}},_threadCount:{get:function(){return fn._threadCount},set:function(zi){fn._threadCount=zi}},Consumer:{get:function(){return In||(In=!0,xn("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),fn.Consumer}},displayName:{get:function(){return fn.displayName},set:function(zi){ia||(jt("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",zi),ia=!0)}}}),fn.Consumer=Wi}return fn._currentRenderer=null,fn._currentRenderer2=null,fn}var Ku=-1,qv=0,Yg=1,EI=2;function iE(Ne){if(Ne._status===Ku){var Ct=Ne._result,fn=Ct(),In=Ne;In._status=qv,In._result=fn,fn.then(function(jr){if(Ne._status===qv){var ia=jr.default;ia===void 0&&xn(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,jr);var Wi=Ne;Wi._status=Yg,Wi._result=ia}},function(jr){if(Ne._status===qv){var ia=Ne;ia._status=EI,ia._result=jr}})}if(Ne._status===Yg)return Ne._result;throw Ne._result}function vA(Ne){var Ct={_status:-1,_result:Ne},fn={$$typeof:J,_payload:Ct,_init:iE};{var In,jr;Object.defineProperties(fn,{defaultProps:{configurable:!0,get:function(){return In},set:function(ia){xn("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),In=ia,Object.defineProperty(fn,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return jr},set:function(ia){xn("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),jr=ia,Object.defineProperty(fn,"propTypes",{enumerable:!0})}}})}return fn}function gA(Ne){Ne!=null&&Ne.$$typeof===K?xn("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof Ne!="function"?xn("forwardRef requires a render function but was given %s.",Ne===null?"null":typeof Ne):Ne.length!==0&&Ne.length!==2&&xn("forwardRef render functions accept exactly two parameters: props and ref. %s",Ne.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),Ne!=null&&(Ne.defaultProps!=null||Ne.propTypes!=null)&&xn("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var Ct={$$typeof:O,render:Ne};{var fn;Object.defineProperty(Ct,"displayName",{enumerable:!1,configurable:!0,get:function(){return fn},set:function(In){fn=In,Ne.displayName==null&&(Ne.displayName=In)}})}return Ct}var U_=!1;function z_(Ne){return!!(typeof Ne=="string"||typeof Ne=="function"||Ne===a.Fragment||Ne===a.Profiler||Ne===ue||Ne===a.StrictMode||Ne===a.Suspense||Ne===q||Ne===pe||U_||typeof Ne=="object"&&Ne!==null&&(Ne.$$typeof===J||Ne.$$typeof===K||Ne.$$typeof===P||Ne.$$typeof===B||Ne.$$typeof===O||Ne.$$typeof===re||Ne.$$typeof===te||Ne[0]===ne))}function CS(Ne,Ct){z_(Ne)||xn("memo: The first argument must be a component. Instead received: %s",Ne===null?"null":typeof Ne);var fn={$$typeof:K,type:Ne,compare:Ct===void 0?null:Ct};{var In;Object.defineProperty(fn,"displayName",{enumerable:!1,configurable:!0,get:function(){return In},set:function(jr){In=jr,Ne.displayName==null&&(Ne.displayName=jr)}})}return fn}function Wd(){var Ne=Oe.current;if(Ne===null)throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`);return Ne}function $g(Ne,Ct){var fn=Wd();if(Ct!==void 0&&xn("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",Ct,typeof Ct=="number"&&Array.isArray(arguments[2])?`

Did you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks`:""),Ne._context!==void 0){var In=Ne._context;In.Consumer===Ne?xn("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):In.Provider===Ne&&xn("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return fn.useContext(Ne,Ct)}function yA(Ne){var Ct=Wd();return Ct.useState(Ne)}function qF(Ne,Ct,fn){var In=Wd();return In.useReducer(Ne,Ct,fn)}function _A(Ne){var Ct=Wd();return Ct.useRef(Ne)}function XF(Ne,Ct){var fn=Wd();return fn.useEffect(Ne,Ct)}function SA(Ne,Ct){var fn=Wd();return fn.useLayoutEffect(Ne,Ct)}function xA(Ne,Ct){var fn=Wd();return fn.useCallback(Ne,Ct)}function qu(Ne,Ct){var fn=Wd();return fn.useMemo(Ne,Ct)}function YF(Ne,Ct,fn){var In=Wd();return In.useImperativeHandle(Ne,Ct,fn)}function zV(Ne,Ct){{var fn=Wd();return fn.useDebugValue(Ne,Ct)}}var ev=0,AS,bI,CI,AI,TI,MI,PI;function RI(){}RI.__reactDisabledLog=!0;function $F(){{if(ev===0){AS=console.log,bI=console.info,CI=console.warn,AI=console.error,TI=console.group,MI=console.groupCollapsed,PI=console.groupEnd;var Ne={configurable:!0,enumerable:!0,value:RI,writable:!0};Object.defineProperties(console,{info:Ne,log:Ne,warn:Ne,error:Ne,group:Ne,groupCollapsed:Ne,groupEnd:Ne})}ev++}}function Xv(){{if(ev--,ev===0){var Ne={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:u({},Ne,{value:AS}),info:u({},Ne,{value:bI}),warn:u({},Ne,{value:CI}),error:u({},Ne,{value:AI}),group:u({},Ne,{value:TI}),groupCollapsed:u({},Ne,{value:MI}),groupEnd:u({},Ne,{value:PI})})}ev<0&&xn("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var pm=jn.ReactCurrentDispatcher,aE;function TS(Ne,Ct,fn){{if(aE===void 0)try{throw Error()}catch(jr){var In=jr.stack.trim().match(/\n( *(at )?)/);aE=In&&In[1]||""}return`
`+aE+Ne}}var Yv=!1,MS;{var wA=typeof WeakMap=="function"?WeakMap:Map;MS=new wA}function QF(Ne,Ct){if(!Ne||Yv)return"";{var fn=MS.get(Ne);if(fn!==void 0)return fn}var In;Yv=!0;var jr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ia;ia=pm.current,pm.current=null,$F();try{if(Ct){var Wi=function(){throw Error()};if(Object.defineProperty(Wi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wi,[])}catch(mm){In=mm}Reflect.construct(Ne,[],Wi)}else{try{Wi.call()}catch(mm){In=mm}Ne.call(Wi.prototype)}}else{try{throw Error()}catch(mm){In=mm}Ne()}}catch(mm){if(mm&&In&&typeof mm.stack=="string"){for(var zi=mm.stack.split(`
`),ms=In.stack.split(`
`),Us=zi.length-1,Ol=ms.length-1;Us>=1&&Ol>=0&&zi[Us]!==ms[Ol];)Ol--;for(;Us>=1&&Ol>=0;Us--,Ol--)if(zi[Us]!==ms[Ol]){if(Us!==1||Ol!==1)do if(Us--,Ol--,Ol<0||zi[Us]!==ms[Ol]){var Xu=`
`+zi[Us].replace(" at new "," at ");return typeof Ne=="function"&&MS.set(Ne,Xu),Xu}while(Us>=1&&Ol>=0);break}}}finally{Yv=!1,pm.current=ia,Xv(),Error.prepareStackTrace=jr}var qd=Ne?Ne.displayName||Ne.name:"",Xd=qd?TS(qd):"";return typeof Ne=="function"&&MS.set(Ne,Xd),Xd}function EA(Ne,Ct,fn){return QF(Ne,!1)}function HV(Ne){var Ct=Ne.prototype;return!!(Ct&&Ct.isReactComponent)}function sy(Ne,Ct,fn){if(Ne==null)return"";if(typeof Ne=="function")return QF(Ne,HV(Ne));if(typeof Ne=="string")return TS(Ne);switch(Ne){case a.Suspense:return TS("Suspense");case q:return TS("SuspenseList")}if(typeof Ne=="object")switch(Ne.$$typeof){case O:return EA(Ne.render);case K:return sy(Ne.type,Ct,fn);case te:return EA(Ne._render);case J:{var In=Ne,jr=In._payload,ia=In._init;try{return sy(ia(jr),Ct,fn)}catch{}}}return""}var JF={},bA=jn.ReactDebugCurrentFrame;function CA(Ne){if(Ne){var Ct=Ne._owner,fn=sy(Ne.type,Ne._source,Ct?Ct.type:null);bA.setExtraStackFrame(fn)}else bA.setExtraStackFrame(null)}function ZF(Ne,Ct,fn,In,jr){{var ia=Function.call.bind(Object.prototype.hasOwnProperty);for(var Wi in Ne)if(ia(Ne,Wi)){var zi=void 0;try{if(typeof Ne[Wi]!="function"){var ms=Error((In||"React class")+": "+fn+" type `"+Wi+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Ne[Wi]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ms.name="Invariant Violation",ms}zi=Ne[Wi](Ct,Wi,In,fn,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Us){zi=Us}zi&&!(zi instanceof Error)&&(CA(jr),xn("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",In||"React class",fn,Wi,typeof zi),CA(null)),zi instanceof Error&&!(zi.message in JF)&&(JF[zi.message]=!0,CA(jr),xn("Failed %s type: %s",fn,zi.message),CA(null))}}}function PS(Ne){if(Ne){var Ct=Ne._owner,fn=sy(Ne.type,Ne._source,Ct?Ct.type:null);Tt(fn)}else Tt(null)}var AA;AA=!1;function Hr(){if(Qe.current){var Ne=Bi(Qe.current.type);if(Ne)return`

Check the render method of \``+Ne+"`."}return""}function eU(Ne){if(Ne!==void 0){var Ct=Ne.fileName.replace(/^.*[\\\/]/,""),fn=Ne.lineNumber;return`

Check your code at `+Ct+":"+fn+"."}return""}function Lh(Ne){return Ne!=null?eU(Ne.__source):""}var H_={};function oE(Ne){var Ct=Hr();if(!Ct){var fn=typeof Ne=="string"?Ne:Ne.displayName||Ne.name;fn&&(Ct=`

Check the top-level render call using <`+fn+">.")}return Ct}function tU(Ne,Ct){if(!(!Ne._store||Ne._store.validated||Ne.key!=null)){Ne._store.validated=!0;var fn=oE(Ct);if(!H_[fn]){H_[fn]=!0;var In="";Ne&&Ne._owner&&Ne._owner!==Qe.current&&(In=" It was passed a child from "+Bi(Ne._owner.type)+"."),PS(Ne),xn('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',fn,In),PS(null)}}}function Kd(Ne,Ct){if(typeof Ne=="object"){if(Array.isArray(Ne))for(var fn=0;fn<Ne.length;fn++){var In=Ne[fn];Ci(In)&&tU(In,Ct)}else if(Ci(Ne))Ne._store&&(Ne._store.validated=!0);else if(Ne){var jr=He(Ne);if(typeof jr=="function"&&jr!==Ne.entries)for(var ia=jr.call(Ne),Wi;!(Wi=ia.next()).done;)Ci(Wi.value)&&tU(Wi.value,Ct)}}}function Mc(Ne){{var Ct=Ne.type;if(Ct==null||typeof Ct=="string")return;var fn;if(typeof Ct=="function")fn=Ct.propTypes;else if(typeof Ct=="object"&&(Ct.$$typeof===O||Ct.$$typeof===K))fn=Ct.propTypes;else return;if(fn){var In=Bi(Ct);ZF(fn,Ne.props,"prop",In,Ne)}else if(Ct.PropTypes!==void 0&&!AA){AA=!0;var jr=Bi(Ct);xn("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",jr||"Unknown")}typeof Ct.getDefaultProps=="function"&&!Ct.getDefaultProps.isReactClassApproved&&xn("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $v(Ne){{for(var Ct=Object.keys(Ne.props),fn=0;fn<Ct.length;fn++){var In=Ct[fn];if(In!=="children"&&In!=="key"){PS(Ne),xn("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",In),PS(null);break}}Ne.ref!==null&&(PS(Ne),xn("Invalid attribute `ref` supplied to `React.Fragment`."),PS(null))}}function nU(Ne,Ct,fn){var In=z_(Ne);if(!In){var jr="";(Ne===void 0||typeof Ne=="object"&&Ne!==null&&Object.keys(Ne).length===0)&&(jr+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ia=Lh(Ct);ia?jr+=ia:jr+=Hr();var Wi;Ne===null?Wi="null":Array.isArray(Ne)?Wi="array":Ne!==void 0&&Ne.$$typeof===m?(Wi="<"+(Bi(Ne.type)||"Unknown")+" />",jr=" Did you accidentally export a JSX literal instead of a component?"):Wi=typeof Ne,xn("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Wi,jr)}var zi=qg.apply(this,arguments);if(zi==null)return zi;if(In)for(var ms=2;ms<arguments.length;ms++)Kd(arguments[ms],Ne);return Ne===a.Fragment?$v(zi):Mc(zi),zi}var Tp=!1;function ly(Ne){var Ct=nU.bind(null,Ne);return Ct.type=Ne,Tp||(Tp=!0,jt("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(Ct,"type",{enumerable:!1,get:function(){return jt("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:Ne}),Ne}}),Ct}function jV(Ne,Ct,fn){for(var In=id.apply(this,arguments),jr=2;jr<arguments.length;jr++)Kd(arguments[jr],In.type);return Mc(In),In}try{var TA=Object.freeze({})}catch{}var rU=nU,iU=jV,GV=ly,VV={map:Ca,forEach:Tc,count:Ts,toArray:bf,only:Cf};a.Children=VV,a.Component=Nr,a.PureComponent=qr,a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jn,a.cloneElement=iU,a.createContext=hm,a.createElement=rU,a.createFactory=GV,a.createRef=tn,a.forwardRef=gA,a.isValidElement=Ci,a.lazy=vA,a.memo=CS,a.useCallback=xA,a.useContext=$g,a.useDebugValue=zV,a.useEffect=XF,a.useImperativeHandle=YF,a.useLayoutEffect=SA,a.useMemo=qu,a.useReducer=qF,a.useRef=_A,a.useState=yA,a.version=f})()}}),xt=L({"../node_modules/react/index.js"(a,u){u.exports=Fke()}}),Uke=L({"../node_modules/scheduler/cjs/scheduler.development.js"(a){(function(){var u=!1,f=!1,m,b,P,B,O=typeof performance=="object"&&typeof performance.now=="function";if(O){var q=performance;a.unstable_now=function(){return q.now()}}else{var K=Date,J=K.now();a.unstable_now=function(){return K.now()-J}}if(typeof window>"u"||typeof MessageChannel!="function"){var te=null,ne=null,re=function(){if(te!==null)try{var Br=a.unstable_now(),hi=!0;te(hi,Br),te=null}catch(Ca){throw setTimeout(re,0),Ca}};m=function(Br){te!==null?setTimeout(m,0,Br):(te=Br,setTimeout(re,0))},b=function(Br,hi){ne=setTimeout(Br,hi)},P=function(){clearTimeout(ne)},a.unstable_shouldYield=function(){return!1},B=a.unstable_forceFrameRate=function(){}}else{var ue=window.setTimeout,pe=window.clearTimeout;if(typeof console<"u"){var me=window.requestAnimationFrame,De=window.cancelAnimationFrame;typeof me!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof De!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var Re=!1,He=null,Oe=-1,Fe=5,Qe=0;a.unstable_shouldYield=function(){return a.unstable_now()>=Qe},B=function(){},a.unstable_forceFrameRate=function(Br){if(Br<0||Br>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Br>0?Fe=Math.floor(1e3/Br):Fe=5};var gt=function(){if(He!==null){var Br=a.unstable_now();Qe=Br+Fe;var hi=!0;try{var Ca=He(hi,Br);Ca?Tt.postMessage(null):(Re=!1,He=null)}catch(Ts){throw Tt.postMessage(null),Ts}}else Re=!1},Wt=new MessageChannel,Tt=Wt.port2;Wt.port1.onmessage=gt,m=function(Br){He=Br,Re||(Re=!0,Tt.postMessage(null))},b=function(Br,hi){Oe=ue(function(){Br(a.unstable_now())},hi)},P=function(){pe(Oe),Oe=-1}}function An(Br,hi){var Ca=Br.length;Br.push(hi),xn(Br,hi,Ca)}function jn(Br){var hi=Br[0];return hi===void 0?null:hi}function jt(Br){var hi=Br[0];if(hi!==void 0){var Ca=Br.pop();return Ca!==hi&&(Br[0]=Ca,_r(Br,Ca,0)),hi}else return null}function xn(Br,hi,Ca){for(var Ts=Ca;;){var Tc=Ts-1>>>1,bf=Br[Tc];if(bf!==void 0&&lr(bf,hi)>0)Br[Tc]=hi,Br[Ts]=bf,Ts=Tc;else return}}function _r(Br,hi,Ca){for(var Ts=Ca,Tc=Br.length;Ts<Tc;){var bf=(Ts+1)*2-1,Cf=Br[bf],hm=bf+1,Ku=Br[hm];if(Cf!==void 0&&lr(Cf,hi)<0)Ku!==void 0&&lr(Ku,Cf)<0?(Br[Ts]=Ku,Br[hm]=hi,Ts=hm):(Br[Ts]=Cf,Br[bf]=hi,Ts=bf);else if(Ku!==void 0&&lr(Ku,hi)<0)Br[Ts]=Ku,Br[hm]=hi,Ts=hm;else return}}function lr(Br,hi){var Ca=Br.sortIndex-hi.sortIndex;return Ca!==0?Ca:Br.id-hi.id}var si=1,un=2,gn=3,Nr=4,xi=5;function ra(Br,hi){}var fr=1073741823,gr=-1,qr=250,wi=5e3,tn=1e4,Qi=fr,Xn=[],Bi=[],ha=1,gi=null,Tn=gn,xr=!1,Xa=!1,Ui=!1;function zo(Br){for(var hi=jn(Bi);hi!==null;){if(hi.callback===null)jt(Bi);else if(hi.startTime<=Br)jt(Bi),hi.sortIndex=hi.expirationTime,An(Xn,hi);else return;hi=jn(Bi)}}function Va(Br){if(Ui=!1,zo(Br),!Xa)if(jn(Xn)!==null)Xa=!0,m(Dl);else{var hi=jn(Bi);hi!==null&&b(Va,hi.startTime-Br)}}function Dl(Br,hi){Xa=!1,Ui&&(Ui=!1,P()),xr=!0;var Ca=Tn;try{var Ts;if(!f)return Wv(Br,hi)}finally{gi=null,Tn=Ca,xr=!1}}function Wv(Br,hi){var Ca=hi;for(zo(Ca),gi=jn(Xn);gi!==null&&!u&&!(gi.expirationTime>Ca&&(!Br||a.unstable_shouldYield()));){var Ts=gi.callback;if(typeof Ts=="function"){gi.callback=null,Tn=gi.priorityLevel;var Tc=gi.expirationTime<=Ca,bf=Ts(Tc);Ca=a.unstable_now(),typeof bf=="function"?gi.callback=bf:gi===jn(Xn)&&jt(Xn),zo(Ca)}else jt(Xn);gi=jn(Xn)}if(gi!==null)return!0;var Cf=jn(Bi);return Cf!==null&&b(Va,Cf.startTime-Ca),!1}function _l(Br,hi){switch(Br){case si:case un:case gn:case Nr:case xi:break;default:Br=gn}var Ca=Tn;Tn=Br;try{return hi()}finally{Tn=Ca}}function qg(Br){var hi;switch(Tn){case si:case un:case gn:hi=gn;break;default:hi=Tn;break}var Ca=Tn;Tn=hi;try{return Br()}finally{Tn=Ca}}function Kv(Br){var hi=Tn;return function(){var Ca=Tn;Tn=hi;try{return Br.apply(this,arguments)}finally{Tn=Ca}}}function id(Br,hi,Ca){var Ts=a.unstable_now(),Tc;if(typeof Ca=="object"&&Ca!==null){var bf=Ca.delay;typeof bf=="number"&&bf>0?Tc=Ts+bf:Tc=Ts}else Tc=Ts;var Cf;switch(Br){case si:Cf=gr;break;case un:Cf=qr;break;case xi:Cf=Qi;break;case Nr:Cf=tn;break;case gn:default:Cf=wi;break}var hm=Tc+Cf,Ku={id:ha++,callback:hi,priorityLevel:Br,startTime:Tc,expirationTime:hm,sortIndex:-1};return Tc>Ts?(Ku.sortIndex=Tc,An(Bi,Ku),jn(Xn)===null&&Ku===jn(Bi)&&(Ui?P():Ui=!0,b(Va,Tc-Ts))):(Ku.sortIndex=hm,An(Xn,Ku),!Xa&&!xr&&(Xa=!0,m(Dl))),Ku}function Ci(){}function Ho(){!Xa&&!xr&&(Xa=!0,m(Dl))}function Xg(){return jn(Xn)}function Eu(Br){Br.callback=null}function ns(){return Tn}var wI=B,bS=null;a.unstable_IdlePriority=xi,a.unstable_ImmediatePriority=si,a.unstable_LowPriority=Nr,a.unstable_NormalPriority=gn,a.unstable_Profiling=bS,a.unstable_UserBlockingPriority=un,a.unstable_cancelCallback=Eu,a.unstable_continueExecution=Ho,a.unstable_getCurrentPriorityLevel=ns,a.unstable_getFirstCallbackNode=Xg,a.unstable_next=qg,a.unstable_pauseExecution=Ci,a.unstable_requestPaint=wI,a.unstable_runWithPriority=_l,a.unstable_scheduleCallback=id,a.unstable_wrapCallback=Kv})()}}),zke=L({"../node_modules/scheduler/index.js"(a,u){u.exports=Uke()}}),Hke=L({"../node_modules/scheduler/cjs/scheduler-tracing.development.js"(a){(function(){var u=0,f=0,m=0;a.__interactionsRef=null,a.__subscriberRef=null,a.__interactionsRef={current:new Set},a.__subscriberRef={current:null};function b(Re){var He=a.__interactionsRef.current;a.__interactionsRef.current=new Set;try{return Re()}finally{a.__interactionsRef.current=He}}function P(){return a.__interactionsRef.current}function B(){return++m}function O(Re,He,Oe){var Fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u,Qe={__count:1,id:f++,name:Re,timestamp:He},gt=a.__interactionsRef.current,Wt=new Set(gt);Wt.add(Qe),a.__interactionsRef.current=Wt;var Tt=a.__subscriberRef.current,An;try{Tt!==null&&Tt.onInteractionTraced(Qe)}finally{try{Tt!==null&&Tt.onWorkStarted(Wt,Fe)}finally{try{An=Oe()}finally{a.__interactionsRef.current=gt;try{Tt!==null&&Tt.onWorkStopped(Wt,Fe)}finally{Qe.__count--,Tt!==null&&Qe.__count===0&&Tt.onInteractionScheduledWorkCompleted(Qe)}}}}return An}function q(Re){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,Oe=a.__interactionsRef.current,Fe=a.__subscriberRef.current;Fe!==null&&Fe.onWorkScheduled(Oe,He),Oe.forEach(function(Wt){Wt.__count++});var Qe=!1;function gt(){var Wt=a.__interactionsRef.current;a.__interactionsRef.current=Oe,Fe=a.__subscriberRef.current;try{var Tt;try{Fe!==null&&Fe.onWorkStarted(Oe,He)}finally{try{Tt=Re.apply(void 0,arguments)}finally{a.__interactionsRef.current=Wt,Fe!==null&&Fe.onWorkStopped(Oe,He)}}return Tt}finally{Qe||(Qe=!0,Oe.forEach(function(An){An.__count--,Fe!==null&&An.__count===0&&Fe.onInteractionScheduledWorkCompleted(An)}))}}return gt.cancel=function(){Fe=a.__subscriberRef.current;try{Fe!==null&&Fe.onWorkCanceled(Oe,He)}finally{Oe.forEach(function(Tt){Tt.__count--,Fe&&Tt.__count===0&&Fe.onInteractionScheduledWorkCompleted(Tt)})}},gt}var K=null;K=new Set;function J(Re){K.add(Re),K.size===1&&(a.__subscriberRef.current={onInteractionScheduledWorkCompleted:re,onInteractionTraced:ne,onWorkCanceled:De,onWorkScheduled:ue,onWorkStarted:pe,onWorkStopped:me})}function te(Re){K.delete(Re),K.size===0&&(a.__subscriberRef.current=null)}function ne(Re){var He=!1,Oe=null;if(K.forEach(function(Fe){try{Fe.onInteractionTraced(Re)}catch(Qe){He||(He=!0,Oe=Qe)}}),He)throw Oe}function re(Re){var He=!1,Oe=null;if(K.forEach(function(Fe){try{Fe.onInteractionScheduledWorkCompleted(Re)}catch(Qe){He||(He=!0,Oe=Qe)}}),He)throw Oe}function ue(Re,He){var Oe=!1,Fe=null;if(K.forEach(function(Qe){try{Qe.onWorkScheduled(Re,He)}catch(gt){Oe||(Oe=!0,Fe=gt)}}),Oe)throw Fe}function pe(Re,He){var Oe=!1,Fe=null;if(K.forEach(function(Qe){try{Qe.onWorkStarted(Re,He)}catch(gt){Oe||(Oe=!0,Fe=gt)}}),Oe)throw Fe}function me(Re,He){var Oe=!1,Fe=null;if(K.forEach(function(Qe){try{Qe.onWorkStopped(Re,He)}catch(gt){Oe||(Oe=!0,Fe=gt)}}),Oe)throw Fe}function De(Re,He){var Oe=!1,Fe=null;if(K.forEach(function(Qe){try{Qe.onWorkCanceled(Re,He)}catch(gt){Oe||(Oe=!0,Fe=gt)}}),Oe)throw Fe}a.unstable_clear=b,a.unstable_getCurrent=P,a.unstable_getThreadID=B,a.unstable_subscribe=J,a.unstable_trace=O,a.unstable_unsubscribe=te,a.unstable_wrap=q})()}}),jke=L({"../node_modules/scheduler/tracing.js"(a,u){u.exports=Hke()}}),Gke=L({"../node_modules/react-dom/cjs/react-dom.development.js"(a){(function(){var u=xt(),f=I2(),m=zke(),b=jke(),P=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function B(s){{for(var c=arguments.length,g=new Array(c>1?c-1:0),I=1;I<c;I++)g[I-1]=arguments[I];q("warn",s,g)}}function O(s){{for(var c=arguments.length,g=new Array(c>1?c-1:0),I=1;I<c;I++)g[I-1]=arguments[I];q("error",s,g)}}function q(s,c,g){{var I=P.ReactDebugCurrentFrame,N=I.getStackAddendum();N!==""&&(c+="%s",g=g.concat([N]));var $=g.map(function(le){return""+le});$.unshift("Warning: "+c),Function.prototype.apply.call(console[s],console,$)}}if(!u)throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var K=0,J=1,te=2,ne=3,re=4,ue=5,pe=6,me=7,De=8,Re=9,He=10,Oe=11,Fe=12,Qe=13,gt=14,Wt=15,Tt=16,An=17,jn=18,jt=19,xn=20,_r=21,lr=22,si=23,un=24,gn=!0,Nr=!1,xi=!1,ra=!1,fr=new Set,gr={},qr={};function wi(s,c){tn(s,c),tn(s+"Capture",c)}function tn(s,c){gr[s]&&O("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",s),gr[s]=c;{var g=s.toLowerCase();qr[g]=s,s==="onDoubleClick"&&(qr.ondblclick=s)}for(var I=0;I<c.length;I++)fr.add(c[I])}var Qi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xn=0,Bi=1,ha=2,gi=3,Tn=4,xr=5,Xa=6,Ui=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",zo=Ui+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Va="data-reactroot",Dl=new RegExp("^["+Ui+"]["+zo+"]*$"),Wv=Object.prototype.hasOwnProperty,_l={},qg={};function Kv(s){return Wv.call(qg,s)?!0:Wv.call(_l,s)?!1:Dl.test(s)?(qg[s]=!0,!0):(_l[s]=!0,O("Invalid attribute name: `%s`",s),!1)}function id(s,c,g){return c!==null?c.type===Xn:g?!1:s.length>2&&(s[0]==="o"||s[0]==="O")&&(s[1]==="n"||s[1]==="N")}function Ci(s,c,g,I){if(g!==null&&g.type===Xn)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":{if(I)return!1;if(g!==null)return!g.acceptsBooleans;var N=s.toLowerCase().slice(0,5);return N!=="data-"&&N!=="aria-"}default:return!1}}function Ho(s,c,g,I){if(c===null||typeof c>"u"||Ci(s,c,g,I))return!0;if(I)return!1;if(g!==null)switch(g.type){case gi:return!c;case Tn:return c===!1;case xr:return isNaN(c);case Xa:return isNaN(c)||c<1}return!1}function Xg(s){return ns.hasOwnProperty(s)?ns[s]:null}function Eu(s,c,g,I,N,$,le){this.acceptsBooleans=c===ha||c===gi||c===Tn,this.attributeName=I,this.attributeNamespace=N,this.mustUseProperty=g,this.propertyName=s,this.type=c,this.sanitizeURL=$,this.removeEmptyString=le}var ns={},wI=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];wI.forEach(function(s){ns[s]=new Eu(s,Xn,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0],g=s[1];ns[c]=new Eu(c,Bi,!1,g,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){ns[s]=new Eu(s,ha,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){ns[s]=new Eu(s,ha,!1,s,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(s){ns[s]=new Eu(s,gi,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){ns[s]=new Eu(s,gi,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){ns[s]=new Eu(s,Tn,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){ns[s]=new Eu(s,Xa,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){ns[s]=new Eu(s,xr,!1,s.toLowerCase(),null,!1,!1)});var bS=/[\-\:]([a-z])/g,Br=function(s){return s[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(s){var c=s.replace(bS,Br);ns[c]=new Eu(c,Bi,!1,s,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(s){var c=s.replace(bS,Br);ns[c]=new Eu(c,Bi,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(bS,Br);ns[c]=new Eu(c,Bi,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){ns[s]=new Eu(s,Bi,!1,s.toLowerCase(),null,!1,!1)});var hi="xlinkHref";ns[hi]=new Eu("xlinkHref",Bi,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){ns[s]=new Eu(s,Bi,!1,s.toLowerCase(),null,!0,!0)});var Ca=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Ts=!1;function Tc(s){!Ts&&Ca.test(s)&&(Ts=!0,O("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(s)))}function bf(s,c,g,I){if(I.mustUseProperty){var N=I.propertyName;return s[N]}else{I.sanitizeURL&&Tc(""+g);var $=I.attributeName,le=null;if(I.type===Tn){if(s.hasAttribute($)){var ye=s.getAttribute($);return ye===""?!0:Ho(c,g,I,!1)?ye:ye===""+g?g:ye}}else if(s.hasAttribute($)){if(Ho(c,g,I,!1))return s.getAttribute($);if(I.type===gi)return g;le=s.getAttribute($)}return Ho(c,g,I,!1)?le===null?g:le:le===""+g?g:le}}function Cf(s,c,g){{if(!Kv(c))return;if(S6e(g))return g;if(!s.hasAttribute(c))return g===void 0?void 0:null;var I=s.getAttribute(c);return I===""+g?g:I}}function hm(s,c,g,I){var N=Xg(c);if(!id(c,N,I)){if(Ho(c,g,N,I)&&(g=null),I||N===null){if(Kv(c)){var $=c;g===null?s.removeAttribute($):s.setAttribute($,""+g)}return}var le=N.mustUseProperty;if(le){var ye=N.propertyName;if(g===null){var Ie=N.type;s[ye]=Ie===gi?!1:""}else s[ye]=g;return}var it=N.attributeName,ct=N.attributeNamespace;if(g===null)s.removeAttribute(it);else{var Vt=N.type,_t;Vt===gi||Vt===Tn&&g===!0?_t="":(_t=""+g,N.sanitizeURL&&Tc(_t.toString())),ct?s.setAttributeNS(ct,it,_t):s.setAttribute(it,_t)}}}var Ku=60103,qv=60106,Yg=60107,EI=60108,iE=60114,vA=60109,gA=60110,U_=60112,z_=60113,CS=60120,Wd=60115,$g=60116,yA=60121,qF=60119,_A=60128,XF=60129,SA=60130,xA=60131;if(typeof Symbol=="function"&&Symbol.for){var qu=Symbol.for;Ku=qu("react.element"),qv=qu("react.portal"),Yg=qu("react.fragment"),EI=qu("react.strict_mode"),iE=qu("react.profiler"),vA=qu("react.provider"),gA=qu("react.context"),U_=qu("react.forward_ref"),z_=qu("react.suspense"),CS=qu("react.suspense_list"),Wd=qu("react.memo"),$g=qu("react.lazy"),yA=qu("react.block"),qu("react.server.block"),qu("react.fundamental"),qF=qu("react.scope"),_A=qu("react.opaque.id"),XF=qu("react.debug_trace_mode"),SA=qu("react.offscreen"),xA=qu("react.legacy_hidden")}var YF=typeof Symbol=="function"&&Symbol.iterator,zV="@@iterator";function ev(s){if(s===null||typeof s!="object")return null;var c=YF&&s[YF]||s[zV];return typeof c=="function"?c:null}var AS=0,bI,CI,AI,TI,MI,PI,RI;function $F(){}$F.__reactDisabledLog=!0;function Xv(){{if(AS===0){bI=console.log,CI=console.info,AI=console.warn,TI=console.error,MI=console.group,PI=console.groupCollapsed,RI=console.groupEnd;var s={configurable:!0,enumerable:!0,value:$F,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}AS++}}function pm(){{if(AS--,AS===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:f({},s,{value:bI}),info:f({},s,{value:CI}),warn:f({},s,{value:AI}),error:f({},s,{value:TI}),group:f({},s,{value:MI}),groupCollapsed:f({},s,{value:PI}),groupEnd:f({},s,{value:RI})})}AS<0&&O("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var aE=P.ReactCurrentDispatcher,TS;function Yv(s,c,g){{if(TS===void 0)try{throw Error()}catch(N){var I=N.stack.trim().match(/\n( *(at )?)/);TS=I&&I[1]||""}return`
`+TS+s}}var MS=!1,wA;{var QF=typeof WeakMap=="function"?WeakMap:Map;wA=new QF}function EA(s,c){if(!s||MS)return"";{var g=wA.get(s);if(g!==void 0)return g}var I;MS=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var $;$=aE.current,aE.current=null,Xv();try{if(c){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Fn){I=Fn}Reflect.construct(s,[],le)}else{try{le.call()}catch(Fn){I=Fn}s.call(le.prototype)}}else{try{throw Error()}catch(Fn){I=Fn}s()}}catch(Fn){if(Fn&&I&&typeof Fn.stack=="string"){for(var ye=Fn.stack.split(`
`),Ie=I.stack.split(`
`),it=ye.length-1,ct=Ie.length-1;it>=1&&ct>=0&&ye[it]!==Ie[ct];)ct--;for(;it>=1&&ct>=0;it--,ct--)if(ye[it]!==Ie[ct]){if(it!==1||ct!==1)do if(it--,ct--,ct<0||ye[it]!==Ie[ct]){var Vt=`
`+ye[it].replace(" at new "," at ");return typeof s=="function"&&wA.set(s,Vt),Vt}while(it>=1&&ct>=0);break}}}finally{MS=!1,aE.current=$,pm(),Error.prepareStackTrace=N}var _t=s?s.displayName||s.name:"",Zt=_t?Yv(_t):"";return typeof s=="function"&&wA.set(s,Zt),Zt}function HV(s,c,g){return EA(s,!0)}function sy(s,c,g){return EA(s,!1)}function JF(s){var c=s.prototype;return!!(c&&c.isReactComponent)}function bA(s,c,g){if(s==null)return"";if(typeof s=="function")return EA(s,JF(s));if(typeof s=="string")return Yv(s);switch(s){case z_:return Yv("Suspense");case CS:return Yv("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case U_:return sy(s.render);case Wd:return bA(s.type,c,g);case yA:return sy(s._render);case $g:{var I=s,N=I._payload,$=I._init;try{return bA($(N),c,g)}catch{}}}return""}function CA(s){switch(s._debugOwner&&s._debugOwner.type,s._debugSource,s.tag){case ue:return Yv(s.type);case Tt:return Yv("Lazy");case Qe:return Yv("Suspense");case jt:return Yv("SuspenseList");case K:case te:case Wt:return sy(s.type);case Oe:return sy(s.type.render);case lr:return sy(s.type._render);case J:return HV(s.type);default:return""}}function ZF(s){try{var c="",g=s;do c+=CA(g),g=g.return;while(g);return c}catch(I){return`
Error generating stack: `+I.message+`
`+I.stack}}function PS(s,c,g){var I=c.displayName||c.name||"";return s.displayName||(I!==""?g+"("+I+")":g)}function AA(s){return s.displayName||"Context"}function Hr(s){if(s==null)return null;if(typeof s.tag=="number"&&O("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Yg:return"Fragment";case qv:return"Portal";case iE:return"Profiler";case EI:return"StrictMode";case z_:return"Suspense";case CS:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case gA:var c=s;return AA(c)+".Consumer";case vA:var g=s;return AA(g._context)+".Provider";case U_:return PS(s,s.render,"ForwardRef");case Wd:return Hr(s.type);case yA:return Hr(s._render);case $g:{var I=s,N=I._payload,$=I._init;try{return Hr($(N))}catch{return null}}}return null}var eU=P.ReactDebugCurrentFrame,Lh=null,H_=!1;function oE(){{if(Lh===null)return null;var s=Lh._debugOwner;if(s!==null&&typeof s<"u")return Hr(s.type)}return null}function tU(){return Lh===null?"":ZF(Lh)}function Kd(){eU.getCurrentStack=null,Lh=null,H_=!1}function Mc(s){eU.getCurrentStack=tU,Lh=s,H_=!1}function $v(s){H_=s}function nU(){return H_}function Tp(s){return""+s}function ly(s){switch(typeof s){case"boolean":case"number":case"object":case"string":case"undefined":return s;default:return""}}var jV={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function TA(s,c){jV[c.type]||c.onChange||c.onInput||c.readOnly||c.disabled||c.value==null||O("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),c.onChange||c.readOnly||c.disabled||c.checked==null||O("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function rU(s){var c=s.type,g=s.nodeName;return g&&g.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function iU(s){return s._valueTracker}function GV(s){s._valueTracker=null}function VV(s){var c="";return s&&(rU(s)?c=s.checked?"true":"false":c=s.value),c}function Ne(s){var c=rU(s)?"checked":"value",g=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),I=""+s[c];if(!(s.hasOwnProperty(c)||typeof g>"u"||typeof g.get!="function"||typeof g.set!="function")){var N=g.get,$=g.set;Object.defineProperty(s,c,{configurable:!0,get:function(){return N.call(this)},set:function(ye){I=""+ye,$.call(this,ye)}}),Object.defineProperty(s,c,{enumerable:g.enumerable});var le={getValue:function(){return I},setValue:function(ye){I=""+ye},stopTracking:function(){GV(s),delete s[c]}};return le}}function Ct(s){iU(s)||(s._valueTracker=Ne(s))}function fn(s){if(!s)return!1;var c=iU(s);if(!c)return!0;var g=c.getValue(),I=VV(s);return I!==g?(c.setValue(I),!0):!1}function In(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jr=!1,ia=!1,Wi=!1,zi=!1;function ms(s){var c=s.type==="checkbox"||s.type==="radio";return c?s.checked!=null:s.value!=null}function Us(s,c){var g=s,I=c.checked,N=f({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:I??g._wrapperState.initialChecked});return N}function Ol(s,c){TA("input",c),c.checked!==void 0&&c.defaultChecked!==void 0&&!ia&&(O("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",oE()||"A component",c.type),ia=!0),c.value!==void 0&&c.defaultValue!==void 0&&!jr&&(O("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",oE()||"A component",c.type),jr=!0);var g=s,I=c.defaultValue==null?"":c.defaultValue;g._wrapperState={initialChecked:c.checked!=null?c.checked:c.defaultChecked,initialValue:ly(c.value!=null?c.value:I),controlled:ms(c)}}function Xu(s,c){var g=s,I=c.checked;I!=null&&hm(g,"checked",I,!1)}function qd(s,c){var g=s;{var I=ms(c);!g._wrapperState.controlled&&I&&!zi&&(O("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),zi=!0),g._wrapperState.controlled&&!I&&!Wi&&(O("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Wi=!0)}Xu(s,c);var N=ly(c.value),$=c.type;if(N!=null)$==="number"?(N===0&&g.value===""||g.value!=N)&&(g.value=Tp(N)):g.value!==Tp(N)&&(g.value=Tp(N));else if($==="submit"||$==="reset"){g.removeAttribute("value");return}c.hasOwnProperty("value")?sE(g,c.type,N):c.hasOwnProperty("defaultValue")&&sE(g,c.type,ly(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(g.defaultChecked=!!c.defaultChecked)}function Xd(s,c,g){var I=s;if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var N=c.type,$=N==="submit"||N==="reset";if($&&(c.value===void 0||c.value===null))return;var le=Tp(I._wrapperState.initialValue);g||le!==I.value&&(I.value=le),I.defaultValue=le}var ye=I.name;ye!==""&&(I.name=""),I.defaultChecked=!I.defaultChecked,I.defaultChecked=!!I._wrapperState.initialChecked,ye!==""&&(I.name=ye)}function mm(s,c){var g=s;qd(g,c),MA(g,c)}function MA(s,c){var g=c.name;if(c.type==="radio"&&g!=null){for(var I=s;I.parentNode;)I=I.parentNode;for(var N=I.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),$=0;$<N.length;$++){var le=N[$];if(!(le===s||le.form!==s.form)){var ye=WU(le);if(!ye)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");fn(le),qd(le,ye)}}}}function sE(s,c,g){(c!=="number"||In(s.ownerDocument)!==s)&&(g==null?s.defaultValue=Tp(s._wrapperState.initialValue):s.defaultValue!==Tp(g)&&(s.defaultValue=Tp(g)))}var II=!1,aU=!1;function oU(s){var c="";return u.Children.forEach(s,function(g){g!=null&&(c+=g)}),c}function sU(s,c){typeof c.children=="object"&&c.children!==null&&u.Children.forEach(c.children,function(g){g!=null&&(typeof g=="string"||typeof g=="number"||typeof g.type=="string"&&(aU||(aU=!0,O("Only strings and numbers are supported as <option> children."))))}),c.selected!=null&&!II&&(O("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),II=!0)}function lU(s,c){c.value!=null&&s.setAttribute("value",Tp(ly(c.value)))}function kI(s,c){var g=f({children:void 0},c),I=oU(c.children);return I&&(g.children=I),g}var WV;WV=!1;function eme(){var s=oE();return s?`

Check the render method of \``+s+"`.":""}var tme=["value","defaultValue"];function I5e(s){{TA("select",s);for(var c=0;c<tme.length;c++){var g=tme[c];if(s[g]!=null){var I=Array.isArray(s[g]);s.multiple&&!I?O("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",g,eme()):!s.multiple&&I&&O("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",g,eme())}}}}function PA(s,c,g,I){var N=s.options;if(c){for(var $=g,le={},ye=0;ye<$.length;ye++)le["$"+$[ye]]=!0;for(var Ie=0;Ie<N.length;Ie++){var it=le.hasOwnProperty("$"+N[Ie].value);N[Ie].selected!==it&&(N[Ie].selected=it),it&&I&&(N[Ie].defaultSelected=!0)}}else{for(var ct=Tp(ly(g)),Vt=null,_t=0;_t<N.length;_t++){if(N[_t].value===ct){N[_t].selected=!0,I&&(N[_t].defaultSelected=!0);return}Vt===null&&!N[_t].disabled&&(Vt=N[_t])}Vt!==null&&(Vt.selected=!0)}}function KV(s,c){return f({},c,{value:void 0})}function nme(s,c){var g=s;I5e(c),g._wrapperState={wasMultiple:!!c.multiple},c.value!==void 0&&c.defaultValue!==void 0&&!WV&&(O("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),WV=!0)}function k5e(s,c){var g=s;g.multiple=!!c.multiple;var I=c.value;I!=null?PA(g,!!c.multiple,I,!1):c.defaultValue!=null&&PA(g,!!c.multiple,c.defaultValue,!0)}function D5e(s,c){var g=s,I=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!c.multiple;var N=c.value;N!=null?PA(g,!!c.multiple,N,!1):I!==!!c.multiple&&(c.defaultValue!=null?PA(g,!!c.multiple,c.defaultValue,!0):PA(g,!!c.multiple,c.multiple?[]:"",!1))}function O5e(s,c){var g=s,I=c.value;I!=null&&PA(g,!!c.multiple,I,!1)}var rme=!1;function qV(s,c){var g=s;if(c.dangerouslySetInnerHTML!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var I=f({},c,{value:void 0,defaultValue:void 0,children:Tp(g._wrapperState.initialValue)});return I}function ime(s,c){var g=s;TA("textarea",c),c.value!==void 0&&c.defaultValue!==void 0&&!rme&&(O("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",oE()||"A component"),rme=!0);var I=c.value;if(I==null){var N=c.children,$=c.defaultValue;if(N!=null){O("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if($!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(N)){if(!(N.length<=1))throw Error("<textarea> can only have at most one child.");N=N[0]}$=N}}$==null&&($=""),I=$}g._wrapperState={initialValue:ly(I)}}function ame(s,c){var g=s,I=ly(c.value),N=ly(c.defaultValue);if(I!=null){var $=Tp(I);$!==g.value&&(g.value=$),c.defaultValue==null&&g.defaultValue!==$&&(g.defaultValue=$)}N!=null&&(g.defaultValue=Tp(N))}function ome(s,c){var g=s,I=g.textContent;I===g._wrapperState.initialValue&&I!==""&&I!==null&&(g.value=I)}function B5e(s,c){ame(s,c)}var uU="http://www.w3.org/1999/xhtml",sme="http://www.w3.org/1998/Math/MathML",XV="http://www.w3.org/2000/svg",lme={html:uU,mathml:sme,svg:XV};function YV(s){switch(s){case"svg":return XV;case"math":return sme;default:return uU}}function $V(s,c){return s==null||s===uU?YV(c):s===XV&&c==="foreignObject"?uU:s}var L5e=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,I,N){MSApp.execUnsafeLocalFunction(function(){return s(c,g,I,N)})}:s},cU,ume=L5e(function(s,c){if(s.namespaceURI===lme.svg&&!("innerHTML"in s)){cU=cU||document.createElement("div"),cU.innerHTML="<svg>"+c.valueOf().toString()+"</svg>";for(var g=cU.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;g.firstChild;)s.appendChild(g.firstChild);return}s.innerHTML=c}),Qv=1,j_=3,tv=8,RS=9,cme=11,fU=function(s,c){if(c){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===j_){g.nodeValue=c;return}}s.textContent=c},N5e={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},DI={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function F5e(s,c){return s+c.charAt(0).toUpperCase()+c.substring(1)}var U5e=["Webkit","ms","Moz","O"];Object.keys(DI).forEach(function(s){U5e.forEach(function(c){DI[F5e(c,s)]=DI[s]})});function QV(s,c,g){var I=c==null||typeof c=="boolean"||c==="";return I?"":!g&&typeof c=="number"&&c!==0&&!(DI.hasOwnProperty(s)&&DI[s])?c+"px":(""+c).trim()}var z5e=/([A-Z])/g,H5e=/^ms-/;function j5e(s){return s.replace(z5e,"-$1").toLowerCase().replace(H5e,"-ms-")}var fme=function(){};{var G5e=/^(?:webkit|moz|o)[A-Z]/,V5e=/^-ms-/,W5e=/-(.)/g,dme=/;\s*$/,RA={},JV={},hme=!1,pme=!1,K5e=function(s){return s.replace(W5e,function(c,g){return g.toUpperCase()})},q5e=function(s){RA.hasOwnProperty(s)&&RA[s]||(RA[s]=!0,O("Unsupported style property %s. Did you mean %s?",s,K5e(s.replace(V5e,"ms-"))))},X5e=function(s){RA.hasOwnProperty(s)&&RA[s]||(RA[s]=!0,O("Unsupported vendor-prefixed style property %s. Did you mean %s?",s,s.charAt(0).toUpperCase()+s.slice(1)))},Y5e=function(s,c){JV.hasOwnProperty(c)&&JV[c]||(JV[c]=!0,O(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,s,c.replace(dme,"")))},$5e=function(s,c){hme||(hme=!0,O("`NaN` is an invalid value for the `%s` css style property.",s))},Q5e=function(s,c){pme||(pme=!0,O("`Infinity` is an invalid value for the `%s` css style property.",s))};fme=function(s,c){s.indexOf("-")>-1?q5e(s):G5e.test(s)?X5e(s):dme.test(c)&&Y5e(s,c),typeof c=="number"&&(isNaN(c)?$5e(s,c):isFinite(c)||Q5e(s,c))}}var J5e=fme;function Z5e(s){{var c="",g="";for(var I in s)if(s.hasOwnProperty(I)){var N=s[I];if(N!=null){var $=I.indexOf("--")===0;c+=g+($?I:j5e(I))+":",c+=QV(I,N,$),g=";"}}return c||null}}function mme(s,c){var g=s.style;for(var I in c)if(c.hasOwnProperty(I)){var N=I.indexOf("--")===0;N||J5e(I,c[I]);var $=QV(I,c[I],N);I==="float"&&(I="cssFloat"),N?g.setProperty(I,$):g[I]=$}}function e3e(s){return s==null||typeof s=="boolean"||s===""}function vme(s){var c={};for(var g in s)for(var I=N5e[g]||[g],N=0;N<I.length;N++)c[I[N]]=g;return c}function t3e(s,c){{if(!c)return;var g=vme(s),I=vme(c),N={};for(var $ in g){var le=g[$],ye=I[$];if(ye&&le!==ye){var Ie=le+","+ye;if(N[Ie])continue;N[Ie]=!0,O("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",e3e(s[le])?"Removing":"Updating",le,ye)}}}}var n3e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},r3e=f({menuitem:!0},n3e),i3e="__html";function ZV(s,c){if(c){if(r3e[s]&&!(c.children==null&&c.dangerouslySetInnerHTML==null))throw Error(s+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(!(typeof c.dangerouslySetInnerHTML=="object"&&i3e in c.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!c.suppressContentEditableWarning&&c.contentEditable&&c.children!=null&&O("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),!(c.style==null||typeof c.style=="object"))throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function lE(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dU={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},gme={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},IA={},a3e=new RegExp("^(aria)-["+zo+"]*$"),o3e=new RegExp("^(aria)[A-Z]["+zo+"]*$"),s3e=Object.prototype.hasOwnProperty;function l3e(s,c){{if(s3e.call(IA,c)&&IA[c])return!0;if(o3e.test(c)){var g="aria-"+c.slice(4).toLowerCase(),I=gme.hasOwnProperty(g)?g:null;if(I==null)return O("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",c),IA[c]=!0,!0;if(c!==I)return O("Invalid ARIA attribute `%s`. Did you mean `%s`?",c,I),IA[c]=!0,!0}if(a3e.test(c)){var N=c.toLowerCase(),$=gme.hasOwnProperty(N)?N:null;if($==null)return IA[c]=!0,!1;if(c!==$)return O("Unknown ARIA attribute `%s`. Did you mean `%s`?",c,$),IA[c]=!0,!0}}return!0}function u3e(s,c){{var g=[];for(var I in c){var N=l3e(s,I);N||g.push(I)}var $=g.map(function(le){return"`"+le+"`"}).join(", ");g.length===1?O("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",$,s):g.length>1&&O("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",$,s)}}function c3e(s,c){lE(s,c)||u3e(s,c)}var yme=!1;function f3e(s,c){{if(s!=="input"&&s!=="textarea"&&s!=="select")return;c!=null&&c.value===null&&!yme&&(yme=!0,s==="select"&&c.multiple?O("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",s):O("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",s))}}var _me=function(){};{var Mp={},d3e=Object.prototype.hasOwnProperty,Sme=/^on./,h3e=/^on[^A-Z]/,p3e=new RegExp("^(aria)-["+zo+"]*$"),m3e=new RegExp("^(aria)[A-Z]["+zo+"]*$");_me=function(s,c,g,I){if(d3e.call(Mp,c)&&Mp[c])return!0;var N=c.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return O("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Mp[c]=!0,!0;if(I!=null){var $=I.registrationNameDependencies,le=I.possibleRegistrationNames;if($.hasOwnProperty(c))return!0;var ye=le.hasOwnProperty(N)?le[N]:null;if(ye!=null)return O("Invalid event handler property `%s`. Did you mean `%s`?",c,ye),Mp[c]=!0,!0;if(Sme.test(c))return O("Unknown event handler property `%s`. It will be ignored.",c),Mp[c]=!0,!0}else if(Sme.test(c))return h3e.test(c)&&O("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",c),Mp[c]=!0,!0;if(p3e.test(c)||m3e.test(c))return!0;if(N==="innerhtml")return O("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Mp[c]=!0,!0;if(N==="aria")return O("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Mp[c]=!0,!0;if(N==="is"&&g!==null&&g!==void 0&&typeof g!="string")return O("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof g),Mp[c]=!0,!0;if(typeof g=="number"&&isNaN(g))return O("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",c),Mp[c]=!0,!0;var Ie=Xg(c),it=Ie!==null&&Ie.type===Xn;if(dU.hasOwnProperty(N)){var ct=dU[N];if(ct!==c)return O("Invalid DOM property `%s`. Did you mean `%s`?",c,ct),Mp[c]=!0,!0}else if(!it&&c!==N)return O("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",c,N),Mp[c]=!0,!0;return typeof g=="boolean"&&Ci(c,g,Ie,!1)?(g?O('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',g,c,c,g,c):O('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',g,c,c,g,c,c,c),Mp[c]=!0,!0):it?!0:Ci(c,g,Ie,!1)?(Mp[c]=!0,!1):((g==="false"||g==="true")&&Ie!==null&&Ie.type===gi&&(O("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",g,c,g==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',c,g),Mp[c]=!0),!0)}}var v3e=function(s,c,g){{var I=[];for(var N in c){var $=_me(s,N,c[N],g);$||I.push(N)}var le=I.map(function(ye){return"`"+ye+"`"}).join(", ");I.length===1?O("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",le,s):I.length>1&&O("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",le,s)}};function g3e(s,c,g){lE(s,c)||v3e(s,c,g)}var xme=1,hU=2,OI=4,wme=16,y3e=xme|hU|OI;function e7(s){var c=s.target||s.srcElement||window;return c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===j_?c.parentNode:c}var t7=null,kA=null,DA=null;function Eme(s){var c=LS(s);if(c){if(typeof t7!="function")throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var g=c.stateNode;if(g){var I=WU(g);t7(c.stateNode,c.type,I)}}}function _3e(s){t7=s}function bme(s){kA?DA?DA.push(s):DA=[s]:kA=s}function S3e(){return kA!==null||DA!==null}function Cme(){if(kA){var s=kA,c=DA;if(kA=null,DA=null,Eme(s),c)for(var g=0;g<c.length;g++)Eme(c[g])}}var n7=function(s,c){return s(c)},Ame=function(s,c,g,I,N){return s(c,g,I,N)},r7=function(){},Tme=n7,IS=!1,i7=!1;function a7(){var s=S3e();s&&(r7(),Cme())}function x3e(s,c){if(IS)return s(c);IS=!0;try{return n7(s,c)}finally{IS=!1,a7()}}function w3e(s,c,g){if(i7)return s(c,g);i7=!0;try{return Tme(s,c,g)}finally{i7=!1,a7()}}function E3e(s,c,g,I,N){var $=IS;IS=!0;try{return Ame(s,c,g,I,N)}finally{IS=$,IS||a7()}}function b3e(s){IS||r7()}function C3e(s,c,g,I){n7=s,Ame=c,r7=g,Tme=I}function A3e(s){return s==="button"||s==="input"||s==="select"||s==="textarea"}function T3e(s,c,g){switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(g.disabled&&A3e(c));default:return!1}}function BI(s,c){var g=s.stateNode;if(g===null)return null;var I=WU(g);if(I===null)return null;var N=I[c];if(T3e(c,s.type,I))return null;if(!(!N||typeof N=="function"))throw Error("Expected `"+c+"` listener to be a function, instead got a value of `"+typeof N+"` type.");return N}var o7=!1;if(Qi)try{var LI={};Object.defineProperty(LI,"passive",{get:function(){o7=!0}}),window.addEventListener("test",LI,LI),window.removeEventListener("test",LI,LI)}catch{o7=!1}function Mme(s,c,g,I,N,$,le,ye,Ie){var it=Array.prototype.slice.call(arguments,3);try{c.apply(g,it)}catch(ct){this.onError(ct)}}var Pme=Mme;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var s7=document.createElement("react");Pme=function(c,g,I,N,$,le,ye,Ie,it){if(!(typeof document<"u"))throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var ct=document.createEvent("Event"),Vt=!1,_t=!0,Zt=window.event,Fn=Object.getOwnPropertyDescriptor(window,"event");function br(){s7.removeEventListener(bn,_a,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Zt)}var Ii=Array.prototype.slice.call(arguments,3);function _a(){Vt=!0,br(),g.apply(I,Ii),_t=!1}var Zi,bo=!1,js=!1;function Qt(Ft){if(Zi=Ft.error,bo=!0,Zi===null&&Ft.colno===0&&Ft.lineno===0&&(js=!0),Ft.defaultPrevented&&Zi!=null&&typeof Zi=="object")try{Zi._suppressLogging=!0}catch{}}var bn="react-"+(c||"invokeguardedcallback");if(window.addEventListener("error",Qt),s7.addEventListener(bn,_a,!1),ct.initEvent(bn,!1,!1),s7.dispatchEvent(ct),Fn&&Object.defineProperty(window,"event",Fn),Vt&&_t&&(bo?js&&(Zi=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Zi=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Zi)),window.removeEventListener("error",Qt),!Vt)return br(),Mme.apply(this,arguments)}}var M3e=Pme,OA=!1,pU=null,mU=!1,l7=null,P3e={onError:function(s){OA=!0,pU=s}};function uy(s,c,g,I,N,$,le,ye,Ie){OA=!1,pU=null,M3e.apply(P3e,arguments)}function R3e(s,c,g,I,N,$,le,ye,Ie){if(uy.apply(this,arguments),OA){var it=cy();mU||(mU=!0,l7=it)}}function I3e(){if(mU){var s=l7;throw mU=!1,l7=null,s}}function G_(){return OA}function cy(){if(OA){var s=pU;return OA=!1,pU=null,s}else throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function BA(s){return s._reactInternals}function k3e(s){return s._reactInternals!==void 0}function D3e(s,c){s._reactInternals=c}var bu=0,kS=1,Pc=2,ol=4,O3e=6,V_=8,vU=16,Rme=32,Bl=64,gU=128,uE=256,NI=512,FI=8192,W_=1024,B3e=1028,L3e=932,N3e=2047,UI=2048,K_=4096,u7=16384,F3e=P.ReactCurrentOwner;function cE(s){var c=s,g=s;if(s.alternate)for(;c.return;)c=c.return;else{var I=c;do c=I,(c.flags&(Pc|W_))!==bu&&(g=c.return),I=c.return;while(I)}return c.tag===ne?g:null}function Ime(s){if(s.tag===Qe){var c=s.memoizedState;if(c===null){var g=s.alternate;g!==null&&(c=g.memoizedState)}if(c!==null)return c.dehydrated}return null}function kme(s){return s.tag===ne?s.stateNode.containerInfo:null}function U3e(s){return cE(s)===s}function z3e(s){{var c=F3e.current;if(c!==null&&c.tag===J){var g=c,I=g.stateNode;I._warnedAboutRefsInRender||O("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Hr(g.type)||"A component"),I._warnedAboutRefsInRender=!0}}var N=BA(s);return N?cE(N)===N:!1}function Dme(s){if(cE(s)!==s)throw Error("Unable to find node on an unmounted component.")}function Ome(s){var c=s.alternate;if(!c){var g=cE(s);if(g===null)throw Error("Unable to find node on an unmounted component.");return g!==s?null:s}for(var I=s,N=c;;){var $=I.return;if($===null)break;var le=$.alternate;if(le===null){var ye=$.return;if(ye!==null){I=N=ye;continue}break}if($.child===le.child){for(var Ie=$.child;Ie;){if(Ie===I)return Dme($),s;if(Ie===N)return Dme($),c;Ie=Ie.sibling}throw Error("Unable to find node on an unmounted component.")}if(I.return!==N.return)I=$,N=le;else{for(var it=!1,ct=$.child;ct;){if(ct===I){it=!0,I=$,N=le;break}if(ct===N){it=!0,N=$,I=le;break}ct=ct.sibling}if(!it){for(ct=le.child;ct;){if(ct===I){it=!0,I=le,N=$;break}if(ct===N){it=!0,N=le,I=$;break}ct=ct.sibling}if(!it)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(I.alternate!==N)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(I.tag!==ne)throw Error("Unable to find node on an unmounted component.");return I.stateNode.current===I?s:c}function Bme(s){var c=Ome(s);if(!c)return null;for(var g=c;;){if(g.tag===ue||g.tag===pe)return g;if(g.child){g.child.return=g,g=g.child;continue}if(g===c)return null;for(;!g.sibling;){if(!g.return||g.return===c)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function H3e(s){var c=Ome(s);if(!c)return null;for(var g=c;;){if(g.tag===ue||g.tag===pe||Nr)return g;if(g.child&&g.tag!==re){g.child.return=g,g=g.child;continue}if(g===c)return null;for(;!g.sibling;){if(!g.return||g.return===c)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Lme(s,c){for(var g=c,I=s.alternate;g!==null;){if(g===s||g===I)return!0;g=g.return}return!1}var Nme;function j3e(s){Nme=s}var c7;function G3e(s){c7=s}var Fme;function V3e(s){Fme=s}var Ume;function W3e(s){Ume=s}var f7=!1,q_=[],DS=null,OS=null,BS=null,zI=new Map,HI=new Map,jI=[];function K3e(){return q_.length>0}var q3e=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function zme(s){return q3e.indexOf(s)>-1}function Hme(s,c,g,I,N){return{blockedOn:s,domEventName:c,eventSystemFlags:g|wme,nativeEvent:N,targetContainers:[I]}}function jme(s,c,g,I,N){var $=Hme(s,c,g,I,N);q_.push($)}function Gme(s,c){switch(s){case"focusin":case"focusout":DS=null;break;case"dragenter":case"dragleave":OS=null;break;case"mouseover":case"mouseout":BS=null;break;case"pointerover":case"pointerout":{var g=c.pointerId;zI.delete(g);break}case"gotpointercapture":case"lostpointercapture":{var I=c.pointerId;HI.delete(I);break}}}function GI(s,c,g,I,N,$){if(s===null||s.nativeEvent!==$){var le=Hme(c,g,I,N,$);if(c!==null){var ye=LS(c);ye!==null&&c7(ye)}return le}s.eventSystemFlags|=I;var Ie=s.targetContainers;return N!==null&&Ie.indexOf(N)===-1&&Ie.push(N),s}function X3e(s,c,g,I,N){switch(c){case"focusin":{var $=N;return DS=GI(DS,s,c,g,I,$),!0}case"dragenter":{var le=N;return OS=GI(OS,s,c,g,I,le),!0}case"mouseover":{var ye=N;return BS=GI(BS,s,c,g,I,ye),!0}case"pointerover":{var Ie=N,it=Ie.pointerId;return zI.set(it,GI(zI.get(it)||null,s,c,g,I,Ie)),!0}case"gotpointercapture":{var ct=N,Vt=ct.pointerId;return HI.set(Vt,GI(HI.get(Vt)||null,s,c,g,I,ct)),!0}}return!1}function Y3e(s){var c=gE(s.target);if(c!==null){var g=cE(c);if(g!==null){var I=g.tag;if(I===Qe){var N=Ime(g);if(N!==null){s.blockedOn=N,Ume(s.lanePriority,function(){m.unstable_runWithPriority(s.priority,function(){Fme(g)})});return}}else if(I===ne){var $=g.stateNode;if($.hydrate){s.blockedOn=kme(g);return}}}}s.blockedOn=null}function yU(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;c.length>0;){var g=c[0],I=C7(s.domEventName,s.eventSystemFlags,g,s.nativeEvent);if(I!==null){var N=LS(I);return N!==null&&c7(N),s.blockedOn=I,!1}c.shift()}return!0}function Vme(s,c,g){yU(s)&&g.delete(c)}function $3e(){for(f7=!1;q_.length>0;){var s=q_[0];if(s.blockedOn!==null){var c=LS(s.blockedOn);c!==null&&Nme(c);break}for(var g=s.targetContainers;g.length>0;){var I=g[0],N=C7(s.domEventName,s.eventSystemFlags,I,s.nativeEvent);if(N!==null){s.blockedOn=N;break}g.shift()}s.blockedOn===null&&q_.shift()}DS!==null&&yU(DS)&&(DS=null),OS!==null&&yU(OS)&&(OS=null),BS!==null&&yU(BS)&&(BS=null),zI.forEach(Vme),HI.forEach(Vme)}function VI(s,c){s.blockedOn===c&&(s.blockedOn=null,f7||(f7=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,$3e)))}function Wme(s){if(q_.length>0){VI(q_[0],s);for(var c=1;c<q_.length;c++){var g=q_[c];g.blockedOn===s&&(g.blockedOn=null)}}DS!==null&&VI(DS,s),OS!==null&&VI(OS,s),BS!==null&&VI(BS,s);var I=function(ye){return VI(ye,s)};zI.forEach(I),HI.forEach(I);for(var N=0;N<jI.length;N++){var $=jI[N];$.blockedOn===s&&($.blockedOn=null)}for(;jI.length>0;){var le=jI[0];if(le.blockedOn!==null)break;Y3e(le),le.blockedOn===null&&jI.shift()}}var d7=0,Kme=1,h7=2;function _U(s,c){var g={};return g[s.toLowerCase()]=c.toLowerCase(),g["Webkit"+s]="webkit"+c,g["Moz"+s]="moz"+c,g}var LA={animationend:_U("Animation","AnimationEnd"),animationiteration:_U("Animation","AnimationIteration"),animationstart:_U("Animation","AnimationStart"),transitionend:_U("Transition","TransitionEnd")},p7={},qme={};Qi&&(qme=document.createElement("div").style,"AnimationEvent"in window||(delete LA.animationend.animation,delete LA.animationiteration.animation,delete LA.animationstart.animation),"TransitionEvent"in window||delete LA.transitionend.transition);function SU(s){if(p7[s])return p7[s];if(!LA[s])return s;var c=LA[s];for(var g in c)if(c.hasOwnProperty(g)&&g in qme)return p7[s]=c[g];return s}var Xme=SU("animationend"),Yme=SU("animationiteration"),$me=SU("animationstart"),Qme=SU("transitionend"),Jme=new Map,m7=new Map,Q3e=["cancel","cancel","click","click","close","close","contextmenu","contextMenu","copy","copy","cut","cut","auxclick","auxClick","dblclick","doubleClick","dragend","dragEnd","dragstart","dragStart","drop","drop","focusin","focus","focusout","blur","input","input","invalid","invalid","keydown","keyDown","keypress","keyPress","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","paste","paste","pause","pause","play","play","pointercancel","pointerCancel","pointerdown","pointerDown","pointerup","pointerUp","ratechange","rateChange","reset","reset","seeked","seeked","submit","submit","touchcancel","touchCancel","touchend","touchEnd","touchstart","touchStart","volumechange","volumeChange"],J3e=["change","selectionchange","textInput","compositionstart","compositionend","compositionupdate"],Z3e=["drag","drag","dragenter","dragEnter","dragexit","dragExit","dragleave","dragLeave","dragover","dragOver","mousemove","mouseMove","mouseout","mouseOut","mouseover","mouseOver","pointermove","pointerMove","pointerout","pointerOut","pointerover","pointerOver","scroll","scroll","toggle","toggle","touchmove","touchMove","wheel","wheel"],e4e=["abort","abort",Xme,"animationEnd",Yme,"animationIteration",$me,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qme,"transitionEnd","waiting","waiting"];function v7(s,c){for(var g=0;g<s.length;g+=2){var I=s[g],N=s[g+1],$=N[0].toUpperCase()+N.slice(1),le="on"+$;m7.set(I,c),Jme.set(I,le),wi(le,[I])}}function t4e(s,c){for(var g=0;g<s.length;g++)m7.set(s[g],c)}function n4e(s){var c=m7.get(s);return c===void 0?h7:c}function r4e(){v7(Q3e,d7),v7(Z3e,Kme),v7(e4e,h7),t4e(J3e,d7)}var i4e=m.unstable_now;if(!(b.__interactionsRef!=null&&b.__interactionsRef.current!=null))throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var Zme=99,eve=98,tve=97,a4e=96,nve=95,o4e=90;i4e();var NA=15,xU=14,rve=13,wU=12,ive=11,FA=10,ave=9,fE=8,ove=7,EU=6,g7=5,sve=4,lve=3,bU=2,uve=1,dE=0,s4e=31,Gn=0,vm=0,zs=1,WI=2,y7=4,CU=24,cve=32,fve=192,dve=256,_7=3584,hve=4096,UA=4186112,AU=62914560,zA=33554432,S7=67108864,pve=134217727,mve=134217728,x7=805306368,fy=1073741824,Yu=-1;function gmt(s){}var Sl=fE;function HA(s){if((zs&s)!==Gn)return Sl=NA,zs;if((WI&s)!==Gn)return Sl=xU,WI;if((y7&s)!==Gn)return Sl=rve,y7;var c=CU&s;if(c!==Gn)return Sl=wU,c;if((s&cve)!==Gn)return Sl=ive,cve;var g=fve&s;if(g!==Gn)return Sl=FA,g;if((s&dve)!==Gn)return Sl=ave,dve;var I=_7&s;if(I!==Gn)return Sl=fE,I;if((s&hve)!==Gn)return Sl=ove,hve;var N=UA&s;if(N!==Gn)return Sl=EU,N;var $=AU&s;if($!==Gn)return Sl=g7,$;if(s&S7)return Sl=sve,S7;if((s&mve)!==Gn)return Sl=lve,mve;var le=x7&s;return le!==Gn?(Sl=bU,le):(fy&s)!==Gn?(Sl=uve,fy):(O("Should have found matching lanes. This is a bug in React."),Sl=fE,s)}function l4e(s){switch(s){case Zme:return NA;case eve:return FA;case tve:case a4e:return fE;case nve:return bU;default:return dE}}function u4e(s){switch(s){case NA:case xU:return Zme;case rve:case wU:case ive:case FA:return eve;case ave:case fE:case ove:case EU:case sve:case g7:return tve;case lve:case bU:case uve:return nve;case dE:return o4e;default:throw Error("Invalid update priority: "+s+". This is a bug in React.")}}function KI(s,c){var g=s.pendingLanes;if(g===Gn)return Sl=dE,Gn;var I=Gn,N=dE,$=s.expiredLanes,le=s.suspendedLanes,ye=s.pingedLanes;if($!==Gn)I=$,N=Sl=NA;else{var Ie=g&pve;if(Ie!==Gn){var it=Ie&~le;if(it!==Gn)I=HA(it),N=Sl;else{var ct=Ie&ye;ct!==Gn&&(I=HA(ct),N=Sl)}}else{var Vt=g&~le;Vt!==Gn?(I=HA(Vt),N=Sl):ye!==Gn&&(I=HA(ye),N=Sl)}}if(I===Gn)return Gn;if(I=g&_4e(I),c!==Gn&&c!==I&&(c&le)===Gn){HA(c);var _t=Sl;if(N<=_t)return c;Sl=N}var Zt=s.entangledLanes;if(Zt!==Gn)for(var Fn=s.entanglements,br=I&Zt;br>0;){var Ii=hE(br),_a=1<<Ii;I|=Fn[Ii],br&=~_a}return I}function c4e(s,c){for(var g=s.eventTimes,I=Yu;c>0;){var N=hE(c),$=1<<N,le=g[N];le>I&&(I=le),c&=~$}return I}function f4e(s,c){HA(s);var g=Sl;return g>=FA?c+250:g>=EU?c+5e3:Yu}function d4e(s,c){for(var g=s.pendingLanes,I=s.suspendedLanes,N=s.pingedLanes,$=s.expirationTimes,le=g;le>0;){var ye=hE(le),Ie=1<<ye,it=$[ye];it===Yu?((Ie&I)===Gn||(Ie&N)!==Gn)&&($[ye]=f4e(Ie,c)):it<=c&&(s.expiredLanes|=Ie),le&=~Ie}}function vve(s){var c=s.pendingLanes&~fy;return c!==Gn?c:c&fy?fy:Gn}function h4e(){return Sl}function gve(s){return(s&pve)!==Gn}function yve(s){return(s&AU)===s}function p4e(s){return(s&UA)===s}function TU(s,c){switch(s){case dE:break;case NA:return zs;case xU:return WI;case wU:{var g=Pp(CU&~c);return g===vm?TU(FA,c):g}case FA:{var I=Pp(fve&~c);return I===vm?TU(fE,c):I}case fE:{var N=Pp(_7&~c);return N===vm&&(N=Pp(UA&~c),N===vm&&(N=Pp(_7))),N}case EU:case g7:break;case bU:var $=Pp(x7&~c);return $===vm&&($=Pp(x7)),$}throw Error("Invalid update priority: "+s+". This is a bug in React.")}function m4e(s,c){var g=Pp(UA&~c);return g===vm&&(g=Pp(UA&~s),g===vm&&(g=Pp(UA))),g}function v4e(s){var c=Pp(AU&~s);return c===vm&&(c=Pp(AU)),c}function g4e(s){return s&-s}function y4e(s){var c=31-xve(s);return c<0?Gn:1<<c}function _4e(s){return(y4e(s)<<1)-1}function Pp(s){return g4e(s)}function hE(s){return 31-xve(s)}function S4e(s){return hE(s)}function Nh(s,c){return(s&c)!==Gn}function pE(s,c){return(s&c)===c}function vs(s,c){return s|c}function MU(s,c){return s&~c}function ymt(s){return s}function x4e(s,c){return s!==vm&&s<c?s:c}function w7(s){for(var c=[],g=0;g<s4e;g++)c.push(s);return c}function PU(s,c,g){s.pendingLanes|=c;var I=c-1;s.suspendedLanes&=I,s.pingedLanes&=I;var N=s.eventTimes,$=S4e(c);N[$]=g}function w4e(s,c){s.suspendedLanes|=c,s.pingedLanes&=~c;for(var g=s.expirationTimes,I=c;I>0;){var N=hE(I),$=1<<N;g[N]=Yu,I&=~$}}function _ve(s,c,g){s.pingedLanes|=s.suspendedLanes&c}function E4e(s){s.expiredLanes|=CU&s.pendingLanes}function b4e(s){return(s&CU)!==Gn}function Sve(s,c){s.mutableReadLanes|=c&s.pendingLanes}function C4e(s,c){var g=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c;for(var I=s.entanglements,N=s.eventTimes,$=s.expirationTimes,le=g;le>0;){var ye=hE(le),Ie=1<<ye;I[ye]=Gn,N[ye]=Yu,$[ye]=Yu,le&=~Ie}}function A4e(s,c){s.entangledLanes|=c;for(var g=s.entanglements,I=c;I>0;){var N=hE(I),$=1<<N;g[N]|=c,I&=~$}}var xve=Math.clz32?Math.clz32:P4e,T4e=Math.log,M4e=Math.LN2;function P4e(s){return s===0?32:31-(T4e(s)/M4e|0)|0}var R4e=m.unstable_UserBlockingPriority,I4e=m.unstable_runWithPriority,E7=!0;function wve(s){E7=!!s}function k4e(){return E7}function D4e(s,c,g){var I=n4e(c),N;switch(I){case d7:N=O4e;break;case Kme:N=B4e;break;case h7:default:N=b7;break}return N.bind(null,c,g,s)}function O4e(s,c,g,I){b3e(I.timeStamp),E3e(b7,s,c,g,I)}function B4e(s,c,g,I){I4e(R4e,b7.bind(null,s,c,g,I))}function b7(s,c,g,I){if(E7){var N=!0;if(N=(c&OI)===0,N&&K3e()&&zme(s)){jme(null,s,c,g,I);return}var $=C7(s,c,g,I);if($===null){N&&Gme(s,I);return}if(N){if(zme(s)){jme($,s,c,g,I);return}if(X3e($,s,c,g,I))return;Gme(s,I)}nge(s,c,I,null,g)}}function C7(s,c,g,I){var N=e7(I),$=gE(N);if($!==null){var le=cE($);if(le===null)$=null;else{var ye=le.tag;if(ye===Qe){var Ie=Ime(le);if(Ie!==null)return Ie;$=null}else if(ye===ne){var it=le.stateNode;if(it.hydrate)return kme(le);$=null}else le!==$&&($=null)}}return nge(s,c,I,$,g),null}function L4e(s,c,g){return s.addEventListener(c,g,!1),g}function N4e(s,c,g){return s.addEventListener(c,g,!0),g}function F4e(s,c,g,I){return s.addEventListener(c,g,{capture:!0,passive:I}),g}function U4e(s,c,g,I){return s.addEventListener(c,g,{passive:I}),g}var qI=null,A7=null,XI=null;function z4e(s){return qI=s,A7=bve(),!0}function H4e(){qI=null,A7=null,XI=null}function Eve(){if(XI)return XI;var s,c=A7,g=c.length,I,N=bve(),$=N.length;for(s=0;s<g&&c[s]===N[s];s++);var le=g-s;for(I=1;I<=le&&c[g-I]===N[$-I];I++);var ye=I>1?1-I:void 0;return XI=N.slice(s,ye),XI}function bve(){return"value"in qI?qI.value:qI.textContent}function RU(s){var c,g=s.keyCode;return"charCode"in s?(c=s.charCode,c===0&&g===13&&(c=13)):c=g,c===10&&(c=13),c>=32||c===13?c:0}function IU(){return!0}function Cve(){return!1}function nv(s){function c(g,I,N,$,le){this._reactName=g,this._targetInst=N,this.type=I,this.nativeEvent=$,this.target=le,this.currentTarget=null;for(var ye in s)if(s.hasOwnProperty(ye)){var Ie=s[ye];Ie?this[ye]=Ie($):this[ye]=$[ye]}var it=$.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1;return it?this.isDefaultPrevented=IU:this.isDefaultPrevented=Cve,this.isPropagationStopped=Cve,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=IU)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=IU)},persist:function(){},isPersistent:IU}),c}var jA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T7=nv(jA),YI=f({},jA,{view:0,detail:0}),j4e=nv(YI),M7,P7,$I;function G4e(s){s!==$I&&($I&&s.type==="mousemove"?(M7=s.screenX-$I.screenX,P7=s.screenY-$I.screenY):(M7=0,P7=0),$I=s)}var kU=f({},YI,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I7,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(G4e(s),M7)},movementY:function(s){return"movementY"in s?s.movementY:P7}}),Ave=nv(kU),V4e=f({},kU,{dataTransfer:0}),W4e=nv(V4e),K4e=f({},YI,{relatedTarget:0}),R7=nv(K4e),q4e=f({},jA,{animationName:0,elapsedTime:0,pseudoElement:0}),X4e=nv(q4e),Y4e=f({},jA,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$4e=nv(Y4e),Q4e=f({},jA,{data:0}),Tve=nv(Q4e),J4e=Tve,Z4e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eHe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function tHe(s){if(s.key){var c=Z4e[s.key]||s.key;if(c!=="Unidentified")return c}if(s.type==="keypress"){var g=RU(s);return g===13?"Enter":String.fromCharCode(g)}return s.type==="keydown"||s.type==="keyup"?eHe[s.keyCode]||"Unidentified":""}var nHe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rHe(s){var c=this,g=c.nativeEvent;if(g.getModifierState)return g.getModifierState(s);var I=nHe[s];return I?!!g[I]:!1}function I7(s){return rHe}var iHe=f({},YI,{key:tHe,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I7,charCode:function(s){return s.type==="keypress"?RU(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?RU(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),aHe=nv(iHe),oHe=f({},kU,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mve=nv(oHe),sHe=f({},YI,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I7}),lHe=nv(sHe),uHe=f({},jA,{propertyName:0,elapsedTime:0,pseudoElement:0}),cHe=nv(uHe),fHe=f({},kU,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),dHe=nv(fHe),hHe=[9,13,27,32],Pve=229,k7=Qi&&"CompositionEvent"in window,QI=null;Qi&&"documentMode"in document&&(QI=document.documentMode);var pHe=Qi&&"TextEvent"in window&&!QI,Rve=Qi&&(!k7||QI&&QI>8&&QI<=11),Ive=32,kve=String.fromCharCode(Ive);function mHe(){wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),wi("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),wi("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var Dve=!1;function vHe(s){return(s.ctrlKey||s.altKey||s.metaKey)&&!(s.ctrlKey&&s.altKey)}function gHe(s){switch(s){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function yHe(s,c){return s==="keydown"&&c.keyCode===Pve}function Ove(s,c){switch(s){case"keyup":return hHe.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==Pve;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bve(s){var c=s.detail;return typeof c=="object"&&"data"in c?c.data:null}function Lve(s){return s.locale==="ko"}var GA=!1;function _He(s,c,g,I,N){var $,le;if(k7?$=gHe(c):GA?Ove(c,I)&&($="onCompositionEnd"):yHe(c,I)&&($="onCompositionStart"),!$)return null;Rve&&!Lve(I)&&(!GA&&$==="onCompositionStart"?GA=z4e(N):$==="onCompositionEnd"&&GA&&(le=Eve()));var ye=OU(g,$);if(ye.length>0){var Ie=new Tve($,c,null,I,N);if(s.push({event:Ie,listeners:ye}),le)Ie.data=le;else{var it=Bve(I);it!==null&&(Ie.data=it)}}}function SHe(s,c){switch(s){case"compositionend":return Bve(c);case"keypress":var g=c.which;return g!==Ive?null:(Dve=!0,kve);case"textInput":var I=c.data;return I===kve&&Dve?null:I;default:return null}}function xHe(s,c){if(GA){if(s==="compositionend"||!k7&&Ove(s,c)){var g=Eve();return H4e(),GA=!1,g}return null}switch(s){case"paste":return null;case"keypress":if(!vHe(c)){if(c.char&&c.char.length>1)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Rve&&!Lve(c)?null:c.data;default:return null}}function wHe(s,c,g,I,N){var $;if(pHe?$=SHe(c,I):$=xHe(c,I),!$)return null;var le=OU(g,"onBeforeInput");if(le.length>0){var ye=new J4e("onBeforeInput","beforeinput",null,I,N);s.push({event:ye,listeners:le}),ye.data=$}}function EHe(s,c,g,I,N,$,le){_He(s,c,g,I,N),wHe(s,c,g,I,N)}var bHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nve(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!bHe[s.type]:c==="textarea"}function CHe(s){if(!Qi)return!1;var c="on"+s,g=c in document;if(!g){var I=document.createElement("div");I.setAttribute(c,"return;"),g=typeof I[c]=="function"}return g}function AHe(){wi("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function Fve(s,c,g,I){bme(I);var N=OU(c,"onChange");if(N.length>0){var $=new T7("onChange","change",null,g,I);s.push({event:$,listeners:N})}}var JI=null,ZI=null;function THe(s){var c=s.nodeName&&s.nodeName.toLowerCase();return c==="select"||c==="input"&&s.type==="file"}function MHe(s){var c=[];Fve(c,ZI,s,e7(s)),x3e(PHe,c)}function PHe(s){$ve(s,0)}function DU(s){var c=XA(s);if(fn(c))return s}function RHe(s,c){if(s==="change")return c}var Uve=!1;Qi&&(Uve=CHe("input")&&(!document.documentMode||document.documentMode>9));function IHe(s,c){JI=s,ZI=c,JI.attachEvent("onpropertychange",Hve)}function zve(){JI&&(JI.detachEvent("onpropertychange",Hve),JI=null,ZI=null)}function Hve(s){s.propertyName==="value"&&DU(ZI)&&MHe(s)}function kHe(s,c,g){s==="focusin"?(zve(),IHe(c,g)):s==="focusout"&&zve()}function DHe(s,c){if(s==="selectionchange"||s==="keyup"||s==="keydown")return DU(ZI)}function OHe(s){var c=s.nodeName;return c&&c.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")}function BHe(s,c){if(s==="click")return DU(c)}function LHe(s,c){if(s==="input"||s==="change")return DU(c)}function NHe(s){var c=s._wrapperState;!c||!c.controlled||s.type!=="number"||sE(s,"number",s.value)}function FHe(s,c,g,I,N,$,le){var ye=g?XA(g):window,Ie,it;if(THe(ye)?Ie=RHe:Nve(ye)?Uve?Ie=LHe:(Ie=DHe,it=kHe):OHe(ye)&&(Ie=BHe),Ie){var ct=Ie(c,g);if(ct){Fve(s,ct,I,N);return}}it&&it(c,ye,g),c==="focusout"&&NHe(ye)}function UHe(){tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"])}function zHe(s,c,g,I,N,$,le){var ye=c==="mouseover"||c==="pointerover",Ie=c==="mouseout"||c==="pointerout";if(ye&&!($&wme)){var it=I.relatedTarget||I.fromElement;if(it&&(gE(it)||VU(it)))return}if(!(!Ie&&!ye)){var ct;if(N.window===N)ct=N;else{var Vt=N.ownerDocument;Vt?ct=Vt.defaultView||Vt.parentWindow:ct=window}var _t,Zt;if(Ie){var Fn=I.relatedTarget||I.toElement;if(_t=g,Zt=Fn?gE(Fn):null,Zt!==null){var br=cE(Zt);(Zt!==br||Zt.tag!==ue&&Zt.tag!==pe)&&(Zt=null)}}else _t=null,Zt=g;if(_t!==Zt){var Ii=Ave,_a="onMouseLeave",Zi="onMouseEnter",bo="mouse";(c==="pointerout"||c==="pointerover")&&(Ii=Mve,_a="onPointerLeave",Zi="onPointerEnter",bo="pointer");var js=_t==null?ct:XA(_t),Qt=Zt==null?ct:XA(Zt),bn=new Ii(_a,bo+"leave",_t,I,N);bn.target=js,bn.relatedTarget=Qt;var Ft=null,Jn=gE(N);if(Jn===g){var Fr=new Ii(Zi,bo+"enter",Zt,I,N);Fr.target=Qt,Fr.relatedTarget=js,Ft=Fr}cje(s,bn,Ft,_t,Zt)}}}function HHe(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Jv=typeof Object.is=="function"?Object.is:HHe,jHe=Object.prototype.hasOwnProperty;function ek(s,c){if(Jv(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var g=Object.keys(s),I=Object.keys(c);if(g.length!==I.length)return!1;for(var N=0;N<g.length;N++)if(!jHe.call(c,g[N])||!Jv(s[g[N]],c[g[N]]))return!1;return!0}function jve(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function GHe(s){for(;s;){if(s.nextSibling)return s.nextSibling;s=s.parentNode}}function Gve(s,c){for(var g=jve(s),I=0,N=0;g;){if(g.nodeType===j_){if(N=I+g.textContent.length,I<=c&&N>=c)return{node:g,offset:c-I};I=N}g=jve(GHe(g))}}function VHe(s){var c=s.ownerDocument,g=c&&c.defaultView||window,I=g.getSelection&&g.getSelection();if(!I||I.rangeCount===0)return null;var N=I.anchorNode,$=I.anchorOffset,le=I.focusNode,ye=I.focusOffset;try{N.nodeType,le.nodeType}catch{return null}return WHe(s,N,$,le,ye)}function WHe(s,c,g,I,N){var $=0,le=-1,ye=-1,Ie=0,it=0,ct=s,Vt=null;e:for(;;){for(var _t=null;ct===c&&(g===0||ct.nodeType===j_)&&(le=$+g),ct===I&&(N===0||ct.nodeType===j_)&&(ye=$+N),ct.nodeType===j_&&($+=ct.nodeValue.length),(_t=ct.firstChild)!==null;)Vt=ct,ct=_t;for(;;){if(ct===s)break e;if(Vt===c&&++Ie===g&&(le=$),Vt===I&&++it===N&&(ye=$),(_t=ct.nextSibling)!==null)break;ct=Vt,Vt=ct.parentNode}ct=_t}return le===-1||ye===-1?null:{start:le,end:ye}}function KHe(s,c){var g=s.ownerDocument||document,I=g&&g.defaultView||window;if(I.getSelection){var N=I.getSelection(),$=s.textContent.length,le=Math.min(c.start,$),ye=c.end===void 0?le:Math.min(c.end,$);if(!N.extend&&le>ye){var Ie=ye;ye=le,le=Ie}var it=Gve(s,le),ct=Gve(s,ye);if(it&&ct){if(N.rangeCount===1&&N.anchorNode===it.node&&N.anchorOffset===it.offset&&N.focusNode===ct.node&&N.focusOffset===ct.offset)return;var Vt=g.createRange();Vt.setStart(it.node,it.offset),N.removeAllRanges(),le>ye?(N.addRange(Vt),N.extend(ct.node,ct.offset)):(Vt.setEnd(ct.node,ct.offset),N.addRange(Vt))}}}function Vve(s){return s&&s.nodeType===j_}function Wve(s,c){return!s||!c?!1:s===c?!0:Vve(s)?!1:Vve(c)?Wve(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1}function qHe(s){return s&&s.ownerDocument&&Wve(s.ownerDocument.documentElement,s)}function XHe(s){try{return typeof s.contentWindow.location.href=="string"}catch{return!1}}function Kve(){for(var s=window,c=In();c instanceof s.HTMLIFrameElement;){if(XHe(c))s=c.contentWindow;else return c;c=In(s.document)}return c}function D7(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function YHe(){var s=Kve();return{focusedElem:s,selectionRange:D7(s)?QHe(s):null}}function $He(s){var c=Kve(),g=s.focusedElem,I=s.selectionRange;if(c!==g&&qHe(g)){I!==null&&D7(g)&&JHe(g,I);for(var N=[],$=g;$=$.parentNode;)$.nodeType===Qv&&N.push({element:$,left:$.scrollLeft,top:$.scrollTop});typeof g.focus=="function"&&g.focus();for(var le=0;le<N.length;le++){var ye=N[le];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}}function QHe(s){var c;return"selectionStart"in s?c={start:s.selectionStart,end:s.selectionEnd}:c=VHe(s),c||{start:0,end:0}}function JHe(s,c){var g=c.start,I=c.end;I===void 0&&(I=g),"selectionStart"in s?(s.selectionStart=g,s.selectionEnd=Math.min(I,s.value.length)):KHe(s,c)}var ZHe=Qi&&"documentMode"in document&&document.documentMode<=11;function eje(){wi("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var VA=null,O7=null,tk=null,B7=!1;function tje(s){if("selectionStart"in s&&D7(s))return{start:s.selectionStart,end:s.selectionEnd};var c=s.ownerDocument&&s.ownerDocument.defaultView||window,g=c.getSelection();return{anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}}function nje(s){return s.window===s?s.document:s.nodeType===RS?s:s.ownerDocument}function qve(s,c,g){var I=nje(g);if(!(B7||VA==null||VA!==In(I))){var N=tje(VA);if(!tk||!ek(tk,N)){tk=N;var $=OU(O7,"onSelect");if($.length>0){var le=new T7("onSelect","select",null,c,g);s.push({event:le,listeners:$}),le.target=VA}}}}function rje(s,c,g,I,N,$,le){var ye=g?XA(g):window;switch(c){case"focusin":(Nve(ye)||ye.contentEditable==="true")&&(VA=ye,O7=g,tk=null);break;case"focusout":VA=null,O7=null,tk=null;break;case"mousedown":B7=!0;break;case"contextmenu":case"mouseup":case"dragend":B7=!1,qve(s,I,N);break;case"selectionchange":if(ZHe)break;case"keydown":case"keyup":qve(s,I,N)}}function ije(s,c,g,I,N,$,le){var ye=Jme.get(c);if(ye!==void 0){var Ie=T7,it=c;switch(c){case"keypress":if(RU(I)===0)return;case"keydown":case"keyup":Ie=aHe;break;case"focusin":it="focus",Ie=R7;break;case"focusout":it="blur",Ie=R7;break;case"beforeblur":case"afterblur":Ie=R7;break;case"click":if(I.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ave;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=W4e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=lHe;break;case Xme:case Yme:case $me:Ie=X4e;break;case Qme:Ie=cHe;break;case"scroll":Ie=j4e;break;case"wheel":Ie=dHe;break;case"copy":case"cut":case"paste":Ie=$4e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Mve;break}var ct=($&OI)!==0;{var Vt=!ct&&c==="scroll",_t=lje(g,ye,I.type,ct,Vt);if(_t.length>0){var Zt=new Ie(ye,it,null,I,N);s.push({event:Zt,listeners:_t})}}}}r4e(),UHe(),AHe(),eje(),mHe();function aje(s,c,g,I,N,$,le){ije(s,c,g,I,N,$);var ye=($&y3e)===0;ye&&(zHe(s,c,g,I,N,$),FHe(s,c,g,I,N),rje(s,c,g,I,N),EHe(s,c,g,I,N))}var nk=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Xve=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(nk));function Yve(s,c,g){var I=s.type||"unknown-event";s.currentTarget=g,R3e(I,c,void 0,s),s.currentTarget=null}function oje(s,c,g){var I;if(g)for(var N=c.length-1;N>=0;N--){var $=c[N],le=$.instance,ye=$.currentTarget,Ie=$.listener;if(le!==I&&s.isPropagationStopped())return;Yve(s,Ie,ye),I=le}else for(var it=0;it<c.length;it++){var ct=c[it],Vt=ct.instance,_t=ct.currentTarget,Zt=ct.listener;if(Vt!==I&&s.isPropagationStopped())return;Yve(s,Zt,_t),I=Vt}}function $ve(s,c){for(var g=(c&OI)!==0,I=0;I<s.length;I++){var N=s[I],$=N.event,le=N.listeners;oje($,le,g)}I3e()}function sje(s,c,g,I,N){var $=e7(g),le=[];aje(le,s,I,g,$,c),$ve(le,c)}function Ll(s,c){var g=!1,I=Pge(c),N=ige(s,g);I.has(N)||(ege(c,s,hU,g),I.add(N))}var Qve="_reactListening"+Math.random().toString(36).slice(2);function Jve(s){{if(s[Qve])return;s[Qve]=!0,fr.forEach(function(c){Xve.has(c)||Zve(c,!1,s,null),Zve(c,!0,s,null)})}}function Zve(s,c,g,I){var N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,$=g;if(s==="selectionchange"&&g.nodeType!==RS&&($=g.ownerDocument),I!==null&&!c&&Xve.has(s)){if(s!=="scroll")return;N|=hU,$=I}var le=Pge($),ye=ige(s,c);le.has(ye)||(c&&(N|=OI),ege($,s,N,c),le.add(ye))}function ege(s,c,g,I,N){var $=D4e(s,c,g),le=void 0;o7&&(c==="touchstart"||c==="touchmove"||c==="wheel")&&(le=!0),s=s,I?le!==void 0?F4e(s,c,$,le):N4e(s,c,$):le!==void 0?U4e(s,c,$,le):L4e(s,c,$)}function tge(s,c){return s===c||s.nodeType===tv&&s.parentNode===c}function nge(s,c,g,I,N){var $=I;if(!(c&xme)&&!(c&hU)){var le=N;if(I!==null){var ye=I;e:for(;;){if(ye===null)return;var Ie=ye.tag;if(Ie===ne||Ie===re){var it=ye.stateNode.containerInfo;if(tge(it,le))break;if(Ie===re)for(var ct=ye.return;ct!==null;){var Vt=ct.tag;if(Vt===ne||Vt===re){var _t=ct.stateNode.containerInfo;if(tge(_t,le))return}ct=ct.return}for(;it!==null;){var Zt=gE(it);if(Zt===null)return;var Fn=Zt.tag;if(Fn===ue||Fn===pe){ye=$=Zt;continue e}it=it.parentNode}}ye=ye.return}}}w3e(function(){return sje(s,c,g,$)})}function rk(s,c,g){return{instance:s,listener:c,currentTarget:g}}function lje(s,c,g,I,N){for(var $=c!==null?c+"Capture":null,le=I?$:c,ye=[],Ie=s,it=null;Ie!==null;){var ct=Ie,Vt=ct.stateNode,_t=ct.tag;if(_t===ue&&Vt!==null&&(it=Vt,le!==null)){var Zt=BI(Ie,le);Zt!=null&&ye.push(rk(Ie,Zt,it))}if(N)break;Ie=Ie.return}return ye}function OU(s,c){for(var g=c+"Capture",I=[],N=s;N!==null;){var $=N,le=$.stateNode,ye=$.tag;if(ye===ue&&le!==null){var Ie=le,it=BI(N,g);it!=null&&I.unshift(rk(N,it,Ie));var ct=BI(N,c);ct!=null&&I.push(rk(N,ct,Ie))}N=N.return}return I}function WA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==ue);return s||null}function uje(s,c){for(var g=s,I=c,N=0,$=g;$;$=WA($))N++;for(var le=0,ye=I;ye;ye=WA(ye))le++;for(;N-le>0;)g=WA(g),N--;for(;le-N>0;)I=WA(I),le--;for(var Ie=N;Ie--;){if(g===I||I!==null&&g===I.alternate)return g;g=WA(g),I=WA(I)}return null}function rge(s,c,g,I,N){for(var $=c._reactName,le=[],ye=g;ye!==null&&ye!==I;){var Ie=ye,it=Ie.alternate,ct=Ie.stateNode,Vt=Ie.tag;if(it!==null&&it===I)break;if(Vt===ue&&ct!==null){var _t=ct;if(N){var Zt=BI(ye,$);Zt!=null&&le.unshift(rk(ye,Zt,_t))}else if(!N){var Fn=BI(ye,$);Fn!=null&&le.push(rk(ye,Fn,_t))}}ye=ye.return}le.length!==0&&s.push({event:c,listeners:le})}function cje(s,c,g,I,N){var $=I&&N?uje(I,N):null;I!==null&&rge(s,c,I,$,!1),N!==null&&g!==null&&rge(s,g,N,$,!0)}function ige(s,c){return s+"__"+(c?"capture":"bubble")}var gm=!1,ik="dangerouslySetInnerHTML",BU="suppressContentEditableWarning",ak="suppressHydrationWarning",age="autoFocus",mE="children",vE="style",LU="__html",KA=lme.html,L7,ok,NU,FU,sk,oge,UU,sge,lk,lge;{L7={dialog:!0,webview:!0},NU=function(s,c){c3e(s,c),f3e(s,c),g3e(s,c,{registrationNameDependencies:gr,possibleRegistrationNames:qr})},sge=Qi&&!document.documentMode;var fje=/\r\n?/g,dje=/\u0000|\uFFFD/g;lk=function(s){var c=typeof s=="string"?s:""+s;return c.replace(fje,`
`).replace(dje,"")},FU=function(s,c){if(!gm){var g=lk(c),I=lk(s);I!==g&&(gm=!0,O('Text content did not match. Server: "%s" Client: "%s"',I,g))}},sk=function(s,c,g){if(!gm){var I=lk(g),N=lk(c);N!==I&&(gm=!0,O("Prop `%s` did not match. Server: %s Client: %s",s,JSON.stringify(N),JSON.stringify(I)))}},oge=function(s){if(!gm){gm=!0;var c=[];s.forEach(function(g){c.push(g)}),O("Extra attributes from the server: %s",c)}},UU=function(s,c){c===!1?O("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",s,s,s):O("Expected `%s` listener to be a function, instead got a value of `%s` type.",s,typeof c)},lge=function(s,c){var g=s.namespaceURI===KA?s.ownerDocument.createElement(s.tagName):s.ownerDocument.createElementNS(s.namespaceURI,s.tagName);return g.innerHTML=c,g.innerHTML}}function uge(s){return s.nodeType===RS?s:s.ownerDocument}function hje(){}function zU(s){s.onclick=hje}function pje(s,c,g,I,N){for(var $ in I)if(I.hasOwnProperty($)){var le=I[$];if($===vE)le&&Object.freeze(le),mme(c,le);else if($===ik){var ye=le?le[LU]:void 0;ye!=null&&ume(c,ye)}else if($===mE)if(typeof le=="string"){var Ie=s!=="textarea"||le!=="";Ie&&fU(c,le)}else typeof le=="number"&&fU(c,""+le);else $===BU||$===ak||$===age||(gr.hasOwnProperty($)?le!=null&&(typeof le!="function"&&UU($,le),$==="onScroll"&&Ll("scroll",c)):le!=null&&hm(c,$,le,N))}}function mje(s,c,g,I){for(var N=0;N<c.length;N+=2){var $=c[N],le=c[N+1];$===vE?mme(s,le):$===ik?ume(s,le):$===mE?fU(s,le):hm(s,$,le,I)}}function vje(s,c,g,I){var N,$=uge(g),le,ye=I;if(ye===KA&&(ye=YV(s)),ye===KA){if(N=lE(s,c),!N&&s!==s.toLowerCase()&&O("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",s),s==="script"){var Ie=$.createElement("div");Ie.innerHTML="<script><\/script>";var it=Ie.firstChild;le=Ie.removeChild(it)}else if(typeof c.is=="string")le=$.createElement(s,{is:c.is});else if(le=$.createElement(s),s==="select"){var ct=le;c.multiple?ct.multiple=!0:c.size&&(ct.size=c.size)}}else le=$.createElementNS(ye,s);return ye===KA&&!N&&Object.prototype.toString.call(le)==="[object HTMLUnknownElement]"&&!Object.prototype.hasOwnProperty.call(L7,s)&&(L7[s]=!0,O("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",s)),le}function gje(s,c){return uge(c).createTextNode(s)}function yje(s,c,g,I){var N=lE(c,g);NU(c,g);var $;switch(c){case"dialog":Ll("cancel",s),Ll("close",s),$=g;break;case"iframe":case"object":case"embed":Ll("load",s),$=g;break;case"video":case"audio":for(var le=0;le<nk.length;le++)Ll(nk[le],s);$=g;break;case"source":Ll("error",s),$=g;break;case"img":case"image":case"link":Ll("error",s),Ll("load",s),$=g;break;case"details":Ll("toggle",s),$=g;break;case"input":Ol(s,g),$=Us(s,g),Ll("invalid",s);break;case"option":sU(s,g),$=kI(s,g);break;case"select":nme(s,g),$=KV(s,g),Ll("invalid",s);break;case"textarea":ime(s,g),$=qV(s,g),Ll("invalid",s);break;default:$=g}switch(ZV(c,$),pje(c,s,I,$,N),c){case"input":Ct(s),Xd(s,g,!1);break;case"textarea":Ct(s),ome(s);break;case"option":lU(s,g);break;case"select":k5e(s,g);break;default:typeof $.onClick=="function"&&zU(s);break}}function _je(s,c,g,I,N){NU(c,I);var $=null,le,ye;switch(c){case"input":le=Us(s,g),ye=Us(s,I),$=[];break;case"option":le=kI(s,g),ye=kI(s,I),$=[];break;case"select":le=KV(s,g),ye=KV(s,I),$=[];break;case"textarea":le=qV(s,g),ye=qV(s,I),$=[];break;default:le=g,ye=I,typeof le.onClick!="function"&&typeof ye.onClick=="function"&&zU(s);break}ZV(c,ye);var Ie,it,ct=null;for(Ie in le)if(!(ye.hasOwnProperty(Ie)||!le.hasOwnProperty(Ie)||le[Ie]==null))if(Ie===vE){var Vt=le[Ie];for(it in Vt)Vt.hasOwnProperty(it)&&(ct||(ct={}),ct[it]="")}else Ie===ik||Ie===mE||Ie===BU||Ie===ak||Ie===age||(gr.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in ye){var _t=ye[Ie],Zt=le!=null?le[Ie]:void 0;if(!(!ye.hasOwnProperty(Ie)||_t===Zt||_t==null&&Zt==null))if(Ie===vE)if(_t&&Object.freeze(_t),Zt){for(it in Zt)Zt.hasOwnProperty(it)&&(!_t||!_t.hasOwnProperty(it))&&(ct||(ct={}),ct[it]="");for(it in _t)_t.hasOwnProperty(it)&&Zt[it]!==_t[it]&&(ct||(ct={}),ct[it]=_t[it])}else ct||($||($=[]),$.push(Ie,ct)),ct=_t;else if(Ie===ik){var Fn=_t?_t[LU]:void 0,br=Zt?Zt[LU]:void 0;Fn!=null&&br!==Fn&&($=$||[]).push(Ie,Fn)}else Ie===mE?(typeof _t=="string"||typeof _t=="number")&&($=$||[]).push(Ie,""+_t):Ie===BU||Ie===ak||(gr.hasOwnProperty(Ie)?(_t!=null&&(typeof _t!="function"&&UU(Ie,_t),Ie==="onScroll"&&Ll("scroll",s)),!$&&Zt!==_t&&($=[])):typeof _t=="object"&&_t!==null&&_t.$$typeof===_A?_t.toString():($=$||[]).push(Ie,_t))}return ct&&(t3e(ct,ye[vE]),($=$||[]).push(vE,ct)),$}function Sje(s,c,g,I,N){g==="input"&&N.type==="radio"&&N.name!=null&&Xu(s,N);var $=lE(g,I),le=lE(g,N);switch(mje(s,c,$,le),g){case"input":qd(s,N);break;case"textarea":ame(s,N);break;case"select":D5e(s,N);break}}function xje(s){{var c=s.toLowerCase();return dU.hasOwnProperty(c)&&dU[c]||null}}function wje(s,c,g,I,N){var $,le;switch(ok=g[ak]===!0,$=lE(c,g),NU(c,g),c){case"dialog":Ll("cancel",s),Ll("close",s);break;case"iframe":case"object":case"embed":Ll("load",s);break;case"video":case"audio":for(var ye=0;ye<nk.length;ye++)Ll(nk[ye],s);break;case"source":Ll("error",s);break;case"img":case"image":case"link":Ll("error",s),Ll("load",s);break;case"details":Ll("toggle",s);break;case"input":Ol(s,g),Ll("invalid",s);break;case"option":sU(s,g);break;case"select":nme(s,g),Ll("invalid",s);break;case"textarea":ime(s,g),Ll("invalid",s);break}ZV(c,g);{le=new Set;for(var Ie=s.attributes,it=0;it<Ie.length;it++){var ct=Ie[it].name.toLowerCase();switch(ct){case"data-reactroot":break;case"value":break;case"checked":break;case"selected":break;default:le.add(Ie[it].name)}}}var Vt=null;for(var _t in g)if(g.hasOwnProperty(_t)){var Zt=g[_t];if(_t===mE)typeof Zt=="string"?s.textContent!==Zt&&(ok||FU(s.textContent,Zt),Vt=[mE,Zt]):typeof Zt=="number"&&s.textContent!==""+Zt&&(ok||FU(s.textContent,Zt),Vt=[mE,""+Zt]);else if(gr.hasOwnProperty(_t))Zt!=null&&(typeof Zt!="function"&&UU(_t,Zt),_t==="onScroll"&&Ll("scroll",s));else if(typeof $=="boolean"){var Fn=void 0,br=Xg(_t);if(!ok){if(!(_t===BU||_t===ak||_t==="value"||_t==="checked"||_t==="selected")){if(_t===ik){var Ii=s.innerHTML,_a=Zt?Zt[LU]:void 0;if(_a!=null){var Zi=lge(s,_a);Zi!==Ii&&sk(_t,Ii,Zi)}}else if(_t===vE){if(le.delete(_t),sge){var bo=Z5e(Zt);Fn=s.getAttribute("style"),bo!==Fn&&sk(_t,Fn,bo)}}else if($)le.delete(_t.toLowerCase()),Fn=Cf(s,_t,Zt),Zt!==Fn&&sk(_t,Fn,Zt);else if(!id(_t,br,$)&&!Ho(_t,Zt,br,$)){var js=!1;if(br!==null)le.delete(br.attributeName),Fn=bf(s,_t,Zt,br);else{var Qt=I;if(Qt===KA&&(Qt=YV(c)),Qt===KA)le.delete(_t.toLowerCase());else{var bn=xje(_t);bn!==null&&bn!==_t&&(js=!0,le.delete(bn)),le.delete(_t)}Fn=Cf(s,_t,Zt)}Zt!==Fn&&!js&&sk(_t,Fn,Zt)}}}}}switch(le.size>0&&!ok&&oge(le),c){case"input":Ct(s),Xd(s,g,!0);break;case"textarea":Ct(s),ome(s);break;case"select":case"option":break;default:typeof g.onClick=="function"&&zU(s);break}return Vt}function Eje(s,c){var g=s.nodeValue!==c;return g}function cge(s,c){FU(s.nodeValue,c)}function fge(s,c){{if(gm)return;gm=!0,O("Did not expect server HTML to contain a <%s> in <%s>.",c.nodeName.toLowerCase(),s.nodeName.toLowerCase())}}function dge(s,c){{if(gm)return;gm=!0,O('Did not expect server HTML to contain the text node "%s" in <%s>.',c.nodeValue,s.nodeName.toLowerCase())}}function hge(s,c,g){{if(gm)return;gm=!0,O("Expected server HTML to contain a matching <%s> in <%s>.",c,s.nodeName.toLowerCase())}}function pge(s,c){{if(c===""||gm)return;gm=!0,O('Expected server HTML to contain a matching text node for "%s" in <%s>.',c,s.nodeName.toLowerCase())}}function bje(s,c,g){switch(c){case"input":mm(s,g);return;case"textarea":B5e(s,g);return;case"select":O5e(s,g);return}}var uk=function(){},ck=function(){};{var Cje=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],mge=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Aje=mge.concat(["button"]),Tje=["dd","dt","li","option","optgroup","p","rp","rt"],vge={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};ck=function(s,c){var g=f({},s||vge),I={tag:c};return mge.indexOf(c)!==-1&&(g.aTagInScope=null,g.buttonTagInScope=null,g.nobrTagInScope=null),Aje.indexOf(c)!==-1&&(g.pTagInButtonScope=null),Cje.indexOf(c)!==-1&&c!=="address"&&c!=="div"&&c!=="p"&&(g.listItemTagAutoclosing=null,g.dlItemTagAutoclosing=null),g.current=I,c==="form"&&(g.formTag=I),c==="a"&&(g.aTagInScope=I),c==="button"&&(g.buttonTagInScope=I),c==="nobr"&&(g.nobrTagInScope=I),c==="p"&&(g.pTagInButtonScope=I),c==="li"&&(g.listItemTagAutoclosing=I),(c==="dd"||c==="dt")&&(g.dlItemTagAutoclosing=I),g};var Mje=function(s,c){switch(c){case"select":return s==="option"||s==="optgroup"||s==="#text";case"optgroup":return s==="option"||s==="#text";case"option":return s==="#text";case"tr":return s==="th"||s==="td"||s==="style"||s==="script"||s==="template";case"tbody":case"thead":case"tfoot":return s==="tr"||s==="style"||s==="script"||s==="template";case"colgroup":return s==="col"||s==="template";case"table":return s==="caption"||s==="colgroup"||s==="tbody"||s==="tfoot"||s==="thead"||s==="style"||s==="script"||s==="template";case"head":return s==="base"||s==="basefont"||s==="bgsound"||s==="link"||s==="meta"||s==="title"||s==="noscript"||s==="noframes"||s==="style"||s==="script"||s==="template";case"html":return s==="head"||s==="body"||s==="frameset";case"frameset":return s==="frame";case"#document":return s==="html"}switch(s){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return c!=="h1"&&c!=="h2"&&c!=="h3"&&c!=="h4"&&c!=="h5"&&c!=="h6";case"rp":case"rt":return Tje.indexOf(c)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return c==null}return!0},Pje=function(s,c){switch(s){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return c.pTagInButtonScope;case"form":return c.formTag||c.pTagInButtonScope;case"li":return c.listItemTagAutoclosing;case"dd":case"dt":return c.dlItemTagAutoclosing;case"button":return c.buttonTagInScope;case"a":return c.aTagInScope;case"nobr":return c.nobrTagInScope}return null},gge={};uk=function(s,c,g){g=g||vge;var I=g.current,N=I&&I.tag;c!=null&&(s!=null&&O("validateDOMNesting: when childText is passed, childTag should be null"),s="#text");var $=Mje(s,N)?null:I,le=$?null:Pje(s,g),ye=$||le;if(ye){var Ie=ye.tag,it=!!$+"|"+s+"|"+Ie;if(!gge[it]){gge[it]=!0;var ct=s,Vt="";if(s==="#text"?/\S/.test(c)?ct="Text nodes":(ct="Whitespace text nodes",Vt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):ct="<"+s+">",$){var _t="";Ie==="table"&&s==="tr"&&(_t+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),O("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",ct,Ie,Vt,_t)}else O("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",ct,Ie)}}}}var qA;qA="suppressHydrationWarning";var yge="$",_ge="/$",N7="$?",F7="$!",Rje="style",U7=null,z7=null;function Sge(s,c){switch(s){case"button":case"input":case"select":case"textarea":return!!c.autoFocus}return!1}function Ije(s){var c,g,I=s.nodeType;switch(I){case RS:case cme:{c=I===RS?"#document":"#fragment";var N=s.documentElement;g=N?N.namespaceURI:$V(null,"");break}default:{var $=I===tv?s.parentNode:s,le=$.namespaceURI||null;c=$.tagName,g=$V(le,c);break}}{var ye=c.toLowerCase(),Ie=ck(null,ye);return{namespace:g,ancestorInfo:Ie}}}function kje(s,c,g){{var I=s,N=$V(I.namespace,c),$=ck(I.ancestorInfo,c);return{namespace:N,ancestorInfo:$}}}function _mt(s){return s}function Dje(s){U7=k4e(),z7=YHe();var c=null;return wve(!1),c}function Oje(s){$He(z7),wve(U7),U7=null,z7=null}function Bje(s,c,g,I,N){var $;{var le=I;if(uk(s,null,le.ancestorInfo),typeof c.children=="string"||typeof c.children=="number"){var ye=""+c.children,Ie=ck(le.ancestorInfo,s);uk(null,ye,Ie)}$=le.namespace}var it=vje(s,c,g,$);return GU(N,it),V7(it,c),it}function Lje(s,c){s.appendChild(c)}function Nje(s,c,g,I,N){return yje(s,c,g,I),Sge(c,g)}function Fje(s,c,g,I,N,$){{var le=$;if(typeof I.children!=typeof g.children&&(typeof I.children=="string"||typeof I.children=="number")){var ye=""+I.children,Ie=ck(le.ancestorInfo,c);uk(null,ye,Ie)}}return _je(s,c,g,I)}function H7(s,c){return s==="textarea"||s==="option"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}function Uje(s,c,g,I){{var N=g;uk(null,s,N.ancestorInfo)}var $=gje(s,c);return GU(I,$),$}var xge=typeof setTimeout=="function"?setTimeout:void 0,zje=typeof clearTimeout=="function"?clearTimeout:void 0,j7=-1;function Hje(s,c,g,I){Sge(c,g)&&s.focus()}function jje(s,c,g,I,N,$){V7(s,N),Sje(s,c,g,I,N)}function wge(s){fU(s,"")}function Gje(s,c,g){s.nodeValue=g}function Vje(s,c){s.appendChild(c)}function Wje(s,c){var g;s.nodeType===tv?(g=s.parentNode,g.insertBefore(c,s)):(g=s,g.appendChild(c));var I=s._reactRootContainer;I==null&&g.onclick===null&&zU(g)}function Kje(s,c,g){s.insertBefore(c,g)}function qje(s,c,g){s.nodeType===tv?s.parentNode.insertBefore(c,g):s.insertBefore(c,g)}function Xje(s,c){s.removeChild(c)}function Yje(s,c){s.nodeType===tv?s.parentNode.removeChild(c):s.removeChild(c)}function $je(s){s=s;var c=s.style;typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"}function Qje(s){s.nodeValue=""}function Jje(s,c){s=s;var g=c[Rje],I=g!=null&&g.hasOwnProperty("display")?g.display:null;s.style.display=QV("display",I)}function Zje(s,c){s.nodeValue=c}function G7(s){if(s.nodeType===Qv)s.textContent="";else if(s.nodeType===RS){var c=s.body;c!=null&&(c.textContent="")}}function e6e(s,c,g){return s.nodeType!==Qv||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s}function t6e(s,c){return c===""||s.nodeType!==j_?null:s}function n6e(s){return s.data===N7}function r6e(s){return s.data===F7}function Ege(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===Qv||c===j_)break}return s}function HU(s){return Ege(s.nextSibling)}function bge(s){return Ege(s.firstChild)}function i6e(s,c,g,I,N,$){GU($,s),V7(s,g);var le;{var ye=N;le=ye.namespace}return wje(s,c,g,le)}function a6e(s,c,g){return GU(g,s),Eje(s,c)}function o6e(s){for(var c=s.nextSibling,g=0;c;){if(c.nodeType===tv){var I=c.data;if(I===_ge){if(g===0)return HU(c);g--}else(I===yge||I===F7||I===N7)&&g++}c=c.nextSibling}return null}function Cge(s){for(var c=s.previousSibling,g=0;c;){if(c.nodeType===tv){var I=c.data;if(I===yge||I===F7||I===N7){if(g===0)return c;g--}else I===_ge&&g++}c=c.previousSibling}return null}function s6e(s){Wme(s)}function l6e(s){Wme(s)}function u6e(s,c,g){cge(c,g)}function c6e(s,c,g,I,N){c[qA]!==!0&&cge(I,N)}function f6e(s,c){c.nodeType===Qv?fge(s,c):c.nodeType===tv||dge(s,c)}function d6e(s,c,g,I){c[qA]!==!0&&(I.nodeType===Qv?fge(g,I):I.nodeType===tv||dge(g,I))}function h6e(s,c,g){hge(s,c)}function p6e(s,c){pge(s,c)}function m6e(s,c,g,I,N){c[qA]!==!0&&hge(g,I)}function v6e(s,c,g,I){c[qA]!==!0&&pge(g,I)}function g6e(s,c,g){c[qA]}var y6e=0;function _6e(s){var c="r:"+(y6e++).toString(36);return{toString:function(){return s(),c},valueOf:function(){return s(),c}}}function S6e(s){return s!==null&&typeof s=="object"&&s.$$typeof===_A}function x6e(s){return{$$typeof:_A,toString:s,valueOf:s}}function w6e(s){Jve(s)}var jU=Math.random().toString(36).slice(2),fk="__reactFiber$"+jU,Age="__reactProps$"+jU,dk="__reactContainer$"+jU,Tge="__reactEvents$"+jU;function GU(s,c){c[fk]=s}function E6e(s,c){c[dk]=s}function Mge(s){s[dk]=null}function VU(s){return!!s[dk]}function gE(s){var c=s[fk];if(c)return c;for(var g=s.parentNode;g;){if(c=g[dk]||g[fk],c){var I=c.alternate;if(c.child!==null||I!==null&&I.child!==null)for(var N=Cge(s);N!==null;){var $=N[fk];if($)return $;N=Cge(N)}return c}s=g,g=s.parentNode}return null}function LS(s){var c=s[fk]||s[dk];return c&&(c.tag===ue||c.tag===pe||c.tag===Qe||c.tag===ne)?c:null}function XA(s){if(s.tag===ue||s.tag===pe)return s.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function WU(s){return s[Age]||null}function V7(s,c){s[Age]=c}function Pge(s){var c=s[Tge];return c===void 0&&(c=s[Tge]=new Set),c}var Rge={},Ige=P.ReactDebugCurrentFrame;function KU(s){if(s){var c=s._owner,g=bA(s.type,s._source,c?c.type:null);Ige.setExtraStackFrame(g)}else Ige.setExtraStackFrame(null)}function Qg(s,c,g,I,N){{var $=Function.call.bind(Object.prototype.hasOwnProperty);for(var le in s)if($(s,le)){var ye=void 0;try{if(typeof s[le]!="function"){var Ie=Error((I||"React class")+": "+g+" type `"+le+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[le]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ie.name="Invariant Violation",Ie}ye=s[le](c,le,I,g,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(it){ye=it}ye&&!(ye instanceof Error)&&(KU(N),O("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",I||"React class",g,le,typeof ye),KU(null)),ye instanceof Error&&!(ye.message in Rge)&&(Rge[ye.message]=!0,KU(N),O("Failed %s type: %s",g,ye.message),KU(null))}}}var W7=[],qU;qU=[];var X_=-1;function NS(s){return{current:s}}function Fh(s,c){if(X_<0){O("Unexpected pop.");return}c!==qU[X_]&&O("Unexpected Fiber popped."),s.current=W7[X_],W7[X_]=null,qU[X_]=null,X_--}function Uh(s,c,g){X_++,W7[X_]=s.current,qU[X_]=g,s.current=c}var K7;K7={};var rv={};Object.freeze(rv);var Y_=NS(rv),dy=NS(!1),q7=rv;function YA(s,c,g){return g&&hy(c)?q7:Y_.current}function kge(s,c,g){{var I=s.stateNode;I.__reactInternalMemoizedUnmaskedChildContext=c,I.__reactInternalMemoizedMaskedChildContext=g}}function $A(s,c){{var g=s.type,I=g.contextTypes;if(!I)return rv;var N=s.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===c)return N.__reactInternalMemoizedMaskedChildContext;var $={};for(var le in I)$[le]=c[le];{var ye=Hr(g)||"Unknown";Qg(I,$,"context",ye)}return N&&kge(s,c,$),$}}function XU(){return dy.current}function hy(s){{var c=s.childContextTypes;return c!=null}}function YU(s){Fh(dy,s),Fh(Y_,s)}function X7(s){Fh(dy,s),Fh(Y_,s)}function Dge(s,c,g){{if(Y_.current!==rv)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Uh(Y_,c,s),Uh(dy,g,s)}}function Oge(s,c,g){{var I=s.stateNode,N=c.childContextTypes;if(typeof I.getChildContext!="function"){{var $=Hr(c)||"Unknown";K7[$]||(K7[$]=!0,O("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",$,$))}return g}var le=I.getChildContext();for(var ye in le)if(!(ye in N))throw Error((Hr(c)||"Unknown")+'.getChildContext(): key "'+ye+'" is not defined in childContextTypes.');{var Ie=Hr(c)||"Unknown";Qg(N,le,"child context",Ie)}return f({},g,le)}}function $U(s){{var c=s.stateNode,g=c&&c.__reactInternalMemoizedMergedChildContext||rv;return q7=Y_.current,Uh(Y_,g,s),Uh(dy,dy.current,s),!0}}function Bge(s,c,g){{var I=s.stateNode;if(!I)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(g){var N=Oge(s,c,q7);I.__reactInternalMemoizedMergedChildContext=N,Fh(dy,s),Fh(Y_,s),Uh(Y_,N,s),Uh(dy,g,s)}else Fh(dy,s),Uh(dy,g,s)}}function b6e(s){{if(!(U3e(s)&&s.tag===J))throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var c=s;do{switch(c.tag){case ne:return c.stateNode.context;case J:{var g=c.type;if(hy(g))return c.stateNode.__reactInternalMemoizedMergedChildContext;break}}c=c.return}while(c!==null);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Y7=0,Lge=1,Nge=2,QU=null,py=null,QA=!1,C6e=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function A6e(s){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled)return!0;if(!c.supportsFiber)return O("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{QU=c.inject(s),py=c}catch(g){O("React instrumentation encountered an error: %s.",g)}return!0}function T6e(s,c){if(py&&typeof py.onScheduleFiberRoot=="function")try{py.onScheduleFiberRoot(QU,s,c)}catch(g){QA||(QA=!0,O("React instrumentation encountered an error: %s",g))}}function M6e(s,c){if(py&&typeof py.onCommitFiberRoot=="function")try{var g=(s.current.flags&Bl)===Bl;gn&&py.onCommitFiberRoot(QU,s,c,g)}catch(I){QA||(QA=!0,O("React instrumentation encountered an error: %s",I))}}function P6e(s){if(py&&typeof py.onCommitFiberUnmount=="function")try{py.onCommitFiberUnmount(QU,s)}catch(c){QA||(QA=!0,O("React instrumentation encountered an error: %s",c))}}var R6e=m.unstable_runWithPriority,$7=m.unstable_scheduleCallback,Fge=m.unstable_cancelCallback,I6e=m.unstable_shouldYield,Uge=m.unstable_requestPaint,Q7=m.unstable_now,k6e=m.unstable_getCurrentPriorityLevel,JU=m.unstable_ImmediatePriority,zge=m.unstable_UserBlockingPriority,Hge=m.unstable_NormalPriority,jge=m.unstable_LowPriority,Gge=m.unstable_IdlePriority;if(!(b.__interactionsRef!=null&&b.__interactionsRef.current!=null))throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var Vge={},Zv=99,yE=98,$_=97,Wge=96,Kge=95,J7=90,D6e=I6e,O6e=Uge!==void 0?Uge:function(){},Q_=null,ZU=null,Z7=!1,qge=Q7(),zh=qge<1e4?Q7:function(){return Q7()-qge};function JA(){switch(k6e()){case JU:return Zv;case zge:return yE;case Hge:return $_;case jge:return Wge;case Gge:return Kge;default:throw Error("Unknown priority level.")}}function Xge(s){switch(s){case Zv:return JU;case yE:return zge;case $_:return Hge;case Wge:return jge;case Kge:return Gge;default:throw Error("Unknown priority level.")}}function _E(s,c){var g=Xge(s);return R6e(g,c)}function FS(s,c,g){var I=Xge(s);return $7(I,c,g)}function B6e(s){return Q_===null?(Q_=[s],ZU=$7(JU,$ge)):Q_.push(s),Vge}function Yge(s){s!==Vge&&Fge(s)}function my(){if(ZU!==null){var s=ZU;ZU=null,Fge(s)}$ge()}function $ge(){if(!Z7&&Q_!==null){Z7=!0;var s=0;try{var c=!0,g=Q_;_E(Zv,function(){for(;s<g.length;s++){var I=g[s];do I=I(c);while(I!==null)}}),Q_=null}catch(I){throw Q_!==null&&(Q_=Q_.slice(s+1)),$7(JU,my),I}finally{Z7=!1}}}var Qge="17.0.2",nu=0,$u=1,ym=2,SE=4,iv=8,L6e=16,N6e=P.ReactCurrentBatchConfig,F6e=0;function U6e(){return N6e.transition}var Jg={recordUnsafeLifecycleWarnings:function(s,c){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(s,c){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var z6e=function(s){for(var c=null,g=s;g!==null;)g.mode&$u&&(c=g),g=g.return;return c},xE=function(s){var c=[];return s.forEach(function(g){c.push(g)}),c.sort().join(", ")},hk=[],pk=[],mk=[],vk=[],gk=[],yk=[],wE=new Set;Jg.recordUnsafeLifecycleWarnings=function(s,c){wE.has(s.type)||(typeof c.componentWillMount=="function"&&c.componentWillMount.__suppressDeprecationWarning!==!0&&hk.push(s),s.mode&$u&&typeof c.UNSAFE_componentWillMount=="function"&&pk.push(s),typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&mk.push(s),s.mode&$u&&typeof c.UNSAFE_componentWillReceiveProps=="function"&&vk.push(s),typeof c.componentWillUpdate=="function"&&c.componentWillUpdate.__suppressDeprecationWarning!==!0&&gk.push(s),s.mode&$u&&typeof c.UNSAFE_componentWillUpdate=="function"&&yk.push(s))},Jg.flushPendingUnsafeLifecycleWarnings=function(){var s=new Set;hk.length>0&&(hk.forEach(function(_t){s.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),hk=[]);var c=new Set;pk.length>0&&(pk.forEach(function(_t){c.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),pk=[]);var g=new Set;mk.length>0&&(mk.forEach(function(_t){g.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),mk=[]);var I=new Set;vk.length>0&&(vk.forEach(function(_t){I.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),vk=[]);var N=new Set;gk.length>0&&(gk.forEach(function(_t){N.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),gk=[]);var $=new Set;if(yk.length>0&&(yk.forEach(function(_t){$.add(Hr(_t.type)||"Component"),wE.add(_t.type)}),yk=[]),c.size>0){var le=xE(c);O(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,le)}if(I.size>0){var ye=xE(I);O(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,ye)}if($.size>0){var Ie=xE($);O(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,Ie)}if(s.size>0){var it=xE(s);B(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,it)}if(g.size>0){var ct=xE(g);B(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ct)}if(N.size>0){var Vt=xE(N);B(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Vt)}};var ez=new Map,Jge=new Set;Jg.recordLegacyContextWarning=function(s,c){var g=z6e(s);if(g===null){O("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!Jge.has(s.type)){var I=ez.get(g);(s.type.contextTypes!=null||s.type.childContextTypes!=null||c!==null&&typeof c.getChildContext=="function")&&(I===void 0&&(I=[],ez.set(g,I)),I.push(s))}},Jg.flushLegacyContextWarning=function(){ez.forEach(function(s,c){if(s.length!==0){var g=s[0],I=new Set;s.forEach(function($){I.add(Hr($.type)||"Component"),Jge.add($.type)});var N=xE(I);try{Mc(g),O(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)}finally{Kd()}}})},Jg.discardPendingWarnings=function(){hk=[],pk=[],mk=[],vk=[],gk=[],yk=[],ez=new Map}}function Zg(s,c){if(s&&s.defaultProps){var g=f({},c),I=s.defaultProps;for(var N in I)g[N]===void 0&&(g[N]=I[N]);return g}return c}var tz=1073741823,eW=NS(null),tW;tW={};var nz=null,ZA=null,rz=null,iz=!1;function az(){nz=null,ZA=null,rz=null,iz=!1}function Zge(){iz=!0}function e0e(){iz=!1}function t0e(s,c){var g=s.type._context;Uh(eW,g._currentValue,s),g._currentValue=c,g._currentRenderer!==void 0&&g._currentRenderer!==null&&g._currentRenderer!==tW&&O("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),g._currentRenderer=tW}function nW(s){var c=eW.current;Fh(eW,s);var g=s.type._context;g._currentValue=c}function H6e(s,c,g){if(Jv(g,c))return 0;var I=typeof s._calculateChangedBits=="function"?s._calculateChangedBits(g,c):tz;return(I&tz)!==I&&O("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",I),I|0}function n0e(s,c){for(var g=s;g!==null;){var I=g.alternate;if(!pE(g.childLanes,c))g.childLanes=vs(g.childLanes,c),I!==null&&(I.childLanes=vs(I.childLanes,c));else if(I!==null&&!pE(I.childLanes,c))I.childLanes=vs(I.childLanes,c);else break;g=g.return}}function j6e(s,c,g,I){var N=s.child;for(N!==null&&(N.return=s);N!==null;){var $=void 0,le=N.dependencies;if(le!==null){$=N.child;for(var ye=le.firstContext;ye!==null;){if(ye.context===c&&ye.observedBits&g){if(N.tag===J){var Ie=US(Yu,Pp(I));Ie.tag=oz,zS(N,Ie)}N.lanes=vs(N.lanes,I);var it=N.alternate;it!==null&&(it.lanes=vs(it.lanes,I)),n0e(N.return,I),le.lanes=vs(le.lanes,I);break}ye=ye.next}}else N.tag===He?$=N.type===s.type?null:N.child:$=N.child;if($!==null)$.return=N;else for($=N;$!==null;){if($===s){$=null;break}var ct=$.sibling;if(ct!==null){ct.return=$.return,$=ct;break}$=$.return}N=$}}function eT(s,c){nz=s,ZA=null,rz=null;var g=s.dependencies;if(g!==null){var I=g.firstContext;I!==null&&(Nh(g.lanes,c)&&cK(),g.firstContext=null)}}function Zc(s,c){if(iz&&O("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),rz!==s){if(!(c===!1||c===0)){var g;typeof c!="number"||c===tz?(rz=s,g=tz):g=c;var I={context:s,observedBits:g,next:null};if(ZA===null){if(nz===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");ZA=I,nz.dependencies={lanes:Gn,firstContext:I,responders:null}}else ZA=ZA.next=I}}return s._currentValue}var r0e=0,i0e=1,oz=2,rW=3,sz=!1,iW,lz;iW=!1,lz=null;function aW(s){var c={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null};s.updateQueue=c}function a0e(s,c){var g=c.updateQueue,I=s.updateQueue;if(g===I){var N={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,effects:I.effects};c.updateQueue=N}}function US(s,c){var g={eventTime:s,lane:c,tag:r0e,payload:null,callback:null,next:null};return g}function zS(s,c){var g=s.updateQueue;if(g!==null){var I=g.shared,N=I.pending;N===null?c.next=c:(c.next=N.next,N.next=c),I.pending=c,lz===I&&!iW&&(O("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),iW=!0)}}function o0e(s,c){var g=s.updateQueue,I=s.alternate;if(I!==null){var N=I.updateQueue;if(g===N){var $=null,le=null,ye=g.firstBaseUpdate;if(ye!==null){var Ie=ye;do{var it={eventTime:Ie.eventTime,lane:Ie.lane,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null};le===null?$=le=it:(le.next=it,le=it),Ie=Ie.next}while(Ie!==null);le===null?$=le=c:(le.next=c,le=c)}else $=le=c;g={baseState:N.baseState,firstBaseUpdate:$,lastBaseUpdate:le,shared:N.shared,effects:N.effects},s.updateQueue=g;return}}var ct=g.lastBaseUpdate;ct===null?g.firstBaseUpdate=c:ct.next=c,g.lastBaseUpdate=c}function G6e(s,c,g,I,N,$){switch(g.tag){case i0e:{var le=g.payload;if(typeof le=="function"){Zge();var ye=le.call($,I,N);{if(s.mode&$u){Xv();try{le.call($,I,N)}finally{pm()}}e0e()}return ye}return le}case rW:s.flags=s.flags&~K_|Bl;case r0e:{var Ie=g.payload,it;if(typeof Ie=="function"){Zge(),it=Ie.call($,I,N);{if(s.mode&$u){Xv();try{Ie.call($,I,N)}finally{pm()}}e0e()}}else it=Ie;return it==null?I:f({},I,it)}case oz:return sz=!0,I}return I}function _k(s,c,g,I){var N=s.updateQueue;sz=!1,lz=N.shared;var $=N.firstBaseUpdate,le=N.lastBaseUpdate,ye=N.shared.pending;if(ye!==null){N.shared.pending=null;var Ie=ye,it=Ie.next;Ie.next=null,le===null?$=it:le.next=it,le=Ie;var ct=s.alternate;if(ct!==null){var Vt=ct.updateQueue,_t=Vt.lastBaseUpdate;_t!==le&&(_t===null?Vt.firstBaseUpdate=it:_t.next=it,Vt.lastBaseUpdate=Ie)}}if($!==null){var Zt=N.baseState,Fn=Gn,br=null,Ii=null,_a=null,Zi=$;do{var bo=Zi.lane,js=Zi.eventTime;if(pE(I,bo)){if(_a!==null){var bn={eventTime:js,lane:vm,tag:Zi.tag,payload:Zi.payload,callback:Zi.callback,next:null};_a=_a.next=bn}Zt=G6e(s,N,Zi,Zt,c,g);var Ft=Zi.callback;if(Ft!==null){s.flags|=Rme;var Jn=N.effects;Jn===null?N.effects=[Zi]:Jn.push(Zi)}}else{var Qt={eventTime:js,lane:bo,tag:Zi.tag,payload:Zi.payload,callback:Zi.callback,next:null};_a===null?(Ii=_a=Qt,br=Zt):_a=_a.next=Qt,Fn=vs(Fn,bo)}if(Zi=Zi.next,Zi===null){if(ye=N.shared.pending,ye===null)break;var Fr=ye,ii=Fr.next;Fr.next=null,Zi=ii,N.lastBaseUpdate=Fr,N.shared.pending=null}}while(!0);_a===null&&(br=Zt),N.baseState=br,N.firstBaseUpdate=Ii,N.lastBaseUpdate=_a,BK(Fn),s.lanes=Fn,s.memoizedState=Zt}lz=null}function V6e(s,c){if(typeof s!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+s);s.call(c)}function s0e(){sz=!1}function uz(){return sz}function l0e(s,c,g){var I=c.effects;if(c.effects=null,I!==null)for(var N=0;N<I.length;N++){var $=I[N],le=$.callback;le!==null&&($.callback=null,V6e(le,g))}}var oW={},W6e=Array.isArray,u0e=new u.Component().refs,sW,lW,uW,cW,fW,c0e,cz,dW,hW,pW;{sW=new Set,lW=new Set,uW=new Set,cW=new Set,dW=new Set,fW=new Set,hW=new Set,pW=new Set;var f0e=new Set;cz=function(s,c){if(!(s===null||typeof s=="function")){var g=c+"_"+s;f0e.has(g)||(f0e.add(g),O("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",c,s))}},c0e=function(s,c){if(c===void 0){var g=Hr(s)||"Component";fW.has(g)||(fW.add(g),O("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",g))}},Object.defineProperty(oW,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(oW)}function fz(s,c,g,I){var N=s.memoizedState;if(s.mode&$u){Xv();try{g(I,N)}finally{pm()}}var $=g(I,N);c0e(c,$);var le=$==null?N:f({},N,$);if(s.memoizedState=le,s.lanes===Gn){var ye=s.updateQueue;ye.baseState=le}}var mW={isMounted:z3e,enqueueSetState:function(s,c,g){var I=BA(s),N=ov(),$=VS(I),le=US(N,$);le.payload=c,g!=null&&(cz(g,"setState"),le.callback=g),zS(I,le),jh(I,$,N)},enqueueReplaceState:function(s,c,g){var I=BA(s),N=ov(),$=VS(I),le=US(N,$);le.tag=i0e,le.payload=c,g!=null&&(cz(g,"replaceState"),le.callback=g),zS(I,le),jh(I,$,N)},enqueueForceUpdate:function(s,c){var g=BA(s),I=ov(),N=VS(g),$=US(I,N);$.tag=oz,c!=null&&(cz(c,"forceUpdate"),$.callback=c),zS(g,$),jh(g,N,I)}};function d0e(s,c,g,I,N,$,le){var ye=s.stateNode;if(typeof ye.shouldComponentUpdate=="function"){if(s.mode&$u){Xv();try{ye.shouldComponentUpdate(I,$,le)}finally{pm()}}var Ie=ye.shouldComponentUpdate(I,$,le);return Ie===void 0&&O("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Hr(c)||"Component"),Ie}return c.prototype&&c.prototype.isPureReactComponent?!ek(g,I)||!ek(N,$):!0}function K6e(s,c,g){var I=s.stateNode;{var N=Hr(c)||"Component",$=I.render;$||(c.prototype&&typeof c.prototype.render=="function"?O("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",N):O("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",N)),I.getInitialState&&!I.getInitialState.isReactClassApproved&&!I.state&&O("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",N),I.getDefaultProps&&!I.getDefaultProps.isReactClassApproved&&O("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",N),I.propTypes&&O("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",N),I.contextType&&O("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",N),I.contextTypes&&O("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",N),c.contextType&&c.contextTypes&&!hW.has(c)&&(hW.add(c),O("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",N)),typeof I.componentShouldUpdate=="function"&&O("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",N),c.prototype&&c.prototype.isPureReactComponent&&typeof I.shouldComponentUpdate<"u"&&O("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Hr(c)||"A pure component"),typeof I.componentDidUnmount=="function"&&O("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",N),typeof I.componentDidReceiveProps=="function"&&O("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",N),typeof I.componentWillRecieveProps=="function"&&O("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",N),typeof I.UNSAFE_componentWillRecieveProps=="function"&&O("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",N);var le=I.props!==g;I.props!==void 0&&le&&O("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",N,N),I.defaultProps&&O("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",N,N),typeof I.getSnapshotBeforeUpdate=="function"&&typeof I.componentDidUpdate!="function"&&!uW.has(c)&&(uW.add(c),O("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Hr(c))),typeof I.getDerivedStateFromProps=="function"&&O("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof I.getDerivedStateFromError=="function"&&O("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof c.getSnapshotBeforeUpdate=="function"&&O("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",N);var ye=I.state;ye&&(typeof ye!="object"||W6e(ye))&&O("%s.state: must be set to an object or null",N),typeof I.getChildContext=="function"&&typeof c.childContextTypes!="object"&&O("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",N)}}function h0e(s,c){c.updater=mW,s.stateNode=c,D3e(c,s),c._reactInternalInstance=oW}function p0e(s,c,g){var I=!1,N=rv,$=rv,le=c.contextType;if("contextType"in c){var ye=le===null||le!==void 0&&le.$$typeof===gA&&le._context===void 0;if(!ye&&!pW.has(c)){pW.add(c);var Ie="";le===void 0?Ie=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof le!="object"?Ie=" However, it is set to a "+typeof le+".":le.$$typeof===vA?Ie=" Did you accidentally pass the Context.Provider instead?":le._context!==void 0?Ie=" Did you accidentally pass the Context.Consumer instead?":Ie=" However, it is set to an object with keys {"+Object.keys(le).join(", ")+"}.",O("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Hr(c)||"Component",Ie)}}if(typeof le=="object"&&le!==null)$=Zc(le);else{N=YA(s,c,!0);var it=c.contextTypes;I=it!=null,$=I?$A(s,N):rv}if(s.mode&$u){Xv();try{new c(g,$)}finally{pm()}}var ct=new c(g,$),Vt=s.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null;h0e(s,ct);{if(typeof c.getDerivedStateFromProps=="function"&&Vt===null){var _t=Hr(c)||"Component";lW.has(_t)||(lW.add(_t),O("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",_t,ct.state===null?"null":"undefined",_t))}if(typeof c.getDerivedStateFromProps=="function"||typeof ct.getSnapshotBeforeUpdate=="function"){var Zt=null,Fn=null,br=null;if(typeof ct.componentWillMount=="function"&&ct.componentWillMount.__suppressDeprecationWarning!==!0?Zt="componentWillMount":typeof ct.UNSAFE_componentWillMount=="function"&&(Zt="UNSAFE_componentWillMount"),typeof ct.componentWillReceiveProps=="function"&&ct.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Fn="componentWillReceiveProps":typeof ct.UNSAFE_componentWillReceiveProps=="function"&&(Fn="UNSAFE_componentWillReceiveProps"),typeof ct.componentWillUpdate=="function"&&ct.componentWillUpdate.__suppressDeprecationWarning!==!0?br="componentWillUpdate":typeof ct.UNSAFE_componentWillUpdate=="function"&&(br="UNSAFE_componentWillUpdate"),Zt!==null||Fn!==null||br!==null){var Ii=Hr(c)||"Component",_a=typeof c.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";cW.has(Ii)||(cW.add(Ii),O(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Ii,_a,Zt!==null?`
  `+Zt:"",Fn!==null?`
  `+Fn:"",br!==null?`
  `+br:""))}}}return I&&kge(s,N,$),ct}function q6e(s,c){var g=c.state;typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&(O("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Hr(s.type)||"Component"),mW.enqueueReplaceState(c,c.state,null))}function m0e(s,c,g,I){var N=c.state;if(typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,I),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,I),c.state!==N){{var $=Hr(s.type)||"Component";sW.has($)||(sW.add($),O("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",$))}mW.enqueueReplaceState(c,c.state,null)}}function vW(s,c,g,I){K6e(s,c,g);var N=s.stateNode;N.props=g,N.state=s.memoizedState,N.refs=u0e,aW(s);var $=c.contextType;if(typeof $=="object"&&$!==null)N.context=Zc($);else{var le=YA(s,c,!0);N.context=$A(s,le)}{if(N.state===g){var ye=Hr(c)||"Component";dW.has(ye)||(dW.add(ye),O("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",ye))}s.mode&$u&&Jg.recordLegacyContextWarning(s,N),Jg.recordUnsafeLifecycleWarnings(s,N)}_k(s,g,N,I),N.state=s.memoizedState;var Ie=c.getDerivedStateFromProps;typeof Ie=="function"&&(fz(s,c,Ie,g),N.state=s.memoizedState),typeof c.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(q6e(s,N),_k(s,g,N,I),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=ol)}function X6e(s,c,g,I){var N=s.stateNode,$=s.memoizedProps;N.props=$;var le=N.context,ye=c.contextType,Ie=rv;if(typeof ye=="object"&&ye!==null)Ie=Zc(ye);else{var it=YA(s,c,!0);Ie=$A(s,it)}var ct=c.getDerivedStateFromProps,Vt=typeof ct=="function"||typeof N.getSnapshotBeforeUpdate=="function";!Vt&&(typeof N.UNSAFE_componentWillReceiveProps=="function"||typeof N.componentWillReceiveProps=="function")&&($!==g||le!==Ie)&&m0e(s,N,g,Ie),s0e();var _t=s.memoizedState,Zt=N.state=_t;if(_k(s,g,N,I),Zt=s.memoizedState,$===g&&_t===Zt&&!XU()&&!uz())return typeof N.componentDidMount=="function"&&(s.flags|=ol),!1;typeof ct=="function"&&(fz(s,c,ct,g),Zt=s.memoizedState);var Fn=uz()||d0e(s,c,$,g,_t,Zt,Ie);return Fn?(!Vt&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=ol)):(typeof N.componentDidMount=="function"&&(s.flags|=ol),s.memoizedProps=g,s.memoizedState=Zt),N.props=g,N.state=Zt,N.context=Ie,Fn}function Y6e(s,c,g,I,N){var $=c.stateNode;a0e(s,c);var le=c.memoizedProps,ye=c.type===c.elementType?le:Zg(c.type,le);$.props=ye;var Ie=c.pendingProps,it=$.context,ct=g.contextType,Vt=rv;if(typeof ct=="object"&&ct!==null)Vt=Zc(ct);else{var _t=YA(c,g,!0);Vt=$A(c,_t)}var Zt=g.getDerivedStateFromProps,Fn=typeof Zt=="function"||typeof $.getSnapshotBeforeUpdate=="function";!Fn&&(typeof $.UNSAFE_componentWillReceiveProps=="function"||typeof $.componentWillReceiveProps=="function")&&(le!==Ie||it!==Vt)&&m0e(c,$,I,Vt),s0e();var br=c.memoizedState,Ii=$.state=br;if(_k(c,I,$,N),Ii=c.memoizedState,le===Ie&&br===Ii&&!XU()&&!uz())return typeof $.componentDidUpdate=="function"&&(le!==s.memoizedProps||br!==s.memoizedState)&&(c.flags|=ol),typeof $.getSnapshotBeforeUpdate=="function"&&(le!==s.memoizedProps||br!==s.memoizedState)&&(c.flags|=uE),!1;typeof Zt=="function"&&(fz(c,g,Zt,I),Ii=c.memoizedState);var _a=uz()||d0e(c,g,ye,I,br,Ii,Vt);return _a?(!Fn&&(typeof $.UNSAFE_componentWillUpdate=="function"||typeof $.componentWillUpdate=="function")&&(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(I,Ii,Vt),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(I,Ii,Vt)),typeof $.componentDidUpdate=="function"&&(c.flags|=ol),typeof $.getSnapshotBeforeUpdate=="function"&&(c.flags|=uE)):(typeof $.componentDidUpdate=="function"&&(le!==s.memoizedProps||br!==s.memoizedState)&&(c.flags|=ol),typeof $.getSnapshotBeforeUpdate=="function"&&(le!==s.memoizedProps||br!==s.memoizedState)&&(c.flags|=uE),c.memoizedProps=I,c.memoizedState=Ii),$.props=I,$.state=Ii,$.context=Vt,_a}var gW,yW,_W,SW,xW,v0e=function(s,c){};gW=!1,yW=!1,_W={},SW={},xW={},v0e=function(s,c){if(!(s===null||typeof s!="object")&&!(!s._store||s._store.validated||s.key!=null)){if(typeof s._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");s._store.validated=!0;var g=Hr(c.type)||"Component";SW[g]||(SW[g]=!0,O('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var dz=Array.isArray;function Sk(s,c,g){var I=g.ref;if(I!==null&&typeof I!="function"&&typeof I!="object"){if((s.mode&$u||ra)&&!(g._owner&&g._self&&g._owner.stateNode!==g._self)){var N=Hr(s.type)||"Component";_W[N]||(O('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',I),_W[N]=!0)}if(g._owner){var $=g._owner,le;if($){var ye=$;if(ye.tag!==J)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");le=ye.stateNode}if(!le)throw Error("Missing owner for string ref "+I+". This error is likely caused by a bug in React. Please file an issue.");var Ie=""+I;if(c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===Ie)return c.ref;var it=function(ct){var Vt=le.refs;Vt===u0e&&(Vt=le.refs={}),ct===null?delete Vt[Ie]:Vt[Ie]=ct};return it._stringRef=Ie,it}else{if(typeof I!="string")throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!g._owner)throw Error("Element ref was specified as a string ("+I+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return I}function hz(s,c){if(s.type!=="textarea")throw Error("Objects are not valid as a React child (found: "+(Object.prototype.toString.call(c)==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":c)+"). If you meant to render a collection of children, use an array instead.")}function pz(s){{var c=Hr(s.type)||"Component";if(xW[c])return;xW[c]=!0,O("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function g0e(s){function c(Qt,bn){if(s){var Ft=Qt.lastEffect;Ft!==null?(Ft.nextEffect=bn,Qt.lastEffect=bn):Qt.firstEffect=Qt.lastEffect=bn,bn.nextEffect=null,bn.flags=V_}}function g(Qt,bn){if(!s)return null;for(var Ft=bn;Ft!==null;)c(Qt,Ft),Ft=Ft.sibling;return null}function I(Qt,bn){for(var Ft=new Map,Jn=bn;Jn!==null;)Jn.key!==null?Ft.set(Jn.key,Jn):Ft.set(Jn.index,Jn),Jn=Jn.sibling;return Ft}function N(Qt,bn){var Ft=DE(Qt,bn);return Ft.index=0,Ft.sibling=null,Ft}function $(Qt,bn,Ft){if(Qt.index=Ft,!s)return bn;var Jn=Qt.alternate;if(Jn!==null){var Fr=Jn.index;return Fr<bn?(Qt.flags=Pc,bn):Fr}else return Qt.flags=Pc,bn}function le(Qt){return s&&Qt.alternate===null&&(Qt.flags=Pc),Qt}function ye(Qt,bn,Ft,Jn){if(bn===null||bn.tag!==pe){var Fr=YK(Ft,Qt.mode,Jn);return Fr.return=Qt,Fr}else{var ii=N(bn,Ft);return ii.return=Qt,ii}}function Ie(Qt,bn,Ft,Jn){if(bn!==null&&(bn.elementType===Ft.type||Qye(bn,Ft))){var Fr=N(bn,Ft.props);return Fr.ref=Sk(Qt,bn,Ft),Fr.return=Qt,Fr._debugSource=Ft._source,Fr._debugOwner=Ft._owner,Fr}var ii=qK(Ft,Qt.mode,Jn);return ii.ref=Sk(Qt,bn,Ft),ii.return=Qt,ii}function it(Qt,bn,Ft,Jn){if(bn===null||bn.tag!==re||bn.stateNode.containerInfo!==Ft.containerInfo||bn.stateNode.implementation!==Ft.implementation){var Fr=$K(Ft,Qt.mode,Jn);return Fr.return=Qt,Fr}else{var ii=N(bn,Ft.children||[]);return ii.return=Qt,ii}}function ct(Qt,bn,Ft,Jn,Fr){if(bn===null||bn.tag!==me){var ii=OE(Ft,Qt.mode,Jn,Fr);return ii.return=Qt,ii}else{var so=N(bn,Ft);return so.return=Qt,so}}function Vt(Qt,bn,Ft){if(typeof bn=="string"||typeof bn=="number"){var Jn=YK(""+bn,Qt.mode,Ft);return Jn.return=Qt,Jn}if(typeof bn=="object"&&bn!==null){switch(bn.$$typeof){case Ku:{var Fr=qK(bn,Qt.mode,Ft);return Fr.ref=Sk(Qt,null,bn),Fr.return=Qt,Fr}case qv:{var ii=$K(bn,Qt.mode,Ft);return ii.return=Qt,ii}}if(dz(bn)||ev(bn)){var so=OE(bn,Qt.mode,Ft,null);return so.return=Qt,so}hz(Qt,bn)}return typeof bn=="function"&&pz(Qt),null}function _t(Qt,bn,Ft,Jn){var Fr=bn!==null?bn.key:null;if(typeof Ft=="string"||typeof Ft=="number")return Fr!==null?null:ye(Qt,bn,""+Ft,Jn);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case Ku:return Ft.key===Fr?Ft.type===Yg?ct(Qt,bn,Ft.props.children,Jn,Fr):Ie(Qt,bn,Ft,Jn):null;case qv:return Ft.key===Fr?it(Qt,bn,Ft,Jn):null}if(dz(Ft)||ev(Ft))return Fr!==null?null:ct(Qt,bn,Ft,Jn,null);hz(Qt,Ft)}return typeof Ft=="function"&&pz(Qt),null}function Zt(Qt,bn,Ft,Jn,Fr){if(typeof Jn=="string"||typeof Jn=="number"){var ii=Qt.get(Ft)||null;return ye(bn,ii,""+Jn,Fr)}if(typeof Jn=="object"&&Jn!==null){switch(Jn.$$typeof){case Ku:{var so=Qt.get(Jn.key===null?Ft:Jn.key)||null;return Jn.type===Yg?ct(bn,so,Jn.props.children,Fr,Jn.key):Ie(bn,so,Jn,Fr)}case qv:{var xl=Qt.get(Jn.key===null?Ft:Jn.key)||null;return it(bn,xl,Jn,Fr)}}if(dz(Jn)||ev(Jn)){var ru=Qt.get(Ft)||null;return ct(bn,ru,Jn,Fr,null)}hz(bn,Jn)}return typeof Jn=="function"&&pz(bn),null}function Fn(Qt,bn,Ft){{if(typeof Qt!="object"||Qt===null)return bn;switch(Qt.$$typeof){case Ku:case qv:v0e(Qt,Ft);var Jn=Qt.key;if(typeof Jn!="string")break;if(bn===null){bn=new Set,bn.add(Jn);break}if(!bn.has(Jn)){bn.add(Jn);break}O("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",Jn);break}}return bn}function br(Qt,bn,Ft,Jn){for(var Fr=null,ii=0;ii<Ft.length;ii++){var so=Ft[ii];Fr=Fn(so,Fr,Qt)}for(var xl=null,ru=null,gs=bn,ef=0,jo=0,iu=null;gs!==null&&jo<Ft.length;jo++){gs.index>jo?(iu=gs,gs=null):iu=gs.sibling;var od=_t(Qt,gs,Ft[jo],Jn);if(od===null){gs===null&&(gs=iu);break}s&&gs&&od.alternate===null&&c(Qt,gs),ef=$(od,ef,jo),ru===null?xl=od:ru.sibling=od,ru=od,gs=iu}if(jo===Ft.length)return g(Qt,gs),xl;if(gs===null){for(;jo<Ft.length;jo++){var Rc=Vt(Qt,Ft[jo],Jn);Rc!==null&&(ef=$(Rc,ef,jo),ru===null?xl=Rc:ru.sibling=Rc,ru=Rc)}return xl}for(var xy=I(Qt,gs);jo<Ft.length;jo++){var Ic=Zt(xy,Qt,jo,Ft[jo],Jn);Ic!==null&&(s&&Ic.alternate!==null&&xy.delete(Ic.key===null?jo:Ic.key),ef=$(Ic,ef,jo),ru===null?xl=Ic:ru.sibling=Ic,ru=Ic)}return s&&xy.forEach(function(wy){return c(Qt,wy)}),xl}function Ii(Qt,bn,Ft,Jn){var Fr=ev(Ft);if(typeof Fr!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ft[Symbol.toStringTag]==="Generator"&&(yW||O("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),yW=!0),Ft.entries===Fr&&(gW||O("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),gW=!0);var ii=Fr.call(Ft);if(ii)for(var so=null,xl=ii.next();!xl.done;xl=ii.next()){var ru=xl.value;so=Fn(ru,so,Qt)}}var gs=Fr.call(Ft);if(gs==null)throw Error("An iterable object provided no iterator.");for(var ef=null,jo=null,iu=bn,od=0,Rc=0,xy=null,Ic=gs.next();iu!==null&&!Ic.done;Rc++,Ic=gs.next()){iu.index>Rc?(xy=iu,iu=null):xy=iu.sibling;var wy=_t(Qt,iu,Ic.value,Jn);if(wy===null){iu===null&&(iu=xy);break}s&&iu&&wy.alternate===null&&c(Qt,iu),od=$(wy,od,Rc),jo===null?ef=wy:jo.sibling=wy,jo=wy,iu=xy}if(Ic.done)return g(Qt,iu),ef;if(iu===null){for(;!Ic.done;Rc++,Ic=gs.next()){var BE=Vt(Qt,Ic.value,Jn);BE!==null&&(od=$(BE,od,Rc),jo===null?ef=BE:jo.sibling=BE,jo=BE)}return ef}for(var rq=I(Qt,iu);!Ic.done;Rc++,Ic=gs.next()){var qS=Zt(rq,Qt,Rc,Ic.value,Jn);qS!==null&&(s&&qS.alternate!==null&&rq.delete(qS.key===null?Rc:qS.key),od=$(qS,od,Rc),jo===null?ef=qS:jo.sibling=qS,jo=qS)}return s&&rq.forEach(function(XGe){return c(Qt,XGe)}),ef}function _a(Qt,bn,Ft,Jn){if(bn!==null&&bn.tag===pe){g(Qt,bn.sibling);var Fr=N(bn,Ft);return Fr.return=Qt,Fr}g(Qt,bn);var ii=YK(Ft,Qt.mode,Jn);return ii.return=Qt,ii}function Zi(Qt,bn,Ft,Jn){for(var Fr=Ft.key,ii=bn;ii!==null;){if(ii.key===Fr){switch(ii.tag){case me:{if(Ft.type===Yg){g(Qt,ii.sibling);var so=N(ii,Ft.props.children);return so.return=Qt,so._debugSource=Ft._source,so._debugOwner=Ft._owner,so}break}case lr:default:{if(ii.elementType===Ft.type||Qye(ii,Ft)){g(Qt,ii.sibling);var xl=N(ii,Ft.props);return xl.ref=Sk(Qt,ii,Ft),xl.return=Qt,xl._debugSource=Ft._source,xl._debugOwner=Ft._owner,xl}break}}g(Qt,ii);break}else c(Qt,ii);ii=ii.sibling}if(Ft.type===Yg){var ru=OE(Ft.props.children,Qt.mode,Jn,Ft.key);return ru.return=Qt,ru}else{var gs=qK(Ft,Qt.mode,Jn);return gs.ref=Sk(Qt,bn,Ft),gs.return=Qt,gs}}function bo(Qt,bn,Ft,Jn){for(var Fr=Ft.key,ii=bn;ii!==null;){if(ii.key===Fr)if(ii.tag===re&&ii.stateNode.containerInfo===Ft.containerInfo&&ii.stateNode.implementation===Ft.implementation){g(Qt,ii.sibling);var so=N(ii,Ft.children||[]);return so.return=Qt,so}else{g(Qt,ii);break}else c(Qt,ii);ii=ii.sibling}var xl=$K(Ft,Qt.mode,Jn);return xl.return=Qt,xl}function js(Qt,bn,Ft,Jn){var Fr=typeof Ft=="object"&&Ft!==null&&Ft.type===Yg&&Ft.key===null;Fr&&(Ft=Ft.props.children);var ii=typeof Ft=="object"&&Ft!==null;if(ii)switch(Ft.$$typeof){case Ku:return le(Zi(Qt,bn,Ft,Jn));case qv:return le(bo(Qt,bn,Ft,Jn))}if(typeof Ft=="string"||typeof Ft=="number")return le(_a(Qt,bn,""+Ft,Jn));if(dz(Ft))return br(Qt,bn,Ft,Jn);if(ev(Ft))return Ii(Qt,bn,Ft,Jn);if(ii&&hz(Qt,Ft),typeof Ft=="function"&&pz(Qt),typeof Ft>"u"&&!Fr)switch(Qt.tag){case J:{var so=Qt.stateNode;if(so.render._isMockFunction)break}case lr:case K:case Oe:case Wt:throw Error((Hr(Qt.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return g(Qt,bn)}return js}var mz=g0e(!0),y0e=g0e(!1);function $6e(s,c){if(!(s===null||c.child===s.child))throw Error("Resuming work not yet implemented.");if(c.child!==null){var g=c.child,I=DE(g,g.pendingProps);for(c.child=I,I.return=c;g.sibling!==null;)g=g.sibling,I=I.sibling=DE(g,g.pendingProps),I.return=c;I.sibling=null}}function Q6e(s,c){for(var g=s.child;g!==null;)cGe(g,c),g=g.sibling}var xk={},HS=NS(xk),wk=NS(xk),vz=NS(xk);function gz(s){if(s===xk)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return s}function _0e(){var s=gz(vz.current);return s}function wW(s,c){Uh(vz,c,s),Uh(wk,s,s),Uh(HS,xk,s);var g=Ije(c);Fh(HS,s),Uh(HS,g,s)}function tT(s){Fh(HS,s),Fh(wk,s),Fh(vz,s)}function EW(){var s=gz(HS.current);return s}function S0e(s){gz(vz.current);var c=gz(HS.current),g=kje(c,s.type);c!==g&&(Uh(wk,s,s),Uh(HS,g,s))}function bW(s){wk.current===s&&(Fh(HS,s),Fh(wk,s))}var J6e=0,x0e=1,CW=1,Ek=2,e0=NS(J6e);function yz(s,c){return(s&c)!==0}function bk(s){return s&x0e}function AW(s,c){return s&x0e|c}function Z6e(s,c){return s|c}function EE(s,c){Uh(e0,c,s)}function nT(s){Fh(e0,s)}function e8e(s,c){var g=s.memoizedState;if(g!==null)return g.dehydrated!==null;var I=s.memoizedProps;return I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!c}function _z(s){for(var c=s;c!==null;){if(c.tag===Qe){var g=c.memoizedState;if(g!==null){var I=g.dehydrated;if(I===null||n6e(I)||r6e(I))return c}}else if(c.tag===jt&&c.memoizedProps.revealOrder!==void 0){var N=(c.flags&Bl)!==bu;if(N)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)return null;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var TW=0,rT=1,iT=2,Ck=4,eg=null,bE=null,jS=!1;function t8e(s){var c=s.stateNode.containerInfo;return bE=bge(c),eg=s,jS=!0,!0}function w0e(s,c){switch(s.tag){case ne:f6e(s.stateNode.containerInfo,c);break;case ue:d6e(s.type,s.memoizedProps,s.stateNode,c);break}var g=vGe();g.stateNode=c,g.return=s,g.flags=V_,s.lastEffect!==null?(s.lastEffect.nextEffect=g,s.lastEffect=g):s.firstEffect=s.lastEffect=g}function E0e(s,c){switch(c.flags=c.flags&~W_|Pc,s.tag){case ne:{var g=s.stateNode.containerInfo;switch(c.tag){case ue:var I=c.type;c.pendingProps,h6e(g,I);break;case pe:var N=c.pendingProps;p6e(g,N);break}break}case ue:{var $=s.type,le=s.memoizedProps,ye=s.stateNode;switch(c.tag){case ue:var Ie=c.type;c.pendingProps,m6e($,le,ye,Ie);break;case pe:var it=c.pendingProps;v6e($,le,ye,it);break;case Qe:g6e($,le);break}break}default:return}}function b0e(s,c){switch(s.tag){case ue:{var g=s.type;s.pendingProps;var I=e6e(c,g);return I!==null?(s.stateNode=I,!0):!1}case pe:{var N=s.pendingProps,$=t6e(c,N);return $!==null?(s.stateNode=$,!0):!1}case Qe:return!1;default:return!1}}function MW(s){if(jS){var c=bE;if(!c){E0e(eg,s),jS=!1,eg=s;return}var g=c;if(!b0e(s,c)){if(c=HU(g),!c||!b0e(s,c)){E0e(eg,s),jS=!1,eg=s;return}w0e(eg,g)}eg=s,bE=bge(c)}}function n8e(s,c,g){var I=s.stateNode,N=i6e(I,s.type,s.memoizedProps,c,g,s);return s.updateQueue=N,N!==null}function r8e(s){var c=s.stateNode,g=s.memoizedProps,I=a6e(c,g,s);if(I){var N=eg;if(N!==null)switch(N.tag){case ne:{var $=N.stateNode.containerInfo;u6e($,c,g);break}case ue:{var le=N.type,ye=N.memoizedProps,Ie=N.stateNode;c6e(le,ye,Ie,c,g);break}}}return I}function i8e(s){var c=s.memoizedState,g=c!==null?c.dehydrated:null;if(!g)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return o6e(g)}function C0e(s){for(var c=s.return;c!==null&&c.tag!==ue&&c.tag!==ne&&c.tag!==Qe;)c=c.return;eg=c}function Sz(s){if(s!==eg)return!1;if(!jS)return C0e(s),jS=!0,!1;var c=s.type;if(s.tag!==ue||c!=="head"&&c!=="body"&&!H7(c,s.memoizedProps))for(var g=bE;g;)w0e(s,g),g=HU(g);return C0e(s),s.tag===Qe?bE=i8e(s):bE=eg?HU(s.stateNode):null,!0}function PW(){eg=null,bE=null,jS=!1}function RW(){return jS}var Ak=[],IW;IW={};function a8e(s){Ak.push(s)}function kW(){for(var s=0;s<Ak.length;s++){var c=Ak[s];c._workInProgressVersionPrimary=null}Ak.length=0}function o8e(s){return s._workInProgressVersionPrimary}function A0e(s,c){s._workInProgressVersionPrimary=c,Ak.push(s)}function s8e(s){s._currentPrimaryRenderer==null?s._currentPrimaryRenderer=IW:s._currentPrimaryRenderer!==IW&&O("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.")}var Vr=P.ReactCurrentDispatcher,tg=P.ReactCurrentBatchConfig,DW,OW;OW={},DW=new Set;var Tk=Gn,sl=null,Hh=null,ad=null,xz=!1,Mk=!1,l8e=25,Vn=null,ng=null,GS=-1,BW=!1;function Hs(){{var s=Vn;ng===null?ng=[s]:ng.push(s)}}function $r(){{var s=Vn;ng!==null&&(GS++,ng[GS]!==s&&u8e(s))}}function Pk(s){s!=null&&!Array.isArray(s)&&O("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Vn,typeof s)}function u8e(s){{var c=Hr(sl.type);if(!DW.has(c)&&(DW.add(c),ng!==null)){for(var g="",I=30,N=0;N<=GS;N++){for(var $=ng[N],le=N===GS?s:$,ye=N+1+". "+$;ye.length<I;)ye+=" ";ye+=le+`
`,g+=ye}O(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,c,g)}}}function _m(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function LW(s,c){if(BW)return!1;if(c===null)return O("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Vn),!1;s.length!==c.length&&O(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Vn,"["+c.join(", ")+"]","["+s.join(", ")+"]");for(var g=0;g<c.length&&g<s.length;g++)if(!Jv(s[g],c[g]))return!1;return!0}function aT(s,c,g,I,N,$){Tk=$,sl=c,ng=s!==null?s._debugHookTypes:null,GS=-1,BW=s!==null&&s.type!==c.type,c.memoizedState=null,c.updateQueue=null,c.lanes=Gn,s!==null&&s.memoizedState!==null?Vr.current=H0e:ng!==null?Vr.current=z0e:Vr.current=U0e;var le=g(I,N);if(Mk){var ye=0;do{if(Mk=!1,!(ye<l8e))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");ye+=1,BW=!1,Hh=null,ad=null,c.updateQueue=null,GS=-1,Vr.current=j0e,le=g(I,N)}while(Mk)}Vr.current=Dz,c._debugHookTypes=ng;var Ie=Hh!==null&&Hh.next!==null;if(Tk=Gn,sl=null,Hh=null,ad=null,Vn=null,ng=null,GS=-1,xz=!1,Ie)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return le}function T0e(s,c,g){c.updateQueue=s.updateQueue,c.flags&=~(NI|ol),s.lanes=MU(s.lanes,g)}function M0e(){if(Vr.current=Dz,xz){for(var s=sl.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}xz=!1}Tk=Gn,sl=null,Hh=null,ad=null,ng=null,GS=-1,Vn=null,kz=!1,Mk=!1}function CE(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ad===null?sl.memoizedState=ad=s:ad=ad.next=s,ad}function AE(){var s;if(Hh===null){var c=sl.alternate;c!==null?s=c.memoizedState:s=null}else s=Hh.next;var g;if(ad===null?g=sl.memoizedState:g=ad.next,g!==null)ad=g,g=ad.next,Hh=s;else{if(s===null)throw Error("Rendered more hooks than during the previous render.");Hh=s;var I={memoizedState:Hh.memoizedState,baseState:Hh.baseState,baseQueue:Hh.baseQueue,queue:Hh.queue,next:null};ad===null?sl.memoizedState=ad=I:ad=ad.next=I}return ad}function c8e(){return{lastEffect:null}}function wz(s,c){return typeof c=="function"?c(s):c}function NW(s,c,g){var I=CE(),N;g!==void 0?N=g(c):N=c,I.memoizedState=I.baseState=N;var $=I.queue={pending:null,dispatch:null,lastRenderedReducer:s,lastRenderedState:N},le=$.dispatch=$W.bind(null,sl,$);return[I.memoizedState,le]}function FW(s,c,g){var I=AE(),N=I.queue;if(N===null)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=s;var $=Hh,le=$.baseQueue,ye=N.pending;if(ye!==null){if(le!==null){var Ie=le.next,it=ye.next;le.next=it,ye.next=Ie}$.baseQueue!==le&&O("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),$.baseQueue=le=ye,N.pending=null}if(le!==null){var ct=le.next,Vt=$.baseState,_t=null,Zt=null,Fn=null,br=ct;do{var Ii=br.lane;if(pE(Tk,Ii)){if(Fn!==null){var Zi={lane:vm,action:br.action,eagerReducer:br.eagerReducer,eagerState:br.eagerState,next:null};Fn=Fn.next=Zi}if(br.eagerReducer===s)Vt=br.eagerState;else{var bo=br.action;Vt=s(Vt,bo)}}else{var _a={lane:Ii,action:br.action,eagerReducer:br.eagerReducer,eagerState:br.eagerState,next:null};Fn===null?(Zt=Fn=_a,_t=Vt):Fn=Fn.next=_a,sl.lanes=vs(sl.lanes,Ii),BK(Ii)}br=br.next}while(br!==null&&br!==ct);Fn===null?_t=Vt:Fn.next=Zt,Jv(Vt,I.memoizedState)||cK(),I.memoizedState=Vt,I.baseState=_t,I.baseQueue=Fn,N.lastRenderedState=Vt}var js=N.dispatch;return[I.memoizedState,js]}function UW(s,c,g){var I=AE(),N=I.queue;if(N===null)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=s;var $=N.dispatch,le=N.pending,ye=I.memoizedState;if(le!==null){N.pending=null;var Ie=le.next,it=Ie;do{var ct=it.action;ye=s(ye,ct),it=it.next}while(it!==Ie);Jv(ye,I.memoizedState)||cK(),I.memoizedState=ye,I.baseQueue===null&&(I.baseState=ye),N.lastRenderedState=ye}return[ye,$]}function P0e(s,c,g){s8e(c);var I=c._getVersion,N=I(c._source),$=!1,le=o8e(c);if(le!==null?$=le===N:($=pE(Tk,s.mutableReadLanes),$&&A0e(c,N)),$){var ye=g(c._source);return typeof ye=="function"&&O("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),ye}else throw a8e(c),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function R0e(s,c,g,I){var N=p9e();if(N===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var $=c._getVersion,le=$(c._source),ye=Vr.current,Ie=ye.useState(function(){return P0e(N,c,g)}),it=Ie[0],ct=Ie[1],Vt=it,_t=ad,Zt=s.memoizedState,Fn=Zt.refs,br=Fn.getSnapshot,Ii=Zt.source,_a=Zt.subscribe,Zi=sl;if(s.memoizedState={refs:Fn,source:c,subscribe:I},ye.useEffect(function(){Fn.getSnapshot=g,Fn.setSnapshot=ct;var js=$(c._source);if(!Jv(le,js)){var Qt=g(c._source);if(typeof Qt=="function"&&O("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),!Jv(Vt,Qt)){ct(Qt);var bn=VS(Zi);Sve(N,bn)}A4e(N,N.mutableReadLanes)}},[g,c,I]),ye.useEffect(function(){var js=function(){var bn=Fn.getSnapshot,Ft=Fn.setSnapshot;try{Ft(bn(c._source));var Jn=VS(Zi);Sve(N,Jn)}catch(Fr){Ft(function(){throw Fr})}},Qt=I(c._source,js);return typeof Qt!="function"&&O("Mutable source subscribe function must return an unsubscribe function."),Qt},[c,I]),!Jv(br,g)||!Jv(Ii,c)||!Jv(_a,I)){var bo={pending:null,dispatch:null,lastRenderedReducer:wz,lastRenderedState:Vt};bo.dispatch=ct=$W.bind(null,sl,bo),_t.queue=bo,_t.baseQueue=null,Vt=P0e(N,c,g),_t.memoizedState=_t.baseState=Vt}return Vt}function zW(s,c,g){var I=CE();return I.memoizedState={refs:{getSnapshot:c,setSnapshot:null},source:s,subscribe:g},R0e(I,s,c,g)}function Ez(s,c,g){var I=AE();return R0e(I,s,c,g)}function TE(s){var c=CE();typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s;var g=c.queue={pending:null,dispatch:null,lastRenderedReducer:wz,lastRenderedState:s},I=g.dispatch=$W.bind(null,sl,g);return[c.memoizedState,I]}function Rk(s){return FW(wz)}function Ik(s){return UW(wz)}function bz(s,c,g,I){var N={tag:s,create:c,destroy:g,deps:I,next:null},$=sl.updateQueue;if($===null)$=c8e(),sl.updateQueue=$,$.lastEffect=N.next=N;else{var le=$.lastEffect;if(le===null)$.lastEffect=N.next=N;else{var ye=le.next;le.next=N,N.next=ye,$.lastEffect=N}}return N}function Cz(s){var c=CE(),g={current:s};return Object.seal(g),c.memoizedState=g,g}function oT(s){var c=AE();return c.memoizedState}function HW(s,c,g,I){var N=CE(),$=I===void 0?null:I;sl.flags|=s,N.memoizedState=bz(rT|c,g,void 0,$)}function jW(s,c,g,I){var N=AE(),$=I===void 0?null:I,le=void 0;if(Hh!==null){var ye=Hh.memoizedState;if(le=ye.destroy,$!==null){var Ie=ye.deps;if(LW($,Ie)){bz(c,g,le,$);return}}}sl.flags|=s,N.memoizedState=bz(rT|c,g,le,$)}function Az(s,c){return typeof jest<"u"&&Wye(sl),HW(ol|NI,Ck,s,c)}function sT(s,c){return typeof jest<"u"&&Wye(sl),jW(ol|NI,Ck,s,c)}function GW(s,c){return HW(ol,iT,s,c)}function Tz(s,c){return jW(ol,iT,s,c)}function I0e(s,c){if(typeof c=="function"){var g=c,I=s();return g(I),function(){g(null)}}else if(c!=null){var N=c;N.hasOwnProperty("current")||O("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}");var $=s();return N.current=$,function(){N.current=null}}}function VW(s,c,g){typeof c!="function"&&O("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",c!==null?typeof c:"null");var I=g!=null?g.concat([s]):null;return HW(ol,iT,I0e.bind(null,c,s),I)}function Mz(s,c,g){typeof c!="function"&&O("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",c!==null?typeof c:"null");var I=g!=null?g.concat([s]):null;return jW(ol,iT,I0e.bind(null,c,s),I)}function f8e(s,c){}var Pz=f8e;function WW(s,c){var g=CE(),I=c===void 0?null:c;return g.memoizedState=[s,I],s}function Rz(s,c){var g=AE(),I=c===void 0?null:c,N=g.memoizedState;if(N!==null&&I!==null){var $=N[1];if(LW(I,$))return N[0]}return g.memoizedState=[s,I],s}function KW(s,c){var g=CE(),I=c===void 0?null:c,N=s();return g.memoizedState=[N,I],N}function Iz(s,c){var g=AE(),I=c===void 0?null:c,N=g.memoizedState;if(N!==null&&I!==null){var $=N[1];if(LW(I,$))return N[0]}var le=s();return g.memoizedState=[le,I],le}function qW(s){var c=TE(s),g=c[0],I=c[1];return Az(function(){var N=tg.transition;tg.transition=1;try{I(s)}finally{tg.transition=N}},[s]),g}function k0e(s){var c=Rk(),g=c[0],I=c[1];return sT(function(){var N=tg.transition;tg.transition=1;try{I(s)}finally{tg.transition=N}},[s]),g}function D0e(s){var c=Ik(),g=c[0],I=c[1];return sT(function(){var N=tg.transition;tg.transition=1;try{I(s)}finally{tg.transition=N}},[s]),g}function d8e(s,c){var g=JA();_E(g<yE?yE:g,function(){s(!0)}),_E(g>$_?$_:g,function(){var I=tg.transition;tg.transition=1;try{s(!1),c()}finally{tg.transition=I}})}function XW(){var s=TE(!1),c=s[0],g=s[1],I=d8e.bind(null,g);return Cz(I),[I,c]}function O0e(){var s=Rk(),c=s[0],g=oT(),I=g.current;return[I,c]}function B0e(){var s=Ik(),c=s[0],g=oT(),I=g.current;return[I,c]}var kz=!1;function h8e(){return kz}function L0e(s){{var c=Hr(s.type)||"Unknown";nU()&&!OW[c]&&(O("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly."),OW[c]=!0)}}function YW(){var s=_6e.bind(null,L0e.bind(null,sl));if(RW()){var c=!1,g=sl,I=function(){throw c||(c=!0,kz=!0,$(s()),kz=!1,L0e(g)),Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.")},N=x6e(I),$=TE(N)[1];return(sl.mode&ym)===nu&&(sl.flags|=ol|NI,bz(rT|Ck,function(){$(s())},void 0,null)),N}else{var le=s();return TE(le),le}}function N0e(){var s=Rk()[0];return s}function F0e(){var s=Ik()[0];return s}function $W(s,c,g){typeof arguments[3]=="function"&&O("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var I=ov(),N=VS(s),$={lane:N,action:g,eagerReducer:null,eagerState:null,next:null},le=c.pending;le===null?$.next=$:($.next=le.next,le.next=$),c.pending=$;var ye=s.alternate;if(s===sl||ye!==null&&ye===sl)Mk=xz=!0;else{if(s.lanes===Gn&&(ye===null||ye.lanes===Gn)){var Ie=c.lastRenderedReducer;if(Ie!==null){var it;it=Vr.current,Vr.current=t0;try{var ct=c.lastRenderedState,Vt=Ie(ct,g);if($.eagerReducer=Ie,$.eagerState=Vt,Jv(Vt,ct))return}catch{}finally{Vr.current=it}}}typeof jest<"u"&&(Vye(s),$9e(s)),jh(s,N,I)}}var Dz={readContext:Zc,useCallback:_m,useContext:_m,useEffect:_m,useImperativeHandle:_m,useLayoutEffect:_m,useMemo:_m,useReducer:_m,useRef:_m,useState:_m,useDebugValue:_m,useDeferredValue:_m,useTransition:_m,useMutableSource:_m,useOpaqueIdentifier:_m,unstable_isNewReconciler:xi},U0e=null,z0e=null,H0e=null,j0e=null,vy=null,t0=null,Oz=null;{var QW=function(){O("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Aa=function(){O("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};U0e={readContext:function(s,c){return Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",Hs(),Pk(c),WW(s,c)},useContext:function(s,c){return Vn="useContext",Hs(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",Hs(),Pk(c),Az(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",Hs(),Pk(g),VW(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",Hs(),Pk(c),GW(s,c)},useMemo:function(s,c){Vn="useMemo",Hs(),Pk(c);var g=Vr.current;Vr.current=vy;try{return KW(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",Hs();var I=Vr.current;Vr.current=vy;try{return NW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",Hs(),Cz(s)},useState:function(s){Vn="useState",Hs();var c=Vr.current;Vr.current=vy;try{return TE(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",Hs(),void 0},useDeferredValue:function(s){return Vn="useDeferredValue",Hs(),qW(s)},useTransition:function(){return Vn="useTransition",Hs(),XW()},useMutableSource:function(s,c,g){return Vn="useMutableSource",Hs(),zW(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",Hs(),YW()},unstable_isNewReconciler:xi},z0e={readContext:function(s,c){return Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",$r(),WW(s,c)},useContext:function(s,c){return Vn="useContext",$r(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",$r(),Az(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",$r(),VW(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",$r(),GW(s,c)},useMemo:function(s,c){Vn="useMemo",$r();var g=Vr.current;Vr.current=vy;try{return KW(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",$r();var I=Vr.current;Vr.current=vy;try{return NW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",$r(),Cz(s)},useState:function(s){Vn="useState",$r();var c=Vr.current;Vr.current=vy;try{return TE(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",$r(),void 0},useDeferredValue:function(s){return Vn="useDeferredValue",$r(),qW(s)},useTransition:function(){return Vn="useTransition",$r(),XW()},useMutableSource:function(s,c,g){return Vn="useMutableSource",$r(),zW(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",$r(),YW()},unstable_isNewReconciler:xi},H0e={readContext:function(s,c){return Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",$r(),Rz(s,c)},useContext:function(s,c){return Vn="useContext",$r(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",$r(),sT(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",$r(),Mz(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",$r(),Tz(s,c)},useMemo:function(s,c){Vn="useMemo",$r();var g=Vr.current;Vr.current=t0;try{return Iz(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",$r();var I=Vr.current;Vr.current=t0;try{return FW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",$r(),oT()},useState:function(s){Vn="useState",$r();var c=Vr.current;Vr.current=t0;try{return Rk(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",$r(),Pz()},useDeferredValue:function(s){return Vn="useDeferredValue",$r(),k0e(s)},useTransition:function(){return Vn="useTransition",$r(),O0e()},useMutableSource:function(s,c,g){return Vn="useMutableSource",$r(),Ez(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",$r(),N0e()},unstable_isNewReconciler:xi},j0e={readContext:function(s,c){return Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",$r(),Rz(s,c)},useContext:function(s,c){return Vn="useContext",$r(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",$r(),sT(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",$r(),Mz(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",$r(),Tz(s,c)},useMemo:function(s,c){Vn="useMemo",$r();var g=Vr.current;Vr.current=Oz;try{return Iz(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",$r();var I=Vr.current;Vr.current=Oz;try{return UW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",$r(),oT()},useState:function(s){Vn="useState",$r();var c=Vr.current;Vr.current=Oz;try{return Ik(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",$r(),Pz()},useDeferredValue:function(s){return Vn="useDeferredValue",$r(),D0e(s)},useTransition:function(){return Vn="useTransition",$r(),B0e()},useMutableSource:function(s,c,g){return Vn="useMutableSource",$r(),Ez(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",$r(),F0e()},unstable_isNewReconciler:xi},vy={readContext:function(s,c){return QW(),Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",Aa(),Hs(),WW(s,c)},useContext:function(s,c){return Vn="useContext",Aa(),Hs(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",Aa(),Hs(),Az(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",Aa(),Hs(),VW(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",Aa(),Hs(),GW(s,c)},useMemo:function(s,c){Vn="useMemo",Aa(),Hs();var g=Vr.current;Vr.current=vy;try{return KW(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",Aa(),Hs();var I=Vr.current;Vr.current=vy;try{return NW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",Aa(),Hs(),Cz(s)},useState:function(s){Vn="useState",Aa(),Hs();var c=Vr.current;Vr.current=vy;try{return TE(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",Aa(),Hs(),void 0},useDeferredValue:function(s){return Vn="useDeferredValue",Aa(),Hs(),qW(s)},useTransition:function(){return Vn="useTransition",Aa(),Hs(),XW()},useMutableSource:function(s,c,g){return Vn="useMutableSource",Aa(),Hs(),zW(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",Aa(),Hs(),YW()},unstable_isNewReconciler:xi},t0={readContext:function(s,c){return QW(),Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",Aa(),$r(),Rz(s,c)},useContext:function(s,c){return Vn="useContext",Aa(),$r(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",Aa(),$r(),sT(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",Aa(),$r(),Mz(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",Aa(),$r(),Tz(s,c)},useMemo:function(s,c){Vn="useMemo",Aa(),$r();var g=Vr.current;Vr.current=t0;try{return Iz(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",Aa(),$r();var I=Vr.current;Vr.current=t0;try{return FW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",Aa(),$r(),oT()},useState:function(s){Vn="useState",Aa(),$r();var c=Vr.current;Vr.current=t0;try{return Rk(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",Aa(),$r(),Pz()},useDeferredValue:function(s){return Vn="useDeferredValue",Aa(),$r(),k0e(s)},useTransition:function(){return Vn="useTransition",Aa(),$r(),O0e()},useMutableSource:function(s,c,g){return Vn="useMutableSource",Aa(),$r(),Ez(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",Aa(),$r(),N0e()},unstable_isNewReconciler:xi},Oz={readContext:function(s,c){return QW(),Zc(s,c)},useCallback:function(s,c){return Vn="useCallback",Aa(),$r(),Rz(s,c)},useContext:function(s,c){return Vn="useContext",Aa(),$r(),Zc(s,c)},useEffect:function(s,c){return Vn="useEffect",Aa(),$r(),sT(s,c)},useImperativeHandle:function(s,c,g){return Vn="useImperativeHandle",Aa(),$r(),Mz(s,c,g)},useLayoutEffect:function(s,c){return Vn="useLayoutEffect",Aa(),$r(),Tz(s,c)},useMemo:function(s,c){Vn="useMemo",Aa(),$r();var g=Vr.current;Vr.current=t0;try{return Iz(s,c)}finally{Vr.current=g}},useReducer:function(s,c,g){Vn="useReducer",Aa(),$r();var I=Vr.current;Vr.current=t0;try{return UW(s,c,g)}finally{Vr.current=I}},useRef:function(s){return Vn="useRef",Aa(),$r(),oT()},useState:function(s){Vn="useState",Aa(),$r();var c=Vr.current;Vr.current=t0;try{return Ik(s)}finally{Vr.current=c}},useDebugValue:function(s,c){return Vn="useDebugValue",Aa(),$r(),Pz()},useDeferredValue:function(s){return Vn="useDeferredValue",Aa(),$r(),D0e(s)},useTransition:function(){return Vn="useTransition",Aa(),$r(),B0e()},useMutableSource:function(s,c,g){return Vn="useMutableSource",Aa(),$r(),Ez(s,c,g)},useOpaqueIdentifier:function(){return Vn="useOpaqueIdentifier",Aa(),$r(),F0e()},unstable_isNewReconciler:xi}}var Bz=m.unstable_now,G0e=0,kk=-1;function p8e(){return G0e}function V0e(){G0e=Bz()}function JW(s){kk=Bz(),s.actualStartTime<0&&(s.actualStartTime=Bz())}function W0e(s){kk=-1}function Lz(s,c){if(kk>=0){var g=Bz()-kk;s.actualDuration+=g,c&&(s.selfBaseDuration=g),kk=-1}}function ZW(s){for(var c=s.child;c;)s.actualDuration+=c.actualDuration,c=c.sibling}var Dk=P.ReactCurrentOwner,gy=!1,eK,Ok,tK,nK,rK,ME,iK,Nz;eK={},Ok={},tK={},nK={},rK={},ME=!1,iK={},Nz={};function Sm(s,c,g,I){s===null?c.child=y0e(c,null,g,I):c.child=mz(c,s.child,g,I)}function m8e(s,c,g,I){c.child=mz(c,s.child,null,I),c.child=mz(c,null,g,I)}function K0e(s,c,g,I,N){if(c.type!==c.elementType){var $=g.propTypes;$&&Qg($,I,"prop",Hr(g))}var le=g.render,ye=c.ref,Ie;eT(c,N);{if(Dk.current=c,$v(!0),Ie=aT(s,c,le,I,ye,N),c.mode&$u){Xv();try{Ie=aT(s,c,le,I,ye,N)}finally{pm()}}$v(!1)}return s!==null&&!gy?(T0e(s,c,N),J_(s,c,N)):(c.flags|=kS,Sm(s,c,Ie,N),c.child)}function q0e(s,c,g,I,N,$){if(s===null){var le=g.type;if(lGe(le)&&g.compare===null&&g.defaultProps===void 0){var ye=le;return ye=mT(le),c.tag=Wt,c.type=ye,lK(c,le),X0e(s,c,ye,I,N,$)}{var Ie=le.propTypes;Ie&&Qg(Ie,I,"prop",Hr(le))}var it=KK(g.type,null,I,c,c.mode,$);return it.ref=c.ref,it.return=c,c.child=it,it}{var ct=g.type,Vt=ct.propTypes;Vt&&Qg(Vt,I,"prop",Hr(ct))}var _t=s.child;if(!Nh(N,$)){var Zt=_t.memoizedProps,Fn=g.compare;if(Fn=Fn!==null?Fn:ek,Fn(Zt,I)&&s.ref===c.ref)return J_(s,c,$)}c.flags|=kS;var br=DE(_t,I);return br.ref=c.ref,br.return=c,c.child=br,br}function X0e(s,c,g,I,N,$){if(c.type!==c.elementType){var le=c.elementType;if(le.$$typeof===$g){var ye=le,Ie=ye._payload,it=ye._init;try{le=it(Ie)}catch{le=null}var ct=le&&le.propTypes;ct&&Qg(ct,I,"prop",Hr(le))}}if(s!==null){var Vt=s.memoizedProps;if(ek(Vt,I)&&s.ref===c.ref&&c.type===s.type)if(gy=!1,Nh($,N))(s.flags&u7)!==bu&&(gy=!0);else return c.lanes=s.lanes,J_(s,c,$)}return oK(s,c,g,I,$)}function aK(s,c,g){var I=c.pendingProps,N=I.children,$=s!==null?s.memoizedState:null;if(I.mode==="hidden"||I.mode==="unstable-defer-without-hiding")if((c.mode&SE)===nu){var le={baseLanes:Gn};c.memoizedState=le,Zz(c,g)}else if(Nh(g,fy)){var ct={baseLanes:Gn};c.memoizedState=ct;var Vt=$!==null?$.baseLanes:g;Zz(c,Vt)}else{var ye;if($!==null){var Ie=$.baseLanes;ye=vs(Ie,g)}else ye=g;a5(fy),c.lanes=c.childLanes=fy;var it={baseLanes:ye};return c.memoizedState=it,Zz(c,ye),null}else{var _t;$!==null?(_t=vs($.baseLanes,g),c.memoizedState=null):_t=g,Zz(c,_t)}return Sm(s,c,N,g),c.child}var v8e=aK;function g8e(s,c,g){var I=c.pendingProps;return Sm(s,c,I,g),c.child}function y8e(s,c,g){var I=c.pendingProps.children;return Sm(s,c,I,g),c.child}function _8e(s,c,g){{c.flags|=ol;var I=c.stateNode;I.effectDuration=0,I.passiveEffectDuration=0}var N=c.pendingProps,$=N.children;return Sm(s,c,$,g),c.child}function Y0e(s,c){var g=c.ref;(s===null&&g!==null||s!==null&&s.ref!==g)&&(c.flags|=gU)}function oK(s,c,g,I,N){if(c.type!==c.elementType){var $=g.propTypes;$&&Qg($,I,"prop",Hr(g))}var le;{var ye=YA(c,g,!0);le=$A(c,ye)}var Ie;eT(c,N);{if(Dk.current=c,$v(!0),Ie=aT(s,c,g,I,le,N),c.mode&$u){Xv();try{Ie=aT(s,c,g,I,le,N)}finally{pm()}}$v(!1)}return s!==null&&!gy?(T0e(s,c,N),J_(s,c,N)):(c.flags|=kS,Sm(s,c,Ie,N),c.child)}function $0e(s,c,g,I,N){if(c.type!==c.elementType){var $=g.propTypes;$&&Qg($,I,"prop",Hr(g))}var le;hy(g)?(le=!0,$U(c)):le=!1,eT(c,N);var ye=c.stateNode,Ie;ye===null?(s!==null&&(s.alternate=null,c.alternate=null,c.flags|=Pc),p0e(c,g,I),vW(c,g,I,N),Ie=!0):s===null?Ie=X6e(c,g,I,N):Ie=Y6e(s,c,g,I,N);var it=sK(s,c,g,Ie,le,N);{var ct=c.stateNode;Ie&&ct.props!==I&&(ME||O("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Hr(c.type)||"a component"),ME=!0)}return it}function sK(s,c,g,I,N,$){Y0e(s,c);var le=(c.flags&Bl)!==bu;if(!I&&!le)return N&&Bge(c,g,!1),J_(s,c,$);var ye=c.stateNode;Dk.current=c;var Ie;if(le&&typeof g.getDerivedStateFromError!="function")Ie=null,W0e();else{if($v(!0),Ie=ye.render(),c.mode&$u){Xv();try{ye.render()}finally{pm()}}$v(!1)}return c.flags|=kS,s!==null&&le?m8e(s,c,Ie,$):Sm(s,c,Ie,$),c.memoizedState=ye.state,N&&Bge(c,g,!0),c.child}function Q0e(s){var c=s.stateNode;c.pendingContext?Dge(s,c.pendingContext,c.pendingContext!==c.context):c.context&&Dge(s,c.context,!1),wW(s,c.containerInfo)}function S8e(s,c,g){Q0e(c);var I=c.updateQueue;if(!(s!==null&&I!==null))throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var N=c.pendingProps,$=c.memoizedState,le=$!==null?$.element:null;a0e(s,c),_k(c,N,null,g);var ye=c.memoizedState,Ie=ye.element;if(Ie===le)return PW(),J_(s,c,g);var it=c.stateNode;if(it.hydrate&&t8e(c)){{var ct=it.mutableSourceEagerHydrationData;if(ct!=null)for(var Vt=0;Vt<ct.length;Vt+=2){var _t=ct[Vt],Zt=ct[Vt+1];A0e(_t,Zt)}}var Fn=y0e(c,null,Ie,g);c.child=Fn;for(var br=Fn;br;)br.flags=br.flags&~Pc|W_,br=br.sibling}else Sm(s,c,Ie,g),PW();return c.child}function x8e(s,c,g){S0e(c),s===null&&MW(c);var I=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,le=N.children,ye=H7(I,N);return ye?le=null:$!==null&&H7(I,$)&&(c.flags|=vU),Y0e(s,c),Sm(s,c,le,g),c.child}function w8e(s,c){return s===null&&MW(c),null}function E8e(s,c,g,I,N){s!==null&&(s.alternate=null,c.alternate=null,c.flags|=Pc);var $=c.pendingProps,le=g,ye=le._payload,Ie=le._init,it=Ie(ye);c.type=it;var ct=c.tag=uGe(it),Vt=Zg(it,$),_t;switch(ct){case K:return lK(c,it),c.type=it=mT(it),_t=oK(null,c,it,Vt,N),_t;case J:return c.type=it=zK(it),_t=$0e(null,c,it,Vt,N),_t;case Oe:return c.type=it=HK(it),_t=K0e(null,c,it,Vt,N),_t;case gt:{if(c.type!==c.elementType){var Zt=it.propTypes;Zt&&Qg(Zt,Vt,"prop",Hr(it))}return _t=q0e(null,c,it,Zg(it.type,Vt),I,N),_t}}var Fn="";throw it!==null&&typeof it=="object"&&it.$$typeof===$g&&(Fn=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+it+". Lazy element type must resolve to a class or function."+Fn)}function b8e(s,c,g,I,N){s!==null&&(s.alternate=null,c.alternate=null,c.flags|=Pc),c.tag=J;var $;return hy(g)?($=!0,$U(c)):$=!1,eT(c,N),p0e(c,g,I),vW(c,g,I,N),sK(null,c,g,!0,$,N)}function C8e(s,c,g,I){s!==null&&(s.alternate=null,c.alternate=null,c.flags|=Pc);var N=c.pendingProps,$;{var le=YA(c,g,!1);$=$A(c,le)}eT(c,I);var ye;{if(g.prototype&&typeof g.prototype.render=="function"){var Ie=Hr(g)||"Unknown";eK[Ie]||(O("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",Ie,Ie),eK[Ie]=!0)}c.mode&$u&&Jg.recordLegacyContextWarning(c,null),$v(!0),Dk.current=c,ye=aT(null,c,g,N,$,I),$v(!1)}if(c.flags|=kS,typeof ye=="object"&&ye!==null&&typeof ye.render=="function"&&ye.$$typeof===void 0){var it=Hr(g)||"Unknown";Ok[it]||(O("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",it,it,it),Ok[it]=!0)}if(typeof ye=="object"&&ye!==null&&typeof ye.render=="function"&&ye.$$typeof===void 0){{var ct=Hr(g)||"Unknown";Ok[ct]||(O("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ct,ct,ct),Ok[ct]=!0)}c.tag=J,c.memoizedState=null,c.updateQueue=null;var Vt=!1;hy(g)?(Vt=!0,$U(c)):Vt=!1,c.memoizedState=ye.state!==null&&ye.state!==void 0?ye.state:null,aW(c);var _t=g.getDerivedStateFromProps;return typeof _t=="function"&&fz(c,g,_t,N),h0e(c,ye),vW(c,g,N,I),sK(null,c,g,!0,Vt,I)}else{if(c.tag=K,c.mode&$u){Xv();try{ye=aT(null,c,g,N,$,I)}finally{pm()}}return Sm(null,c,ye,I),lK(c,g),c.child}}function lK(s,c){{if(c&&c.childContextTypes&&O("%s(...): childContextTypes cannot be defined on a function component.",c.displayName||c.name||"Component"),s.ref!==null){var g="",I=oE();I&&(g+=`

Check the render method of \``+I+"`.");var N=I||s._debugID||"",$=s._debugSource;$&&(N=$.fileName+":"+$.lineNumber),rK[N]||(rK[N]=!0,O("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",g))}if(typeof c.getDerivedStateFromProps=="function"){var le=Hr(c)||"Unknown";nK[le]||(O("%s: Function components do not support getDerivedStateFromProps.",le),nK[le]=!0)}if(typeof c.contextType=="object"&&c.contextType!==null){var ye=Hr(c)||"Unknown";tK[ye]||(O("%s: Function components do not support contextType.",ye),tK[ye]=!0)}}}var Fz={dehydrated:null,retryLane:vm};function Uz(s){return{baseLanes:s}}function J0e(s,c){return{baseLanes:vs(s.baseLanes,c)}}function A8e(s,c,g,I){if(c!==null){var N=c.memoizedState;if(N===null)return!1}return yz(s,Ek)}function Z0e(s,c){return MU(s.childLanes,c)}function eye(s,c,g){var I=c.pendingProps;MGe(c)&&(c.flags|=Bl);var N=e0.current,$=!1,le=(c.flags&Bl)!==bu;if(le||A8e(N,s)?($=!0,c.flags&=~Bl):(s===null||s.memoizedState!==null)&&I.fallback!==void 0&&I.unstable_avoidThisFallback!==!0&&(N=Z6e(N,CW)),N=bk(N),EE(c,N),s===null){I.fallback!==void 0&&MW(c);var ye=I.children,Ie=I.fallback;if($){var it=tye(c,ye,Ie,g),ct=c.child;return ct.memoizedState=Uz(g),c.memoizedState=Fz,it}else if(typeof I.unstable_expectedLoadTime=="number"){var Vt=tye(c,ye,Ie,g),_t=c.child;return _t.memoizedState=Uz(g),c.memoizedState=Fz,c.lanes=zA,a5(zA),Vt}else return T8e(c,ye,g)}else{var Zt=s.memoizedState;if(Zt!==null)if($){var Fn=I.fallback,br=I.children,Ii=iye(s,c,br,Fn,g),_a=c.child,Zi=s.child.memoizedState;return _a.memoizedState=Zi===null?Uz(g):J0e(Zi,g),_a.childLanes=Z0e(s,g),c.memoizedState=Fz,Ii}else{var bo=I.children,js=rye(s,c,bo,g);return c.memoizedState=null,js}else if($){var Qt=I.fallback,bn=I.children,Ft=iye(s,c,bn,Qt,g),Jn=c.child,Fr=s.child.memoizedState;return Jn.memoizedState=Fr===null?Uz(g):J0e(Fr,g),Jn.childLanes=Z0e(s,g),c.memoizedState=Fz,Ft}else{var ii=I.children,so=rye(s,c,ii,g);return c.memoizedState=null,so}}}function T8e(s,c,g){var I=s.mode,N={mode:"visible",children:c},$=XK(N,I,g,null);return $.return=s,s.child=$,$}function tye(s,c,g,I){var N=s.mode,$=s.child,le={mode:"hidden",children:c},ye,Ie;return(N&ym)===nu&&$!==null?(ye=$,ye.childLanes=Gn,ye.pendingProps=le,s.mode&iv&&(ye.actualDuration=0,ye.actualStartTime=-1,ye.selfBaseDuration=0,ye.treeBaseDuration=0),Ie=OE(g,N,I,null)):(ye=XK(le,N,Gn,null),Ie=OE(g,N,I,null)),ye.return=s,Ie.return=s,ye.sibling=Ie,s.child=ye,Ie}function nye(s,c){return DE(s,c)}function rye(s,c,g,I){var N=s.child,$=N.sibling,le=nye(N,{mode:"visible",children:g});return(c.mode&ym)===nu&&(le.lanes=I),le.return=c,le.sibling=null,$!==null&&($.nextEffect=null,$.flags=V_,c.firstEffect=c.lastEffect=$),c.child=le,le}function iye(s,c,g,I,N){var $=c.mode,le=s.child,ye=le.sibling,Ie={mode:"hidden",children:g},it;if(($&ym)===nu&&c.child!==le){var ct=c.child;it=ct,it.childLanes=Gn,it.pendingProps=Ie,c.mode&iv&&(it.actualDuration=0,it.actualStartTime=-1,it.selfBaseDuration=le.selfBaseDuration,it.treeBaseDuration=le.treeBaseDuration);var Vt=it.lastEffect;Vt!==null?(c.firstEffect=it.firstEffect,c.lastEffect=Vt,Vt.nextEffect=null):c.firstEffect=c.lastEffect=null}else it=nye(le,Ie);var _t;return ye!==null?_t=DE(ye,I):(_t=OE(I,$,N,null),_t.flags|=Pc),_t.return=c,it.return=c,it.sibling=_t,c.child=it,_t}function aye(s,c){s.lanes=vs(s.lanes,c);var g=s.alternate;g!==null&&(g.lanes=vs(g.lanes,c)),n0e(s.return,c)}function M8e(s,c,g){for(var I=c;I!==null;){if(I.tag===Qe){var N=I.memoizedState;N!==null&&aye(I,g)}else if(I.tag===jt)aye(I,g);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)return;for(;I.sibling===null;){if(I.return===null||I.return===s)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function P8e(s){for(var c=s,g=null;c!==null;){var I=c.alternate;I!==null&&_z(I)===null&&(g=c),c=c.sibling}return g}function R8e(s){if(s!==void 0&&s!=="forwards"&&s!=="backwards"&&s!=="together"&&!iK[s])if(iK[s]=!0,typeof s=="string")switch(s.toLowerCase()){case"together":case"forwards":case"backwards":{O('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break}case"forward":case"backward":{O('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break}default:O('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);break}else O('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}function I8e(s,c){s!==void 0&&!Nz[s]&&(s!=="collapsed"&&s!=="hidden"?(Nz[s]=!0,O('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):c!=="forwards"&&c!=="backwards"&&(Nz[s]=!0,O('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s)))}function oye(s,c){{var g=Array.isArray(s),I=!g&&typeof ev(s)=="function";if(g||I){var N=g?"array":"iterable";return O("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",N,c,N),!1}}return!0}function k8e(s,c){if((c==="forwards"||c==="backwards")&&s!==void 0&&s!==null&&s!==!1)if(Array.isArray(s)){for(var g=0;g<s.length;g++)if(!oye(s[g],g))return}else{var I=ev(s);if(typeof I=="function"){var N=I.call(s);if(N)for(var $=N.next(),le=0;!$.done;$=N.next()){if(!oye($.value,le))return;le++}}else O('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',c)}}function uK(s,c,g,I,N,$){var le=s.memoizedState;le===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:I,tail:g,tailMode:N,lastEffect:$}:(le.isBackwards=c,le.rendering=null,le.renderingStartTime=0,le.last=I,le.tail=g,le.tailMode=N,le.lastEffect=$)}function sye(s,c,g){var I=c.pendingProps,N=I.revealOrder,$=I.tail,le=I.children;R8e(N),I8e($,N),k8e(le,N),Sm(s,c,le,g);var ye=e0.current,Ie=yz(ye,Ek);if(Ie)ye=AW(ye,Ek),c.flags|=Bl;else{var it=s!==null&&(s.flags&Bl)!==bu;it&&M8e(c,c.child,g),ye=bk(ye)}if(EE(c,ye),(c.mode&ym)===nu)c.memoizedState=null;else switch(N){case"forwards":{var ct=P8e(c.child),Vt;ct===null?(Vt=c.child,c.child=null):(Vt=ct.sibling,ct.sibling=null),uK(c,!1,Vt,ct,$,c.lastEffect);break}case"backwards":{var _t=null,Zt=c.child;for(c.child=null;Zt!==null;){var Fn=Zt.alternate;if(Fn!==null&&_z(Fn)===null){c.child=Zt;break}var br=Zt.sibling;Zt.sibling=_t,_t=Zt,Zt=br}uK(c,!0,_t,null,$,c.lastEffect);break}case"together":{uK(c,!1,null,null,void 0,c.lastEffect);break}default:c.memoizedState=null}return c.child}function D8e(s,c,g){wW(c,c.stateNode.containerInfo);var I=c.pendingProps;return s===null?c.child=mz(c,null,I,g):Sm(s,c,I,g),c.child}var lye=!1;function O8e(s,c,g){var I=c.type,N=I._context,$=c.pendingProps,le=c.memoizedProps,ye=$.value;{"value"in $||lye||(lye=!0,O("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var Ie=c.type.propTypes;Ie&&Qg(Ie,$,"prop","Context.Provider")}if(t0e(c,ye),le!==null){var it=le.value,ct=H6e(N,ye,it);if(ct===0){if(le.children===$.children&&!XU())return J_(s,c,g)}else j6e(c,N,ct,g)}var Vt=$.children;return Sm(s,c,Vt,g),c.child}var uye=!1;function B8e(s,c,g){var I=c.type;I._context===void 0?I!==I.Consumer&&(uye||(uye=!0,O("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):I=I._context;var N=c.pendingProps,$=N.children;typeof $!="function"&&O("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),eT(c,g);var le=Zc(I,N.unstable_observedBits),ye;return Dk.current=c,$v(!0),ye=$(le),$v(!1),c.flags|=kS,Sm(s,c,ye,g),c.child}function cK(){gy=!0}function J_(s,c,g){return s!==null&&(c.dependencies=s.dependencies),W0e(),BK(c.lanes),Nh(g,c.childLanes)?($6e(s,c),c.child):null}function L8e(s,c,g){{var I=c.return;if(I===null)throw new Error("Cannot swap the root fiber.");if(s.alternate=null,c.alternate=null,g.index=c.index,g.sibling=c.sibling,g.return=c.return,g.ref=c.ref,c===I.child)I.child=g;else{var N=I.child;if(N===null)throw new Error("Expected parent to have a child.");for(;N.sibling!==c;)if(N=N.sibling,N===null)throw new Error("Expected to find the previous sibling.");N.sibling=g}var $=I.lastEffect;return $!==null?($.nextEffect=s,I.lastEffect=s):I.firstEffect=I.lastEffect=s,s.nextEffect=null,s.flags=V_,g.flags|=Pc,g}}function cye(s,c,g){var I=c.lanes;if(c._debugNeedsRemount&&s!==null)return L8e(s,c,KK(c.type,c.key,c.pendingProps,c._debugOwner||null,c.mode,c.lanes));if(s!==null){var N=s.memoizedProps,$=c.pendingProps;if(N!==$||XU()||c.type!==s.type)gy=!0;else if(Nh(g,I))(s.flags&u7)!==bu?gy=!0:gy=!1;else{switch(gy=!1,c.tag){case ne:Q0e(c),PW();break;case ue:S0e(c);break;case J:{var le=c.type;hy(le)&&$U(c);break}case re:wW(c,c.stateNode.containerInfo);break;case He:{var ye=c.memoizedProps.value;t0e(c,ye);break}case Fe:{var Ie=Nh(g,c.childLanes);Ie&&(c.flags|=ol);var it=c.stateNode;it.effectDuration=0,it.passiveEffectDuration=0}break;case Qe:{var ct=c.memoizedState;if(ct!==null){var Vt=c.child,_t=Vt.childLanes;if(Nh(g,_t))return eye(s,c,g);EE(c,bk(e0.current));var Zt=J_(s,c,g);return Zt!==null?Zt.sibling:null}else EE(c,bk(e0.current));break}case jt:{var Fn=(s.flags&Bl)!==bu,br=Nh(g,c.childLanes);if(Fn){if(br)return sye(s,c,g);c.flags|=Bl}var Ii=c.memoizedState;if(Ii!==null&&(Ii.rendering=null,Ii.tail=null,Ii.lastEffect=null),EE(c,e0.current),br)break;return null}case si:case un:return c.lanes=Gn,aK(s,c,g)}return J_(s,c,g)}}else gy=!1;switch(c.lanes=Gn,c.tag){case te:return C8e(s,c,c.type,g);case Tt:{var _a=c.elementType;return E8e(s,c,_a,I,g)}case K:{var Zi=c.type,bo=c.pendingProps,js=c.elementType===Zi?bo:Zg(Zi,bo);return oK(s,c,Zi,js,g)}case J:{var Qt=c.type,bn=c.pendingProps,Ft=c.elementType===Qt?bn:Zg(Qt,bn);return $0e(s,c,Qt,Ft,g)}case ne:return S8e(s,c,g);case ue:return x8e(s,c,g);case pe:return w8e(s,c);case Qe:return eye(s,c,g);case re:return D8e(s,c,g);case Oe:{var Jn=c.type,Fr=c.pendingProps,ii=c.elementType===Jn?Fr:Zg(Jn,Fr);return K0e(s,c,Jn,ii,g)}case me:return g8e(s,c,g);case De:return y8e(s,c,g);case Fe:return _8e(s,c,g);case He:return O8e(s,c,g);case Re:return B8e(s,c,g);case gt:{var so=c.type,xl=c.pendingProps,ru=Zg(so,xl);if(c.type!==c.elementType){var gs=so.propTypes;gs&&Qg(gs,ru,"prop",Hr(so))}return ru=Zg(so.type,ru),q0e(s,c,so,ru,I,g)}case Wt:return X0e(s,c,c.type,c.pendingProps,I,g);case An:{var ef=c.type,jo=c.pendingProps,iu=c.elementType===ef?jo:Zg(ef,jo);return b8e(s,c,ef,iu,g)}case jt:return sye(s,c,g);case xn:break;case _r:break;case lr:break;case si:return aK(s,c,g);case un:return v8e(s,c,g)}throw Error("Unknown unit of work tag ("+c.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function lT(s){s.flags|=ol}function fye(s){s.flags|=gU}var dye,fK,hye,pye;dye=function(s,c,g,I){for(var N=c.child;N!==null;){if(N.tag===ue||N.tag===pe)Lje(s,N.stateNode);else if(N.tag!==re){if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===c)return;for(;N.sibling===null;){if(N.return===null||N.return===c)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},fK=function(s){},hye=function(s,c,g,I,N){var $=s.memoizedProps;if($!==I){var le=c.stateNode,ye=EW(),Ie=Fje(le,g,$,I,N,ye);c.updateQueue=Ie,Ie&&lT(c)}},pye=function(s,c,g,I){g!==I&&lT(c)};function Bk(s,c){if(!RW())switch(s.tailMode){case"hidden":{for(var g=s.tail,I=null;g!==null;)g.alternate!==null&&(I=g),g=g.sibling;I===null?s.tail=null:I.sibling=null;break}case"collapsed":{for(var N=s.tail,$=null;N!==null;)N.alternate!==null&&($=N),N=N.sibling;$===null?!c&&s.tail!==null?s.tail.sibling=null:s.tail=null:$.sibling=null;break}}}function mye(s,c,g){var I=c.pendingProps;switch(c.tag){case te:case Tt:case Wt:case K:case Oe:case me:case De:case Fe:case Re:case gt:return null;case J:{var N=c.type;return hy(N)&&YU(c),null}case ne:{tT(c),X7(c),kW();var $=c.stateNode;if($.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),s===null||s.child===null){var le=Sz(c);le?lT(c):$.hydrate||(c.flags|=uE)}return fK(c),null}case ue:{bW(c);var ye=_0e(),Ie=c.type;if(s!==null&&c.stateNode!=null)hye(s,c,Ie,I,ye),s.ref!==c.ref&&fye(c);else{if(!I){if(c.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}var it=EW(),ct=Sz(c);if(ct)n8e(c,ye,it)&&lT(c);else{var Vt=Bje(Ie,I,ye,it,c);dye(Vt,c,!1,!1),c.stateNode=Vt,Nje(Vt,Ie,I,ye)&&lT(c)}c.ref!==null&&fye(c)}return null}case pe:{var _t=I;if(s&&c.stateNode!=null){var Zt=s.memoizedProps;pye(s,c,Zt,_t)}else{if(typeof _t!="string"&&c.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Fn=_0e(),br=EW(),Ii=Sz(c);Ii?r8e(c)&&lT(c):c.stateNode=Uje(_t,Fn,br,c)}return null}case Qe:{nT(c);var _a=c.memoizedState;if((c.flags&Bl)!==bu)return c.lanes=g,(c.mode&iv)!==nu&&ZW(c),c;var Zi=_a!==null,bo=!1;if(s===null)c.memoizedProps.fallback!==void 0&&Sz(c);else{var js=s.memoizedState;bo=js!==null}if(Zi&&!bo&&(c.mode&ym)!==nu){var Qt=s===null&&c.memoizedProps.unstable_avoidThisFallback!==!0;Qt||yz(e0.current,CW)?w9e():E9e()}return(Zi||bo)&&(c.flags|=ol),null}case re:return tT(c),fK(c),s===null&&w6e(c.stateNode.containerInfo),null;case He:return nW(c),null;case An:{var bn=c.type;return hy(bn)&&YU(c),null}case jt:{nT(c);var Ft=c.memoizedState;if(Ft===null)return null;var Jn=(c.flags&Bl)!==bu,Fr=Ft.rendering;if(Fr===null)if(Jn)Bk(Ft,!1);else{var ii=C9e()&&(s===null||(s.flags&Bl)===bu);if(!ii)for(var so=c.child;so!==null;){var xl=_z(so);if(xl!==null){Jn=!0,c.flags|=Bl,Bk(Ft,!1);var ru=xl.updateQueue;return ru!==null&&(c.updateQueue=ru,c.flags|=ol),Ft.lastEffect===null&&(c.firstEffect=null),c.lastEffect=Ft.lastEffect,Q6e(c,g),EE(c,AW(e0.current,Ek)),c.child}so=so.sibling}Ft.tail!==null&&zh()>Iye()&&(c.flags|=Bl,Jn=!0,Bk(Ft,!1),c.lanes=zA,a5(zA))}else{if(!Jn){var gs=_z(Fr);if(gs!==null){c.flags|=Bl,Jn=!0;var ef=gs.updateQueue;if(ef!==null&&(c.updateQueue=ef,c.flags|=ol),Bk(Ft,!0),Ft.tail===null&&Ft.tailMode==="hidden"&&!Fr.alternate&&!RW()){var jo=c.lastEffect=Ft.lastEffect;return jo!==null&&(jo.nextEffect=null),null}}else zh()*2-Ft.renderingStartTime>Iye()&&g!==fy&&(c.flags|=Bl,Jn=!0,Bk(Ft,!1),c.lanes=zA,a5(zA))}if(Ft.isBackwards)Fr.sibling=c.child,c.child=Fr;else{var iu=Ft.last;iu!==null?iu.sibling=Fr:c.child=Fr,Ft.last=Fr}}if(Ft.tail!==null){var od=Ft.tail;Ft.rendering=od,Ft.tail=od.sibling,Ft.lastEffect=c.lastEffect,Ft.renderingStartTime=zh(),od.sibling=null;var Rc=e0.current;return Jn?Rc=AW(Rc,Ek):Rc=bk(Rc),EE(c,Rc),od}return null}case xn:break;case _r:break;case lr:break;case si:case un:{if(OK(c),s!==null){var xy=c.memoizedState,Ic=s.memoizedState,wy=Ic!==null,BE=xy!==null;wy!==BE&&I.mode!=="unstable-defer-without-hiding"&&(c.flags|=ol)}return null}}throw Error("Unknown unit of work tag ("+c.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function N8e(s,c){switch(s.tag){case J:{var g=s.type;hy(g)&&YU(s);var I=s.flags;return I&K_?(s.flags=I&~K_|Bl,(s.mode&iv)!==nu&&ZW(s),s):null}case ne:{tT(s),X7(s),kW();var N=s.flags;if((N&Bl)!==bu)throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return s.flags=N&~K_|Bl,s}case ue:return bW(s),null;case Qe:{nT(s);var $=s.flags;return $&K_?(s.flags=$&~K_|Bl,(s.mode&iv)!==nu&&ZW(s),s):null}case jt:return nT(s),null;case re:return tT(s),null;case He:return nW(s),null;case si:case un:return OK(s),null;default:return null}}function vye(s){switch(s.tag){case J:{var c=s.type.childContextTypes;c!=null&&YU(s);break}case ne:{tT(s),X7(s),kW();break}case ue:{bW(s);break}case re:tT(s);break;case Qe:nT(s);break;case jt:nT(s);break;case He:nW(s);break;case si:case un:OK(s);break}}function dK(s,c){return{value:s,source:c,stack:ZF(c)}}function F8e(s,c){return!0}function hK(s,c){try{var g=F8e(s,c);if(g===!1)return;var I=c.value,N=c.source,$=c.stack,le=$!==null?$:"";if(I!=null&&I._suppressLogging){if(s.tag===J)return;console.error(I)}var ye=N?Hr(N.type):null,Ie=ye?"The above error occurred in the <"+ye+"> component:":"The above error occurred in one of your React components:",it,ct=Hr(s.type);ct?it="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+ct+"."):it=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;var Vt=Ie+`
`+le+`

`+(""+it);console.error(Vt)}catch(_t){setTimeout(function(){throw _t})}}var U8e=typeof WeakMap=="function"?WeakMap:Map;function gye(s,c,g){var I=US(Yu,g);I.tag=rW,I.payload={element:null};var N=c.value;return I.callback=function(){U9e(N),hK(s,c)},I}function yye(s,c,g){var I=US(Yu,g);I.tag=rW;var N=s.type.getDerivedStateFromError;if(typeof N=="function"){var $=c.value;I.payload=function(){return hK(s,c),N($)}}var le=s.stateNode;return le!==null&&typeof le.componentDidCatch=="function"?I.callback=function(){Jye(s),typeof N!="function"&&(N9e(this),hK(s,c));var Ie=c.value,it=c.stack;this.componentDidCatch(Ie,{componentStack:it!==null?it:""}),typeof N!="function"&&(Nh(s.lanes,zs)||O("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Hr(s.type)||"Unknown"))}:I.callback=function(){Jye(s)},I}function z8e(s,c,g){var I=s.pingCache,N;if(I===null?(I=s.pingCache=new U8e,N=new Set,I.set(c,N)):(N=I.get(c),N===void 0&&(N=new Set,I.set(c,N))),!N.has(g)){N.add(g);var $=z9e.bind(null,s,c,g);c.then($,$)}}function H8e(s,c,g,I,N){if(g.flags|=UI,g.firstEffect=g.lastEffect=null,I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=I;if((g.mode&ym)===nu){var le=g.alternate;le?(g.updateQueue=le.updateQueue,g.memoizedState=le.memoizedState,g.lanes=le.lanes):(g.updateQueue=null,g.memoizedState=null)}var ye=yz(e0.current,CW),Ie=c;do{if(Ie.tag===Qe&&e8e(Ie,ye)){var it=Ie.updateQueue;if(it===null){var ct=new Set;ct.add($),Ie.updateQueue=ct}else it.add($);if((Ie.mode&ym)===nu){if(Ie.flags|=Bl,g.flags|=u7,g.flags&=~(L3e|UI),g.tag===J){var Vt=g.alternate;if(Vt===null)g.tag=An;else{var _t=US(Yu,zs);_t.tag=oz,zS(g,_t)}}g.lanes=vs(g.lanes,zs);return}z8e(s,$,N),Ie.flags|=K_,Ie.lanes=N;return}Ie=Ie.return}while(Ie!==null);I=new Error((Hr(g.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}b9e(),I=dK(I,g);var Zt=c;do{switch(Zt.tag){case ne:{var Fn=I;Zt.flags|=K_;var br=Pp(N);Zt.lanes=vs(Zt.lanes,br);var Ii=gye(Zt,Fn,br);o0e(Zt,Ii);return}case J:var _a=I,Zi=Zt.type,bo=Zt.stateNode;if((Zt.flags&Bl)===bu&&(typeof Zi.getDerivedStateFromError=="function"||bo!==null&&typeof bo.componentDidCatch=="function"&&!LK(bo))){Zt.flags|=K_;var js=Pp(N);Zt.lanes=vs(Zt.lanes,js);var Qt=yye(Zt,_a,js);o0e(Zt,Qt);return}break}Zt=Zt.return}while(Zt!==null)}var _ye=null;_ye=new Set;var j8e=typeof WeakSet=="function"?WeakSet:Set,G8e=function(s,c){c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()};function V8e(s,c){if(uy(null,G8e,null,s,c),G_()){var g=cy();WS(s,g)}}function Sye(s){var c=s.ref;if(c!==null)if(typeof c=="function"){if(uy(null,c,null,null),G_()){var g=cy();WS(s,g)}}else c.current=null}function W8e(s,c){if(uy(null,c,null),G_()){var g=cy();WS(s,g)}}function K8e(s,c){switch(c.tag){case K:case Oe:case Wt:case lr:return;case J:{if(c.flags&uE&&s!==null){var g=s.memoizedProps,I=s.memoizedState,N=c.stateNode;c.type===c.elementType&&!ME&&(N.props!==c.memoizedProps&&O("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Hr(c.type)||"instance"),N.state!==c.memoizedState&&O("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Hr(c.type)||"instance"));var $=N.getSnapshotBeforeUpdate(c.elementType===c.type?g:Zg(c.type,g),I);{var le=_ye;$===void 0&&!le.has(c.type)&&(le.add(c.type),O("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Hr(c.type)))}N.__reactInternalSnapshotBeforeUpdate=$}return}case ne:{if(c.flags&uE){var ye=c.stateNode;G7(ye.containerInfo)}return}case ue:case pe:case re:case An:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function q8e(s,c){var g=c.updateQueue,I=g!==null?g.lastEffect:null;if(I!==null){var N=I.next,$=N;do{if(($.tag&s)===s){var le=$.destroy;$.destroy=void 0,le!==void 0&&le()}$=$.next}while($!==N)}}function X8e(s,c){var g=c.updateQueue,I=g!==null?g.lastEffect:null;if(I!==null){var N=I.next,$=N;do{if(($.tag&s)===s){var le=$.create;$.destroy=le();{var ye=$.destroy;if(ye!==void 0&&typeof ye!="function"){var Ie=void 0;ye===null?Ie=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof ye.then=="function"?Ie=`

It looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

useEffect(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:Ie=" You returned: "+ye,O("An effect function must not return anything besides a function, which is used for clean-up.%s",Ie)}}}$=$.next}while($!==N)}}function Y8e(s){var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var I=g.next,N=I;do{var $=N,le=$.next,ye=$.tag;(ye&Ck)!==TW&&(ye&rT)!==TW&&(zye(s,N),O9e(s,N)),N=le}while(N!==I)}}function $8e(s,c,g,I){switch(g.tag){case K:case Oe:case Wt:case lr:{X8e(iT|rT,g),Y8e(g);return}case J:{var N=g.stateNode;if(g.flags&ol)if(c===null)g.type===g.elementType&&!ME&&(N.props!==g.memoizedProps&&O("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Hr(g.type)||"instance"),N.state!==g.memoizedState&&O("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Hr(g.type)||"instance")),N.componentDidMount();else{var $=g.elementType===g.type?c.memoizedProps:Zg(g.type,c.memoizedProps),le=c.memoizedState;g.type===g.elementType&&!ME&&(N.props!==g.memoizedProps&&O("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Hr(g.type)||"instance"),N.state!==g.memoizedState&&O("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Hr(g.type)||"instance")),N.componentDidUpdate($,le,N.__reactInternalSnapshotBeforeUpdate)}var ye=g.updateQueue;ye!==null&&(g.type===g.elementType&&!ME&&(N.props!==g.memoizedProps&&O("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Hr(g.type)||"instance"),N.state!==g.memoizedState&&O("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Hr(g.type)||"instance")),l0e(g,ye,N));return}case ne:{var Ie=g.updateQueue;if(Ie!==null){var it=null;if(g.child!==null)switch(g.child.tag){case ue:it=g.child.stateNode;break;case J:it=g.child.stateNode;break}l0e(g,Ie,it)}return}case ue:{var ct=g.stateNode;if(c===null&&g.flags&ol){var Vt=g.type,_t=g.memoizedProps;Hje(ct,Vt,_t)}return}case pe:return;case re:return;case Fe:{{var Zt=g.memoizedProps;Zt.onCommit;var Fn=Zt.onRender;g.stateNode.effectDuration;var br=p8e();typeof Fn=="function"&&Fn(g.memoizedProps.id,c===null?"mount":"update",g.actualDuration,g.treeBaseDuration,g.actualStartTime,br,s.memoizedInteractions)}return}case Qe:{i9e(s,g);return}case jt:case An:case xn:case _r:case si:case un:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function xye(s,c){for(var g=s;;){if(g.tag===ue){var I=g.stateNode;c?$je(I):Jje(g.stateNode,g.memoizedProps)}else if(g.tag===pe){var N=g.stateNode;c?Qje(N):Zje(N,g.memoizedProps)}else if(!((g.tag===si||g.tag===un)&&g.memoizedState!==null&&g!==s)){if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===s)return;for(;g.sibling===null;){if(g.return===null||g.return===s)return;g=g.return}g.sibling.return=g.return,g=g.sibling}}function Q8e(s){var c=s.ref;if(c!==null){var g=s.stateNode,I;switch(s.tag){case ue:I=g;break;default:I=g}typeof c=="function"?c(I):(c.hasOwnProperty("current")||O("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Hr(s.type)),c.current=I)}}function J8e(s){var c=s.ref;c!==null&&(typeof c=="function"?c(null):c.current=null)}function wye(s,c,g){switch(P6e(c),c.tag){case K:case Oe:case gt:case Wt:case lr:{var I=c.updateQueue;if(I!==null){var N=I.lastEffect;if(N!==null){var $=N.next,le=$;do{var ye=le,Ie=ye.destroy,it=ye.tag;Ie!==void 0&&((it&Ck)!==TW?zye(c,le):W8e(c,Ie)),le=le.next}while(le!==$)}}return}case J:{Sye(c);var ct=c.stateNode;typeof ct.componentWillUnmount=="function"&&V8e(c,ct);return}case ue:{Sye(c);return}case re:{Aye(s,c);return}case xn:return;case jn:return;case _r:return}}function Z8e(s,c,g){for(var I=c;;){if(wye(s,I),I.child!==null&&I.tag!==re){I.child.return=I,I=I.child;continue}if(I===c)return;for(;I.sibling===null;){if(I.return===null||I.return===c)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function Eye(s){s.alternate=null,s.child=null,s.dependencies=null,s.firstEffect=null,s.lastEffect=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.return=null,s.updateQueue=null,s._debugOwner=null}function e9e(s){for(var c=s.return;c!==null;){if(bye(c))return c;c=c.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function bye(s){return s.tag===ue||s.tag===ne||s.tag===re}function t9e(s){var c=s;e:for(;;){for(;c.sibling===null;){if(c.return===null||bye(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==ue&&c.tag!==pe&&c.tag!==jn;){if(c.flags&Pc||c.child===null||c.tag===re)continue e;c.child.return=c,c=c.child}if(!(c.flags&Pc))return c.stateNode}}function Cye(s){var c=e9e(s),g,I,N=c.stateNode;switch(c.tag){case ue:g=N,I=!1;break;case ne:g=N.containerInfo,I=!0;break;case re:g=N.containerInfo,I=!0;break;case xn:default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}c.flags&vU&&(wge(g),c.flags&=~vU);var $=t9e(s);I?pK(s,$,g):mK(s,$,g)}function pK(s,c,g){var I=s.tag,N=I===ue||I===pe;if(N||Nr){var $=N?s.stateNode:s.stateNode.instance;c?qje(g,$,c):Wje(g,$)}else if(I!==re){var le=s.child;if(le!==null){pK(le,c,g);for(var ye=le.sibling;ye!==null;)pK(ye,c,g),ye=ye.sibling}}}function mK(s,c,g){var I=s.tag,N=I===ue||I===pe;if(N||Nr){var $=N?s.stateNode:s.stateNode.instance;c?Kje(g,$,c):Vje(g,$)}else if(I!==re){var le=s.child;if(le!==null){mK(le,c,g);for(var ye=le.sibling;ye!==null;)mK(ye,c,g),ye=ye.sibling}}}function Aye(s,c,g){for(var I=c,N=!1,$,le;;){if(!N){var ye=I.return;e:for(;;){if(ye===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var Ie=ye.stateNode;switch(ye.tag){case ue:$=Ie,le=!1;break e;case ne:$=Ie.containerInfo,le=!0;break e;case re:$=Ie.containerInfo,le=!0;break e}ye=ye.return}N=!0}if(I.tag===ue||I.tag===pe)Z8e(s,I),le?Yje($,I.stateNode):Xje($,I.stateNode);else if(I.tag===re){if(I.child!==null){$=I.stateNode.containerInfo,le=!0,I.child.return=I,I=I.child;continue}}else if(wye(s,I),I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)return;for(;I.sibling===null;){if(I.return===null||I.return===c)return;I=I.return,I.tag===re&&(N=!1)}I.sibling.return=I.return,I=I.sibling}}function n9e(s,c,g){Aye(s,c);var I=c.alternate;Eye(c),I!==null&&Eye(I)}function vK(s,c){switch(c.tag){case K:case Oe:case gt:case Wt:case lr:{q8e(iT|rT,c);return}case J:return;case ue:{var g=c.stateNode;if(g!=null){var I=c.memoizedProps,N=s!==null?s.memoizedProps:I,$=c.type,le=c.updateQueue;c.updateQueue=null,le!==null&&jje(g,le,$,N,I)}return}case pe:{if(c.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ye=c.stateNode,Ie=c.memoizedProps,it=s!==null?s.memoizedProps:Ie;Gje(ye,it,Ie);return}case ne:{{var ct=c.stateNode;ct.hydrate&&(ct.hydrate=!1,s6e(ct.containerInfo))}return}case Fe:return;case Qe:{r9e(c),Tye(c);return}case jt:{Tye(c);return}case An:return;case xn:break;case _r:break;case si:case un:{var Vt=c.memoizedState,_t=Vt!==null;xye(c,_t);return}}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function r9e(s){var c=s.memoizedState;if(c!==null){x9e();{var g=s.child;xye(g,!0)}}}function i9e(s,c){var g=c.memoizedState;if(g===null){var I=c.alternate;if(I!==null){var N=I.memoizedState;if(N!==null){var $=N.dehydrated;$!==null&&l6e($)}}}}function Tye(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var g=s.stateNode;g===null&&(g=s.stateNode=new j8e),c.forEach(function(I){var N=j9e.bind(null,s,I);g.has(I)||(I.__reactDoNotTraceInteractions!==!0&&(N=b.unstable_wrap(N)),g.add(I),I.then(N,N))})}}function a9e(s,c){if(s!==null){var g=s.memoizedState;if(g===null||g.dehydrated!==null){var I=c.memoizedState;return I!==null&&I.dehydrated===null}}return!1}function o9e(s){wge(s.stateNode)}if(typeof Symbol=="function"&&Symbol.for){var Lk=Symbol.for;Lk("selector.component"),Lk("selector.has_pseudo_class"),Lk("selector.role"),Lk("selector.test_id"),Lk("selector.text")}var s9e=[];function l9e(){s9e.forEach(function(s){return s()})}var u9e=Math.ceil,gK=P.ReactCurrentDispatcher,yK=P.ReactCurrentOwner,_K=P.IsSomeRendererActing,Qu=0,zz=1,c9e=2,SK=4,xK=8,av=16,yy=32,Mye=64,Z_=0,Hz=1,jz=2,Gz=3,Vz=4,wK=5,Ji=Qu,Rp=null,Ju=null,Ip=Gn,_y=Gn,EK=NS(Gn),Yd=Z_,Wz=null,PE=Gn,Kz=Gn,RE=Gn,qz=Gn,bK=null,CK=0,Pye=500,Rye=1/0,f9e=500;function uT(){Rye=zh()+f9e}function Iye(){return Rye}var ri=null,Xz=!1,AK=null,cT=null,e1=!1,fT=null,Nk=J7,TK=Gn,MK=[],PK=[],t1=null,d9e=50,Fk=0,RK=null,h9e=50,Yz=0,IE=null,Uk=Yu,n1=Gn,$z=Gn,IK=!1,zk=null,Qz=!1;function p9e(){return Rp}function ov(){return(Ji&(av|yy))!==Qu?zh():(Uk!==Yu||(Uk=zh()),Uk)}function VS(s){var c=s.mode;if((c&ym)===nu)return zs;if((c&SE)===nu)return JA()===Zv?zs:WI;n1===Gn&&(n1=PE);var g=U6e()!==F6e;if(g)return $z!==Gn&&($z=bK!==null?bK.pendingLanes:Gn),m4e(n1,$z);var I=JA(),N;if((Ji&SK)!==Qu&&I===yE)N=TU(wU,n1);else{var $=l4e(I);N=TU($,n1)}return N}function m9e(s){var c=s.mode;return(c&ym)===nu?zs:(c&SE)===nu?JA()===Zv?zs:WI:(n1===Gn&&(n1=PE),v4e(n1))}function jh(s,c,g){V9e(),X9e(s);var I=Jz(s,c);if(I===null)return K9e(s),null;PU(I,c,g),I===Rp&&(RE=vs(RE,c),Yd===Vz&&dT(I,Ip));var N=JA();c===zs?(Ji&xK)!==Qu&&(Ji&(av|yy))===Qu?(KS(I,c),kK(I)):(rg(I,g),KS(I,c),Ji===Qu&&(uT(),my())):((Ji&SK)!==Qu&&(N===yE||N===Zv)&&(t1===null?t1=new Set([I]):t1.add(I)),rg(I,g),KS(I,c)),bK=I}function Jz(s,c){s.lanes=vs(s.lanes,c);var g=s.alternate;g!==null&&(g.lanes=vs(g.lanes,c)),g===null&&(s.flags&(Pc|W_))!==bu&&jye(s);for(var I=s,N=s.return;N!==null;)N.childLanes=vs(N.childLanes,c),g=N.alternate,g!==null?g.childLanes=vs(g.childLanes,c):(N.flags&(Pc|W_))!==bu&&jye(s),I=N,N=N.return;if(I.tag===ne){var $=I.stateNode;return $}else return null}function rg(s,c){var g=s.callbackNode;d4e(s,c);var I=KI(s,s===Rp?Ip:Gn),N=h4e();if(I===Gn){g!==null&&(Yge(g),s.callbackNode=null,s.callbackPriority=dE);return}if(g!==null){var $=s.callbackPriority;if($===N)return;Yge(g)}var le;if(N===NA)le=B6e(kK.bind(null,s));else if(N===xU)le=FS(Zv,kK.bind(null,s));else{var ye=u4e(N);le=FS(ye,kye.bind(null,s))}s.callbackPriority=N,s.callbackNode=le}function kye(s){if(Uk=Yu,n1=Gn,$z=Gn,(Ji&(av|yy))!==Qu)throw Error("Should not already be working.");var c=s.callbackNode,g=Sy();if(g&&s.callbackNode!==c)return null;var I=KI(s,s===Rp?Ip:Gn);if(I===Gn)return null;var N=T9e(s,I);if(Nh(PE,RE))hT(s,Gn);else if(N!==Z_){if(N===jz&&(Ji|=Mye,s.hydrate&&(s.hydrate=!1,G7(s.containerInfo)),I=vve(s),I!==Gn&&(N=Hk(s,I))),N===Hz){var $=Wz;throw hT(s,Gn),dT(s,I),rg(s,zh()),$}var le=s.current.alternate;s.finishedWork=le,s.finishedLanes=I,v9e(s,N,I)}return rg(s,zh()),s.callbackNode===c?kye.bind(null,s):null}function v9e(s,c,g){switch(c){case Z_:case Hz:throw Error("Root did not complete. This is a bug in React.");case jz:{kE(s);break}case Gz:{if(dT(s,g),yve(g)&&!J9e()){var I=CK+Pye-zh();if(I>10){var N=KI(s,Gn);if(N!==Gn)break;var $=s.suspendedLanes;if(!pE($,g)){ov(),_ve(s,$);break}s.timeoutHandle=xge(kE.bind(null,s),I);break}}kE(s);break}case Vz:{if(dT(s,g),p4e(g))break;{var le=c4e(s,g),ye=le,Ie=zh()-ye,it=G9e(Ie)-Ie;if(it>10){s.timeoutHandle=xge(kE.bind(null,s),it);break}}kE(s);break}case wK:{kE(s);break}default:throw Error("Unknown root exit status.")}}function dT(s,c){c=MU(c,qz),c=MU(c,RE),w4e(s,c)}function kK(s){if((Ji&(av|yy))!==Qu)throw Error("Should not already be working.");Sy();var c,g;if(s===Rp&&Nh(s.expiredLanes,Ip)?(c=Ip,g=Hk(s,c),Nh(PE,RE)&&(c=KI(s,c),g=Hk(s,c))):(c=KI(s,Gn),g=Hk(s,c)),s.tag!==Y7&&g===jz&&(Ji|=Mye,s.hydrate&&(s.hydrate=!1,G7(s.containerInfo)),c=vve(s),c!==Gn&&(g=Hk(s,c))),g===Hz){var I=Wz;throw hT(s,Gn),dT(s,c),rg(s,zh()),I}var N=s.current.alternate;return s.finishedWork=N,s.finishedLanes=c,kE(s),rg(s,zh()),null}function g9e(){if((Ji&(zz|av|yy))!==Qu){(Ji&av)!==Qu&&O("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.");return}y9e(),Sy()}function y9e(){if(t1!==null){var s=t1;t1=null,s.forEach(function(c){E4e(c),rg(c,zh())})}my()}function Dye(s,c){var g=Ji;Ji|=zz;try{return s(c)}finally{Ji=g,Ji===Qu&&(uT(),my())}}function _9e(s,c){var g=Ji;Ji|=c9e;try{return s(c)}finally{Ji=g,Ji===Qu&&(uT(),my())}}function S9e(s,c,g,I,N){var $=Ji;Ji|=SK;try{return _E(yE,s.bind(null,c,g,I,N))}finally{Ji=$,Ji===Qu&&(uT(),my())}}function Oye(s,c){var g=Ji;Ji&=~zz,Ji|=xK;try{return s(c)}finally{Ji=g,Ji===Qu&&(uT(),my())}}function DK(s,c){var g=Ji;if((g&(av|yy))!==Qu)return O("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),s(c);Ji|=zz;try{return s?_E(Zv,s.bind(null,c)):void 0}finally{Ji=g,my()}}function Zz(s,c){Uh(EK,_y,s),_y=vs(_y,c),PE=vs(PE,c)}function OK(s){_y=EK.current,Fh(EK,s)}function hT(s,c){s.finishedWork=null,s.finishedLanes=Gn;var g=s.timeoutHandle;if(g!==j7&&(s.timeoutHandle=j7,zje(g)),Ju!==null)for(var I=Ju.return;I!==null;)vye(I),I=I.return;Rp=s,Ju=DE(s.current,null),Ip=_y=PE=c,Yd=Z_,Wz=null,Kz=Gn,RE=Gn,qz=Gn,IE=null,Jg.discardPendingWarnings()}function Bye(s,c){do{var g=Ju;try{if(az(),M0e(),Kd(),yK.current=null,g===null||g.return===null){Yd=Hz,Wz=c,Ju=null;return}gn&&g.mode&iv&&Lz(g,!0),H8e(s,g.return,g,c,Ip),Uye(g)}catch(I){c=I,Ju===g&&g!==null?(g=g.return,Ju=g):g=Ju;continue}return}while(!0)}function Lye(){var s=gK.current;return gK.current=Dz,s===null?Dz:s}function Nye(s){gK.current=s}function e5(s){{var c=b.__interactionsRef.current;return b.__interactionsRef.current=s.memoizedInteractions,c}}function t5(s){b.__interactionsRef.current=s}function x9e(){CK=zh()}function BK(s){Kz=vs(s,Kz)}function w9e(){Yd===Z_&&(Yd=Gz)}function E9e(){(Yd===Z_||Yd===Gz)&&(Yd=Vz),Rp!==null&&(gve(Kz)||gve(RE))&&dT(Rp,Ip)}function b9e(){Yd!==wK&&(Yd=jz)}function C9e(){return Yd===Z_}function Hk(s,c){var g=Ji;Ji|=av;var I=Lye();(Rp!==s||Ip!==c)&&(hT(s,c),Xye(s,c));var N=e5(s);do try{A9e();break}catch($){Bye(s,$)}while(!0);if(az(),t5(N),Ji=g,Nye(I),Ju!==null)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Rp=null,Ip=Gn,Yd}function A9e(){for(;Ju!==null;)Fye(Ju)}function T9e(s,c){var g=Ji;Ji|=av;var I=Lye();(Rp!==s||Ip!==c)&&(uT(),hT(s,c),Xye(s,c));var N=e5(s);do try{M9e();break}catch($){Bye(s,$)}while(!0);return az(),t5(N),Nye(I),Ji=g,Ju!==null?Z_:(Rp=null,Ip=Gn,Yd)}function M9e(){for(;Ju!==null&&!D6e();)Fye(Ju)}function Fye(s){var c=s.alternate;Mc(s);var g;(s.mode&iv)!==nu?(JW(s),g=NK(c,s,_y),Lz(s,!0)):g=NK(c,s,_y),Kd(),s.memoizedProps=s.pendingProps,g===null?Uye(s):Ju=g,yK.current=null}function Uye(s){var c=s;do{var g=c.alternate,I=c.return;if((c.flags&UI)===bu){Mc(c);var N=void 0;if((c.mode&iv)===nu?N=mye(g,c,_y):(JW(c),N=mye(g,c,_y),Lz(c,!1)),Kd(),N!==null){Ju=N;return}if(P9e(c),I!==null&&(I.flags&UI)===bu){I.firstEffect===null&&(I.firstEffect=c.firstEffect),c.lastEffect!==null&&(I.lastEffect!==null&&(I.lastEffect.nextEffect=c.firstEffect),I.lastEffect=c.lastEffect);var $=c.flags;$>kS&&(I.lastEffect!==null?I.lastEffect.nextEffect=c:I.firstEffect=c,I.lastEffect=c)}}else{var le=N8e(c);if(le!==null){le.flags&=N3e,Ju=le;return}if((c.mode&iv)!==nu){Lz(c,!1);for(var ye=c.actualDuration,Ie=c.child;Ie!==null;)ye+=Ie.actualDuration,Ie=Ie.sibling;c.actualDuration=ye}I!==null&&(I.firstEffect=I.lastEffect=null,I.flags|=UI)}var it=c.sibling;if(it!==null){Ju=it;return}c=I,Ju=c}while(c!==null);Yd===Z_&&(Yd=wK)}function P9e(s){if(!((s.tag===un||s.tag===si)&&s.memoizedState!==null&&!Nh(_y,fy)&&(s.mode&SE)!==Gn)){var c=Gn;if((s.mode&iv)!==nu){for(var g=s.actualDuration,I=s.selfBaseDuration,N=s.alternate===null||s.child!==s.alternate.child,$=s.child;$!==null;)c=vs(c,vs($.lanes,$.childLanes)),N&&(g+=$.actualDuration),I+=$.treeBaseDuration,$=$.sibling;var le=s.tag===Qe&&s.memoizedState!==null;if(le){var ye=s.child;ye!==null&&(I-=ye.treeBaseDuration)}s.actualDuration=g,s.treeBaseDuration=I}else for(var Ie=s.child;Ie!==null;)c=vs(c,vs(Ie.lanes,Ie.childLanes)),Ie=Ie.sibling;s.childLanes=c}}function kE(s){var c=JA();return _E(Zv,R9e.bind(null,s,c)),null}function R9e(s,c){do Sy();while(fT!==null);if(W9e(),(Ji&(av|yy))!==Qu)throw Error("Should not already be working.");var g=s.finishedWork,I=s.finishedLanes;if(g===null)return null;if(s.finishedWork=null,s.finishedLanes=Gn,g===s.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");s.callbackNode=null;var N=vs(g.lanes,g.childLanes);C4e(s,N),t1!==null&&!b4e(N)&&t1.has(s)&&t1.delete(s),s===Rp&&(Rp=null,Ju=null,Ip=Gn);var $;if(g.flags>kS?g.lastEffect!==null?(g.lastEffect.nextEffect=g,$=g.firstEffect):$=g:$=g.firstEffect,$!==null){var le=Ji;Ji|=yy;var ye=e5(s);yK.current=null,zk=Dje(s.containerInfo),Qz=!1,ri=$;do if(uy(null,I9e,null),G_()){if(ri===null)throw Error("Should be working on an effect.");var Ie=cy();WS(ri,Ie),ri=ri.nextEffect}while(ri!==null);zk=null,V0e(),ri=$;do if(uy(null,k9e,null,s,c),G_()){if(ri===null)throw Error("Should be working on an effect.");var it=cy();WS(ri,it),ri=ri.nextEffect}while(ri!==null);Oje(s.containerInfo),s.current=g,ri=$;do if(uy(null,D9e,null,s,I),G_()){if(ri===null)throw Error("Should be working on an effect.");var ct=cy();WS(ri,ct),ri=ri.nextEffect}while(ri!==null);ri=null,O6e(),t5(ye),Ji=le}else s.current=g,V0e();var Vt=e1;if(e1)e1=!1,fT=s,TK=I,Nk=c;else for(ri=$;ri!==null;){var _t=ri.nextEffect;ri.nextEffect=null,ri.flags&V_&&$ye(ri),ri=_t}if(N=s.pendingLanes,N!==Gn){if(IE!==null){var Zt=IE;IE=null;for(var Fn=0;Fn<Zt.length;Fn++)qye(s,Zt[Fn],s.memoizedInteractions)}KS(s,N)}else cT=null;if(Vt||Yye(s,I),N===zs?s===RK?Fk++:(Fk=0,RK=s):Fk=0,M6e(g.stateNode,c),l9e(),rg(s,zh()),Xz){Xz=!1;var br=AK;throw AK=null,br}return(Ji&xK)!==Qu||my(),null}function I9e(){for(;ri!==null;){var s=ri.alternate;!Qz&&zk!==null&&((ri.flags&V_)!==bu?Lme(ri,zk)&&(Qz=!0):ri.tag===Qe&&a9e(s,ri)&&Lme(ri,zk)&&(Qz=!0));var c=ri.flags;(c&uE)!==bu&&(Mc(ri),K8e(s,ri),Kd()),(c&NI)!==bu&&(e1||(e1=!0,FS($_,function(){return Sy(),null}))),ri=ri.nextEffect}}function k9e(s,c){for(;ri!==null;){Mc(ri);var g=ri.flags;if(g&vU&&o9e(ri),g&gU){var I=ri.alternate;I!==null&&J8e(I)}var N=g&(Pc|ol|V_|W_);switch(N){case Pc:{Cye(ri),ri.flags&=~Pc;break}case O3e:{Cye(ri),ri.flags&=~Pc;var $=ri.alternate;vK($,ri);break}case W_:{ri.flags&=~W_;break}case B3e:{ri.flags&=~W_;var le=ri.alternate;vK(le,ri);break}case ol:{var ye=ri.alternate;vK(ye,ri);break}case V_:{n9e(s,ri);break}}Kd(),ri=ri.nextEffect}}function D9e(s,c){for(;ri!==null;){Mc(ri);var g=ri.flags;if(g&(ol|Rme)){var I=ri.alternate;$8e(s,I,ri)}g&gU&&Q8e(ri),Kd(),ri=ri.nextEffect}}function Sy(){if(Nk!==J7){var s=Nk>$_?$_:Nk;return Nk=J7,_E(s,L9e)}return!1}function O9e(s,c){MK.push(c,s),e1||(e1=!0,FS($_,function(){return Sy(),null}))}function zye(s,c){PK.push(c,s);{s.flags|=FI;var g=s.alternate;g!==null&&(g.flags|=FI)}e1||(e1=!0,FS($_,function(){return Sy(),null}))}function B9e(s){var c=s.create;s.destroy=c()}function L9e(){if(fT===null)return!1;var s=fT,c=TK;if(fT=null,TK=Gn,(Ji&(av|yy))!==Qu)throw Error("Cannot flush passive effects while already rendering.");IK=!0;var g=Ji;Ji|=yy;var I=e5(s),N=PK;PK=[];for(var $=0;$<N.length;$+=2){var le=N[$],ye=N[$+1],Ie=le.destroy;le.destroy=void 0;{ye.flags&=~FI;var it=ye.alternate;it!==null&&(it.flags&=~FI)}if(typeof Ie=="function"){if(Mc(ye),uy(null,Ie,null),G_()){if(ye===null)throw Error("Should be working on an effect.");var ct=cy();WS(ye,ct)}Kd()}}var Vt=MK;MK=[];for(var _t=0;_t<Vt.length;_t+=2){var Zt=Vt[_t],Fn=Vt[_t+1];{if(Mc(Fn),uy(null,B9e,null,Zt),G_()){if(Fn===null)throw Error("Should be working on an effect.");var br=cy();WS(Fn,br)}Kd()}}for(var Ii=s.current.firstEffect;Ii!==null;){var _a=Ii.nextEffect;Ii.nextEffect=null,Ii.flags&V_&&$ye(Ii),Ii=_a}return t5(I),Yye(s,c),IK=!1,Ji=g,my(),Yz=fT===null?0:Yz+1,!0}function LK(s){return cT!==null&&cT.has(s)}function N9e(s){cT===null?cT=new Set([s]):cT.add(s)}function F9e(s){Xz||(Xz=!0,AK=s)}var U9e=F9e;function Hye(s,c,g){var I=dK(g,c),N=gye(s,I,zs);zS(s,N);var $=ov(),le=Jz(s,zs);le!==null&&(PU(le,zs,$),rg(le,$),KS(le,zs))}function WS(s,c){if(s.tag===ne){Hye(s,s,c);return}for(var g=s.return;g!==null;){if(g.tag===ne){Hye(g,s,c);return}else if(g.tag===J){var I=g.type,N=g.stateNode;if(typeof I.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&!LK(N)){var $=dK(c,s),le=yye(g,$,zs);zS(g,le);var ye=ov(),Ie=Jz(g,zs);if(Ie!==null)PU(Ie,zs,ye),rg(Ie,ye),KS(Ie,zs);else if(typeof N.componentDidCatch=="function"&&!LK(N))try{N.componentDidCatch(c,$)}catch{}return}}g=g.return}}function z9e(s,c,g){var I=s.pingCache;I!==null&&I.delete(c);var N=ov();_ve(s,g),Rp===s&&pE(Ip,g)&&(Yd===Vz||Yd===Gz&&yve(Ip)&&zh()-CK<Pye?hT(s,Gn):qz=vs(qz,g)),rg(s,N),KS(s,g)}function H9e(s,c){c===vm&&(c=m9e(s));var g=ov(),I=Jz(s,c);I!==null&&(PU(I,c,g),rg(I,g),KS(I,c))}function j9e(s,c){var g=vm,I;I=s.stateNode,I!==null&&I.delete(c),H9e(s,g)}function G9e(s){return s<120?120:s<480?480:s<1080?1080:s<1920?1920:s<3e3?3e3:s<4320?4320:u9e(s/1960)*1960}function V9e(){if(Fk>d9e)throw Fk=0,RK=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Yz>h9e&&(Yz=0,O("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function W9e(){Jg.flushLegacyContextWarning(),Jg.flushPendingUnsafeLifecycleWarnings()}var n5=null;function jye(s){{if((Ji&av)!==Qu||!(s.mode&(ym|SE)))return;var c=s.tag;if(c!==te&&c!==ne&&c!==J&&c!==K&&c!==Oe&&c!==gt&&c!==Wt&&c!==lr)return;var g=Hr(s.type)||"ReactComponent";if(n5!==null){if(n5.has(g))return;n5.add(g)}else n5=new Set([g]);var I=Lh;try{Mc(s),O("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{I?Mc(s):Kd()}}}var r5=null;function K9e(s){{var c=s.tag;if(c!==ne&&c!==J&&c!==K&&c!==Oe&&c!==gt&&c!==Wt&&c!==lr||(s.flags&FI)!==bu)return;var g=Hr(s.type)||"ReactComponent";if(r5!==null){if(r5.has(g))return;r5.add(g)}else r5=new Set([g]);if(!IK){var I=Lh;try{Mc(s),O("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.",c===J?"the componentWillUnmount method":"a useEffect cleanup function")}finally{I?Mc(s):Kd()}}}}var NK;{var q9e=null;NK=function(s,c,g){var I=e_e(q9e,c);try{return cye(s,c,g)}catch($){if($!==null&&typeof $=="object"&&typeof $.then=="function")throw $;if(az(),M0e(),vye(c),e_e(c,I),c.mode&iv&&JW(c),uy(null,cye,null,s,c,g),G_()){var N=cy();throw N}else throw $}}}var Gye=!1,FK;FK=new Set;function X9e(s){if(H_&&(Ji&av)!==Qu&&!h8e())switch(s.tag){case K:case Oe:case Wt:{var c=Ju&&Hr(Ju.type)||"Unknown",g=c;if(!FK.has(g)){FK.add(g);var I=Hr(s.type)||"Unknown";O("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",I,c,c)}break}case J:{Gye||(O("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Gye=!0);break}}}var i5={current:!1};function Vye(s){if(_K.current===!0&&i5.current!==!0){var c=Lh;try{Mc(s),O(`It looks like you're using the wrong act() around your test interactions.
Be sure to use the matching version of act() corresponding to your renderer:

// for react-dom:
import {act} from 'react-dom/test-utils';
// ...
act(() => ...);

// for react-test-renderer:
import TestRenderer from react-test-renderer';
const {act} = TestRenderer;
// ...
act(() => ...);`)}finally{c?Mc(s):Kd()}}}function Wye(s){(s.mode&$u)!==nu&&_K.current===!1&&i5.current===!1&&O(`An update to %s ran an effect, but was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Hr(s.type))}function Y9e(s){if(Ji===Qu&&_K.current===!1&&i5.current===!1){var c=Lh;try{Mc(s),O(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Hr(s.type))}finally{c?Mc(s):Kd()}}}var $9e=Y9e,Kye=!1;function Q9e(s){Kye===!1&&m.unstable_flushAllWithoutAsserting===void 0&&(s.mode&ym||s.mode&SE)&&(Kye=!0,O(`In Concurrent or Sync modes, the "scheduler" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: 
jest.mock('scheduler', () => require('scheduler/unstable_mock'));

For more info, visit https://reactjs.org/link/mock-scheduler`))}function UK(s,c){return c*1e3+s.interactionThreadID}function a5(s){IE===null?IE=[s]:IE.push(s)}function qye(s,c,g){if(g.size>0){var I=s.pendingInteractionMap,N=I.get(c);N!=null?g.forEach(function(ye){N.has(ye)||ye.__count++,N.add(ye)}):(I.set(c,new Set(g)),g.forEach(function(ye){ye.__count++}));var $=b.__subscriberRef.current;if($!==null){var le=UK(s,c);$.onWorkScheduled(g,le)}}}function KS(s,c){qye(s,c,b.__interactionsRef.current)}function Xye(s,c){var g=new Set;if(s.pendingInteractionMap.forEach(function($,le){Nh(c,le)&&$.forEach(function(ye){return g.add(ye)})}),s.memoizedInteractions=g,g.size>0){var I=b.__subscriberRef.current;if(I!==null){var N=UK(s,c);try{I.onWorkStarted(g,N)}catch($){FS(Zv,function(){throw $})}}}}function Yye(s,c){var g=s.pendingLanes,I;try{if(I=b.__subscriberRef.current,I!==null&&s.memoizedInteractions.size>0){var N=UK(s,c);I.onWorkStopped(s.memoizedInteractions,N)}}catch(le){FS(Zv,function(){throw le})}finally{var $=s.pendingInteractionMap;$.forEach(function(le,ye){Nh(g,ye)||($.delete(ye),le.forEach(function(Ie){if(Ie.__count--,I!==null&&Ie.__count===0)try{I.onInteractionScheduledWorkCompleted(Ie)}catch(it){FS(Zv,function(){throw it})}}))})}}function J9e(){return Z9e>0}var Z9e=0;function $ye(s){s.sibling=null,s.stateNode=null}var ig=null,pT=null,eGe=function(s){ig=s};function mT(s){{if(ig===null)return s;var c=ig(s);return c===void 0?s:c.current}}function zK(s){return mT(s)}function HK(s){{if(ig===null)return s;var c=ig(s);if(c===void 0){if(s!=null&&typeof s.render=="function"){var g=mT(s.render);if(s.render!==g){var I={$$typeof:U_,render:g};return s.displayName!==void 0&&(I.displayName=s.displayName),I}}return s}return c.current}}function Qye(s,c){{if(ig===null)return!1;var g=s.elementType,I=c.type,N=!1,$=typeof I=="object"&&I!==null?I.$$typeof:null;switch(s.tag){case J:{typeof I=="function"&&(N=!0);break}case K:{(typeof I=="function"||$===$g)&&(N=!0);break}case Oe:{($===U_||$===$g)&&(N=!0);break}case gt:case Wt:{($===Wd||$===$g)&&(N=!0);break}default:return!1}if(N){var le=ig(g);if(le!==void 0&&le===ig(I))return!0}return!1}}function Jye(s){{if(ig===null||typeof WeakSet!="function")return;pT===null&&(pT=new WeakSet),pT.add(s)}}var tGe=function(s,c){{if(ig===null)return;var g=c.staleFamilies,I=c.updatedFamilies;Sy(),DK(function(){jK(s.current,I,g)})}},nGe=function(s,c){{if(s.context!==rv)return;Sy(),DK(function(){jk(c,s,null,null)})}};function jK(s,c,g){{var I=s.alternate,N=s.child,$=s.sibling,le=s.tag,ye=s.type,Ie=null;switch(le){case K:case Wt:case J:Ie=ye;break;case Oe:Ie=ye.render;break}if(ig===null)throw new Error("Expected resolveFamily to be set during hot reload.");var it=!1,ct=!1;if(Ie!==null){var Vt=ig(Ie);Vt!==void 0&&(g.has(Vt)?ct=!0:c.has(Vt)&&(le===J?ct=!0:it=!0))}pT!==null&&(pT.has(s)||I!==null&&pT.has(I))&&(ct=!0),ct&&(s._debugNeedsRemount=!0),(ct||it)&&jh(s,zs,Yu),N!==null&&!ct&&jK(N,c,g),$!==null&&jK($,c,g)}}var rGe=function(s,c){{var g=new Set,I=new Set(c.map(function(N){return N.current}));return GK(s.current,I,g),g}};function GK(s,c,g){{var I=s.child,N=s.sibling,$=s.tag,le=s.type,ye=null;switch($){case K:case Wt:case J:ye=le;break;case Oe:ye=le.render;break}var Ie=!1;ye!==null&&c.has(ye)&&(Ie=!0),Ie?iGe(s,g):I!==null&&GK(I,c,g),N!==null&&GK(N,c,g)}}function iGe(s,c){{var g=aGe(s,c);if(g)return;for(var I=s;;){switch(I.tag){case ue:c.add(I.stateNode);return;case re:c.add(I.stateNode.containerInfo);return;case ne:c.add(I.stateNode.containerInfo);return}if(I.return===null)throw new Error("Expected to reach root first.");I=I.return}}}function aGe(s,c){for(var g=s,I=!1;;){if(g.tag===ue)I=!0,c.add(g.stateNode);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)return I;for(;g.sibling===null;){if(g.return===null||g.return===s)return I;g=g.return}g.sibling.return=g.return,g=g.sibling}return!1}var VK;{VK=!1;try{var Zye=Object.preventExtensions({})}catch{VK=!0}}var oGe=1;function sGe(s,c,g,I){this.tag=s,this.key=g,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=c,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=I,this.flags=bu,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.lanes=Gn,this.childLanes=Gn,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugID=oGe++,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!VK&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var sv=function(s,c,g,I){return new sGe(s,c,g,I)};function WK(s){var c=s.prototype;return!!(c&&c.isReactComponent)}function lGe(s){return typeof s=="function"&&!WK(s)&&s.defaultProps===void 0}function uGe(s){if(typeof s=="function")return WK(s)?J:K;if(s!=null){var c=s.$$typeof;if(c===U_)return Oe;if(c===Wd)return gt}return te}function DE(s,c){var g=s.alternate;g===null?(g=sv(s.tag,c,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g._debugID=s._debugID,g._debugSource=s._debugSource,g._debugOwner=s._debugOwner,g._debugHookTypes=s._debugHookTypes,g.alternate=s,s.alternate=g):(g.pendingProps=c,g.type=s.type,g.flags=bu,g.nextEffect=null,g.firstEffect=null,g.lastEffect=null,g.actualDuration=0,g.actualStartTime=-1),g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue;var I=s.dependencies;switch(g.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.selfBaseDuration=s.selfBaseDuration,g.treeBaseDuration=s.treeBaseDuration,g._debugNeedsRemount=s._debugNeedsRemount,g.tag){case te:case K:case Wt:g.type=mT(s.type);break;case J:g.type=zK(s.type);break;case Oe:g.type=HK(s.type);break}return g}function cGe(s,c){s.flags&=Pc,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null;var g=s.alternate;if(g===null)s.childLanes=Gn,s.lanes=c,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null,s.selfBaseDuration=0,s.treeBaseDuration=0;else{s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type;var I=g.dependencies;s.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},s.selfBaseDuration=g.selfBaseDuration,s.treeBaseDuration=g.treeBaseDuration}return s}function fGe(s){var c;return s===Nge?c=SE|ym|$u:s===Lge?c=ym|$u:c=nu,C6e&&(c|=iv),sv(ne,null,null,c)}function KK(s,c,g,I,N,$){var le=te,ye=s;if(typeof s=="function")WK(s)?(le=J,ye=zK(ye)):ye=mT(ye);else if(typeof s=="string")le=ue;else e:switch(s){case Yg:return OE(g.children,N,$,c);case XF:le=De,N|=L6e;break;case EI:le=De,N|=$u;break;case iE:return dGe(g,N,$,c);case z_:return hGe(g,N,$,c);case CS:return pGe(g,N,$,c);case SA:return XK(g,N,$,c);case xA:return mGe(g,N,$,c);case qF:default:{if(typeof s=="object"&&s!==null)switch(s.$$typeof){case vA:le=He;break e;case gA:le=Re;break e;case U_:le=Oe,ye=HK(ye);break e;case Wd:le=gt;break e;case $g:le=Tt,ye=null;break e;case yA:le=lr;break e}var Ie="";{(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(Ie+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var it=I?Hr(I.type):null;it&&(Ie+=`

Check the render method of \``+it+"`.")}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(s==null?s:typeof s)+"."+Ie)}}var ct=sv(le,g,c,N);return ct.elementType=s,ct.type=ye,ct.lanes=$,ct._debugOwner=I,ct}function qK(s,c,g){var I=null;I=s._owner;var N=s.type,$=s.key,le=s.props,ye=KK(N,$,le,I,c,g);return ye._debugSource=s._source,ye._debugOwner=s._owner,ye}function OE(s,c,g,I){var N=sv(me,s,I,c);return N.lanes=g,N}function dGe(s,c,g,I){typeof s.id!="string"&&O('Profiler must specify an "id" as a prop');var N=sv(Fe,s,I,c|iv);return N.elementType=iE,N.type=iE,N.lanes=g,N.stateNode={effectDuration:0,passiveEffectDuration:0},N}function hGe(s,c,g,I){var N=sv(Qe,s,I,c);return N.type=z_,N.elementType=z_,N.lanes=g,N}function pGe(s,c,g,I){var N=sv(jt,s,I,c);return N.type=CS,N.elementType=CS,N.lanes=g,N}function XK(s,c,g,I){var N=sv(si,s,I,c);return N.type=SA,N.elementType=SA,N.lanes=g,N}function mGe(s,c,g,I){var N=sv(un,s,I,c);return N.type=xA,N.elementType=xA,N.lanes=g,N}function YK(s,c,g){var I=sv(pe,s,null,c);return I.lanes=g,I}function vGe(){var s=sv(ue,null,null,nu);return s.elementType="DELETED",s.type="DELETED",s}function $K(s,c,g){var I=s.children!==null?s.children:[],N=sv(re,I,s.key,c);return N.lanes=g,N.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},N}function e_e(s,c){return s===null&&(s=sv(te,null,null,nu)),s.tag=c.tag,s.key=c.key,s.elementType=c.elementType,s.type=c.type,s.stateNode=c.stateNode,s.return=c.return,s.child=c.child,s.sibling=c.sibling,s.index=c.index,s.ref=c.ref,s.pendingProps=c.pendingProps,s.memoizedProps=c.memoizedProps,s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.dependencies=c.dependencies,s.mode=c.mode,s.flags=c.flags,s.nextEffect=c.nextEffect,s.firstEffect=c.firstEffect,s.lastEffect=c.lastEffect,s.lanes=c.lanes,s.childLanes=c.childLanes,s.alternate=c.alternate,s.actualDuration=c.actualDuration,s.actualStartTime=c.actualStartTime,s.selfBaseDuration=c.selfBaseDuration,s.treeBaseDuration=c.treeBaseDuration,s._debugID=c._debugID,s._debugSource=c._debugSource,s._debugOwner=c._debugOwner,s._debugNeedsRemount=c._debugNeedsRemount,s._debugHookTypes=c._debugHookTypes,s}function gGe(s,c,g){switch(this.tag=c,this.containerInfo=s,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=j7,this.context=null,this.pendingContext=null,this.hydrate=g,this.callbackNode=null,this.callbackPriority=dE,this.eventTimes=w7(Gn),this.expirationTimes=w7(Yu),this.pendingLanes=Gn,this.suspendedLanes=Gn,this.pingedLanes=Gn,this.expiredLanes=Gn,this.mutableReadLanes=Gn,this.finishedLanes=Gn,this.entangledLanes=Gn,this.entanglements=w7(Gn),this.mutableSourceEagerHydrationData=null,this.interactionThreadID=b.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map,c){case Lge:this._debugRootType="createBlockingRoot()";break;case Nge:this._debugRootType="createRoot()";break;case Y7:this._debugRootType="createLegacyRoot()";break}}function yGe(s,c,g,I){var N=new gGe(s,c,g),$=fGe(c);return N.current=$,$.stateNode=N,aW($),N}function _Ge(s,c){var g=c._getVersion,I=g(c._source);s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,I]:s.mutableSourceEagerHydrationData.push(c,I)}function SGe(s,c,g){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qv,key:I==null?null:""+I,children:s,containerInfo:c,implementation:g}}var QK,JK;QK=!1,JK={};function xGe(s){if(!s)return rv;var c=BA(s),g=b6e(c);if(c.tag===J){var I=c.type;if(hy(I))return Oge(c,I,g)}return g}function wGe(s,c){{var g=BA(s);if(g===void 0)throw typeof s.render=="function"?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(s));var I=Bme(g);if(I===null)return null;if(I.mode&$u){var N=Hr(g.type)||"Component";if(!JK[N]){JK[N]=!0;var $=Lh;try{Mc(I),g.mode&$u?O("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",c,c,N):O("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",c,c,N)}finally{$?Mc($):Kd()}}}return I.stateNode}}function EGe(s,c,g,I){return yGe(s,c,g)}function jk(s,c,g,I){T6e(c,s);var N=c.current,$=ov();typeof jest<"u"&&(Q9e(N),Vye(N));var le=VS(N),ye=xGe(g);c.context===null?c.context=ye:c.pendingContext=ye,H_&&Lh!==null&&!QK&&(QK=!0,O(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Hr(Lh.type)||"Unknown"));var Ie=US($,le);return Ie.payload={element:s},I=I===void 0?null:I,I!==null&&(typeof I!="function"&&O("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",I),Ie.callback=I),zS(N,Ie),jh(N,le,$),le}function ZK(s){var c=s.current;if(!c.child)return null;switch(c.child.tag){case ue:return c.child.stateNode;default:return c.child.stateNode}}function t_e(s,c){var g=s.memoizedState;g!==null&&g.dehydrated!==null&&(g.retryLane=x4e(g.retryLane,c))}function eq(s,c){t_e(s,c);var g=s.alternate;g&&t_e(g,c)}function bGe(s){if(s.tag===Qe){var c=ov(),g=y7;jh(s,g,c),eq(s,g)}}function CGe(s){if(s.tag===Qe){var c=ov(),g=S7;jh(s,g,c),eq(s,g)}}function AGe(s){if(s.tag===Qe){var c=ov(),g=VS(s);jh(s,g,c),eq(s,g)}}function TGe(s,c){try{return c()}finally{}}function n_e(s){var c=H3e(s);return c===null?null:c.tag===xn?c.stateNode.instance:c.stateNode}var r_e=function(s){return!1};function MGe(s){return r_e(s)}var i_e=null,a_e=null,o_e=null,s_e=null,l_e=null,u_e=null,c_e=null,f_e=null;{var d_e=function(s,c,g){var I=c[g],N=Array.isArray(s)?s.slice():f({},s);return g+1===c.length?(Array.isArray(N)?N.splice(I,1):delete N[I],N):(N[I]=d_e(s[I],c,g+1),N)},h_e=function(s,c){return d_e(s,c,0)},p_e=function(s,c,g,I){var N=c[I],$=Array.isArray(s)?s.slice():f({},s);if(I+1===c.length){var le=g[I];$[le]=$[N],Array.isArray($)?$.splice(N,1):delete $[N]}else $[N]=p_e(s[N],c,g,I+1);return $},m_e=function(s,c,g){if(c.length!==g.length){B("copyWithRename() expects paths of the same length");return}else for(var I=0;I<g.length-1;I++)if(c[I]!==g[I]){B("copyWithRename() expects paths to be the same except for the deepest key");return}return p_e(s,c,g,0)},v_e=function(s,c,g,I){if(g>=c.length)return I;var N=c[g],$=Array.isArray(s)?s.slice():f({},s);return $[N]=v_e(s[N],c,g+1,I),$},g_e=function(s,c,g){return v_e(s,c,0,g)},tq=function(s,c){for(var g=s.memoizedState;g!==null&&c>0;)g=g.next,c--;return g};i_e=function(s,c,g,I){var N=tq(s,c);if(N!==null){var $=g_e(N.memoizedState,g,I);N.memoizedState=$,N.baseState=$,s.memoizedProps=f({},s.memoizedProps),jh(s,zs,Yu)}},a_e=function(s,c,g){var I=tq(s,c);if(I!==null){var N=h_e(I.memoizedState,g);I.memoizedState=N,I.baseState=N,s.memoizedProps=f({},s.memoizedProps),jh(s,zs,Yu)}},o_e=function(s,c,g,I){var N=tq(s,c);if(N!==null){var $=m_e(N.memoizedState,g,I);N.memoizedState=$,N.baseState=$,s.memoizedProps=f({},s.memoizedProps),jh(s,zs,Yu)}},s_e=function(s,c,g){s.pendingProps=g_e(s.memoizedProps,c,g),s.alternate&&(s.alternate.pendingProps=s.pendingProps),jh(s,zs,Yu)},l_e=function(s,c){s.pendingProps=h_e(s.memoizedProps,c),s.alternate&&(s.alternate.pendingProps=s.pendingProps),jh(s,zs,Yu)},u_e=function(s,c,g){s.pendingProps=m_e(s.memoizedProps,c,g),s.alternate&&(s.alternate.pendingProps=s.pendingProps),jh(s,zs,Yu)},c_e=function(s){jh(s,zs,Yu)},f_e=function(s){r_e=s}}function PGe(s){var c=Bme(s);return c===null?null:c.stateNode}function RGe(s){return null}function IGe(){return Lh}function kGe(s){var c=s.findFiberByHostInstance,g=P.ReactCurrentDispatcher;return A6e({bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:i_e,overrideHookStateDeletePath:a_e,overrideHookStateRenamePath:o_e,overrideProps:s_e,overridePropsDeletePath:l_e,overridePropsRenamePath:u_e,setSuspenseHandler:f_e,scheduleUpdate:c_e,currentDispatcherRef:g,findHostInstanceByFiber:PGe,findFiberByHostInstance:c||RGe,findHostInstancesForRefresh:rGe,scheduleRefresh:tGe,scheduleRoot:nGe,setRefreshHandler:eGe,getCurrentFiber:IGe})}function nq(s,c,g){this._internalRoot=DGe(s,c,g)}nq.prototype.render=function(s){var c=this._internalRoot;{typeof arguments[1]=="function"&&O("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var g=c.containerInfo;if(g.nodeType!==tv){var I=n_e(c.current);I&&I.parentNode!==g&&O("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}jk(s,c,null,null)},nq.prototype.unmount=function(){typeof arguments[0]=="function"&&O("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var s=this._internalRoot,c=s.containerInfo;jk(null,s,null,function(){Mge(c)})};function DGe(s,c,g){var I=g!=null&&g.hydrate===!0;g!=null&&g.hydrationOptions;var N=g!=null&&g.hydrationOptions!=null&&g.hydrationOptions.mutableSources||null,$=EGe(s,c,I);E6e($.current,s),s.nodeType;{var le=s.nodeType===tv?s.parentNode:s;Jve(le)}if(N)for(var ye=0;ye<N.length;ye++){var Ie=N[ye];_Ge($,Ie)}return $}function OGe(s,c){return new nq(s,Y7,c)}function vT(s){return!!(s&&(s.nodeType===Qv||s.nodeType===RS||s.nodeType===cme||s.nodeType===tv&&s.nodeValue===" react-mount-point-unstable "))}var BGe=P.ReactCurrentOwner,y_e,__e=!1;y_e=function(s){if(s._reactRootContainer&&s.nodeType!==tv){var c=n_e(s._reactRootContainer._internalRoot.current);c&&c.parentNode!==s&&O("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var g=!!s._reactRootContainer,I=o5(s),N=!!(I&&LS(I));N&&!g&&O("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),s.nodeType===Qv&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&O("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function o5(s){return s?s.nodeType===RS?s.documentElement:s.firstChild:null}function LGe(s){var c=o5(s);return!!(c&&c.nodeType===Qv&&c.hasAttribute(Va))}function NGe(s,c){var g=c||LGe(s);if(!g)for(var I=!1,N;N=s.lastChild;)!I&&N.nodeType===Qv&&N.hasAttribute(Va)&&(I=!0,O("render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),s.removeChild(N);return g&&!c&&!__e&&(__e=!0,B("render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v18. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.")),OGe(s,g?{hydrate:!0}:void 0)}function FGe(s,c){s!==null&&typeof s!="function"&&O("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",c,s)}function s5(s,c,g,I,N){y_e(g),FGe(N===void 0?null:N,"render");var $=g._reactRootContainer,le;if($){if(le=$._internalRoot,typeof N=="function"){var Ie=N;N=function(){var it=ZK(le);Ie.call(it)}}jk(c,le,s,N)}else{if($=g._reactRootContainer=NGe(g,I),le=$._internalRoot,typeof N=="function"){var ye=N;N=function(){var it=ZK(le);ye.call(it)}}Oye(function(){jk(c,le,s,N)})}return ZK(le)}function UGe(s){{var c=BGe.current;if(c!==null&&c.stateNode!==null){var g=c.stateNode._warnedAboutRefsInRender;g||O("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Hr(c.type)||"A component"),c.stateNode._warnedAboutRefsInRender=!0}}return s==null?null:s.nodeType===Qv?s:wGe(s,"findDOMNode")}function zGe(s,c,g){if(!vT(c))throw Error("Target container is not a DOM element.");{var I=VU(c)&&c._reactRootContainer===void 0;I&&O("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?")}return s5(null,s,c,!0,g)}function HGe(s,c,g){if(!vT(c))throw Error("Target container is not a DOM element.");{var I=VU(c)&&c._reactRootContainer===void 0;I&&O("You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return s5(null,s,c,!1,g)}function jGe(s,c,g,I){if(!vT(g))throw Error("Target container is not a DOM element.");if(!(s!=null&&k3e(s)))throw Error("parentComponent must be a valid React Component");return s5(s,c,g,!1,I)}function GGe(s){if(!vT(s))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var c=VU(s)&&s._reactRootContainer===void 0;c&&O("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(s._reactRootContainer){{var g=o5(s),I=g&&!LS(g);I&&O("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Oye(function(){s5(null,null,s,!1,function(){s._reactRootContainer=null,Mge(s)})}),!0}else{{var N=o5(s),$=!!(N&&LS(N)),le=s.nodeType===Qv&&vT(s.parentNode)&&!!s.parentNode._reactRootContainer;$&&O("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",le?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}j3e(bGe),G3e(CGe),V3e(AGe),W3e(TGe);var S_e=!1;(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&O("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),_3e(bje),C3e(Dye,S9e,g9e,_9e);function x_e(s,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!vT(c))throw Error("Target container is not a DOM element.");return SGe(s,c,null,g)}function VGe(s,c,g,I){return jGe(s,c,g,I)}function WGe(s,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return S_e||(S_e=!0,B('The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 18+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),x_e(s,c,g)}var KGe={Events:[LS,XA,WU,bme,Cme,Sy,i5]},qGe=kGe({findFiberByHostInstance:gE,bundleType:1,version:Qge,rendererPackageName:"react-dom"});if(!qGe&&Qi&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var w_e=window.location.protocol;/^(https?|file):$/.test(w_e)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(w_e==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KGe,a.createPortal=x_e,a.findDOMNode=UGe,a.flushSync=DK,a.hydrate=zGe,a.render=HGe,a.unmountComponentAtNode=GGe,a.unstable_batchedUpdates=Dye,a.unstable_createPortal=WGe,a.unstable_renderSubtreeIntoContainer=VGe,a.version=Qge})()}}),u_=L({"../node_modules/react-dom/index.js"(a,u){u.exports=Gke()}});function Vke(a){const[,u]=(0,eS.useState)(0);return(0,eS.useCallback)(()=>{u(m=>m+1)},[])}function ma(a,u,f){const m=(0,eS.useCallback)(a,u),b=(0,eS.useRef)(null);b.current?b.current.set(m):b.current=new k2.Box(m);const P=(0,eS.useMemo)(()=>(0,Ej.prism)(()=>b.current.derivation.getValue()()),[]);return iL(P,f)}function Wke(){aL||(aL=!0,(0,D2.default)(()=>{(0,O2.unstable_batchedUpdates)(function(){for(var u,f;Dg.length>0;){const m=Dg.shift();yC.delete(m);let b;_w&&((u=m.debug)==null||u.history.push("queue reached"));try{b=m.der.getValue()}catch(P){_w&&((f=m.debug)==null||f.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `useDerivation(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(P),m.runUpdate();continue}b!==m.lastValue&&(m.lastValue=b,m.runUpdate())}},1),aL=!1}))}function iL(a,u){var f;const m=Vke(),b=(0,eS.useRef)(void 0);b.current||(bj++,b.current={order:bj,runUpdate:()=>{b.current.unmounted||m()},der:a,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var B;_w&&((B=b.current.debug)==null||B.history.push("queueUpdate()")),B2(b.current)},untap:a.changesWithoutValues().tap(()=>{_w&&b.current.debug.history.push("changesWithoutValues(cb)"),b.current.queueUpdate()})},_w&&(b.current.debug={label:u,traceOfFirstTimeRender:new Error,history:[]})),a!==b.current.der&&console.error("Argument `der` in `useDerivation(der)` should not change between renders."),(0,eS.useLayoutEffect)(()=>function(){b.current.unmounted=!0,b.current.untap(),Cj(b.current)},[]),Cj(b.current);const P=b.current.der.getValue();return b.current.lastValue=P,_w&&((f=b.current.debug)==null||f.history.push("rendered")),P}var k2,Ej,D2,eS,O2,_w,ka,bj,Dg,yC,aL,B2,L2,Cj,Ei=w({"../packages/react/src/index.ts"(){k2=U(Ln),Ej=U(Ln),wf(),D2=U(Nke()),eS=U(xt()),O2=U(u_()),_w=!1,ka=(a,u)=>ma(()=>(0,Ej.val)(a),[a],u),bj=0,Dg=[],yC=new Set,aL=!1,B2=a=>{L2(a),Wke()},L2=a=>{if(!yC.has(a))if(yC.add(a),Dg.length===0)Dg.push(a);else{const u=yn(Dg,f=>f.order>=a.order);u===-1?Dg.push(a):Dg[u].order>a.order&&Dg.splice(u,0,a)}},Cj=a=>{if(!yC.has(a))return;yC.delete(a);const u=yn(Dg,f=>f===a);Dg.splice(u,1)}}}),Kke=L({"../node_modules/react-is/cjs/react-is.development.js"(a){(function(){var u=60103,f=60106,m=60107,b=60108,P=60114,B=60109,O=60110,q=60112,K=60113,J=60120,te=60115,ne=60116,re=60121,ue=60122,pe=60117,me=60129,De=60131;if(typeof Symbol=="function"&&Symbol.for){var Re=Symbol.for;u=Re("react.element"),f=Re("react.portal"),m=Re("react.fragment"),b=Re("react.strict_mode"),P=Re("react.profiler"),B=Re("react.provider"),O=Re("react.context"),q=Re("react.forward_ref"),K=Re("react.suspense"),J=Re("react.suspense_list"),te=Re("react.memo"),ne=Re("react.lazy"),re=Re("react.block"),ue=Re("react.server.block"),pe=Re("react.fundamental"),Re("react.scope"),Re("react.opaque.id"),me=Re("react.debug_trace_mode"),Re("react.offscreen"),De=Re("react.legacy_hidden")}var He=!1;function Oe(Tn){return!!(typeof Tn=="string"||typeof Tn=="function"||Tn===m||Tn===P||Tn===me||Tn===b||Tn===K||Tn===J||Tn===De||He||typeof Tn=="object"&&Tn!==null&&(Tn.$$typeof===ne||Tn.$$typeof===te||Tn.$$typeof===B||Tn.$$typeof===O||Tn.$$typeof===q||Tn.$$typeof===pe||Tn.$$typeof===re||Tn[0]===ue))}function Fe(Tn){if(typeof Tn=="object"&&Tn!==null){var xr=Tn.$$typeof;switch(xr){case u:var Xa=Tn.type;switch(Xa){case m:case P:case b:case K:case J:return Xa;default:var Ui=Xa&&Xa.$$typeof;switch(Ui){case O:case q:case ne:case te:case B:return Ui;default:return xr}}case f:return xr}}}var Qe=O,gt=B,Wt=u,Tt=q,An=m,jn=ne,jt=te,xn=f,_r=P,lr=b,si=K,un=!1,gn=!1;function Nr(Tn){return un||(un=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function xi(Tn){return gn||(gn=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function ra(Tn){return Fe(Tn)===O}function fr(Tn){return Fe(Tn)===B}function gr(Tn){return typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===u}function qr(Tn){return Fe(Tn)===q}function wi(Tn){return Fe(Tn)===m}function tn(Tn){return Fe(Tn)===ne}function Qi(Tn){return Fe(Tn)===te}function Xn(Tn){return Fe(Tn)===f}function Bi(Tn){return Fe(Tn)===P}function ha(Tn){return Fe(Tn)===b}function gi(Tn){return Fe(Tn)===K}a.ContextConsumer=Qe,a.ContextProvider=gt,a.Element=Wt,a.ForwardRef=Tt,a.Fragment=An,a.Lazy=jn,a.Memo=jt,a.Portal=xn,a.Profiler=_r,a.StrictMode=lr,a.Suspense=si,a.isAsyncMode=Nr,a.isConcurrentMode=xi,a.isContextConsumer=ra,a.isContextProvider=fr,a.isElement=gr,a.isForwardRef=qr,a.isFragment=wi,a.isLazy=tn,a.isMemo=Qi,a.isPortal=Xn,a.isProfiler=Bi,a.isStrictMode=ha,a.isSuspense=gi,a.isValidElementType=Oe,a.typeOf=Fe})()}}),qke=L({"../node_modules/react-is/index.js"(a,u){u.exports=Kke()}}),N2=L({"../node_modules/shallowequal/index.js"(a,u){u.exports=function(m,b,P,B){var O=P?P.call(B,m,b):void 0;if(O!==void 0)return!!O;if(m===b)return!0;if(typeof m!="object"||!m||typeof b!="object"||!b)return!1;var q=Object.keys(m),K=Object.keys(b);if(q.length!==K.length)return!1;for(var J=Object.prototype.hasOwnProperty.bind(b),te=0;te<q.length;te++){var ne=q[te];if(!J(ne))return!1;var re=m[ne],ue=b[ne];if(O=P?P.call(B,re,ue,ne):void 0,O===!1||O===void 0&&re!==ue)return!1}return!0}}});function Xke(a){function u(fr,gr,qr,wi,tn){for(var Qi=0,Xn=0,Bi=0,ha=0,gi,Tn,xr=0,Xa=0,Ui,zo=Ui=gi=0,Va=0,Dl=0,Wv=0,_l=0,qg=qr.length,Kv=qg-1,id,Ci="",Ho="",Xg="",Eu="",ns;Va<qg;){if(Tn=qr.charCodeAt(Va),Va===Kv&&Xn+ha+Bi+Qi!==0&&(Xn!==0&&(Tn=Xn===47?10:47),ha=Bi=Qi=0,qg++,Kv++),Xn+ha+Bi+Qi===0){if(Va===Kv&&(0<Dl&&(Ci=Ci.replace(ne,"")),0<Ci.trim().length)){switch(Tn){case 32:case 9:case 59:case 13:case 10:break;default:Ci+=qr.charAt(Va)}Tn=59}switch(Tn){case 123:for(Ci=Ci.trim(),gi=Ci.charCodeAt(0),Ui=1,_l=++Va;Va<qg;){switch(Tn=qr.charCodeAt(Va)){case 123:Ui++;break;case 125:Ui--;break;case 47:switch(Tn=qr.charCodeAt(Va+1)){case 42:case 47:e:{for(zo=Va+1;zo<Kv;++zo)switch(qr.charCodeAt(zo)){case 47:if(Tn===42&&qr.charCodeAt(zo-1)===42&&Va+2!==zo){Va=zo+1;break e}break;case 10:if(Tn===47){Va=zo+1;break e}}Va=zo}}break;case 91:Tn++;case 40:Tn++;case 34:case 39:for(;Va++<Kv&&qr.charCodeAt(Va)!==Tn;);}if(Ui===0)break;Va++}switch(Ui=qr.substring(_l,Va),gi===0&&(gi=(Ci=Ci.replace(te,"").trim()).charCodeAt(0)),gi){case 64:switch(0<Dl&&(Ci=Ci.replace(ne,"")),Tn=Ci.charCodeAt(1),Tn){case 100:case 109:case 115:case 45:Dl=gr;break;default:Dl=si}if(Ui=u(gr,Dl,Ui,Tn,tn+1),_l=Ui.length,0<gn&&(Dl=f(si,Ci,Wv),ns=O(3,Ui,Dl,gr,xn,jt,_l,Tn,tn,wi),Ci=Dl.join(""),ns!==void 0&&(_l=(Ui=ns.trim()).length)===0&&(Tn=0,Ui="")),0<_l)switch(Tn){case 115:Ci=Ci.replace(Qe,B);case 100:case 109:case 45:Ui=Ci+"{"+Ui+"}";break;case 107:Ci=Ci.replace(Re,"$1 $2"),Ui=Ci+"{"+Ui+"}",Ui=lr===1||lr===2&&P("@"+Ui,3)?"@-webkit-"+Ui+"@"+Ui:"@"+Ui;break;default:Ui=Ci+Ui,wi===112&&(Ui=(Ho+=Ui,""))}else Ui="";break;default:Ui=u(gr,f(gr,Ci,Wv),Ui,wi,tn+1)}Xg+=Ui,Ui=Wv=Dl=zo=gi=0,Ci="",Tn=qr.charCodeAt(++Va);break;case 125:case 59:if(Ci=(0<Dl?Ci.replace(ne,""):Ci).trim(),1<(_l=Ci.length))switch(zo===0&&(gi=Ci.charCodeAt(0),gi===45||96<gi&&123>gi)&&(_l=(Ci=Ci.replace(" ",":")).length),0<gn&&(ns=O(1,Ci,gr,fr,xn,jt,Ho.length,wi,tn,wi))!==void 0&&(_l=(Ci=ns.trim()).length)===0&&(Ci="\0\0"),gi=Ci.charCodeAt(0),Tn=Ci.charCodeAt(1),gi){case 0:break;case 64:if(Tn===105||Tn===99){Eu+=Ci+qr.charAt(Va);break}default:Ci.charCodeAt(_l-1)!==58&&(Ho+=b(Ci,gi,Tn,Ci.charCodeAt(2)))}Wv=Dl=zo=gi=0,Ci="",Tn=qr.charCodeAt(++Va)}}switch(Tn){case 13:case 10:Xn===47?Xn=0:1+gi===0&&wi!==107&&0<Ci.length&&(Dl=1,Ci+="\0"),0<gn*xi&&O(0,Ci,gr,fr,xn,jt,Ho.length,wi,tn,wi),jt=1,xn++;break;case 59:case 125:if(Xn+ha+Bi+Qi===0){jt++;break}default:switch(jt++,id=qr.charAt(Va),Tn){case 9:case 32:if(ha+Qi+Xn===0)switch(xr){case 44:case 58:case 9:case 32:id="";break;default:Tn!==32&&(id=" ")}break;case 0:id="\\0";break;case 12:id="\\f";break;case 11:id="\\v";break;case 38:ha+Xn+Qi===0&&(Dl=Wv=1,id="\f"+id);break;case 108:if(ha+Xn+Qi+_r===0&&0<zo)switch(Va-zo){case 2:xr===112&&qr.charCodeAt(Va-3)===58&&(_r=xr);case 8:Xa===111&&(_r=Xa)}break;case 58:ha+Xn+Qi===0&&(zo=Va);break;case 44:Xn+Bi+ha+Qi===0&&(Dl=1,id+="\r");break;case 34:case 39:Xn===0&&(ha=ha===Tn?0:ha===0?Tn:ha);break;case 91:ha+Xn+Bi===0&&Qi++;break;case 93:ha+Xn+Bi===0&&Qi--;break;case 41:ha+Xn+Qi===0&&Bi--;break;case 40:if(ha+Xn+Qi===0){if(gi===0)switch(2*xr+3*Xa){case 533:break;default:gi=1}Bi++}break;case 64:Xn+Bi+ha+Qi+zo+Ui===0&&(Ui=1);break;case 42:case 47:if(!(0<ha+Qi+Bi))switch(Xn){case 0:switch(2*Tn+3*qr.charCodeAt(Va+1)){case 235:Xn=47;break;case 220:_l=Va,Xn=42}break;case 42:Tn===47&&xr===42&&_l+2!==Va&&(qr.charCodeAt(_l+2)===33&&(Ho+=qr.substring(_l,Va+1)),id="",Xn=0)}}Xn===0&&(Ci+=id)}Xa=xr,xr=Tn,Va++}if(_l=Ho.length,0<_l){if(Dl=gr,0<gn&&(ns=O(2,Ho,Dl,fr,xn,jt,_l,wi,tn,wi),ns!==void 0&&(Ho=ns).length===0))return Eu+Ho+Xg;if(Ho=Dl.join(",")+"{"+Ho+"}",lr*_r!==0){switch(lr!==2||P(Ho,2)||(_r=0),_r){case 111:Ho=Ho.replace(Oe,":-moz-$1")+Ho;break;case 112:Ho=Ho.replace(He,"::-webkit-input-$1")+Ho.replace(He,"::-moz-$1")+Ho.replace(He,":-ms-input-$1")+Ho}_r=0}}return Eu+Ho+Xg}function f(fr,gr,qr){var wi=gr.trim().split(me);gr=wi;var tn=wi.length,Qi=fr.length;switch(Qi){case 0:case 1:var Xn=0;for(fr=Qi===0?"":fr[0]+" ";Xn<tn;++Xn)gr[Xn]=m(fr,gr[Xn],qr).trim();break;default:var Bi=Xn=0;for(gr=[];Xn<tn;++Xn)for(var ha=0;ha<Qi;++ha)gr[Bi++]=m(fr[ha]+" ",wi[Xn],qr).trim()}return gr}function m(fr,gr,qr){var wi=gr.charCodeAt(0);switch(33>wi&&(wi=(gr=gr.trim()).charCodeAt(0)),wi){case 38:return gr.replace(De,"$1"+fr.trim());case 58:return fr.trim()+gr.replace(De,"$1"+fr.trim());default:if(0<1*qr&&0<gr.indexOf("\f"))return gr.replace(De,(fr.charCodeAt(0)===58?"":"$1")+fr.trim())}return fr+gr}function b(fr,gr,qr,wi){var tn=fr+";",Qi=2*gr+3*qr+4*wi;if(Qi===944){fr=tn.indexOf(":",9)+1;var Xn=tn.substring(fr,tn.length-1).trim();return Xn=tn.substring(0,fr).trim()+Xn+";",lr===1||lr===2&&P(Xn,1)?"-webkit-"+Xn+Xn:Xn}if(lr===0||lr===2&&!P(tn,1))return tn;switch(Qi){case 1015:return tn.charCodeAt(10)===97?"-webkit-"+tn+tn:tn;case 951:return tn.charCodeAt(3)===116?"-webkit-"+tn+tn:tn;case 963:return tn.charCodeAt(5)===110?"-webkit-"+tn+tn:tn;case 1009:if(tn.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+tn+tn;case 978:return"-webkit-"+tn+"-moz-"+tn+tn;case 1019:case 983:return"-webkit-"+tn+"-moz-"+tn+"-ms-"+tn+tn;case 883:if(tn.charCodeAt(8)===45)return"-webkit-"+tn+tn;if(0<tn.indexOf("image-set(",11))return tn.replace(jn,"$1-webkit-$2")+tn;break;case 932:if(tn.charCodeAt(4)===45)switch(tn.charCodeAt(5)){case 103:return"-webkit-box-"+tn.replace("-grow","")+"-webkit-"+tn+"-ms-"+tn.replace("grow","positive")+tn;case 115:return"-webkit-"+tn+"-ms-"+tn.replace("shrink","negative")+tn;case 98:return"-webkit-"+tn+"-ms-"+tn.replace("basis","preferred-size")+tn}return"-webkit-"+tn+"-ms-"+tn+tn;case 964:return"-webkit-"+tn+"-ms-flex-"+tn+tn;case 1023:if(tn.charCodeAt(8)!==99)break;return Xn=tn.substring(tn.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Xn+"-webkit-"+tn+"-ms-flex-pack"+Xn+tn;case 1005:return ue.test(tn)?tn.replace(re,":-webkit-")+tn.replace(re,":-moz-")+tn:tn;case 1e3:switch(Xn=tn.substring(13).trim(),gr=Xn.indexOf("-")+1,Xn.charCodeAt(0)+Xn.charCodeAt(gr)){case 226:Xn=tn.replace(Fe,"tb");break;case 232:Xn=tn.replace(Fe,"tb-rl");break;case 220:Xn=tn.replace(Fe,"lr");break;default:return tn}return"-webkit-"+tn+"-ms-"+Xn+tn;case 1017:if(tn.indexOf("sticky",9)===-1)break;case 975:switch(gr=(tn=fr).length-10,Xn=(tn.charCodeAt(gr)===33?tn.substring(0,gr):tn).substring(fr.indexOf(":",7)+1).trim(),Qi=Xn.charCodeAt(0)+(Xn.charCodeAt(7)|0)){case 203:if(111>Xn.charCodeAt(8))break;case 115:tn=tn.replace(Xn,"-webkit-"+Xn)+";"+tn;break;case 207:case 102:tn=tn.replace(Xn,"-webkit-"+(102<Qi?"inline-":"")+"box")+";"+tn.replace(Xn,"-webkit-"+Xn)+";"+tn.replace(Xn,"-ms-"+Xn+"box")+";"+tn}return tn+";";case 938:if(tn.charCodeAt(5)===45)switch(tn.charCodeAt(6)){case 105:return Xn=tn.replace("-items",""),"-webkit-"+tn+"-webkit-box-"+Xn+"-ms-flex-"+Xn+tn;case 115:return"-webkit-"+tn+"-ms-flex-item-"+tn.replace(Wt,"")+tn;default:return"-webkit-"+tn+"-ms-flex-line-pack"+tn.replace("align-content","").replace(Wt,"")+tn}break;case 973:case 989:if(tn.charCodeAt(3)!==45||tn.charCodeAt(4)===122)break;case 931:case 953:if(An.test(fr)===!0)return(Xn=fr.substring(fr.indexOf(":")+1)).charCodeAt(0)===115?b(fr.replace("stretch","fill-available"),gr,qr,wi).replace(":fill-available",":stretch"):tn.replace(Xn,"-webkit-"+Xn)+tn.replace(Xn,"-moz-"+Xn.replace("fill-",""))+tn;break;case 962:if(tn="-webkit-"+tn+(tn.charCodeAt(5)===102?"-ms-"+tn:"")+tn,qr+wi===211&&tn.charCodeAt(13)===105&&0<tn.indexOf("transform",10))return tn.substring(0,tn.indexOf(";",27)+1).replace(pe,"$1-webkit-$2")+tn}return tn}function P(fr,gr){var qr=fr.indexOf(gr===1?":":"{"),wi=fr.substring(0,gr!==3?qr:10);return qr=fr.substring(qr+1,fr.length-1),Nr(gr!==2?wi:wi.replace(Tt,"$1"),qr,gr)}function B(fr,gr){var qr=b(gr,gr.charCodeAt(0),gr.charCodeAt(1),gr.charCodeAt(2));return qr!==gr+";"?qr.replace(gt," or ($1)").substring(4):"("+gr+")"}function O(fr,gr,qr,wi,tn,Qi,Xn,Bi,ha,gi){for(var Tn=0,xr=gr,Xa;Tn<gn;++Tn)switch(Xa=un[Tn].call(J,fr,xr,qr,wi,tn,Qi,Xn,Bi,ha,gi)){case void 0:case!1:case!0:case null:break;default:xr=Xa}if(xr!==gr)return xr}function q(fr){switch(fr){case void 0:case null:gn=un.length=0;break;default:if(typeof fr=="function")un[gn++]=fr;else if(typeof fr=="object")for(var gr=0,qr=fr.length;gr<qr;++gr)q(fr[gr]);else xi=!!fr|0}return q}function K(fr){return fr=fr.prefix,fr!==void 0&&(Nr=null,fr?typeof fr!="function"?lr=1:(lr=2,Nr=fr):lr=0),K}function J(fr,gr){var qr=fr;if(33>qr.charCodeAt(0)&&(qr=qr.trim()),ra=qr,qr=[ra],0<gn){var wi=O(-1,gr,qr,qr,xn,jt,0,0,0,0);wi!==void 0&&typeof wi=="string"&&(gr=wi)}var tn=u(si,qr,gr,0,0);return 0<gn&&(wi=O(-2,tn,qr,qr,xn,jt,tn.length,0,0,0),wi!==void 0&&(tn=wi)),ra="",_r=0,jt=xn=1,tn}var te=/^\0+/g,ne=/[\0\r\f]/g,re=/: */g,ue=/zoo|gra/,pe=/([,: ])(transform)/g,me=/,\r+?/g,De=/([\t\r\n ])*\f?&/g,Re=/@(k\w+)\s*(\S*)\s*/,He=/::(place)/g,Oe=/:(read-only)/g,Fe=/[svh]\w+-[tblr]{2}/,Qe=/\(\s*(.*)\s*\)/g,gt=/([\s\S]*?);/g,Wt=/-self|flex-/g,Tt=/[^]*?(:[rp][el]a[\w-]+)[^]*/,An=/stretch|:\s*\w+\-(?:conte|avail)/,jn=/([^-])(image-set\()/,jt=1,xn=1,_r=0,lr=1,si=[],un=[],gn=0,Nr=null,xi=0,ra="";return J.use=q,J.set=K,a!==void 0&&K(a),J}var F2,Yke=w({"../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){F2=Xke}}),U2,z2,$ke=w({"../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){U2={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},z2=U2}}),Qke=L({"../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.dev.js"(a){Object.defineProperty(a,"__esModule",{value:!0});function u(f){var m=Object.create(null);return function(b){return m[b]===void 0&&(m[b]=f(b)),m[b]}}a.default=u}}),Jke=L({"../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(a,u){u.exports=Qke()}}),Zke=L({"../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.dev.js"(a){Object.defineProperty(a,"__esModule",{value:!0});var u=Jke();function f(B){return B&&B.__esModule?B:{default:B}}var m=f(u),b=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P=m.default(function(B){return b.test(B)||B.charCodeAt(0)===111&&B.charCodeAt(1)===110&&B.charCodeAt(2)<91});a.default=P}}),eDe=L({"../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(a,u){u.exports=Zke()}}),tDe=L({"../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.development.js"(a){(function(){var u=typeof Symbol=="function"&&Symbol.for,f=u?Symbol.for("react.element"):60103,m=u?Symbol.for("react.portal"):60106,b=u?Symbol.for("react.fragment"):60107,P=u?Symbol.for("react.strict_mode"):60108,B=u?Symbol.for("react.profiler"):60114,O=u?Symbol.for("react.provider"):60109,q=u?Symbol.for("react.context"):60110,K=u?Symbol.for("react.async_mode"):60111,J=u?Symbol.for("react.concurrent_mode"):60111,te=u?Symbol.for("react.forward_ref"):60112,ne=u?Symbol.for("react.suspense"):60113,re=u?Symbol.for("react.suspense_list"):60120,ue=u?Symbol.for("react.memo"):60115,pe=u?Symbol.for("react.lazy"):60116,me=u?Symbol.for("react.block"):60121,De=u?Symbol.for("react.fundamental"):60117,Re=u?Symbol.for("react.responder"):60118,He=u?Symbol.for("react.scope"):60119;function Oe(xr){return typeof xr=="string"||typeof xr=="function"||xr===b||xr===J||xr===B||xr===P||xr===ne||xr===re||typeof xr=="object"&&xr!==null&&(xr.$$typeof===pe||xr.$$typeof===ue||xr.$$typeof===O||xr.$$typeof===q||xr.$$typeof===te||xr.$$typeof===De||xr.$$typeof===Re||xr.$$typeof===He||xr.$$typeof===me)}function Fe(xr){if(typeof xr=="object"&&xr!==null){var Xa=xr.$$typeof;switch(Xa){case f:var Ui=xr.type;switch(Ui){case K:case J:case b:case B:case P:case ne:return Ui;default:var zo=Ui&&Ui.$$typeof;switch(zo){case q:case te:case pe:case ue:case O:return zo;default:return Xa}}case m:return Xa}}}var Qe=K,gt=J,Wt=q,Tt=O,An=f,jn=te,jt=b,xn=pe,_r=ue,lr=m,si=B,un=P,gn=ne,Nr=!1;function xi(xr){return Nr||(Nr=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ra(xr)||Fe(xr)===K}function ra(xr){return Fe(xr)===J}function fr(xr){return Fe(xr)===q}function gr(xr){return Fe(xr)===O}function qr(xr){return typeof xr=="object"&&xr!==null&&xr.$$typeof===f}function wi(xr){return Fe(xr)===te}function tn(xr){return Fe(xr)===b}function Qi(xr){return Fe(xr)===pe}function Xn(xr){return Fe(xr)===ue}function Bi(xr){return Fe(xr)===m}function ha(xr){return Fe(xr)===B}function gi(xr){return Fe(xr)===P}function Tn(xr){return Fe(xr)===ne}a.AsyncMode=Qe,a.ConcurrentMode=gt,a.ContextConsumer=Wt,a.ContextProvider=Tt,a.Element=An,a.ForwardRef=jn,a.Fragment=jt,a.Lazy=xn,a.Memo=_r,a.Portal=lr,a.Profiler=si,a.StrictMode=un,a.Suspense=gn,a.isAsyncMode=xi,a.isConcurrentMode=ra,a.isContextConsumer=fr,a.isContextProvider=gr,a.isElement=qr,a.isForwardRef=wi,a.isFragment=tn,a.isLazy=Qi,a.isMemo=Xn,a.isPortal=Bi,a.isProfiler=ha,a.isStrictMode=gi,a.isSuspense=Tn,a.isValidElementType=Oe,a.typeOf=Fe})()}}),nDe=L({"../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(a,u){u.exports=tDe()}}),rDe=L({"../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(a,u){var f=nDe(),m={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},b={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},P={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O={};O[f.ForwardRef]=P,O[f.Memo]=B;function q(me){return f.isMemo(me)?B:O[me.$$typeof]||m}var K=Object.defineProperty,J=Object.getOwnPropertyNames,te=Object.getOwnPropertySymbols,ne=Object.getOwnPropertyDescriptor,re=Object.getPrototypeOf,ue=Object.prototype;function pe(me,De,Re){if(typeof De!="string"){if(ue){var He=re(De);He&&He!==ue&&pe(me,He,Re)}var Oe=J(De);te&&(Oe=Oe.concat(te(De)));for(var Fe=q(me),Qe=q(De),gt=0;gt<Oe.length;++gt){var Wt=Oe[gt];if(!b[Wt]&&!(Re&&Re[Wt])&&!(Qe&&Qe[Wt])&&!(Fe&&Fe[Wt])){var Tt=ne(De,Wt);try{K(me,Wt,Tt)}catch{}}}}return me}u.exports=pe}});function Og(){return(Og=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(a[m]=f[m])}return a}).apply(this,arguments)}function QP(a){return typeof a=="function"}function Aj(a){return typeof a=="string"&&a||a.displayName||a.name||"Component"}function Tj(a){return a&&typeof a.styledComponentId=="string"}function iDe(){for(var a=arguments.length<=0?void 0:arguments[0],u=[],f=1,m=arguments.length;f<m;f+=1)u.push(f<0||arguments.length<=f?void 0:arguments[f]);return u.forEach(function(b){a=a.replace(/%[a-z]/,b)}),a}function H0(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];throw new Error(iDe.apply(void 0,[J2[a]].concat(f)).trim())}function Mj(a){var u,f="";for(u=Math.abs(a);u>52;u=u/52|0)f=Bj(u%52)+f;return(Bj(u%52)+f).replace(cee,"$1-$2")}function aDe(a){for(var u=0;u<a.length;u+=1){var f=a[u];if(QP(f)&&!Tj(f))return!1}return!0}function H2(a){var u,f,m,b,P=a===void 0?f_:a,B=P.options,O=B===void 0?f_:B,q=P.plugins,K=q===void 0?JP:q,J=new F2(O),te=[],ne=function(pe){function me(De){if(De)try{pe(De+"}")}catch{}}return function(De,Re,He,Oe,Fe,Qe,gt,Wt,Tt,An){switch(De){case 1:if(Tt===0&&Re.charCodeAt(0)===64)return pe(Re+";"),"";break;case 2:if(Wt===0)return Re+"/*|*/";break;case 3:switch(Wt){case 102:case 112:return pe(He[0]+Re),"";default:return Re+(An===0?"/*|*/":"")}case-2:Re.split("/*|*/}").forEach(me)}}}(function(pe){te.push(pe)}),re=function(pe,me,De){return me===0&&pee.indexOf(De[f.length])!==-1||De.match(b)?pe:"."+u};function ue(pe,me,De,Re){Re===void 0&&(Re="&");var He=pe.replace(hee,""),Oe=me&&De?De+" "+me+" { "+He+" }":He;return u=Re,f=me,m=new RegExp("\\"+f+"\\b","g"),b=new RegExp("(\\"+f+"\\b){2,}"),J(De||!me?"":me,Oe)}return J.use([].concat(K,[function(pe,me,De){pe===2&&De.length&&De[0].lastIndexOf(f)>0&&(De[0]=De[0].replace(m,re))},ne,function(pe){if(pe===-2){var me=te;return te=[],me}}])),ue.hash=K.length?K.reduce(function(pe,me){return me.name||H0(15),tS(pe,me.name)},5381).toString():"",ue}function Pj(){return(0,gl.useContext)(fL)||mee}function j2(){return(0,gl.useContext)(dL)||hL}function G2(a){var u=(0,gl.useState)(a.stylisPlugins),f=u[0],m=u[1],b=Pj(),P=(0,gl.useMemo)(function(){var O=b;return a.sheet?O=a.sheet:a.target&&(O=O.reconstructWithOptions({target:a.target},!1)),a.disableCSSOMInjection&&(O=O.reconstructWithOptions({useCSSOMInjection:!1})),O},[a.disableCSSOMInjection,a.sheet,a.target]),B=(0,gl.useMemo)(function(){return H2({options:{prefix:!a.disableVendorPrefixes},plugins:f})},[a.disableVendorPrefixes,f]);return(0,gl.useEffect)(function(){(0,X2.default)(f,a.stylisPlugins)||m(a.stylisPlugins)},[a.stylisPlugins]),gl.default.createElement(fL.Provider,{value:P},gl.default.createElement(dL.Provider,{value:B},gl.default.Children.only(a.children)))}function V2(a){return gee.test(a)?a.replace(yee,See).replace(_ee,"-ms-"):a}function Sw(a,u,f,m){if(Array.isArray(a)){for(var b,P=[],B=0,O=a.length;B<O;B+=1)(b=Sw(a[B],u,f,m))!==""&&(Array.isArray(b)?P.push.apply(P,b):P.push(b));return P}if(Nj(a))return"";if(Tj(a))return"."+a.styledComponentId;if(QP(a)){if(typeof(K=a)!="function"||K.prototype&&K.prototype.isReactComponent||!u)return a;var q=a(u);return(0,sL.isElement)(q)&&console.warn(Aj(a)+" is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details."),Sw(q,u,f,m)}var K;return a instanceof vee?f?(a.inject(f,m),a.getName(m)):a:lL(a)?function J(te,ne){var re,ue,pe=[];for(var me in te)te.hasOwnProperty(me)&&!Nj(te[me])&&(Array.isArray(te[me])&&te[me].isCss||QP(te[me])?pe.push(V2(me)+":",te[me],";"):lL(te[me])?pe.push.apply(pe,J(te[me],me)):pe.push(V2(me)+": "+(re=me,(ue=te[me])==null||typeof ue=="boolean"||ue===""?"":typeof ue!="number"||ue===0||re in z2?String(ue).trim():ue+"px")+";"));return ne?[ne+" {"].concat(pe,["}"]):pe}(a):a.toString()}function c_(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];return QP(a)||lL(a)?Fj(Sw(kj(JP,[a].concat(f)))):f.length===0&&a.length===1&&typeof a[0]=="string"?a:Fj(Sw(kj(a,f)))}function Rj(a){return a.replace(xee,"-").replace(wee,"")}function oL(a){return typeof a=="string"&&a.charAt(0)===a.charAt(0).toLowerCase()}function oDe(a,u,f){var m=a[f];pL(u)&&pL(m)?W2(m,u):a[f]=u}function W2(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];for(var b=0,P=f;b<P.length;b++){var B=P[b];if(pL(B))for(var O in B)Eee(O)&&oDe(a,B[O],O)}return a}function K2(a,u,f){var m=Tj(a),b=!oL(a),P=u.attrs,B=P===void 0?JP:P,O=u.componentId,q=O===void 0?function(Re,He){var Oe=typeof Re!="string"?"sc":Rj(Re);vL[Oe]=(vL[Oe]||0)+1;var Fe=Oe+"-"+jj("5.3.5"+Oe+vL[Oe]);return He?He+"-"+Fe:Fe}(u.displayName,u.parentComponentId):O,K=u.displayName,J=K===void 0?function(Re){return oL(Re)?"styled."+Re:"Styled("+Aj(Re)+")"}(a):K,te=u.displayName&&u.componentId?Rj(u.displayName)+"-"+u.componentId:u.componentId||q,ne=m&&a.attrs?Array.prototype.concat(a.attrs,B).filter(Boolean):B,re=u.shouldForwardProp;m&&a.shouldForwardProp&&(re=u.shouldForwardProp?function(Re,He,Oe){return a.shouldForwardProp(Re,He,Oe)&&u.shouldForwardProp(Re,He,Oe)}:a.shouldForwardProp);var ue,pe=new dee(f,te,m?a.componentStyle:void 0),me=pe.isStatic&&B.length===0,De=function(Re,He){return function(Oe,Fe,Qe,gt){var Wt=Oe.attrs,Tt=Oe.componentStyle,An=Oe.defaultProps,jn=Oe.foldedComponentIds,jt=Oe.shouldForwardProp,xn=Oe.styledComponentId,_r=Oe.target;(0,gl.useDebugValue)(xn);var lr=function(wi,tn,Qi){wi===void 0&&(wi=f_);var Xn=Og({},tn,{theme:wi}),Bi={};return Qi.forEach(function(ha){var gi,Tn,xr,Xa=ha;for(gi in QP(Xa)&&(Xa=Xa(Xn)),Xa)Xn[gi]=Bi[gi]=gi==="className"?(Tn=Bi[gi],xr=Xa[gi],Tn&&xr?Tn+" "+xr:Tn||xr):Xa[gi]}),[Xn,Bi]}(Hj(Fe,(0,gl.useContext)(mL),An)||f_,Fe,Wt),si=lr[0],un=lr[1],gn=function(wi,tn,Qi,Xn){var Bi=Pj(),ha=j2(),gi=tn?wi.generateAndInjectStyles(f_,Bi,ha):wi.generateAndInjectStyles(Qi,Bi,ha);return(0,gl.useDebugValue)(gi),!tn&&Xn&&Xn(gi),gi}(Tt,gt,si,Oe.warnTooManyClasses),Nr=Qe,xi=un.$as||Fe.$as||un.as||Fe.as||_r,ra=oL(xi),fr=un!==Fe?Og({},Fe,{},un):Fe,gr={};for(var qr in fr)qr[0]!=="$"&&qr!=="as"&&(qr==="forwardedAs"?gr.as=fr[qr]:(jt?jt(qr,Ij.default,xi):!ra||(0,Ij.default)(qr))&&(gr[qr]=fr[qr]));return Fe.style&&un.style!==Fe.style&&(gr.style=Og({},Fe.style,{},un.style)),gr.className=Array.prototype.concat(jn,xn,gn!==xn?gn:null,Fe.className,un.className).filter(Boolean).join(" "),gr.ref=Nr,(0,gl.createElement)(xi,gr)}(ue,Re,He,me)};return De.displayName=J,(ue=gl.default.forwardRef(De)).attrs=ne,ue.componentStyle=pe,ue.displayName=J,ue.shouldForwardProp=re,ue.foldedComponentIds=m?Array.prototype.concat(a.foldedComponentIds,a.styledComponentId):JP,ue.styledComponentId=te,ue.target=m?a.target:a,ue.withComponent=function(Re){var He=u.componentId,Oe=function(Qe,gt){if(Qe==null)return{};var Wt,Tt,An={},jn=Object.keys(Qe);for(Tt=0;Tt<jn.length;Tt++)Wt=jn[Tt],gt.indexOf(Wt)>=0||(An[Wt]=Qe[Wt]);return An}(u,["componentId"]),Fe=He&&He+"-"+(oL(Re)?Re:Rj(Aj(Re)));return K2(Re,Og({},Oe,{attrs:ne,componentId:Fe}),f)},Object.defineProperty(ue,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Re){this._foldedDefaultProps=m?W2({},a.defaultProps,Re):Re}}),zj(J,te),ue.warnTooManyClasses=function(Re,He){var Oe={},Fe=!1;return function(Qe){if(!Fe&&(Oe[Qe]=!0,Object.keys(Oe).length>=200)){var gt=He?' with the id of "'+He+'"':"";console.warn("Over 200 classes were generated for component "+Re+gt+`.
Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),Fe=!0,Oe={}}}}(J,te),ue.toString=function(){return"."+ue.styledComponentId},b&&(0,Y2.default)(ue,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),ue}function q2(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];var b=c_.apply(void 0,[a].concat(f)),P="sc-global-"+jj(JSON.stringify(b)),B=new bee(b,P);function O(K){var J=Pj(),te=j2(),ne=(0,gl.useContext)(mL),re=(0,gl.useRef)(J.allocateGSInstance(P)).current;return gl.default.Children.count(K.children)&&console.warn("The global style component "+P+" was given child JSX. createGlobalStyle does not render children."),b.some(function(ue){return typeof ue=="string"&&ue.indexOf("@import")!==-1})&&console.warn("Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app."),J.server&&q(re,K,J,ne,te),(0,gl.useLayoutEffect)(function(){if(!J.server)return q(re,K,J,ne,te),function(){return B.removeStyles(re,J)}},[re,K,J,ne,te]),null}function q(K,J,te,ne,re){if(B.isStatic)B.renderStyles(K,Q2,te,re);else{var ue=Og({},J,{theme:Hj(J,ne,O.defaultProps)});B.renderStyles(K,ue,te,re)}}return zj(P),gl.default.memo(O)}var sL,gl,X2,Ij,Y2,kj,lL,JP,f_,d_,uL,$2,Q2,J2,Z2,ZP,eR,_C,tR,eee,tee,nee,ree,iee,aee,cL,Dj,oee,see,lee,Oj,uee,SC,cee,Bj,tS,Lj,fee,dee,hee,pee,fL,dL,mee,hL,vee,gee,yee,_ee,See,Nj,Fj,Uj,nR,zj,Hj,xee,wee,jj,pL,Eee,mL,vL,gL,bee,lt,Hn=w({"../node_modules/styled-components/dist/styled-components.browser.esm.js"(){sL=U(qke()),gl=U(xt()),X2=U(N2()),Yke(),$ke(),Ij=U(eDe()),Y2=U(rDe()),kj=function(a,u){for(var f=[a[0]],m=0,b=u.length;m<b;m+=1)f.push(u[m],a[m+1]);return f},lL=function(a){return a!==null&&typeof a=="object"&&(a.toString?a.toString():Object.prototype.toString.call(a))==="[object Object]"&&!(0,sL.typeOf)(a)},JP=Object.freeze([]),f_=Object.freeze({}),d_=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",uL=typeof window<"u"&&"HTMLElement"in window,$2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:!(typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!=="")||{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Q2={},J2={1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`},Z2=function(){function a(f){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=f}var u=a.prototype;return u.indexOfGroup=function(f){for(var m=0,b=0;b<f;b++)m+=this.groupSizes[b];return m},u.insertRules=function(f,m){if(f>=this.groupSizes.length){for(var b=this.groupSizes,P=b.length,B=P;f>=B;)(B<<=1)<0&&H0(16,""+f);this.groupSizes=new Uint32Array(B),this.groupSizes.set(b),this.length=B;for(var O=P;O<B;O++)this.groupSizes[O]=0}for(var q=this.indexOfGroup(f+1),K=0,J=m.length;K<J;K++)this.tag.insertRule(q,m[K])&&(this.groupSizes[f]++,q++)},u.clearGroup=function(f){if(f<this.length){var m=this.groupSizes[f],b=this.indexOfGroup(f),P=b+m;this.groupSizes[f]=0;for(var B=b;B<P;B++)this.tag.deleteRule(b)}},u.getGroup=function(f){var m="";if(f>=this.length||this.groupSizes[f]===0)return m;for(var b=this.groupSizes[f],P=this.indexOfGroup(f),B=P+b,O=P;O<B;O++)m+=this.tag.getRule(O)+`/*!sc*/
`;return m},a}(),ZP=new Map,eR=new Map,_C=1,tR=function(a){if(ZP.has(a))return ZP.get(a);for(;eR.has(_C);)_C++;var u=_C++;return((0|u)<0||u>1<<30)&&H0(16,""+u),ZP.set(a,u),eR.set(u,a),u},eee=function(a){return eR.get(a)},tee=function(a,u){u>=_C&&(_C=u+1),ZP.set(a,u),eR.set(u,a)},nee="style["+d_+'][data-styled-version="5.3.5"]',ree=new RegExp("^"+d_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),iee=function(a,u,f){for(var m,b=f.split(","),P=0,B=b.length;P<B;P++)(m=b[P])&&a.registerName(u,m)},aee=function(a,u){for(var f=(u.textContent||"").split(`/*!sc*/
`),m=[],b=0,P=f.length;b<P;b++){var B=f[b].trim();if(B){var O=B.match(ree);if(O){var q=0|parseInt(O[1],10),K=O[2];q!==0&&(tee(K,q),iee(a,K,O[3]),a.getTag().insertRules(q,m)),m.length=0}else m.push(B)}}},cL=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Dj=function(a){var u=document.head,f=a||u,m=document.createElement("style"),b=function(O){for(var q=O.childNodes,K=q.length;K>=0;K--){var J=q[K];if(J&&J.nodeType===1&&J.hasAttribute(d_))return J}}(f),P=b!==void 0?b.nextSibling:null;m.setAttribute(d_,"active"),m.setAttribute("data-styled-version","5.3.5");var B=cL();return B&&m.setAttribute("nonce",B),f.insertBefore(m,P),m},oee=function(){function a(f){var m=this.element=Dj(f);m.appendChild(document.createTextNode("")),this.sheet=function(b){if(b.sheet)return b.sheet;for(var P=document.styleSheets,B=0,O=P.length;B<O;B++){var q=P[B];if(q.ownerNode===b)return q}H0(17)}(m),this.length=0}var u=a.prototype;return u.insertRule=function(f,m){try{return this.sheet.insertRule(m,f),this.length++,!0}catch{return!1}},u.deleteRule=function(f){this.sheet.deleteRule(f),this.length--},u.getRule=function(f){var m=this.sheet.cssRules[f];return m!==void 0&&typeof m.cssText=="string"?m.cssText:""},a}(),see=function(){function a(f){var m=this.element=Dj(f);this.nodes=m.childNodes,this.length=0}var u=a.prototype;return u.insertRule=function(f,m){if(f<=this.length&&f>=0){var b=document.createTextNode(m),P=this.nodes[f];return this.element.insertBefore(b,P||null),this.length++,!0}return!1},u.deleteRule=function(f){this.element.removeChild(this.nodes[f]),this.length--},u.getRule=function(f){return f<this.length?this.nodes[f].textContent:""},a}(),lee=function(){function a(f){this.rules=[],this.length=0}var u=a.prototype;return u.insertRule=function(f,m){return f<=this.length&&(this.rules.splice(f,0,m),this.length++,!0)},u.deleteRule=function(f){this.rules.splice(f,1),this.length--},u.getRule=function(f){return f<this.length?this.rules[f]:""},a}(),Oj=uL,uee={isServer:!uL,useCSSOMInjection:!$2},SC=function(){function a(f,m,b){f===void 0&&(f=f_),m===void 0&&(m={}),this.options=Og({},uee,{},f),this.gs=m,this.names=new Map(b),this.server=!!f.isServer,!this.server&&uL&&Oj&&(Oj=!1,function(P){for(var B=document.querySelectorAll(nee),O=0,q=B.length;O<q;O++){var K=B[O];K&&K.getAttribute(d_)!=="active"&&(aee(P,K),K.parentNode&&K.parentNode.removeChild(K))}}(this))}a.registerId=function(f){return tR(f)};var u=a.prototype;return u.reconstructWithOptions=function(f,m){return m===void 0&&(m=!0),new a(Og({},this.options,{},f),this.gs,m&&this.names||void 0)},u.allocateGSInstance=function(f){return this.gs[f]=(this.gs[f]||0)+1},u.getTag=function(){return this.tag||(this.tag=(b=(m=this.options).isServer,P=m.useCSSOMInjection,B=m.target,f=b?new lee(B):P?new oee(B):new see(B),new Z2(f)));var f,m,b,P,B},u.hasNameForId=function(f,m){return this.names.has(f)&&this.names.get(f).has(m)},u.registerName=function(f,m){if(tR(f),this.names.has(f))this.names.get(f).add(m);else{var b=new Set;b.add(m),this.names.set(f,b)}},u.insertRules=function(f,m,b){this.registerName(f,m),this.getTag().insertRules(tR(f),b)},u.clearNames=function(f){this.names.has(f)&&this.names.get(f).clear()},u.clearRules=function(f){this.getTag().clearGroup(tR(f)),this.clearNames(f)},u.clearTag=function(){this.tag=void 0},u.toString=function(){return function(f){for(var m=f.getTag(),b=m.length,P="",B=0;B<b;B++){var O=eee(B);if(O!==void 0){var q=f.names.get(O),K=m.getGroup(B);if(q&&K&&q.size){var J=d_+".g"+B+'[id="'+O+'"]',te="";q!==void 0&&q.forEach(function(ne){ne.length>0&&(te+=ne+",")}),P+=""+K+J+'{content:"'+te+`"}/*!sc*/
`}}}return P}(this)},a}(),cee=/(a)(d)/gi,Bj=function(a){return String.fromCharCode(a+(a>25?39:97))},tS=function(a,u){for(var f=u.length;f;)a=33*a^u.charCodeAt(--f);return a},Lj=function(a){return tS(5381,a)},fee=Lj("5.3.5"),dee=function(){function a(u,f,m){this.rules=u,this.staticRulesId="",this.isStatic=!1,this.componentId=f,this.baseHash=tS(fee,f),this.baseStyle=m,SC.registerId(f)}return a.prototype.generateAndInjectStyles=function(u,f,m){var b=this.componentId,P=[];if(this.baseStyle&&P.push(this.baseStyle.generateAndInjectStyles(u,f,m)),this.isStatic&&!m.hash)if(this.staticRulesId&&f.hasNameForId(b,this.staticRulesId))P.push(this.staticRulesId);else{var B=Sw(this.rules,u,f,m).join(""),O=Mj(tS(this.baseHash,B)>>>0);if(!f.hasNameForId(b,O)){var q=m(B,"."+O,void 0,b);f.insertRules(b,O,q)}P.push(O),this.staticRulesId=O}else{for(var K=this.rules.length,J=tS(this.baseHash,m.hash),te="",ne=0;ne<K;ne++){var re=this.rules[ne];if(typeof re=="string")te+=re,J=tS(J,re+ne);else if(re){var ue=Sw(re,u,f,m),pe=Array.isArray(ue)?ue.join(""):ue;J=tS(J,pe+ne),te+=pe}}if(te){var me=Mj(J>>>0);if(!f.hasNameForId(b,me)){var De=m(te,"."+me,void 0,b);f.insertRules(b,me,De)}P.push(me)}}return P.join(" ")},a}(),hee=/^\s*\/\/.*$/gm,pee=[":","[",".","#"],fL=gl.default.createContext(),fL.Consumer,dL=gl.default.createContext(),mee=(dL.Consumer,new SC),hL=H2(),vee=function(){function a(u,f){var m=this;this.inject=function(b,P){P===void 0&&(P=hL);var B=m.name+P.hash;b.hasNameForId(m.id,B)||b.insertRules(m.id,B,P(m.rules,B,"@keyframes"))},this.toString=function(){return H0(12,String(m.name))},this.name=u,this.id="sc-keyframes-"+u,this.rules=f}return a.prototype.getName=function(u){return u===void 0&&(u=hL),this.name+u.hash},a}(),gee=/([A-Z])/,yee=/([A-Z])/g,_ee=/^ms-/,See=function(a){return"-"+a.toLowerCase()},Nj=function(a){return a==null||a===!1||a===""},Fj=function(a){return Array.isArray(a)&&(a.isCss=!0),a},Uj=/invalid hook call/i,nR=new Set,zj=function(a,u){{var f="The component "+a+(u?' with the id of "'+u+'"':"")+` has been created dynamically.
You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,m=console.error;try{var b=!0;console.error=function(P){if(Uj.test(P))b=!1,nR.delete(f);else{for(var B=arguments.length,O=new Array(B>1?B-1:0),q=1;q<B;q++)O[q-1]=arguments[q];m.apply(void 0,[P].concat(O))}},(0,gl.useRef)(),b&&!nR.has(f)&&(console.warn(f),nR.add(f))}catch(P){Uj.test(P.message)&&nR.delete(f)}finally{console.error=m}}},Hj=function(a,u,f){return f===void 0&&(f=f_),a.theme!==f.theme&&a.theme||u||f.theme},xee=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wee=/(^-|-$)/g,jj=function(a){return Mj(Lj(a)>>>0)},pL=function(a){return typeof a=="function"||typeof a=="object"&&a!==null&&!Array.isArray(a)},Eee=function(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"},mL=gl.default.createContext(),mL.Consumer,vL={},gL=function(a){return function u(f,m,b){if(b===void 0&&(b=f_),!(0,sL.isValidElementType)(m))return H0(1,String(m));var P=function(){return f(m,b,c_.apply(void 0,arguments))};return P.withConfig=function(B){return u(f,m,Og({},b,{},B))},P.attrs=function(B){return u(f,m,Og({},b,{attrs:Array.prototype.concat(b.attrs,B).filter(Boolean)}))},P}(K2,a)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(a){gL[a]=gL(a)}),bee=function(){function a(f,m){this.rules=f,this.componentId=m,this.isStatic=aDe(f),SC.registerId(this.componentId+1)}var u=a.prototype;return u.createStyles=function(f,m,b,P){var B=P(Sw(this.rules,m,b,P).join(""),""),O=this.componentId+f;b.insertRules(O,O,B)},u.removeStyles=function(f,m){m.clearRules(this.componentId+f)},u.renderStyles=function(f,m,b,P){f>2&&SC.registerId(this.componentId+f),this.removeStyles(f,b),this.createStyles(f,m,b,P)},a}(),function(){function a(){var f=this;this._emitSheetCSS=function(){var m=f.instance.toString();if(!m)return"";var b=cL();return"<style "+[b&&'nonce="'+b+'"',d_+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+m+"</style>"},this.getStyleTags=function(){return f.sealed?H0(2):f._emitSheetCSS()},this.getStyleElement=function(){var m;if(f.sealed)return H0(2);var b=((m={})[d_]="",m["data-styled-version"]="5.3.5",m.dangerouslySetInnerHTML={__html:f.instance.toString()},m),P=cL();return P&&(b.nonce=P),[gl.default.createElement("style",Og({},b,{key:"sc-0-0"}))]},this.seal=function(){f.sealed=!0},this.instance=new SC({isServer:!0}),this.sealed=!1}var u=a.prototype;return u.collectStyles=function(f){return this.sealed?H0(2):gl.default.createElement(G2,{sheet:this.instance},f)},u.interleaveWithNodeStream=function(f){return H0(3)},a}(),typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`),typeof window<"u"&&(window["__styled-components-init__"]=window["__styled-components-init__"]||0,window["__styled-components-init__"]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window["__styled-components-init__"]+=1),lt=gL}}),h_,Cee,p_,Aee,Tee,Gj,Mee,Nv,Pee,Ym=w({"studio/src/uiComponents/PointerEventsHandler.tsx"(){h_=U(xt()),Hn(),Cee="pointer-root",p_="--lockedCursor",Aee=lt.div`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`,Tee=lt.div`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`,Gj=(0,h_.createContext)({}),Mee=a=>{var u,f,m,b;const[P,B]=(0,h_.useState)([]),O=(0,h_.useMemo)(()=>({getLock:(J,te)=>{const ne={className:J,cursor:te};return B(ue=>[...ue,ne]),()=>{B(ue=>ue.filter(pe=>pe!==ne))}}}),[]),q=(f=(u=P[0])==null?void 0:u.cursor)!=null?f:"";return h_.default.createElement(Gj.Provider,{value:O},h_.default.createElement(Aee,{id:Cee,className:((b=(m=P[0])==null?void 0:m.className)!=null?b:"normal")+" "+a.className},h_.default.createElement(Tee,{style:{cursor:q,[p_]:q}},a.children)))},Nv=(a,u,f)=>{const m=(0,h_.useContext)(Gj);(0,h_.useLayoutEffect)(()=>{if(a)return m.getLock(u,f)},[a,u,f])},Pee=Mee}});function Ree(a){return rR.default.createElement(Vj.Provider,{value:a.logger},a.children)}function nS(a,u){const f=(0,rR.useContext)(Vj);return(0,rR.useMemo)(()=>a?f.named(a,u):f,[f,a,u])}var rR,Vj,rS=w({"studio/src/uiComponents/useLogger.tsx"(){rR=U(xt()),Vj=rR.default.createContext(null)}});function sDe(){const a=nS("PointerCapturing");let u=Bg.default.useRef(null);const f=()=>u.current!=null;return m=>{let b;const P=O=>(b=O,u.current=O,O);return{capturing:{capturePointer(O){if(a._debug("Capturing pointer",{forDebugName:m,reason:O}),u.current!=null)throw new Error(`"${m}" attempted capturing pointer for "${O}" while already captured by "${u.current.debugOwnerName}" for "${u.current.debugReason}"`);const q=P({debugOwnerName:m,debugReason:O});return{isCapturing(){return q===u.current},release(){return q===u.current?(a._debug("Releasing pointer",{forDebugName:m,reason:O}),P(null),!0):!1}}},isPointerBeingCaptured:f},forceRelease(){b&&u.current===b&&(a._debug("Force releasing pointer",{localCapture:b}),P(null))}}}}function lDe(a){const u=sDe();return Bg.default.createElement(Wj.Provider,{value:u},Bg.default.createElement(kee,{children:a.children}))}function Iee(a){const u=(0,Bg.useContext)(Wj),f=(0,Bg.useMemo)(()=>u(a),[a,u]);return(0,Bg.useEffect)(()=>()=>{f.forceRelease()},[f]),f.capturing}var Bg,Wj,kee,Kj=w({"studio/src/UIRoot/PointerCapturing.tsx"(){Bg=U(xt()),rS(),Wj=Bg.default.createContext(null),kee=Bg.default.memo(({children:a})=>Bg.default.createElement(Bg.default.Fragment,null,a))}}),Dee,j0,iR=w({"shared/src/utils/noop.ts"(){Dee=()=>{},j0=Dee}}),qj,uDe=w({"studio/src/uiComponents/isSafari.ts"(){qj=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}});function oo(a){const u=(0,Xj.useMemo)(()=>{let b=a;return{get current(){return b},set current(P){b=P,m(P)}}},[]),[f,m]=(0,Xj.useState)(()=>a);return[u,f]}var Xj,Po=w({"studio/src/utils/useRefAndState.ts"(){Xj=U(xt())}});function xu(a,u){const f=(0,xC.useRef)(u);f.current=u;const m=u.shouldPointerLock&&!qj,b=(0,xC.useRef)({domDragStarted:!1}),{capturePointer:P}=Iee(`useDrag for ${u.debugName}`),B=(0,xC.useRef)({onDrag:j0,onDragEnd:j0,onClick:j0}),O=(0,xC.useRef)(),[q,K]=oo(!1);return(0,xC.useLayoutEffect)(()=>{if(!a)return;const J=()=>{const Re=b.current.domDragStarted&&b.current.detection.detected;q.current!==Re&&(q.current=Re)},te=Re=>{if(!b.current.domDragStarted)return;const He=b.current;if(!cDe(Re,He)&&(He.detection.detected||(He.detection.totalDistanceMoved+=Math.abs(Re.movementY)+Math.abs(Re.movementX),He.detection.totalDistanceMoved>Bee&&(m&&a.requestPointerLock(),He.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},J())),He.detection.detected)){He.detection.dragEventCount+=1;const{dragMovement:Oe}=He.detection;if(m)Oe.x+=Re.movementX,Oe.y+=Re.movementY;else{const{startPos:Fe}=He;Oe.x=Re.screenX-Fe.x,Oe.y=Re.screenY-Fe.y}B.current.onDrag(Oe.x,Oe.y,Re,Re.movementX,Re.movementY)}},ne=Re=>{if(ue(),!b.current.domDragStarted)return;const He=b.current.detection.detected;b.current={domDragStarted:!1},u.shouldPointerLock&&!qj&&document.exitPointerLock(),B.current.onDragEnd(He),window.focus(),He||B.current.onClick(Re),J()},re=()=>{document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)},ue=()=>{var Re;(Re=O.current)==null||Re.release(),document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne)},pe=Re=>{f.current.disabled||b.current.domDragStarted&&b.current.detection.detected&&(f.current.dontBlockMouseDown||(Re.stopPropagation(),Re.preventDefault()),b.current.detection={detected:!1,totalDistanceMoved:0},J())},me=Re=>{var He,Oe,Fe,Qe;(He=O.current)==null||He.release();const gt=f.current;if(gt.disabled===!0||!((Oe=gt.buttons)!=null?Oe:[0]).includes(Re.button))return;const Tt=gt.onDragStart(Re);Tt!==!1&&(B.current.onDrag=Tt.onDrag,B.current.onDragEnd=(Fe=Tt.onDragEnd)!=null?Fe:j0,B.current.onClick=(Qe=Tt.onClick)!=null?Qe:j0,O.current=P("Drag start"),gt.dontBlockMouseDown||(Re.stopPropagation(),Re.preventDefault()),b.current={domDragStarted:!0,startPos:{x:Re.screenX,y:Re.screenY},detection:{detected:!1,totalDistanceMoved:0}},J(),re())},De=Re=>{me(Re)};return a.addEventListener("mousedown",De),a.addEventListener("click",pe),()=>{var Re,He;ue(),a.removeEventListener("mousedown",De),a.removeEventListener("click",pe),b.current.domDragStarted&&((He=(Re=B.current).onDragEnd)==null||He.call(Re,b.current.detection.detected)),b.current={domDragStarted:!1},J()}},[a]),Nv(K&&!!u.lockCSSCursorTo,"dragging",u.lockCSSCursorTo),[K]}function cDe(a,u){return(!u.detection.detected||u.detection.detected&&u.detection.dragEventCount<3)&&(Math.abs(a.movementX)>Yj||Math.abs(a.movementY)>Yj)}var xC,Oee,Bee,Yj,$c=w({"studio/src/uiComponents/useDrag.ts"(){xC=U(xt()),Ym(),Kj(),iR(),uDe(),Po(),function(a){a[a.Left=0]="Left",a[a.Middle=1]="Middle"}(Oee||(Oee={})),Bee=3,Yj=100}});function fDe(a,u){const f=(0,$j.useRef)({combo:a,listener:u});f.current={combo:a,listener:u},(0,$j.useEffect)(()=>{function m(B){B.key===f.current.combo&&f.current.listener({down:!0,event:B})}function b(B){B.key===f.current.combo&&f.current.listener({down:!1,event:B})}function P(B){f.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",m),document.addEventListener("keyup",b),window.addEventListener("blur",P),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",b),window.removeEventListener("blur",P)}},[])}var $j,dDe=w({"studio/src/uiComponents/useKeyDownCallback.tsx"(){$j=U(xt())}});function Lee(a){const[u,f]=(0,Nee.useState)(!1);return fDe(a,({down:m})=>{f(m)}),u}var Nee,Fee=w({"studio/src/uiComponents/useKeyDown.ts"(){Nee=U(xt()),dDe()}});function hDe(a){const u=(0,Qj.useMemo)(()=>new Uee.Atom(a),[]);return(0,Qj.useLayoutEffect)(()=>{u.setState(a)},[a]),u}var Uee,Qj,pDe=w({"studio/src/uiComponents/useValToAtom.ts"(){Uee=U(Ln),Qj=U(xt())}});function zee(a,u,f){const m=(0,Jj.pointer)({root:{},path:[]}),b=u(m);gC(a,(0,Jj.getPointerParts)(b).path,f)}var Jj,mDe=w({"shared/src/utils/mutableSetDeep.ts"(){Jj=U(Ln),xj()}}),yL,Hee,Sp,Lg=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/DopeSnap.tsx"(){yL="data-pos",Hee={checkIfMouseEventSnapToPos(a,u){const f=a.composedPath().find(m=>m instanceof Element&&m!==(u==null?void 0:u.ignore)&&m.hasAttribute(yL));if(f){const m=parseFloat(f.getAttribute(yL));if(isFinite(m))return m}return null},includePositionSnapAttrs(a){return{[yL]:a}}},Sp=Hee}});function _L(a){const u=a.type==="sheet"?gDe(a):Zj(a);return{byPosition:vDe(u),tracks:u}}function vDe(a){const u=new Map;for(const f of a)for(const m of f.data.keyframes){let b=u.get(m.position);b||(b=[],u.set(m.position,b)),b.push({kf:m,track:f,itemKey:Ef.forTrackKeyframe(f.sheetObject,f.id,m.id)})}return u}function gDe(a){return a.children.flatMap(Zj)}function Zj(a){return a.children.flatMap(u=>u.type==="propWithChildren"?Zj(u):yDe(u))}function yDe(a){const u=a.sheetObject,f=u.address.projectId,m=Z().atomP.historic.coreByProject[f].sheetsById[u.address.sheetId].sequence.tracksByObject[u.address.objectKey],b=(0,SL.val)(m.trackIdByPropPath[Xe(a.pathToProp)]);if(!b)return[];const P=(0,SL.val)(m.trackData[b]);return P?[{id:b,data:P,sheetObject:u}]:[]}function _De(a,u){return Z1(a.children.flatMap(f=>e6(f,u)))}function e6(a,u){return Z1(a.children.flatMap(f=>f.type==="propWithChildren"?e6(f,u):SDe(f,u)))}function SDe(a,u){var f,m;const b=a.sheetObject,P=b.address.projectId,B=Z().atomP.historic.coreByProject[P].sheetsById[b.address.sheetId].sequence.tracksByObject[b.address.objectKey],O=(0,SL.val)(B.trackIdByPropPath[Xe(a.pathToProp)]);return O?(m=(f=u[b.address.objectKey])==null?void 0:f[O])!=null?m:[]:[]}var SL,wC=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/collectAggregateKeyframes.tsx"(){Te(),SL=U(Ln),l_(),It(),wf()}});function xDe(a,u){const[f,m]=oo(null),b=nS("useCaptureSelection");return xu(u,(0,EC.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(P){if(!P.shiftKey||P.target instanceof HTMLInputElement)return!1;const B=u.getBoundingClientRect(),O=P.clientX-B.left-(0,Fv.val)(a.scaledSpace.leftPadding),q=(0,Fv.val)(a.scaledSpace.toUnitSpace)(O);return f.current={h:[q,q],v:[P.clientY-B.top,P.clientY-B.top]},(0,Fv.val)(a.selectionAtom).setState({current:void 0}),{onDrag(K,J,te){const ne=u.getBoundingClientRect(),re=te.clientX-ne.left-(0,Fv.val)(a.scaledSpace.leftPadding),ue=(0,Fv.val)(a.scaledSpace.toUnitSpace)(re);f.current={h:[f.current.h[0],ue],v:[f.current.v[0],te.clientY-ne.top]};const pe=t6.boundsToSelection(b,(0,Fv.val)(a),f.current);(0,Fv.val)(a.selectionAtom).setState({current:pe})},onDragEnd(K){f.current=null}}}}),[a,u,f])),m}var Fv,EC,iS,jee,Gee,t6,Vee,n6,Wee,Kee,wDe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/DopeSheetSelectionView.tsx"(){Te(),$c(),Fee(),pDe(),mDe(),Po(),Ei(),Fv=U(Ln),EC=U(xt()),Hn(),Lg(),wC(),rS(),iS=5,jee=lt.div`
  cursor: ${a=>a.isShiftDown?"cell":"default"};
`,Gee=({layoutP:a,children:u,height:f})=>{const[m,b]=oo(null),P=Lee("Shift"),B=xDe(a,b),O=(0,EC.useRef)(B);return O.current=B,EC.default.createElement(jee,{style:{height:f+"px"},ref:m,isShiftDown:P,className:"selectionview"},B&&EC.default.createElement(Wee,{state:B,layoutP:a}),u)},function(a){const u=(B,O,q,K,J)=>{const te=_L(q);if(q.top+q.nodeHeight/2+iS>K.v[0]&&q.top+q.nodeHeight/2-iS<K.v[1])for(const[ne,re]of te.byPosition){const ue=O.scaledSpace.toUnitSpace(iS);if(!(ne+ue<=K.h[0]||ne-ue>=K.h[1]))for(const me of re)zee(J,De=>De[me.track.sheetObject.address.objectKey].byTrackId[me.track.id].byKeyframeId[me.kf.id],!0)}m(B,O,q,K,J)},f={sheet(B,O,q,K,J){u(B,O,q,K,J)},propWithChildren(B,O,q,K,J){u(B,O,q,K,J)},sheetObject(B,O,q,K,J){u(B,O,q,K,J)},primitiveProp(B,O,q,K,J){const{sheetObject:te,trackId:ne}=q,re=(0,Fv.val)(Z().atomP.historic.coreByProject[te.address.projectId].sheetsById[te.address.sheetId].sequence.tracksByObject[te.address.objectKey].trackData[ne]);if(!(K.v[0]>q.top+q.heightIncludingChildren/2+iS||q.top+q.heightIncludingChildren/2-iS>K.v[1])){for(const ue of re.keyframes)if(!(ue.position+O.scaledSpace.toUnitSpace(iS)<=K.h[0])){if(ue.position-O.scaledSpace.toUnitSpace(iS)>=K.h[1])break;zee(J,pe=>pe[te.address.objectKey].byTrackId[ne].byKeyframeId[ue.id],!0)}}}},m=(B,O,q,K,J)=>{if("children"in q)for(const te of q.children)b(B,O,te,K,J)};function b(B,O,q,K,J){if(!q.shouldRender||K.v[0]>q.top+q.heightIncludingChildren||q.top>K.v[1])return;const te=f[q.type];te?te(B,O,q,K,J):m(B,O,q,K,J)}function P(B,O,q){const K={};q=n6(q);const J=O.tree;b(B.utilFor.internal(),O,J,q,K);const te=O.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:K,getDragHandlers(ne){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let re;const ue=O.scaledSpace.toUnitSpace;return{onDrag(pe,me,De){re&&(re.discard(),re=void 0);const Re=Sp.checkIfMouseEventSnapToPos(De,{ignore:ne.domNode}),He=Re!=null?Re-ne.positionAtStartOfDrag:ue(pe);re=Z().tempTransaction(({stateEditors:Oe})=>{const Fe=Oe.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(const Qe of Object.keys(K)){const{byTrackId:gt}=K[Qe];for(const Wt of Object.keys(gt)){const{byKeyframeId:Tt}=gt[Wt];Fe({trackId:Wt,keyframeIds:Object.keys(Tt),translate:He,scale:1,origin:0,snappingFunction:te.getSequence().closestGridPosition,objectKey:Qe,projectId:ne.projectId,sheetId:ne.sheetId})}}})},onDragEnd(pe){pe?re==null||re.commit():re==null||re.discard()}}}}},delete(){Z().transaction(({stateEditors:ne})=>{const re=ne.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(const ue of Object.keys(K)){const{byTrackId:pe}=K[ue];for(const me of Object.keys(pe)){const{byKeyframeId:De}=pe[me];re(R(T({},te.address),{objectKey:ue,trackId:me,keyframeIds:Object.keys(De)}))}}})}}}a.boundsToSelection=P}(t6||(t6={})),Vee=lt.div`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`,n6=a=>({h:[...a.h].sort((u,f)=>u-f),v:[...a.v].sort((u,f)=>u-f)}),Wee=({state:a,layoutP:u})=>{const f=hDe(a);return ma(()=>{const m=(0,Fv.val)(f.pointer),b=n6(m),P=(0,Fv.val)(u.scaledSpace.fromUnitSpace),B=(0,Fv.val)(u.scaledSpace.leftPadding),O=b.h.map(P).map(ne=>ne+B),q=b.v[0],K=b.v[1]-b.v[0],J=O[0],te=O[1]-O[0];return EC.default.createElement(Vee,{style:{top:q+"px",height:K+"px",left:J+"px",width:te+"px"}})},[u,f])},Kee=Gee}});function EDe(a){return Object.keys(a)}function bDe(a){return Object.keys((0,G0.val)(a.sheetTemplatesP))}function CDe(){const u=Z1(aS().filter(f=>Le(f)||ut(f)).map(f=>ut(f)?f.sheet:f))[0];if(u)return u.getSequence()}var G0,aS,qee,oS=w({"studio/src/selectors.ts"(){G0=U(Ln),we(),wf(),Te(),aS=()=>{var a;const u=(0,G0.val)(Z().projectsP),f=((a=(0,G0.val)(Z().atomP.historic.panels.outlinePanel.selection))!=null?a:[]).map(m=>{const b=u[m.projectId];if(!b)return;if(m.type==="Project")return b;if(!(0,G0.val)(b.sheetTemplatesP[m.sheetId]))return;const B=qee(b,m.sheetId);if(!B)return;if(m.type==="Sheet")return B;const O=(0,G0.val)(B.objectsP[m.objectKey]);if(O)return O});return Z1(f.filter(m=>typeof m<"u"))},qee=(a,u)=>{const f=Z().atomP.historic.projects.stateByProjectId[a.address.projectId],m=(0,G0.val)(f.stateBySheetId[u].selectedInstanceId),b=(0,G0.val)(a.sheetTemplatesP[u]);if(b){if(m)return(0,G0.val)(b.instancesP[m]);{const P=(0,G0.val)(b.instancesP);return P[EDe(P)[0]]}}}}}),r6,i6,Xee=w({"shared/src/utils/valToAtom.ts"(){r6=U(Ln),i6=(a,u)=>{const f=r6.prism.memo(a,()=>new r6.Atom(u),[]);return f.setState(u),f}}});function xw(){return xw=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(a[m]=f[m])}return a},xw.apply(this,arguments)}var ADe=w({"../node_modules/@babel/runtime/helpers/esm/extends.js"(){}});function TDe(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var MDe=w({"../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"(){}});function aR(a,u){return aR=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m},aR(a,u)}var a6=w({"../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"(){}});function PDe(a,u){a.prototype=Object.create(u.prototype),a.prototype.constructor=a,aR(a,u)}var RDe=w({"../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"(){a6()}});function o6(a){return o6=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},o6(a)}var IDe=w({"../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"(){}});function kDe(a){return Function.toString.call(a).indexOf("[native code]")!==-1}var DDe=w({"../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js"(){}});function ODe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var BDe=w({"../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js"(){}});function xL(a,u,f){return ODe()?xL=Reflect.construct:xL=function(b,P,B){var O=[null];O.push.apply(O,P);var q=Function.bind.apply(b,O),K=new q;return B&&aR(K,B.prototype),K},xL.apply(null,arguments)}var LDe=w({"../node_modules/@babel/runtime/helpers/esm/construct.js"(){a6(),BDe()}});function s6(a){var u=typeof Map=="function"?new Map:void 0;return s6=function(m){if(m===null||!kDe(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(typeof u<"u"){if(u.has(m))return u.get(m);u.set(m,b)}function b(){return xL(m,arguments,o6(this).constructor)}return b.prototype=Object.create(m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),aR(b,m)},s6(a)}var NDe=w({"../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"(){IDe(),a6(),DDe(),LDe()}}),FDe=w({"../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"(){}});function UDe(){for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];var m=u[0],b=[],P;for(P=1;P<u.length;P+=1)b.push(u[P]);return b.forEach(function(B){m=m.replace(/%[a-z]/,B)}),m}function zDe(a){return a.charAt(0).toUpperCase()+a.slice(1)}function HDe(a,u){if(!a)return u.toLowerCase();var f=a.split("-");if(f.length>1)return f.splice(1,0,u),f.reduce(function(b,P){return""+b+zDe(P)});var m=a.replace(/([a-z])([A-Z])/g,"$1"+u+"$2");return a===m?""+a+u:m}function jDe(a,u){for(var f={},m=0;m<u.length;m+=1)(u[m]||u[m]===0)&&(f[HDe(a,Zee[m])]=u[m]);return f}function Yee(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];var b=f[0],P=f[1],B=P===void 0?b:P,O=f[2],q=O===void 0?b:O,K=f[3],J=K===void 0?B:K,te=[b,B,q,J];return jDe(a,te)}function l6(a){return Math.round(a*255)}function GDe(a,u,f){return l6(a)+","+l6(u)+","+l6(f)}function oR(a,u,f,m){if(m===void 0&&(m=GDe),u===0)return m(f,f,f);var b=(a%360+360)%360/60,P=(1-Math.abs(2*f-1))*u,B=P*(1-Math.abs(b%2-1)),O=0,q=0,K=0;b>=0&&b<1?(O=P,q=B):b>=1&&b<2?(O=B,q=P):b>=2&&b<3?(q=P,K=B):b>=3&&b<4?(q=B,K=P):b>=4&&b<5?(O=B,K=P):b>=5&&b<6&&(O=P,K=B);var J=f-P/2,te=O+J,ne=q+J,re=K+J;return m(te,ne,re)}function VDe(a){if(typeof a!="string")return a;var u=a.toLowerCase();return m6[u]?"#"+m6[u]:a}function u6(a){if(typeof a!="string")throw new Ng(3);var u=VDe(a);if(u.match(ete))return{red:parseInt(""+u[1]+u[2],16),green:parseInt(""+u[3]+u[4],16),blue:parseInt(""+u[5]+u[6],16)};if(u.match(tte)){var f=parseFloat((parseInt(""+u[7]+u[8],16)/255).toFixed(2));return{red:parseInt(""+u[1]+u[2],16),green:parseInt(""+u[3]+u[4],16),blue:parseInt(""+u[5]+u[6],16),alpha:f}}if(u.match(nte))return{red:parseInt(""+u[1]+u[1],16),green:parseInt(""+u[2]+u[2],16),blue:parseInt(""+u[3]+u[3],16)};if(u.match(rte)){var m=parseFloat((parseInt(""+u[4]+u[4],16)/255).toFixed(2));return{red:parseInt(""+u[1]+u[1],16),green:parseInt(""+u[2]+u[2],16),blue:parseInt(""+u[3]+u[3],16),alpha:m}}var b=CL.exec(u);if(b)return{red:parseInt(""+b[1],10),green:parseInt(""+b[2],10),blue:parseInt(""+b[3],10)};var P=ite.exec(u.substring(0,50));if(P)return{red:parseInt(""+P[1],10),green:parseInt(""+P[2],10),blue:parseInt(""+P[3],10),alpha:parseFloat(""+P[4])};var B=ate.exec(u);if(B){var O=parseInt(""+B[1],10),q=parseInt(""+B[2],10)/100,K=parseInt(""+B[3],10)/100,J="rgb("+oR(O,q,K)+")",te=CL.exec(J);if(!te)throw new Ng(4,u,J);return{red:parseInt(""+te[1],10),green:parseInt(""+te[2],10),blue:parseInt(""+te[3],10)}}var ne=ote.exec(u.substring(0,50));if(ne){var re=parseInt(""+ne[1],10),ue=parseInt(""+ne[2],10)/100,pe=parseInt(""+ne[3],10)/100,me="rgb("+oR(re,ue,pe)+")",De=CL.exec(me);if(!De)throw new Ng(4,u,me);return{red:parseInt(""+De[1],10),green:parseInt(""+De[2],10),blue:parseInt(""+De[3],10),alpha:parseFloat(""+ne[4])}}throw new Ng(5)}function WDe(a){var u=a.red/255,f=a.green/255,m=a.blue/255,b=Math.max(u,f,m),P=Math.min(u,f,m),B=(b+P)/2;if(b===P)return a.alpha!==void 0?{hue:0,saturation:0,lightness:B,alpha:a.alpha}:{hue:0,saturation:0,lightness:B};var O,q=b-P,K=B>.5?q/(2-b-P):q/(b+P);switch(b){case u:O=(f-m)/q+(f<m?6:0);break;case f:O=(m-u)/q+2;break;default:O=(u-f)/q+4;break}return O*=60,a.alpha!==void 0?{hue:O,saturation:K,lightness:B,alpha:a.alpha}:{hue:O,saturation:K,lightness:B}}function c6(a){return WDe(u6(a))}function ww(a){var u=a.toString(16);return u.length===1?"0"+u:u}function f6(a){return ww(Math.round(a*255))}function KDe(a,u,f){return AL("#"+f6(a)+f6(u)+f6(f))}function wL(a,u,f){return oR(a,u,f,KDe)}function qDe(a,u,f){if(typeof a=="number"&&typeof u=="number"&&typeof f=="number")return wL(a,u,f);if(typeof a=="object"&&u===void 0&&f===void 0)return wL(a.hue,a.saturation,a.lightness);throw new Ng(1)}function XDe(a,u,f,m){if(typeof a=="number"&&typeof u=="number"&&typeof f=="number"&&typeof m=="number")return m>=1?wL(a,u,f):"rgba("+oR(a,u,f)+","+m+")";if(typeof a=="object"&&u===void 0&&f===void 0&&m===void 0)return a.alpha>=1?wL(a.hue,a.saturation,a.lightness):"rgba("+oR(a.hue,a.saturation,a.lightness)+","+a.alpha+")";throw new Ng(2)}function d6(a,u,f){if(typeof a=="number"&&typeof u=="number"&&typeof f=="number")return AL("#"+ww(a)+ww(u)+ww(f));if(typeof a=="object"&&u===void 0&&f===void 0)return AL("#"+ww(a.red)+ww(a.green)+ww(a.blue));throw new Ng(6)}function $ee(a,u,f,m){if(typeof a=="string"&&typeof u=="number"){var b=u6(a);return"rgba("+b.red+","+b.green+","+b.blue+","+u+")"}else{if(typeof a=="number"&&typeof u=="number"&&typeof f=="number"&&typeof m=="number")return m>=1?d6(a,u,f):"rgba("+a+","+u+","+f+","+m+")";if(typeof a=="object"&&u===void 0&&f===void 0&&m===void 0)return a.alpha>=1?d6(a.red,a.green,a.blue):"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha+")"}throw new Ng(7)}function h6(a){if(typeof a!="object")throw new Ng(8);if(lte(a))return $ee(a);if(ste(a))return d6(a);if(cte(a))return XDe(a);if(ute(a))return qDe(a);throw new Ng(8)}function Qee(a,u,f){return function(){var b=f.concat(Array.prototype.slice.call(arguments));return b.length>=u?a.apply(this,b):Qee(a,u,b)}}function EL(a){return Qee(a,a.length,[])}function bL(a,u,f){return Math.max(a,Math.min(u,f))}function YDe(a,u){if(u==="transparent")return u;var f=c6(u);return h6(xw({},f,{lightness:bL(0,1,f.lightness-parseFloat(a))}))}function $De(a,u){if(u==="transparent")return u;var f=c6(u);return h6(xw({},f,{lightness:bL(0,1,f.lightness+parseFloat(a))}))}function QDe(a,u){if(u==="transparent")return u;var f=c6(u);return h6(xw({},f,{saturation:bL(0,1,f.saturation+parseFloat(a))}))}function JDe(a,u){if(u==="transparent")return u;var f=u6(u),m=typeof f.alpha=="number"?f.alpha:1,b=xw({},f,{alpha:bL(0,1,+(m*100-parseFloat(a)*100).toFixed(2)/100)});return $ee(b)}function p6(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];return fte.indexOf(a)>=0&&a?xw({},Yee.apply(void 0,[""].concat(f)),{position:a}):Yee.apply(void 0,["",a].concat(f))}var Jee,Ng,Zee,m6,ete,tte,nte,rte,CL,ite,ate,ote,AL,ste,lte,ute,cte,sR,bC,TL,sS,fte,Uv=w({"../node_modules/polished/dist/polished.esm.js"(){ADe(),MDe(),RDe(),NDe(),FDe(),Jee={1:`Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).

`,2:`Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).

`,3:`Passed an incorrect argument to a color function, please pass a string representation of a color.

`,4:`Couldn't generate valid rgb string from %s, it returned %s.

`,5:`Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.

`,6:`Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).

`,7:`Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).

`,8:`Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.

`,9:`Please provide a number of steps to the modularScale helper.

`,10:`Please pass a number or one of the predefined scales to the modularScale helper as the ratio.

`,11:`Invalid value passed as base to modularScale, expected number or em string but got "%s"

`,12:`Expected a string ending in "px" or a number passed as the first argument to %s(), got "%s" instead.

`,13:`Expected a string ending in "px" or a number passed as the second argument to %s(), got "%s" instead.

`,14:`Passed invalid pixel value ("%s") to %s(), please pass a value like "12px" or 12.

`,15:`Passed invalid base value ("%s") to %s(), please pass a value like "12px" or 12.

`,16:`You must provide a template to this method.

`,17:`You passed an unsupported selector state to this method.

`,18:`minScreen and maxScreen must be provided as stringified numbers with the same units.

`,19:`fromSize and toSize must be provided as stringified numbers with the same units.

`,20:`expects either an array of objects or a single object with the properties prop, fromSize, and toSize.

`,21:"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",22:"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",23:`fontFace expects a name of a font-family.

`,24:`fontFace expects either the path to the font file(s) or a name of a local copy.

`,25:`fontFace expects localFonts to be an array.

`,26:`fontFace expects fileFormats to be an array.

`,27:`radialGradient requries at least 2 color-stops to properly render.

`,28:`Please supply a filename to retinaImage() as the first argument.

`,29:`Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.

`,30:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",31:`The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation

`,32:`To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])
To pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')

`,33:`The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation

`,34:`borderRadius expects a radius value as a string or number as the second argument.

`,35:`borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.

`,36:`Property must be a string value.

`,37:`Syntax Error at %s.

`,38:`Formula contains a function that needs parentheses at %s.

`,39:`Formula is missing closing parenthesis at %s.

`,40:`Formula has too many closing parentheses at %s.

`,41:`All values in a formula must have the same unit or be unitless.

`,42:`Please provide a number of steps to the modularScale helper.

`,43:`Please pass a number or one of the predefined scales to the modularScale helper as the ratio.

`,44:`Invalid value passed as base to modularScale, expected number or em/rem string but got %s.

`,45:`Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.

`,46:`Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.

`,47:`minScreen and maxScreen must be provided as stringified numbers with the same units.

`,48:`fromSize and toSize must be provided as stringified numbers with the same units.

`,49:`Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.

`,50:`Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.

`,51:`Expects the first argument object to have the properties prop, fromSize, and toSize.

`,52:`fontFace expects either the path to the font file(s) or a name of a local copy.

`,53:`fontFace expects localFonts to be an array.

`,54:`fontFace expects fileFormats to be an array.

`,55:`fontFace expects a name of a font-family.

`,56:`linearGradient requries at least 2 color-stops to properly render.

`,57:`radialGradient requries at least 2 color-stops to properly render.

`,58:`Please supply a filename to retinaImage() as the first argument.

`,59:`Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.

`,60:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",61:`Property must be a string value.

`,62:`borderRadius expects a radius value as a string or number as the second argument.

`,63:`borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.

`,64:`The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.

`,65:`To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').

`,66:`The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.

`,67:`You must provide a template to this method.

`,68:`You passed an unsupported selector state to this method.

`,69:`Expected a string ending in "px" or a number passed as the first argument to %s(), got %s instead.

`,70:`Expected a string ending in "px" or a number passed as the second argument to %s(), got %s instead.

`,71:`Passed invalid pixel value %s to %s(), please pass a value like "12px" or 12.

`,72:`Passed invalid base value %s to %s(), please pass a value like "12px" or 12.

`,73:`Please provide a valid CSS variable.

`,74:`CSS variable not found and no default was provided.

`,75:`important requires a valid style object, got a %s instead.

`,76:`fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.

`,77:`remToPx expects a value in "rem" but you provided it in "%s".

`,78:`base must be set in "px" or "%" but you set it in "%s".
`},Ng=function(a){PDe(u,a);function u(f){var m;{for(var b=arguments.length,P=new Array(b>1?b-1:0),B=1;B<b;B++)P[B-1]=arguments[B];m=a.call(this,UDe.apply(void 0,[Jee[f]].concat(P)))||this}return TDe(m)}return u}(s6(Error)),Zee=["Top","Right","Bottom","Left"],m6={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ete=/^#[a-fA-F0-9]{6}$/,tte=/^#[a-fA-F0-9]{8}$/,nte=/^#[a-fA-F0-9]{3}$/,rte=/^#[a-fA-F0-9]{4}$/,CL=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,ite=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ate=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ote=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,AL=function(u){return u.length===7&&u[1]===u[2]&&u[3]===u[4]&&u[5]===u[6]?"#"+u[1]+u[3]+u[5]:u},ste=function(u){return typeof u.red=="number"&&typeof u.green=="number"&&typeof u.blue=="number"&&(typeof u.alpha!="number"||typeof u.alpha>"u")},lte=function(u){return typeof u.red=="number"&&typeof u.green=="number"&&typeof u.blue=="number"&&typeof u.alpha=="number"},ute=function(u){return typeof u.hue=="number"&&typeof u.saturation=="number"&&typeof u.lightness=="number"&&(typeof u.alpha!="number"||typeof u.alpha>"u")},cte=function(u){return typeof u.hue=="number"&&typeof u.saturation=="number"&&typeof u.lightness=="number"&&typeof u.alpha=="number"},sR=EL(YDe),bC=EL($De),TL=EL(QDe),sS=EL(JDe),fte=["absolute","fixed","relative","static","sticky"]}});function ZDe(a,u,f){return u in a?Object.defineProperty(a,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[u]=f,a}function dte(a,u){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);u&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,m)}return f}function Ew(a){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?dte(Object(f),!0).forEach(function(m){ZDe(a,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):dte(Object(f)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(f,m))})}return a}function CC(a,u){if(a==null)return{};var f={},m=Object.keys(a),b,P;for(P=0;P<m.length;P++)b=m[P],!(u.indexOf(b)>=0)&&(f[b]=a[b]);return f}var lR=w({"../node_modules/reakit/es/_rollupPluginBabelHelpers-1f0bf8c2.js"(){}}),hte,v6,pte=w({"../node_modules/reakit-system/es/SystemContext.js"(){hte=U(xt()),v6=(0,hte.createContext)({})}});function eOe(a,u,f){return u in a?Object.defineProperty(a,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[u]=f,a}function mte(a,u){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);u&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,m)}return f}function AC(a){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?mte(Object(f),!0).forEach(function(m){eOe(a,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):mte(Object(f)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(f,m))})}return a}function g6(a,u){if(a==null)return{};var f={},m=Object.keys(a),b,P;for(P=0;P<m.length;P++)b=m[P],!(u.indexOf(b)>=0)&&(f[b]=a[b]);return f}function tOe(a,u){if(a){if(typeof a=="string")return vte(a,u);var f=Object.prototype.toString.call(a).slice(8,-1);if(f==="Object"&&a.constructor&&(f=a.constructor.name),f==="Map"||f==="Set")return Array.from(a);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return vte(a,u)}}function vte(a,u){(u==null||u>a.length)&&(u=a.length);for(var f=0,m=new Array(u);f<u;f++)m[f]=a[f];return m}function gte(a,u){var f;if(typeof Symbol>"u"||a[Symbol.iterator]==null){if(Array.isArray(a)||(f=tOe(a))||u&&a&&typeof a.length=="number"){f&&(a=f);var m=0;return function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return f=a[Symbol.iterator](),f.next.bind(f)}var ML=w({"../node_modules/reakit-system/es/_rollupPluginBabelHelpers-0c84a174.js"(){}});function nOe(a){return typeof a=="function"}var y6,yte,rOe=w({"../node_modules/reakit-system/es/useCreateElement.js"(){y6=U(xt()),pte(),ML(),yte=function(u,f,m){m===void 0&&(m=f.children);var b=(0,y6.useContext)(v6);if(b.useCreateElement)return b.useCreateElement(u,f,m);if(typeof u=="string"&&nOe(m)){f.children;var P=g6(f,["children"]);return m(P)}return(0,y6.createElement)(u,f,m)}}});function iOe(a,u,f){return u in a?Object.defineProperty(a,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[u]=f,a}function _te(a,u){var f=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);u&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),f.push.apply(f,m)}return f}function TC(a){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?_te(Object(f),!0).forEach(function(m){iOe(a,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(f)):_te(Object(f)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(f,m))})}return a}function aOe(a,u){if(a==null)return{};var f={},m=Object.keys(a),b,P;for(P=0;P<m.length;P++)b=m[P],!(u.indexOf(b)>=0)&&(f[b]=a[b]);return f}function oOe(a,u){if(a){if(typeof a=="string")return Ste(a,u);var f=Object.prototype.toString.call(a).slice(8,-1);if(f==="Object"&&a.constructor&&(f=a.constructor.name),f==="Map"||f==="Set")return Array.from(a);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return Ste(a,u)}}function Ste(a,u){(u==null||u>a.length)&&(u=a.length);for(var f=0,m=new Array(u);f<u;f++)m[f]=a[f];return m}function sOe(a,u){var f;if(typeof Symbol>"u"||a[Symbol.iterator]==null){if(Array.isArray(a)||(f=oOe(a))||u&&a&&typeof a.length=="number"){f&&(a=f);var m=0;return function(){return m>=a.length?{done:!0}:{done:!1,value:a[m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return f=a[Symbol.iterator](),f.next.bind(f)}var _6=w({"../node_modules/reakit-utils/es/_rollupPluginBabelHelpers-1f0bf8c2.js"(){}});function lOe(a){return typeof a=="object"&&a!=null}var uOe=w({"../node_modules/reakit-utils/es/isObject.js"(){}});function S6(a){var u;if(!lOe(a))return!1;var f=Object.getPrototypeOf(a);return f==null?!0:((u=f.constructor)===null||u===void 0?void 0:u.toString())===Object.toString()}var xte=w({"../node_modules/reakit-utils/es/isPlainObject.js"(){uOe()}});function wte(a,u){for(var f=Object.keys(a),m={},b={},P=0,B=f;P<B.length;P++){var O=B[P];u.indexOf(O)>=0?m[O]=a[O]:b[O]=a[O]}return[m,b]}function Ete(a,u){if(u===void 0&&(u=[]),!S6(a.state))return wte(a,u);var f=wte(a,[].concat(u,["state"])),m=f[0],b=f[1],P=m.state,B=aOe(m,["state"]);return[TC(TC({},P),B),b]}var cOe=w({"../node_modules/reakit-utils/es/splitProps.js"(){_6(),xte()}});function PL(a,u){if(a===u)return!0;if(!a||!u||typeof a!="object"||typeof u!="object")return!1;var f=Object.keys(a),m=Object.keys(u),b=f.length;if(m.length!==b)return!1;for(var P=0,B=f;P<B.length;P++){var O=B[P];if(a[O]!==u[O])return!1}return!0}var x6=w({"../node_modules/reakit-utils/es/shallowEqual.js"(){}});function bte(a){return a.name==="normalizePropsAreEqualInner"?a:function(f,m){return!S6(f.state)||!S6(m.state)?a(f,m):a(TC(TC({},f.state),f),TC(TC({},m.state),m))}}var fOe=w({"../node_modules/reakit-utils/es/normalizePropsAreEqual.js"(){_6(),xte()}});function dOe(a){return(0,w6.forwardRef)(a)}function hOe(a,u){return(0,w6.memo)(a,u)}function uR(a){var u=a.as,f=a.useHook,m=a.memo,b=a.propsAreEqual,P=b===void 0?f==null?void 0:f.unstable_propsAreEqual:b,B=a.keys,O=B===void 0?(f==null?void 0:f.__keys)||[]:B,q=a.useCreateElement,K=q===void 0?yte:q,J=function(ne,re){var ue=ne.as,pe=ue===void 0?u:ue,me=g6(ne,["as"]);if(f){var De,Re=Ete(me,O),He=Re[0],Oe=Re[1],Fe=f(He,AC({ref:re},Oe)),Qe=Fe.wrapElement,gt=g6(Fe,["wrapElement"]),Wt=((De=pe.render)===null||De===void 0?void 0:De.__keys)||pe.__keys,Tt=Wt&&Ete(me,Wt)[0],An=Tt?AC(AC({},gt),Tt):gt,jn=K(pe,An);return Qe?Qe(jn):jn}return K(pe,AC({ref:re},me))};return f&&(J.displayName=f.name.replace(/^(unstable_)?use/,"")),J=dOe(J),m&&(J=hOe(J,P&&bte(P))),J.__keys=O,J.unstable_propsAreEqual=bte(P||PL),J}var w6,cR=w({"../node_modules/reakit-system/es/createComponent.js"(){w6=U(xt()),ML(),rOe(),cOe(),x6(),fOe()}});function Cte(a,u){(0,E6.useDebugValue)(a);var f=(0,E6.useContext)(v6);return f[a]!=null?f[a]:u}var E6,Ate=w({"../node_modules/reakit-system/es/useToken.js"(){E6=U(xt()),pte()}});function pOe(a,u,f){u===void 0&&(u={}),f===void 0&&(f={});var m="use"+a+"Props";(0,Tte.useDebugValue)(m);var b=Cte(m);return b?b(u,f):f}var Tte,mOe=w({"../node_modules/reakit-system/es/useProps.js"(){Tte=U(xt()),Ate()}});function vOe(a,u,f){u===void 0&&(u={}),f===void 0&&(f={});var m="use"+a+"Options";(0,Mte.useDebugValue)(m);var b=Cte(m);return b?AC(AC({},u),b(u,f)):u}var Mte,gOe=w({"../node_modules/reakit-system/es/useOptions.js"(){Mte=U(xt()),Ate(),ML()}});function yOe(a){return Array.isArray(a)?a:typeof a<"u"?[a]:[]}var _Oe=w({"../node_modules/reakit-utils/es/toArray.js"(){}});function fR(a){var u,f,m=yOe(a.compose),b=function(q,K){if(a.useOptions&&(q=a.useOptions(q,K)),a.name&&(q=vOe(a.name,q,K)),a.compose)for(var J=gte(m),te;!(te=J()).done;){var ne=te.value;q=ne.__useOptions(q,K)}return q},P=function(q,K,J){if(q===void 0&&(q={}),K===void 0&&(K={}),J===void 0&&(J=!1),J||(q=b(q,K)),a.useProps&&(K=a.useProps(q,K)),a.name&&(K=pOe(a.name,q,K)),a.compose)if(a.useComposeOptions&&(q=a.useComposeOptions(q,K)),a.useComposeProps)K=a.useComposeProps(q,K);else for(var te=gte(m),ne;!(ne=te()).done;){var re=ne.value;K=re(q,K,!0)}var ue={},pe=K||{};for(var me in pe)pe[me]!==void 0&&(ue[me]=pe[me]);return ue};P.__useOptions=b;var B=m.reduce(function(O,q){return O.push.apply(O,q.__keys||[]),O},[]);return P.__keys=[].concat(B,((u=a.useState)===null||u===void 0?void 0:u.__keys)||[],a.keys||[]),P.unstable_propsAreEqual=a.propsAreEqual||((f=m[0])===null||f===void 0?void 0:f.unstable_propsAreEqual)||PL,a.name&&Object.defineProperty(P,"name",{value:"use"+a.name}),P}var dR=w({"../node_modules/reakit-system/es/createHook.js"(){U(xt()),mOe(),ML(),gOe(),x6(),_Oe()}});function Pte(a,u){u===void 0&&(u=null),a&&(typeof a=="function"?a(u):a.current=u)}function Rte(a,u){return(0,Ite.useMemo)(function(){return a==null&&u==null?null:function(f){Pte(a,f),Pte(u,f)}},[a,u])}var Ite,kte=w({"../node_modules/reakit-utils/es/useForkRef.js"(){Ite=U(xt())}});function b6(a){if(a.tagName==="BUTTON")return!0;if(a.tagName==="INPUT"){var u=a;return Dte.indexOf(u.type)!==-1}return!1}var Dte,C6=w({"../node_modules/reakit-utils/es/isButton.js"(){Dte=["button","color","file","image","reset","submit"]}});function Ote(a){for(var u=[],f=sOe(a),m;!(m=f()).done;){var b=m.value;Array.isArray(b)?u.push.apply(u,Ote(b)):u.push(b)}return u}var SOe=w({"../node_modules/reakit-utils/es/flatten.js"(){_6()}});function Bte(a){{var u;if(!a)return;for(var f=arguments.length,m=new Array(f>1?f-1:0),b=1;b<f;b++)m[b-1]=arguments[b];var P=Ote(m.map(function(B){return[B,`
`]}));(u=console).warn.apply(u,P.slice(0,-1));try{throw Error(P.join(""))}catch{}}}var A6=w({"../node_modules/reakit-warning/es/warning.js"(){SOe()}}),xOe=w({"../node_modules/reakit-warning/es/useWarning.js"(){A6(),U(xt())}}),RL=w({"../node_modules/reakit-warning/es/index.js"(){A6(),U(xt()),xOe()}});function Lte(a){return a?a.ownerDocument||a:document}var Nte=w({"../node_modules/reakit-utils/es/getDocument.js"(){}});function wOe(a){return a&&Lte(a).defaultView||T6}var T6,EOe=w({"../node_modules/reakit-utils/es/getWindow.js"(){Nte();try{T6=window}catch{}}});function bOe(){var a=wOe();return!!(typeof a<"u"&&a.document&&a.document.createElement)}var IL,M6=w({"../node_modules/reakit-utils/es/canUseDOM.js"(){EOe(),IL=bOe()}}),P6,R6,I6=w({"../node_modules/reakit-utils/es/useIsomorphicEffect.js"(){P6=U(xt()),M6(),R6=IL?P6.useLayoutEffect:P6.useEffect}});function MC(a){var u=(0,Fte.useRef)(a);return R6(function(){u.current=a}),u}var Fte,Ute=w({"../node_modules/reakit-utils/es/useLiveRef.js"(){Fte=U(xt()),I6()}});function COe(a){return a.target===a.currentTarget}var AOe=w({"../node_modules/reakit-utils/es/isSelfTarget.js"(){}});function TOe(a){var u=Lte(a),f=u.activeElement;return f!=null&&f.nodeName?f:null}var MOe=w({"../node_modules/reakit-utils/es/getActiveElement.js"(){Nte()}});function zte(a,u){return a===u||a.contains(u)}var Hte=w({"../node_modules/reakit-utils/es/contains.js"(){}});function POe(a){var u=TOe(a);if(!u)return!1;if(zte(a,u))return!0;var f=u.getAttribute("aria-activedescendant");return f?f===a.id?!0:!!a.querySelector("#"+f):!1}var ROe=w({"../node_modules/reakit-utils/es/hasFocusWithin.js"(){MOe(),Hte()}});function IOe(a){return!zte(a.currentTarget,a.target)}var kOe=w({"../node_modules/reakit-utils/es/isPortalEvent.js"(){Hte()}});function kL(a){return IL?window.navigator.userAgent.indexOf(a)!==-1:!1}var DOe=w({"../node_modules/reakit-utils/es/dom.js"(){M6()}});function OOe(a,u){return"matches"in a?a.matches(u):"msMatchesSelector"in a?a.msMatchesSelector(u):a.webkitMatchesSelector(u)}var BOe=w({"../node_modules/reakit-utils/es/matches.js"(){}});function LOe(a){var u=a;return u.offsetWidth>0||u.offsetHeight>0||a.getClientRects().length>0}function NOe(a){return OOe(a,jte)&&LOe(a)}var jte,FOe=w({"../node_modules/reakit-utils/es/tabbable.js"(){BOe(),jte="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}}),Gte,DL,Vte=w({"../node_modules/reakit/es/Role/Role.js"(){lR(),cR(),dR(),x6(),Gte=["unstable_system"],DL=fR({name:"Role",keys:Gte,propsAreEqual:function(u,f){var m=u.unstable_system,b=CC(u,["unstable_system"]),P=f.unstable_system,B=CC(f,["unstable_system"]);return m!==P&&!PL(m,P)?!1:PL(b,B)}}),uR({as:"div",useHook:DL})}});function Wte(a){!POe(a)&&NOe(a)&&a.focus()}function UOe(a){return a.tagName==="BUTTON"||a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.tagName==="A"}function zOe(a){return a.tagName==="BUTTON"||a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"}function HOe(a,u,f,m){return a?u&&!f?-1:void 0:u?m:m||0}function k6(a,u){return(0,PC.useCallback)(function(f){var m;(m=a.current)===null||m===void 0||m.call(a,f),!f.defaultPrevented&&u&&(f.stopPropagation(),f.preventDefault())},[a,u])}var PC,Kte,qte,D6,jOe=w({"../node_modules/reakit/es/Tabbable/Tabbable.js"(){lR(),cR(),dR(),PC=U(xt()),kte(),C6(),RL(),Ute(),I6(),ROe(),kOe(),DOe(),FOe(),Vte(),Kte=["disabled","focusable"],qte=kL("Mac")&&!kL("Chrome")&&(kL("Safari")||kL("Firefox")),D6=fR({name:"Tabbable",compose:DL,keys:Kte,useOptions:function(u,f){var m=f.disabled;return Ew({disabled:m},u)},useProps:function(u,f){var m=f.ref,b=f.tabIndex,P=f.onClickCapture,B=f.onMouseDownCapture,O=f.onMouseDown,q=f.onKeyPressCapture,K=f.style,J=CC(f,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),te=(0,PC.useRef)(null),ne=MC(P),re=MC(B),ue=MC(O),pe=MC(q),me=!!u.disabled&&!u.focusable,De=(0,PC.useState)(!0),Re=De[0],He=De[1],Oe=(0,PC.useState)(!0),Fe=Oe[0],Qe=Oe[1],gt=u.disabled?Ew({pointerEvents:"none"},K):K;R6(function(){var jt=te.current;if(!jt){Bte(!0,"Can't determine if the element is a native tabbable element because `ref` wasn't passed to the component.","See https://reakit.io/docs/tabbable");return}UOe(jt)||He(!1),zOe(jt)||Qe(!1)},[]);var Wt=k6(ne,u.disabled),Tt=k6(re,u.disabled),An=k6(pe,u.disabled),jn=(0,PC.useCallback)(function(jt){var xn;(xn=ue.current)===null||xn===void 0||xn.call(ue,jt);var _r=jt.currentTarget;if(!jt.defaultPrevented&&qte&&!IOe(jt)&&b6(_r)){var lr=requestAnimationFrame(function(){_r.removeEventListener("mouseup",si,!0),Wte(_r)}),si=function(){cancelAnimationFrame(lr),Wte(_r)};_r.addEventListener("mouseup",si,{once:!0,capture:!0})}},[]);return Ew({ref:Rte(te,m),style:gt,tabIndex:HOe(me,Re,Fe,b),disabled:me&&Fe?!0:void 0,"aria-disabled":u.disabled?!0:void 0,onClickCapture:Wt,onMouseDownCapture:Tt,onMouseDown:jn,onKeyPressCapture:An},J)}}),uR({as:"div",useHook:D6})}});function GOe(a){var u=a.currentTarget;return a.isTrusted?b6(u)||u.tagName==="INPUT"||u.tagName==="TEXTAREA"||u.tagName==="A"||u.tagName==="SELECT":!1}var OL,Xte,O6,VOe=w({"../node_modules/reakit/es/Clickable/Clickable.js"(){lR(),cR(),dR(),OL=U(xt()),C6(),RL(),Ute(),AOe(),jOe(),Xte=["unstable_clickOnEnter","unstable_clickOnSpace"],O6=fR({name:"Clickable",compose:D6,keys:Xte,useOptions:function(u){var f=u.unstable_clickOnEnter,m=f===void 0?!0:f,b=u.unstable_clickOnSpace,P=b===void 0?!0:b,B=CC(u,["unstable_clickOnEnter","unstable_clickOnSpace"]);return Ew({unstable_clickOnEnter:m,unstable_clickOnSpace:P},B)},useProps:function(u,f){var m=f.onKeyDown,b=f.onKeyUp,P=CC(f,["onKeyDown","onKeyUp"]),B=(0,OL.useState)(!1),O=B[0],q=B[1],K=MC(m),J=MC(b),te=(0,OL.useCallback)(function(re){var ue;if((ue=K.current)===null||ue===void 0||ue.call(K,re),!re.defaultPrevented&&!u.disabled&&!re.metaKey&&COe(re)){var pe=u.unstable_clickOnEnter&&re.key==="Enter",me=u.unstable_clickOnSpace&&re.key===" ";if(pe||me){if(GOe(re))return;re.preventDefault(),pe?re.currentTarget.click():me&&q(!0)}}},[u.disabled,u.unstable_clickOnEnter,u.unstable_clickOnSpace]),ne=(0,OL.useCallback)(function(re){var ue;if((ue=J.current)===null||ue===void 0||ue.call(J,re),!re.defaultPrevented&&!u.disabled&&!re.metaKey){var pe=u.unstable_clickOnSpace&&re.key===" ";O&&pe&&(q(!1),re.currentTarget.click())}},[u.disabled,u.unstable_clickOnSpace,O]);return Ew({"data-active":O||void 0,onKeyDown:te,onKeyUp:ne},P)}}),uR({as:"button",memo:!0,useHook:O6})}}),hR,Yte,$te,Qte,WOe=w({"../node_modules/reakit/es/Button/Button.js"(){lR(),cR(),dR(),hR=U(xt()),kte(),C6(),RL(),VOe(),Yte=[],$te=fR({name:"Button",compose:O6,keys:Yte,useProps:function(u,f){var m=f.ref,b=CC(f,["ref"]),P=(0,hR.useRef)(null),B=(0,hR.useState)(void 0),O=B[0],q=B[1],K=(0,hR.useState)("button"),J=K[0],te=K[1];return(0,hR.useEffect)(function(){var ne=P.current;if(!ne){Bte(!0,"Can't determine whether the element is a native button because `ref` wasn't passed to the component","See https://reakit.io/docs/button");return}b6(ne)||(ne.tagName!=="A"&&q("button"),te(void 0))},[]),Ew({ref:Rte(P,m),role:O,type:J},b)}}),Qte=uR({as:"button",memo:!0,useHook:$te})}}),Jte,Zte,ene,KOe=w({"../node_modules/reakit/es/Group/Group.js"(){lR(),cR(),dR(),Vte(),Jte=[],Zte=fR({name:"Group",compose:DL,keys:Jte,useProps:function(u,f){return Ew({role:"group"},f)}}),ene=uR({as:"div",useHook:Zte})}});function qOe(){return IL?document.body:null}var tne,RC,XOe=w({"../node_modules/reakit/es/Portal/Portal.js"(){tne=U(xt()),I6(),M6(),U(u_()),RC=(0,tne.createContext)(qOe())}}),B6,YOe=w({"../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js"(){typeof window<"u"&&(B6={get passive(){}},window.addEventListener("testPassive",null,B6),window.removeEventListener("testPassive",null,B6))}}),bw=w({"../node_modules/reakit/es/index.js"(){U(xt()),RL(),WOe(),KOe(),U(u_()),XOe(),YOe(),A6()}});function $Oe(a){return u=>Dh.default.createElement(ine,null,Dh.default.createElement(a,T({},u)))}var Dh,nne,Ro,IC,rne,L6,N6,ine,Uo=w({"studio/src/css.tsx"(){Uv(),Hn(),Hn(),Dh=U(xt()),nne=U(u_()),bw(),Po(),Ro=c_`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`,IC={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return bC(.6,IC.panel.bg)}}}}}},rne=typeof window<"u"?q2`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`:{},L6=lt.div`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`,N6=a=>Dh.default.createElement(G2,{disableVendorPrefixes:!0,target:a.target},Dh.default.createElement(Dh.default.Fragment,null,Dh.default.createElement(rne,null),a.children)),ine=a=>{const[u,f]=(0,Dh.useState)(null),[m,b]=(0,Dh.useState)(null);(0,Dh.useLayoutEffect)(()=>{if(!u)return;const O=u.parentNode.attachShadow({mode:"open"});return b(O),()=>{var q;(q=u.parentNode)==null||q.removeChild(O)}},[u]);const[P,B]=oo(void 0);return m?nne.default.createPortal(Dh.default.createElement(N6,{target:m},Dh.default.createElement(Dh.default.Fragment,null,Dh.default.createElement(L6,{ref:P}),Dh.default.createElement(RC.Provider,{value:B},a.children))),m):Dh.default.createElement("template",{ref:f,"shadow-root":"open"},a.children)}}}),QOe=w({"../node_modules/react-icons/lib/esm/iconsManifest.js"(){}}),F6,U6,z6,ane=w({"../node_modules/react-icons/lib/esm/iconContext.js"(){F6=U(xt()),U6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z6=F6.default.createContext&&F6.default.createContext(U6)}});function one(a){return a&&a.map(function(u,f){return DC.default.createElement(u.tag,m_({key:f},u.attr),one(u.child))})}function kC(a){return function(u){return DC.default.createElement(JOe,m_({attr:m_({},a.attr)},u),one(a.child))}}function JOe(a){var u=function(f){var m=a.attr,b=a.size,P=a.title,B=sne(a,["attr","size","title"]),O=b||f.size||"1em",q;return f.className&&(q=f.className),a.className&&(q=(q?q+" ":"")+a.className),DC.default.createElement("svg",m_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},f.attr,m,B,{className:q,style:m_(m_({color:a.color||f.color},f.style),a.style),height:O,width:O,xmlns:"http://www.w3.org/2000/svg"}),P&&DC.default.createElement("title",null,P),a.children)};return z6!==void 0?DC.default.createElement(z6.Consumer,null,function(f){return u(f)}):u(U6)}var DC,m_,sne,ZOe=w({"../node_modules/react-icons/lib/esm/iconBase.js"(){DC=U(xt()),ane(),m_=function(){return m_=Object.assign||function(a){for(var u,f=1,m=arguments.length;f<m;f++){u=arguments[f];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(a[b]=u[b])}return a},m_.apply(this,arguments)},sne=function(a,u){var f={};for(var m in a)Object.prototype.hasOwnProperty.call(a,m)&&u.indexOf(m)<0&&(f[m]=a[m]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(a);b<m.length;b++)u.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(a,m[b])&&(f[m[b]]=a[m[b]]);return f}}}),Cc=w({"../node_modules/react-icons/lib/esm/index.js"(){QOe(),ZOe(),ane()}}),eBe=w({"../node_modules/react-icons/fa/index.esm.js"(){Cc()}}),tBe=w({"../node_modules/react-icons/io/index.esm.js"(){Cc()}});function nBe(a){return kC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(a)}var rBe=w({"../node_modules/react-icons/io5/index.esm.js"(){Cc()}}),iBe=w({"../node_modules/react-icons/md/index.esm.js"(){Cc()}}),aBe=w({"../node_modules/react-icons/ti/index.esm.js"(){Cc()}});function oBe(a){return kC({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(a)}function sBe(a){return kC({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(a)}var lBe=w({"../node_modules/react-icons/go/index.esm.js"(){Cc()}}),uBe=w({"../node_modules/react-icons/fi/index.esm.js"(){Cc()}}),cBe=w({"../node_modules/react-icons/gi/index.esm.js"(){Cc()}}),fBe=w({"../node_modules/react-icons/wi/index.esm.js"(){Cc()}}),dBe=w({"../node_modules/react-icons/di/index.esm.js"(){Cc()}}),hBe=w({"../node_modules/react-icons/ai/index.esm.js"(){Cc()}}),pBe=w({"../node_modules/react-icons/bs/index.esm.js"(){Cc()}}),mBe=w({"../node_modules/react-icons/ri/index.esm.js"(){Cc()}}),vBe=w({"../node_modules/react-icons/fc/index.esm.js"(){Cc()}}),gBe=w({"../node_modules/react-icons/gr/index.esm.js"(){Cc()}});function yBe(a){return kC({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(a)}var _Be=w({"../node_modules/react-icons/hi/index.esm.js"(){Cc()}}),SBe=w({"../node_modules/react-icons/si/index.esm.js"(){Cc()}}),xBe=w({"../node_modules/react-icons/im/index.esm.js"(){Cc()}}),wBe=w({"../node_modules/react-icons/bi/index.esm.js"(){Cc()}});function EBe(a){return kC({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(a)}var bBe=w({"../node_modules/react-icons/cg/index.esm.js"(){Cc()}});function CBe(a){return kC({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(a)}var ABe=w({"../node_modules/react-icons/vsc/index.esm.js"(){Cc()}}),pR=w({"../node_modules/react-icons/all.js"(){eBe(),tBe(),rBe(),iBe(),aBe(),lBe(),uBe(),cBe(),fBe(),dBe(),hBe(),pBe(),mBe(),vBe(),gBe(),_Be(),SBe(),xBe(),wBe(),bBe(),ABe()}}),Cw,OC=w({"studio/src/propEditors/utils/propNameTextCSS.tsx"(){Hn(),Cw=c_`
  font-weight: 300;
  font-size: 11px;
  color: ${a=>a.isHighlighted==="self"?"#CCC":"#919191"};
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`}});function H6(a,u){let f=a;for(const m of u)f=f[m];return f}var j6=w({"shared/src/utils/pointerDeep.ts"(){}});function TBe(){let a=0;const u=new cne.Atom({hasLock:!1});return{replaceLock(f,m){const b=a++,P=u.getState();return P.hasLock&&P.cleanup(),u.setState({hasLock:!0,lockId:b,cleanup:m,deepPath:MBe(lne(f))}),function(){const O=u.getState();O.hasLock&&O.lockId===b&&(O.cleanup(),u.setState({hasLock:!1}))}},getIsPropHighlightedD(f){const m=H6(u.pointer.deepPath,lne(f));return(0,fne.prism)(()=>{const b=(0,une.val)(m);return b===!0?"self":b?"descendent":null})}}}function lne(a){return[a.projectId,a.sheetId,a.objectKey,...a.pathToProp]}function MBe(a){const u={};return gC(u,a,!0),u}var une,cne,fne,BL,G6=w({"studio/src/panels/SequenceEditorPanel/whatPropIsHighlighted.ts"(){une=U(Ln),cne=U(Ln),fne=U(Ln),j6(),xj(),BL=TBe()}});function dne(a,u){(0,hne.useLayoutEffect)(()=>{if(!a||u.type!=="propWithChildren"&&u.type!=="primitiveProp"&&u.type!=="sheetObject")return;let f=null;const m=R(T({},u.sheetObject.address),{pathToProp:u.type==="sheetObject"?[]:u.pathToProp});function b(){f=BL.replaceLock(m,()=>{})}function P(){f==null||f()}return a.addEventListener("mouseenter",b),a.addEventListener("mouseleave",P),()=>{f==null||f(),a.removeEventListener("mouseenter",b),a.removeEventListener("mouseleave",P)}},[a])}var hne,pne=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/usePropHighlightMouseEnter.tsx"(){hne=U(xt()),G6()}}),lS,V6,W6,K6,mne,vne,gne,yne,LL,NL=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/AnyCompositeRow.tsx"(){Uo(),lS=U(xt()),pR(),Hn(),OC(),pne(),V6=lt.li`
  --depth: ${a=>a.depth};
  margin: 0;
  padding: 0;
  list-style: none;
`,W6=lt.div`
  border-bottom: 1px solid #7695b705;
`,K6=lt(W6)`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: ${IC.panel.body.compoudThing.label.color};

  box-sizing: border-box;

  ${a=>a.isSelected&&"background: blue"};
`,mne=lt.span`
  ${Cw};
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  ${K6}:hover & {
    color: #ccc;
  }
`,vne=lt.span`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(${a=>a.isCollapsed?0:90}deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(${a=>a.isCollapsed?15:75}deg);
    color: #c0c4c9;
  }
`,gne=lt.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,yne=({leaf:a,label:u,children:f,isSelectable:m,isSelected:b,toggleSelect:P,toggleCollapsed:B,isCollapsed:O})=>{const q=Array.isArray(f)&&f.length>0,K=(0,lS.useRef)(null);return dne(K.current,a),a.shouldRender?lS.default.createElement(V6,{depth:a.depth},lS.default.createElement(K6,{ref:K,style:{height:a.nodeHeight+"px"},isSelectable:m===!0,isSelected:b===!0,onClick:P,isEven:a.n%2===0},lS.default.createElement(vne,{isCollapsed:O,onClick:B},lS.default.createElement(yBe,null)),lS.default.createElement(mne,null,u)),q&&lS.default.createElement(gne,null,f)):null},LL=yne}});function v_(a){return a.type==="compound"||a.type==="enum"}function FL(a,u){if(!a)return;const[f,...m]=u;if(f===void 0)return a;if(!v_(a))return;const b=a.type==="enum"?a.cases[f]:a.props[f];return FL(b,m)}function UL(a,u){const f=u.deserializeAndSanitize(a);return f===void 0?u.default:f}function PBe(a){return!v_(a)}function _ne(a){return HL.has(a)||HL.set(a,RBe(a)),HL.get(a)}function RBe(a){if(a.type==="enum")throw new Error("Not implemented yet for enums");for(const u in a.props){const f=a.props[u];if(v_(f)){if(_ne(f))return!0}else return!0}return!1}function*zL(a,u){if(a.type==="compound")for(const f in a.props)yield*zL(a.props[f],[...u,f]);else{if(a.type==="enum")throw new Error("Not implemented yet");return yield{path:u,conf:a}}}var HL,Aw=w({"shared/src/propTypes/utils.ts"(){HL=new WeakMap}}),mR,q6,Sne,xne,wne,Ene,vR,bne=w({"studio/src/propEditors/DefaultValueIndicator.tsx"(){Uv(),mR=U(xt()),Hn(),q6={defaultState:{color:sS(.85,"#C4C4C4")},withStaticOverride:{color:sS(.85,"#C4C4C4")}},Sne=lt.div`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;

  color: ${a=>a.hasStaticOverride?q6.withStaticOverride.color:q6.defaultState.color};
`,xne=lt.rect`
  fill: currentColor;
`,wne=()=>mR.default.createElement("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mR.default.createElement(xne,{width:"5",height:"5"})),Ene=a=>mR.default.createElement(Sne,{hasStaticOverride:a.hasStaticOverride},mR.default.createElement(wne,null)),vR=Ene}});function Cne(a,u,f){if(!u||u.data.keyframes.length===0)return Ane;const m=X6.get(u.data);if(m&&m[0]===f)return m[1];function b(O){if(!u)return;const q=u.data.keyframes[O];return q&&{kf:q,track:u,itemKey:Ef.forTrackKeyframe(a,u.id,q.id)}}const B=(()=>{const O=u.data.keyframes.findIndex(K=>K.position>=f);if(O===-1)return{prev:b(u.data.keyframes.length-1)};const q=b(O);return q.kf.position===f?{prev:b(O-1),cur:q,next:b(O+1)}:{next:q,prev:b(O-1)}})();return X6.set(u.data,[f,B]),B}var X6,Ane,Tne=w({"studio/src/propEditors/getNearbyKeyframesOfTrack.tsx"(){l_(),X6=new WeakMap,Ane={}}});function Mne(a,u){return a==null?null:a instanceof Element&&a.matches(u)?a:Mne(a.parentElement,u)}var IBe=w({"studio/src/utils/selectClosestHTMLAncestor.ts"(){}});function kBe(a){const u=new BC.Box(void 0),f=new $6.Atom({}),m=new $6.Atom({});let b=0;return{addRelatedFlags(P,B){const O=String(++b),q=B.map(K=>{const J={flag:K.flag},te=[K.affects,P,O];return m.setIn(te,J),te});return()=>{for(const K of q)m.setIn(K,void 0)}},usePresenceFlag(P){if(!a.enabled)return;const B=(0,gR.useMemo)(()=>{if(!P)return Q6;const O=u.derivation,q=(0,BC.valueDerivation)(f.pointer[P]),K=(0,BC.valueDerivation)(m.pointer[P]);return(0,BC.prism)(()=>{if(q.getValue())return 2;{const te=K.getValue(),ne=O.getValue(),re=te&&ne&&te[ne];if(re){let ue;for(const pe of Object.values(re))pe&&(ue&&ue>=pe.flag||(ue=pe.flag));return ue}return}})},[P]);return iL(B)},setUserHover(P){const B=u.get();B!==P&&(B&&f.setIn([B],!1),u.set(P),P&&f.setIn([P],!0))}}}function Tw(a){const u=gR.default.useContext(J6),f=u.usePresenceFlag(a);return{attrs:{[jL]:a},flag:f,useRelations(m,b){(0,Y6.useEffect)(()=>a&&u.addRelatedFlags(a,m()),[a,...b])}}}function Pne(a){const u=gR.default.useContext(J6),f=nS("PresenceListeners");(0,Y6.useEffect)(()=>{let m;if(!a)return;const b=P=>{if(P.target instanceof Node){const B=Mne(P.target,`[${jL}]`);if(B){const O=B.getAttribute(jL);m!==O&&(m=O,u.setUserHover(O||void 0),f._debug("Updated current hover",{itemKey:O}));return}m!=null&&(m=null,u.setUserHover(void 0),f._debug("Cleared current hover"))}};return a.addEventListener("mouseover",b),()=>{a.removeEventListener("mouseover",b),m!=null&&(m=null,f._debug("Cleared current hover as part of cleanup"))}},[a,u])}var gR,Y6,BC,$6,zv,Q6,J6,jL,g_=w({"studio/src/uiComponents/usePresence.tsx"(){gR=U(xt()),Y6=U(xt()),rS(),BC=U(Ln),$6=U(Ln),Ei(),IBe(),function(a){a[a.Primary=2]="Primary",a[a.Secondary=1]="Secondary"}(zv||(zv={})),Q6=(0,BC.prism)(()=>{}),Q6.keepHot(),J6=gR.default.createContext(kBe({enabled:!1})),jL="data-pi-key"}}),Fd,yR,Z6,LC,e8,Rne,GL,Ine,kne,_R,Dne,t8,n8=w({"studio/src/propEditors/NextPrevKeyframeCursors.tsx"(){Uo(),Uv(),Fd=U(xt()),Hn(),g_(),g_(),yR=lt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: ${sS(.2,"black")};
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`,Z6=lt.div`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    ${yR}:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`,LC={offColor:"#555",onColor:"#e0c917"},e8=lt(Z6)`
  &:hover {
    color: #e0c917;
  }

  color: ${a=>a.presence===zv.Primary?"white":a.isOn?LC.onColor:LC.offColor};
`,Rne=c_`
  pointer-events: none !important;
`,GL=lt(Z6)`
  color: ${a=>a.flag===zv.Primary?"white":a.available?LC.onColor:LC.offColor};

  ${a=>a.available?Ro:Rne};
`,Ine=lt(GL)`
  transform: translateX(2px);
  ${yR}:hover & {
    transform: translateX(-7px);
  }
`,kne=lt(GL)`
  transform: translateX(-2px);
  ${yR}:hover & {
    transform: translateX(7px);
  }
`,function(a){const u=lt.g`
    stroke-width: 1;
    ${GL}:hover & path {
      stroke-width: 3;
    }
  `;a.Prev=()=>Fd.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fd.default.createElement(u,{transform:"translate(6 3)"},Fd.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),a.Next=()=>Fd.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fd.default.createElement(u,{transform:"translate(1 3)"},Fd.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));const f=lt.g`
    stroke-width: 0;
    ${e8}:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `;a.Cur=()=>Fd.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fd.default.createElement(f,{transform:"translate(1 4)"},Fd.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))}(_R||(_R={})),Dne=a=>{var u,f,m,b,P;const B=Tw((u=a.prev)==null?void 0:u.itemKey),O=Tw(((f=a.cur)==null?void 0:f.type)==="on"?a.cur.itemKey:void 0),q=Tw((m=a.next)==null?void 0:m.itemKey);return Fd.default.createElement(yR,null,Fd.default.createElement(Ine,T({available:!!a.prev,onClick:(b=a.prev)==null?void 0:b.jump,flag:B.flag},B.attrs),Fd.default.createElement(_R.Prev,null)),Fd.default.createElement(e8,T({isOn:a.cur.type==="on",onClick:a.cur.toggle,presence:O.flag},O.attrs),Fd.default.createElement(_R.Cur,null)),Fd.default.createElement(kne,T({available:!!a.next,onClick:(P=a.next)==null?void 0:P.jump,flag:q.flag},q.attrs),Fd.default.createElement(_R.Next,null)))},t8=Dne}});function DBe(a,u,f){return(0,Fg.prism)(()=>{var m;const b=(0,Fg.getPointerParts)(a).path,P=u.getValueByPointer(a),B=Fg.prism.memo("editPropValue",()=>{let re=null;return{temporarilySetValue(ue){re||(re=Z().scrub()),re.capture(pe=>{pe.set(a,ue)})},discardTemporaryValue(){re&&(re.discard(),re=null)},permanentlySetValue(ue){re?(re.capture(pe=>{pe.set(a,ue)}),re.commit(),re=null):Z().transaction(pe=>{pe.set(a,ue)})}}},[]),O=(0,Fg.val)(Rh(Z().atomP.ephemeral.projects.stateByProjectId[u.address.projectId].stateBySheetId[u.address.sheetId].stateByObjectKey[u.address.objectKey].valuesBeingScrubbed,(0,Fg.getPointerParts)(a).path))===!0,q=[],K=R(T({},B),{value:P,beingScrubbed:O,contextMenuItems:q,controlIndicators:NC.default.createElement(NC.default.Fragment,null)}),J=PBe(f);if(J){const re=(0,Fg.val)(u.template.getMapOfValidSequenceTracks_forStudio()),ue=yw(re,b);if(typeof ue=="string"){q.push({label:"Make static",callback:()=>{Z().transaction(({stateEditors:gt})=>{const Wt=R(T({},u.address),{pathToProp:b});gt.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(R(T({},Wt),{value:u.getValueByPointer(a)}))})}});const me=ue,De=Fg.prism.sub("lcr",()=>{const gt=(0,Fg.val)(u.template.project.pointers.historic.sheetsById[u.address.sheetId].sequence.tracksByObject[u.address.objectKey].trackData[me]),Wt=(0,Fg.val)(u.sheet.getSequence().positionDerivation);return Cne(u,gt&&{data:gt,id:me,sheetObject:u},Wt)},[me]);let Re;K.beingScrubbed?Re="Sequenced_OnKeyframe_BeingScrubbed":De.cur?Re="Sequenced_OnKeyframe":((m=De.prev)==null?void 0:m.kf.connectedRight)===!0?Re="Sequenced_BeingInterpolated":Re="Sequened_NotBeingInterpolated";const He=()=>{De.cur?Z().transaction(gt=>{gt.unset(a)}):Z().transaction(gt=>{gt.set(a,K.value)})},Oe={cur:De.cur?{type:"on",itemKey:De.cur.itemKey,toggle:He}:{type:"off",toggle:He},prev:De.prev!==void 0?{itemKey:De.prev.itemKey,position:De.prev.kf.position,jump:()=>{u.sheet.getSequence().position=De.prev.kf.position}}:void 0,next:De.next!==void 0?{itemKey:De.next.itemKey,position:De.next.kf.position,jump:()=>{u.sheet.getSequence().position=De.next.kf.position}}:void 0},Fe=NC.default.createElement(t8,T({},Oe));return R(T({},K),{type:"Sequenced",shade:Re,nearbyKeyframes:De,controlIndicators:Fe})}}q.push({label:"Reset to default",callback:()=>{Z().transaction(({unset:re})=>{re(a)})}}),J&&q.push({label:"Sequence",callback:()=>{Z().transaction(({stateEditors:re})=>{const ue=R(T({},u.address),{pathToProp:b});re.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(ue,f)})}});const te=(0,Fg.val)(u.template.getStaticValues());return typeof yw(te,b)<"u"?R(T({},K),{type:"Static",shade:K.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:NC.default.createElement(vR,{hasStaticOverride:!0})}):R(T({},K),{type:"Default",shade:"Default",controlIndicators:NC.default.createElement(vR,{hasStaticOverride:!1})})})}function OBe(a,u,f){if(VL.has(a))return VL.get(a);{const m=DBe(a,u,f);return VL.set(a,m),m}}function One(a,u,f){const m=OBe(a,u,f);return iL(m)}var NC,Fg,VL,Bne=w({"studio/src/propEditors/useEditingToolsForSimpleProp.tsx"(){Hm(),NC=U(xt()),Fg=U(Ln),Te(),rL(),Ei(),Aw(),bne(),Tne(),n8(),VL=new WeakMap}}),Lne,Hv,Nne,Fne,r8,Une,zne,Hne,jne,Gne,BBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/PrimitivePropRow.tsx"(){Te(),It(),j6(),Ei(),Lne=U(Ln),Hv=U(xt()),Hn(),Bne(),n8(),wF(),NL(),OC(),pne(),Nne={label:{color:"#9a9a9a"}},Fne=lt(V6)``,r8=lt(W6)`
  display: flex;
  color: ${Nne.label.color};
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`,Une=lt.button`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: ${a=>a.isSelected?nI[a.graphEditorColor].iconColor:LC.offColor};

  &:not([disabled]):hover {
    color: white;
  }
`,zne=()=>Hv.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},Hv.default.createElement("g",{transform:"translate(0 100)"},Hv.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),Hne=lt.span`
  margin-right: 4px;
  ${Cw};

  ${r8}:hover & {
    color: #ccc;
  }
`,jne=({leaf:a})=>{var u;const f=H6(a.sheetObject.propsP,a.pathToProp),m=a.sheetObject,{controlIndicators:b}=One(f,m,a.propConf),P=ma(()=>{const ne=a.sheetObject.address,re=Xe(a.pathToProp);return(0,Lne.val)(Z().atomP.historic.projects.stateByProjectId[ne.projectId].stateBySheetId[ne.sheetId].sequenceEditor.selectedPropsByObject[ne.objectKey][re])},[a]),B=(0,Hv.useRef)(!1),O=typeof P=="string";B.current=O;const q=(0,Hv.useCallback)(()=>{const ne=a.sheetObject.address;Z().transaction(({stateEditors:re})=>{B.current?re.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(R(T({},ne),{pathToProp:a.pathToProp})):(re.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(R(T({},ne),{pathToProp:a.pathToProp})),re.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[a]),K=(u=a.propConf.label)!=null?u:a.pathToProp[a.pathToProp.length-1],J=!0,te=(0,Hv.useRef)(null);return dne(te.current,a),Hv.default.createElement(Fne,{depth:a.depth},Hv.default.createElement(r8,{ref:te,isEven:a.n%2===0,style:{height:a.nodeHeight+"px"},isSelected:O===!0},Hv.default.createElement(Hne,null,K),b,Hv.default.createElement(Une,{onClick:q,isSelected:O===!0,graphEditorColor:P??"1",style:{opacity:1},disabled:!J},Hv.default.createElement(zne,null))))},Gne=jne}});function i8(a,u){Z().transaction(({stateEditors:f})=>{f.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(R(T({},u.sheetAddress),{studioSheetItemKey:u.sheetItemKey,isCollapsed:a}))})}var a8=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/setCollapsedSheetObjectOrCompoundProp.tsx"(){Te()}}),FC,o8,Vne,LBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/PropWithChildrenRow.tsx"(){FC=U(xt()),NL(),BBe(),a8(),o8=a=>{const u="prop"+a.pathToProp[a.pathToProp.length-1];return a.shouldRender?a.type==="propWithChildren"?FC.default.createElement(Vne,{leaf:a,key:u}):FC.default.createElement(Gne,{leaf:a,key:u}):FC.default.createElement(FC.default.Fragment,{key:u})},Vne=({leaf:a})=>FC.default.createElement(LL,{leaf:a,label:a.pathToProp[a.pathToProp.length-1],isCollapsed:a.isCollapsed,toggleCollapsed:()=>i8(!a.isCollapsed,{sheetAddress:a.sheetObject.address,sheetItemKey:a.sheetItemKey})},a.children.map(u=>o8(u)))}}),Wne,Kne,qne,NBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/SheetObjectRow.tsx"(){Wne=U(xt()),NL(),LBe(),a8(),Te(),Kne=({leaf:a})=>Wne.default.createElement(LL,{leaf:a,label:a.sheetObject.address.objectKey,isCollapsed:a.isCollapsed,toggleSelect:()=>{Z().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set([a.sheetObject])})},toggleCollapsed:()=>i8(!a.isCollapsed,{sheetAddress:a.sheetObject.address,sheetItemKey:a.sheetItemKey})},a.children.map(u=>o8(u))),qne=Kne}}),s8,Xne,Yne,FBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/SheetRow.tsx"(){Ei(),s8=U(xt()),NBe(),NL(),a8(),Xne=({leaf:a})=>ma(()=>s8.default.createElement(LL,{leaf:a,label:a.sheet.address.sheetId,isCollapsed:a.isCollapsed,toggleCollapsed:()=>{i8(!a.isCollapsed,{sheetAddress:a.sheet.address,sheetItemKey:a.sheetItemKey})}},a.children.map(u=>s8.default.createElement(qne,{key:"sheetObject-"+u.sheetObject.address.objectKey,leaf:u}))),[a]),Yne=Xne}}),l8,WL,$ne,Qne,Jne,Zne,UBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Left/Left.tsx"(){Ei(),l8=U(Ln),WL=U(xt()),Hn(),FBe(),$ne=lt.div`
  position: absolute;
  left: 0;
  overflow-x: visible;
`,Qne=lt.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,Jne=({layoutP:a})=>ma(()=>{const u=(0,l8.val)(a.tree),f=(0,l8.val)(a.leftDims.width);return WL.default.createElement($ne,{style:{width:f+"px",top:u.top+"px"}},WL.default.createElement(Qne,null,WL.default.createElement(Yne,{leaf:u})))},[a]),Zne=Jne}});function ere({clippedSpaceRange:a,clippedSpaceWidth:u,fps:f,gapWidth:m=120},b){const P=1/f,B=a.end-a.start,O=u/(f*B),q=Math.floor(m/O),J=(q<f?tre(f).find(re=>re>=q):f*Math.floor(q/f))*P,te=Math.floor(a.start/J),ne=Math.ceil(a.end/J);for(let re=te;re<=ne;re++){const ue=re*J,pe=ue%1===0;b(ue,pe)}}var tre,nre=w({"studio/src/panels/SequenceEditorPanel/FrameGrid/createGrid.ts"(){wf(),tre=Ur(a=>{const u=[];for(let f=1;f<=a;f++)a%f===0&&u.push(f);return u})}}),rre,ire,KL,u8=w({"studio/src/studioTicker.ts"(){rre=U(Ln),ire=rre.Ticker.raf,KL=ire}});function zBe(a){const{clippedSpaceWidth:u,height:f,ctx:m,unitSpaceToClippedSpace:b,snapToGrid:P}=a;m.clearRect(0,0,u,f),ere(a,(B,O)=>{const q=P(B),K=Math.floor(b(q));m.strokeStyle=O?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",m.beginPath(),m.moveTo(K,0),m.lineTo(K,f),m.stroke(),m.closePath()})}var Mw,Pw,are,ore,sre,lre,ure,cre,c8,fre=w({"studio/src/panels/SequenceEditorPanel/FrameGrid/FrameGrid.tsx"(){Mw=U(Ln),Pw=U(xt()),Hn(),nre(),u8(),are=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`,ore=lt.canvas`
  position: relative;
  left: 0;
`,sre=a=>{const u=a;return u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1},lre=()=>window.devicePixelRatio||1,ure=a=>lre()/sre(a),cre=({layoutP:a,width:u,height:f})=>{const m=(0,Pw.useRef)(null),[b,P]=(0,Pw.useState)(null),{ctx:B,ratio:O}=(0,Pw.useMemo)(()=>{if(!b)return{};const q=b.getContext("2d"),K=ure(q);return{ctx:q,ratio:K}},[b]);return(0,Pw.useLayoutEffect)(()=>{if(!B)return;b.width=u*O,b.height=f*O;const q=(0,Mw.prism)(()=>{const K=(0,Mw.val)(a.sheet).getSequence();return{ctx:B,clippedSpaceRange:(0,Mw.val)(a.clippedSpace.range),clippedSpaceWidth:(0,Mw.val)(a.clippedSpace.width),unitSpaceToClippedSpace:(0,Mw.val)(a.clippedSpace.fromUnitSpace),height:f,leftPadding:(0,Mw.val)(a.scaledSpace.leftPadding),fps:K.subUnitsPerUnit,snapToGrid:J=>K.closestGridPosition(J)}}).tapImmediate(KL,K=>{B.save(),B.scale(O,O),zBe(K),B.restore()});return()=>{q()}},[B,u,f,a]),Pw.default.createElement(are,{ref:m,style:{width:u+"px"}},Pw.default.createElement(ore,{ref:P,style:{width:u+"px",height:f+"px"}}))},c8=cre}}),f8,dre,hre,pre,HBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/DopeSheetBackground.tsx"(){Uo(),D_(),Ei(),Uv(),f8=U(xt()),Hn(),fre(),dre=lt.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: ${()=>Z0.rightBackground};
  overflow: hidden;
  background: ${sS(.01,sR(1*.03,IC.panel.bg))};
  pointer-events: none;
`,hre=({layoutP:a})=>{const u=ka(a.rightDims.width),f=ka(a.panelDims.height);return f8.default.createElement(dre,{style:{width:u+"px"}},f8.default.createElement(c8,{width:u,height:f,layoutP:a}))},pre=hre}}),UC,mre,vre,gre,jBe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/DopeSheet.tsx"(){Ei(),UC=U(xt()),Hn(),UBe(),HBe(),ofe(),pue(),mre=lt.div`
  position: absolute;
  left: 0;
  right: 0;
`,vre=({layoutP:a})=>{const u=ka(a.dopeSheetDims.height);return UC.default.createElement(mre,{style:{height:u+"px"}},UC.default.createElement(pre,{layoutP:a}),UC.default.createElement(hue,null,UC.default.createElement(Zne,{layoutP:a}),UC.default.createElement(afe,{layoutP:a})))},gre=vre}});function GBe(a,u,f){return d8.prism.memo(a,()=>(0,d8.prism)(u),f).getValue()}var d8,VBe=w({"shared/src/utils/subPrism.ts"(){d8=U(Ln)}}),zC,yre,uS,SR,_re,qL,h8,V0,y_=w({"studio/src/panels/BasePanel/common.tsx"(){Uo(),Hn(),zC={get outlinePanel(){return 1},get propsPanel(){return zC.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},yre=IC.panel.bg,uS=lt.span`
  white-space: nowrap;
`,SR=lt.span`
  white-space: nowrap;
  color: ${IC.panel.head.punctuation.color};
`,_re=lt.div`
  background: ${yre};
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`,qL=18,h8=lt.div`
  height: ${qL}px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,V0=100}}),cS,Rw,Sre,WBe=w({"studio/src/panels/SequenceEditorPanel/layout/tree.ts"(){l_(),cS=U(Ln),ja(),y_(),Rw=28,Sre=(a,u)=>{var f;cS.prism.ensurePrism();const m=!0;let b=qL+Rw,P=0;const B=u.atomP.ahistoric.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].sequence.collapsableItems,O=B.byId[Ef.forSheet()].isCollapsed,q=(f=(0,cS.valueDerivation)(O).getValue())!=null?f:!1,K={type:"sheet",isCollapsed:q,sheet:a,children:[],sheetItemKey:Ef.forSheet(),shouldRender:m,top:qL,depth:0,n:P,nodeHeight:m?Rw:0,heightIncludingChildren:-1};P+=1;for(const pe of Object.values((0,cS.val)(a.objectsP)))pe&&J(pe,K.children,K.depth+1,!q);K.heightIncludingChildren=b-K.top;function J(pe,me,De,Re){var He;const Oe=(0,cS.val)(pe.template.getMapOfValidSequenceTracks_forStudio()),Fe=(0,cS.val)(pe.template.configPointer);if(Object.keys(Oe).length===0)return;const Qe=B.byId[Ef.forSheetObject(pe)].isCollapsed,gt=(He=(0,cS.valueDerivation)(Qe).getValue())!=null?He:!1,Wt={type:"sheetObject",isCollapsed:gt,sheetItemKey:Ef.forSheetObject(pe),shouldRender:Re,top:b,children:[],depth:De,n:P,sheetObject:pe,nodeHeight:Re?Rw:0,heightIncludingChildren:-1};me.push(Wt),Re&&(P+=1,b+=Wt.nodeHeight),te(pe,Oe,[],Fe,Wt.children,De+1,Re&&!gt),Wt.heightIncludingChildren=b-Wt.top}function te(pe,me,De,Re,He,Oe,Fe){for(const[Qe,gt]of Object.entries(me)){const Wt=Re.props[Qe];ne(pe,gt,[...De,Qe],Wt,He,Oe,Fe)}}function ne(pe,me,De,Re,He,Oe,Fe){Re.type==="compound"?re(pe,me,Re,De,Re,He,Oe,Fe):Re.type==="enum"?Ir.warn("Prop type enum is not yet supported in the sequence editor"):ue(pe,me,De,Re,He,Oe,Fe)}function re(pe,me,De,Re,He,Oe,Fe,Qe){var gt;const Wt=B.byId[Ef.forSheetObjectProp(pe,Re)].isCollapsed,Tt=(gt=(0,cS.valueDerivation)(Wt).getValue())!=null?gt:!1,An={type:"propWithChildren",isCollapsed:Tt,propConf:De,pathToProp:Re,sheetItemKey:Ef.forSheetObjectProp(pe,Re),sheetObject:pe,shouldRender:Qe,top:b,children:[],nodeHeight:Qe?Rw:0,heightIncludingChildren:-1,depth:Fe,trackMapping:me,n:P};Oe.push(An),Qe&&(b+=An.nodeHeight,P+=1),te(pe,me,Re,He,An.children,Fe+1,Qe&&!Tt),An.heightIncludingChildren=b-An.top}function ue(pe,me,De,Re,He,Oe,Fe){const Qe={type:"primitiveProp",propConf:Re,depth:Oe,sheetItemKey:Ef.forSheetObjectProp(pe,De),sheetObject:pe,pathToProp:De,shouldRender:Fe,top:b,nodeHeight:Fe?Rw:0,heightIncludingChildren:Fe?Rw:0,trackId:me,n:P};He.push(Qe),P+=1,b+=Qe.nodeHeight}return K}}});function KBe(a,u){const f=Z(),m=f.atomP.ahistoric.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId],b=f.atomP.historic.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId];return(0,um.prism)(()=>{var P;const B=GBe("tree",()=>Sre(a,f),[]),O=(0,um.val)(u),q=(0,um.val)(f.atomP.historic.panels.sequenceEditor.graphEditor),K=(0,um.val)(b.sequenceEditor.selectedPropsByObject),J=!!K&&Object.keys(K).length>0,{leftDims:te,rightDims:ne,graphEditorDims:re,dopeSheetDims:ue,horizontalScrollbarDims:pe}=um.prism.memo("leftDims",()=>{var jn;const jt={width:Math.floor(O.width*xre),height:O.height,screenX:O.screenX,screenY:O.screenY},xn={width:O.width-jt.width,height:O.height,screenX:O.screenX+jt.width,screenY:O.screenY},_r=J&&(q==null?void 0:q.isOpen)===!0,lr=Math.floor((_r?tl((jn=q==null?void 0:q.height)!=null?jn:.5,.1,.7):0)*O.heightWithoutBorder),si=0+lr,un=O.height-si,gn={width:O.width,height:un,screenX:O.screenX,screenY:O.screenY},Nr={isAvailable:J,isOpen:_r,width:xn.width,height:lr,screenX:O.screenX,screenY:O.screenY+un,padding:{top:20,bottom:20}};return{leftDims:jt,rightDims:xn,graphEditorDims:Nr,dopeSheetDims:gn,horizontalScrollbarDims:{bottom:0}}},[O,q,J]),me=um.prism.memo("graphEditorVerticalSpace",()=>{const jn=re.height-re.padding.top-re.padding.bottom;return{space:jn,fromExtremumSpace(jt){return jt*jn},toExtremumSpace(jt){return jt/jn}}},[re]),[De,Re]=um.prism.state("isSeeking",!1),He={isSeeking:De,setIsSeeking:Re},Oe={},Fe=(P=(0,um.val)(m.sequence.clippedSpaceRange))!=null?P:wre,Qe=um.prism.memo("scaledSpace",()=>{const jn=Fe.end-Fe.start,jt=ne.width,xn=jn/jt,_r=jt/jn;return{fromUnitSpace(lr){return lr*_r},toUnitSpace(lr){return lr*xn},leftPadding:10}},[Fe,ne.width]),gt=um.prism.memo("setClippedSpaceRange",()=>function(jt){f.transaction(({stateEditors:xn})=>{const _r=T({},jt);if(_r.end<=_r.start&&(_r.end=_r.start+1),_r.start<0){const lr=_r.end-_r.start;_r.start=0,_r.end=lr}xn.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(R(T({},a.address),{range:_r}))})},[]),Wt=um.prism.memo("clippedSpace",()=>({range:Fe,width:ne.width,fromUnitSpace(jn){return Qe.fromUnitSpace(jn-Fe.start)+Qe.leftPadding},toUnitSpace(jn){return Qe.toUnitSpace(jn-Qe.leftPadding)+Fe.start},setRange:gt}),[Fe,ne.width,Qe,gt]),Tt=um.prism.memo("selection.current",()=>new um.Atom({}),[]);return i6("finalAtom",{sheet:a,tree:B,panelDims:O,leftDims:te,rightDims:ne,dopeSheetDims:ue,horizontalScrollbarDims:pe,seeker:He,unitSpace:Oe,scaledSpace:Qe,clippedSpace:Wt,graphEditorDims:re,graphEditorVerticalSpace:me,selectionAtom:Tt}).pointer})}var um,xre,wre,qBe=w({"studio/src/panels/SequenceEditorPanel/layout/layout.ts"(){Te(),VBe(),Xee(),um=U(Ln),WBe(),wf(),xre=.2,wre={start:0,end:10}}});function XBe(a){const{fullSecondStampsContainer:u,sequencePositionFormatter:f,snapToGrid:m,unitSpaceToClippedSpace:b}=a;let P="";ere(a,(B,O)=>{const q=m(B),K=b(q);O?P+=Ere(f.formatFullUnitForGrid(q),K,"full-unit"):P+=Ere(f.formatSubUnitForGrid(q),K,"sub-unit")}),u.innerHTML=P}function Ere(a,u,f){return`<span class="${f}" style="transform: translate3d(${u.toFixed(1)}px, -50%, 0);">${a}</span>`}var Iw,kw,bre,fS,Cre,Are,Tre,Mre,Pre=w({"studio/src/panels/SequenceEditorPanel/FrameGrid/StampsGrid.tsx"(){Iw=U(Ln),Uv(),kw=U(xt()),Hn(),nre(),u8(),bre=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`,fS={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return sR(.2,fS.fullUnitStampColor)}},Cre=lt.div`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`,Are=lt.div`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: ${fS.fullUnitStampColor};
    text-align: center;
    font-size: ${fS.stampFontSize};
    width: 20px;

    &.full-unit {
      color: ${fS.fullUnitStampColor};
    }

    &.sub-unit {
      color: ${fS.subUnitStampColor};
    }
  }

  pointer-events: none;
`,Tre=({layoutP:a,width:u})=>{const f=(0,kw.useRef)(null),[m,b]=(0,kw.useState)(null);return(0,kw.useLayoutEffect)(()=>{if(m)return(0,Iw.prism)(()=>{const P=(0,Iw.val)(a.sheet).getSequence();return{fullSecondStampsContainer:m,clippedSpaceRange:(0,Iw.val)(a.clippedSpace.range),clippedSpaceWidth:(0,Iw.val)(a.clippedSpace.width),unitSpaceToClippedSpace:(0,Iw.val)(a.clippedSpace.fromUnitSpace),leftPadding:(0,Iw.val)(a.scaledSpace.leftPadding),fps:P.subUnitsPerUnit,sequencePositionFormatter:P.positionFormatter,snapToGrid:B=>P.closestGridPosition(B)}}).tapImmediate(KL,XBe)},[m,u,a]),kw.default.createElement(bre,{ref:f,style:{width:u+"px"}},kw.default.createElement(Cre,{style:{width:u+"px"}},kw.default.createElement(Are,{ref:b})))},Mre=Tre}}),XL,Rre,Ire,YBe=w({"studio/src/utils/mousePositionD.ts"(){XL=U(Ln),Rre=(0,XL.prism)(()=>{const[a,u]=XL.prism.state("pos",null);return XL.prism.effect("setupListeners",()=>{const f=m=>{u(m)};return document.addEventListener("mousemove",f),()=>{document.removeEventListener("mousemove",f)}},[]),a}),Ire=Rre}}),__,xp,p8,xR,kre,Dre,Ore,Bre,S_,W0,YL,Lre,Nre,Ud=w({"studio/src/panels/SequenceEditorPanel/FrameStampPositionProvider.tsx"(){__=U(Ln),YBe(),wf(),xp=U(xt()),function(a){a[a.hidden=0]="hidden",a[a.locked=1]="locked",a[a.snapped=2]="snapped",a[a.free=3]="free"}(p8||(p8={})),xR=(0,xp.createContext)(null),kre=0,Dre=({children:a,layoutP:u})=>{const f=(0,xp.useMemo)(()=>new __.Atom({list:[]}),[]),m=(0,xp.useMemo)(()=>(0,__.prism)(()=>{const B=__.prism.memo("p",()=>Lre(u),[u]).getValue(),O=(0,__.val)(f.pointer.list);return O.length>0?Yn(O).position:B}),[u]),b=(0,xp.useCallback)(()=>{const B=kre++;return f.reduceState(["list"],K=>[...K,{id:B,position:[-1,0]}]),{set:K=>{f.reduceState(["list"],J=>{const te=J.findIndex(re=>re.id===B);if(te===-1)return console.warn("Lock is already freed. This is a bug."),J;const ne=[...J];return ne.splice(te,1,{id:B,position:[K,K===-1?0:1]}),ne})},unlock:()=>{f.reduceState(["list"],K=>K.filter(J=>J.id!==B))}}},[]),P={currentD:m,getLock:b};return xp.default.createElement(xR.Provider,{value:P},a)},Ore=()=>(0,xp.useContext)(xR).currentD,Bre=()=>{const{getLock:a}=(0,xp.useContext)(xR),u=(0,xp.useRef)();return(0,xp.useLayoutEffect)(()=>()=>{var f;(f=u.current)==null||f.unlock()},[]),(0,xp.useMemo)(()=>{let f;return(m,b)=>{var P,B;(f==null?void 0:f.shouldLock)!==m&&(m?u.current=a():(P=u.current)==null||P.unlock()),(f==null?void 0:f.pos)!==b&&m&&((B=u.current)==null||B.set(b)),f={shouldLock:m,pos:b}}},[a])},S_=(a,u)=>{const{getLock:f}=(0,xp.useContext)(xR),m=(0,xp.useRef)();(0,xp.useLayoutEffect)(()=>{if(a)return m.current=f(),()=>{m.current.unlock()}},[a,f]),(0,xp.useLayoutEffect)(()=>{a&&m.current.set(u)},[u,a])},W0=a=>({[YL]:a==="hide"?a:a.toFixed(3)}),YL="data-theatre-lock-framestamp-to",Lre=a=>(0,__.prism)(()=>{const u=(0,__.val)(a.rightDims),f=(0,__.val)(a.clippedSpace.toUnitSpace),m=(0,__.val)(Ire);if(!m)return[-1,0];for(const J of m.composedPath()){if(!(J instanceof HTMLElement||J instanceof SVGElement))break;if(J.hasAttribute(YL)){const te=J.getAttribute(YL);if(typeof te!="string")continue;if(te==="hide")return[-1,0];const ne=parseFloat(te);if(isFinite(ne)&&ne>=0)return[ne,2]}}const{clientX:b,clientY:P}=m,{screenX:B,screenY:O,width:q,height:K}=u;if(lm(b,B,B+q)&&lm(P,O+16,O+K)){const J=b-B;return[f(J),3]}else return[-1,0]}),Nre=Dre}});function Fre(){const[a,u]=(0,m8.useState)(!1),f=(0,m8.useMemo)(()=>{const m=new Set;return()=>{const b=()=>{m.delete(b),u(m.size>0)};return m.add(b),u(!0),b}},[]);return[a,f]}var m8,Ure=w({"studio/src/uiComponents/useLockSet.ts"(){m8=U(xt())}}),zre,Hre,jre,$Be=w({"../node_modules/react-use/esm/useEffectOnce.js"(){zre=U(xt()),Hre=function(a){(0,zre.useEffect)(a,[])},jre=Hre}}),Gre,Vre,Wre,QBe=w({"../node_modules/react-use/esm/useUnmount.js"(){Gre=U(xt()),$Be(),Vre=function(a){var u=(0,Gre.useRef)(a);u.current=a,jre(function(){return function(){return u.current()}})},Wre=Vre}}),$L,Kre,qre,JBe=w({"../node_modules/react-use/esm/useRafState.js"(){$L=U(xt()),QBe(),Kre=function(a){var u=(0,$L.useRef)(0),f=(0,$L.useState)(a),m=f[0],b=f[1],P=(0,$L.useCallback)(function(B){cancelAnimationFrame(u.current),u.current=requestAnimationFrame(function(){b(B)})},[]);return Wre(function(){cancelAnimationFrame(u.current)}),[m,P]},qre=Kre}});function ZBe(a){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];a&&a.addEventListener&&a.addEventListener.apply(a,u)}function eLe(a){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];a&&a.removeEventListener&&a.removeEventListener.apply(a,u)}var QL,tLe=w({"../node_modules/react-use/esm/misc/util.js"(){QL=typeof window<"u"}}),Xre,Yre,JL,v8=w({"../node_modules/react-use/esm/useWindowSize.js"(){Xre=U(xt()),JBe(),tLe(),Yre=function(a,u){a===void 0&&(a=1/0),u===void 0&&(u=1/0);var f=qre({width:QL?window.innerWidth:a,height:QL?window.innerHeight:u}),m=f[0],b=f[1];return(0,Xre.useEffect)(function(){if(QL){var P=function(){b({width:window.innerWidth,height:window.innerHeight})};return ZBe(window,"resize",P),function(){eLe(window,"resize",P)}}},[]),m},JL=Yre}}),g8,ZL,eN,y8,HC,$re,_8,jC=w({"studio/src/panels/BasePanel/BasePanel.tsx"(){g8=U(Ln),Ei(),Te(),Ure(),ZL=U(xt()),v8(),eN=(a,u)=>{const f=a.left/u.width,m=(a.left+a.width)/u.width,b=a.top/u.height,P=(a.height+a.top)/u.height;return{edges:{left:f<=.5?{from:"screenLeft",distance:f}:{from:"screenRight",distance:1-f},right:m<=.5?{from:"screenLeft",distance:m}:{from:"screenRight",distance:1-m},top:b<=.5?{from:"screenTop",distance:b}:{from:"screenBottom",distance:1-b},bottom:P<=.5?{from:"screenTop",distance:P}:{from:"screenBottom",distance:1-P}}}},y8=ZL.default.createContext(null),HC=()=>(0,ZL.useContext)(y8),$re=({panelId:a,children:u,defaultPosition:f,minDims:m})=>{const b=JL(800,200),[P,B]=Fre(),{stuff:O}=ma(()=>{var q;const{edges:K}=(q=(0,g8.val)(Z().atomP.historic.panelPositions[a]))!=null?q:f,J=Math.floor(b.width*(K.left.from==="screenLeft"?K.left.distance:1-K.left.distance)),te=Math.floor(b.width*(K.right.from==="screenLeft"?K.right.distance:1-K.right.distance)),ne=Math.floor(b.height*(K.top.from==="screenTop"?K.top.distance:1-K.top.distance)),re=Math.floor(b.height*(K.bottom.from==="screenTop"?K.bottom.distance:1-K.bottom.distance)),ue=Math.max(te-J,m.width),pe=Math.max(re-ne,m.height);return{stuff:{dims:g8.prism.memo("dims",()=>({width:ue,left:J,top:ne,height:pe}),[ue,J,ne,pe]),panelId:a,minDims:m,boundsHighlighted:P,addBoundsHighlightLock:B}}},[a,b,P,B]);return ZL.default.createElement(y8.Provider,{value:O},u)},_8=$re}});function nLe(a){const[u,f]=(0,S8.useState)(!1);return(0,S8.useEffect)(()=>{if(f(!1),!a)return;const m=P=>{P.target===a?f(!0):f(!1)},b=()=>{f(!1)};return a.addEventListener("mouseenter",m),a.addEventListener("mousemove",m),a.addEventListener("mouseleave",b),()=>{f(!1),a.removeEventListener("mouseenter",m),a.removeEventListener("mousemove",m),a.removeEventListener("mouseleave",b)}},[a]),u}var S8,rLe=w({"studio/src/uiComponents/useHoverWithoutDescendants.ts"(){S8=U(xt())}});function x8(a){const[u,f]=(0,w8.useState)(null);return(0,w8.useLayoutEffect)(()=>(a&&f(a.getBoundingClientRect()),()=>{f(null)}),[a]),u}var w8,Qre=w({"studio/src/uiComponents/useBoundingClientRect.ts"(){w8=U(xt())}}),iLe=L({"../node_modules/polished/lib/internalHelpers/_curry.js"(a,u){a.__esModule=!0,a.default=m;function f(b,P,B){return function(){var q=B.concat(Array.prototype.slice.call(arguments));return q.length>=P?b.apply(this,q):f(b,P,q)}}function m(b){return f(b,b.length,[])}u.exports=a.default}}),aLe=L({"../node_modules/polished/lib/internalHelpers/_guard.js"(a,u){a.__esModule=!0,a.default=void 0;function f(b,P,B){return Math.max(b,Math.min(P,B))}var m=f;a.default=m,u.exports=a.default}}),oLe=L({"../node_modules/polished/lib/internalHelpers/_hslToRgb.js"(a,u){a.__esModule=!0,a.default=void 0;function f(B){return Math.round(B*255)}function m(B,O,q){return f(B)+","+f(O)+","+f(q)}function b(B,O,q,K){if(K===void 0&&(K=m),O===0)return K(q,q,q);var J=(B%360+360)%360/60,te=(1-Math.abs(2*q-1))*O,ne=te*(1-Math.abs(J%2-1)),re=0,ue=0,pe=0;J>=0&&J<1?(re=te,ue=ne):J>=1&&J<2?(re=ne,ue=te):J>=2&&J<3?(ue=te,pe=ne):J>=3&&J<4?(ue=ne,pe=te):J>=4&&J<5?(re=ne,pe=te):J>=5&&J<6&&(re=te,pe=ne);var me=q-te/2,De=re+me,Re=ue+me,He=pe+me;return K(De,Re,He)}var P=b;a.default=P,u.exports=a.default}}),sLe=L({"../node_modules/polished/lib/internalHelpers/_nameToHex.js"(a,u){a.__esModule=!0,a.default=void 0;var f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function m(P){if(typeof P!="string")return P;var B=P.toLowerCase();return f[B]?"#"+f[B]:P}var b=m;a.default=b,u.exports=a.default}}),E8=L({"../node_modules/polished/lib/internalHelpers/_errors.js"(a,u){a.__esModule=!0,a.default=void 0;function f(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function m(re,ue){re.prototype=Object.create(ue.prototype),re.prototype.constructor=re,q(re,ue)}function b(re){var ue=typeof Map=="function"?new Map:void 0;return b=function(me){if(me===null||!O(me))return me;if(typeof me!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ue<"u"){if(ue.has(me))return ue.get(me);ue.set(me,De)}function De(){return P(me,arguments,K(this).constructor)}return De.prototype=Object.create(me.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),q(De,me)},b(re)}function P(re,ue,pe){return B()?P=Reflect.construct:P=function(De,Re,He){var Oe=[null];Oe.push.apply(Oe,Re);var Fe=Function.bind.apply(De,Oe),Qe=new Fe;return He&&q(Qe,He.prototype),Qe},P.apply(null,arguments)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(re){return Function.toString.call(re).indexOf("[native code]")!==-1}function q(re,ue){return q=Object.setPrototypeOf||function(me,De){return me.__proto__=De,me},q(re,ue)}function K(re){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)},K(re)}var J={1:`Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).

`,2:`Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).

`,3:`Passed an incorrect argument to a color function, please pass a string representation of a color.

`,4:`Couldn't generate valid rgb string from %s, it returned %s.

`,5:`Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.

`,6:`Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).

`,7:`Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).

`,8:`Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.

`,9:`Please provide a number of steps to the modularScale helper.

`,10:`Please pass a number or one of the predefined scales to the modularScale helper as the ratio.

`,11:`Invalid value passed as base to modularScale, expected number or em string but got "%s"

`,12:`Expected a string ending in "px" or a number passed as the first argument to %s(), got "%s" instead.

`,13:`Expected a string ending in "px" or a number passed as the second argument to %s(), got "%s" instead.

`,14:`Passed invalid pixel value ("%s") to %s(), please pass a value like "12px" or 12.

`,15:`Passed invalid base value ("%s") to %s(), please pass a value like "12px" or 12.

`,16:`You must provide a template to this method.

`,17:`You passed an unsupported selector state to this method.

`,18:`minScreen and maxScreen must be provided as stringified numbers with the same units.

`,19:`fromSize and toSize must be provided as stringified numbers with the same units.

`,20:`expects either an array of objects or a single object with the properties prop, fromSize, and toSize.

`,21:"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\n\n",22:"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\n\n",23:`fontFace expects a name of a font-family.

`,24:`fontFace expects either the path to the font file(s) or a name of a local copy.

`,25:`fontFace expects localFonts to be an array.

`,26:`fontFace expects fileFormats to be an array.

`,27:`radialGradient requries at least 2 color-stops to properly render.

`,28:`Please supply a filename to retinaImage() as the first argument.

`,29:`Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.

`,30:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",31:`The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation

`,32:`To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])
To pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')

`,33:`The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation

`,34:`borderRadius expects a radius value as a string or number as the second argument.

`,35:`borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.

`,36:`Property must be a string value.

`,37:`Syntax Error at %s.

`,38:`Formula contains a function that needs parentheses at %s.

`,39:`Formula is missing closing parenthesis at %s.

`,40:`Formula has too many closing parentheses at %s.

`,41:`All values in a formula must have the same unit or be unitless.

`,42:`Please provide a number of steps to the modularScale helper.

`,43:`Please pass a number or one of the predefined scales to the modularScale helper as the ratio.

`,44:`Invalid value passed as base to modularScale, expected number or em/rem string but got %s.

`,45:`Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.

`,46:`Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.

`,47:`minScreen and maxScreen must be provided as stringified numbers with the same units.

`,48:`fromSize and toSize must be provided as stringified numbers with the same units.

`,49:`Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.

`,50:`Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.

`,51:`Expects the first argument object to have the properties prop, fromSize, and toSize.

`,52:`fontFace expects either the path to the font file(s) or a name of a local copy.

`,53:`fontFace expects localFonts to be an array.

`,54:`fontFace expects fileFormats to be an array.

`,55:`fontFace expects a name of a font-family.

`,56:`linearGradient requries at least 2 color-stops to properly render.

`,57:`radialGradient requries at least 2 color-stops to properly render.

`,58:`Please supply a filename to retinaImage() as the first argument.

`,59:`Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.

`,60:"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\n\n",61:`Property must be a string value.

`,62:`borderRadius expects a radius value as a string or number as the second argument.

`,63:`borderRadius expects one of "top", "bottom", "left" or "right" as the first argument.

`,64:`The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.

`,65:`To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').

`,66:`The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.

`,67:`You must provide a template to this method.

`,68:`You passed an unsupported selector state to this method.

`,69:`Expected a string ending in "px" or a number passed as the first argument to %s(), got %s instead.

`,70:`Expected a string ending in "px" or a number passed as the second argument to %s(), got %s instead.

`,71:`Passed invalid pixel value %s to %s(), please pass a value like "12px" or 12.

`,72:`Passed invalid base value %s to %s(), please pass a value like "12px" or 12.

`,73:`Please provide a valid CSS variable.

`,74:`CSS variable not found and no default was provided.

`,75:`important requires a valid style object, got a %s instead.

`,76:`fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.

`,77:`remToPx expects a value in "rem" but you provided it in "%s".

`,78:`base must be set in "px" or "%" but you set it in "%s".
`};function te(){for(var re=arguments.length,ue=new Array(re),pe=0;pe<re;pe++)ue[pe]=arguments[pe];var me=ue[0],De=[],Re;for(Re=1;Re<ue.length;Re+=1)De.push(ue[Re]);return De.forEach(function(He){me=me.replace(/%[a-z]/,He)}),me}var ne=function(re){m(ue,re);function ue(pe){var me;{for(var De=arguments.length,Re=new Array(De>1?De-1:0),He=1;He<De;He++)Re[He-1]=arguments[He];me=re.call(this,te.apply(void 0,[J[pe]].concat(Re)))||this}return f(me)}return ue}(b(Error));a.default=ne,u.exports=a.default}}),Jre=L({"../node_modules/polished/lib/color/parseToRgb.js"(a,u){a.__esModule=!0,a.default=ue;var f=P(oLe()),m=P(sLe()),b=P(E8());function P(pe){return pe&&pe.__esModule?pe:{default:pe}}var B=/^#[a-fA-F0-9]{6}$/,O=/^#[a-fA-F0-9]{8}$/,q=/^#[a-fA-F0-9]{3}$/,K=/^#[a-fA-F0-9]{4}$/,J=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,te=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ne=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,re=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ue(pe){if(typeof pe!="string")throw new b.default(3);var me=(0,m.default)(pe);if(me.match(B))return{red:parseInt(""+me[1]+me[2],16),green:parseInt(""+me[3]+me[4],16),blue:parseInt(""+me[5]+me[6],16)};if(me.match(O)){var De=parseFloat((parseInt(""+me[7]+me[8],16)/255).toFixed(2));return{red:parseInt(""+me[1]+me[2],16),green:parseInt(""+me[3]+me[4],16),blue:parseInt(""+me[5]+me[6],16),alpha:De}}if(me.match(q))return{red:parseInt(""+me[1]+me[1],16),green:parseInt(""+me[2]+me[2],16),blue:parseInt(""+me[3]+me[3],16)};if(me.match(K)){var Re=parseFloat((parseInt(""+me[4]+me[4],16)/255).toFixed(2));return{red:parseInt(""+me[1]+me[1],16),green:parseInt(""+me[2]+me[2],16),blue:parseInt(""+me[3]+me[3],16),alpha:Re}}var He=J.exec(me);if(He)return{red:parseInt(""+He[1],10),green:parseInt(""+He[2],10),blue:parseInt(""+He[3],10)};var Oe=te.exec(me.substring(0,50));if(Oe)return{red:parseInt(""+Oe[1],10),green:parseInt(""+Oe[2],10),blue:parseInt(""+Oe[3],10),alpha:parseFloat(""+Oe[4])};var Fe=ne.exec(me);if(Fe){var Qe=parseInt(""+Fe[1],10),gt=parseInt(""+Fe[2],10)/100,Wt=parseInt(""+Fe[3],10)/100,Tt="rgb("+(0,f.default)(Qe,gt,Wt)+")",An=J.exec(Tt);if(!An)throw new b.default(4,me,Tt);return{red:parseInt(""+An[1],10),green:parseInt(""+An[2],10),blue:parseInt(""+An[3],10)}}var jn=re.exec(me.substring(0,50));if(jn){var jt=parseInt(""+jn[1],10),xn=parseInt(""+jn[2],10)/100,_r=parseInt(""+jn[3],10)/100,lr="rgb("+(0,f.default)(jt,xn,_r)+")",si=J.exec(lr);if(!si)throw new b.default(4,me,lr);return{red:parseInt(""+si[1],10),green:parseInt(""+si[2],10),blue:parseInt(""+si[3],10),alpha:parseFloat(""+jn[4])}}throw new b.default(5)}u.exports=a.default}}),lLe=L({"../node_modules/polished/lib/internalHelpers/_reduceHexValue.js"(a,u){a.__esModule=!0,a.default=void 0;var f=function(P){return P.length===7&&P[1]===P[2]&&P[3]===P[4]&&P[5]===P[6]?"#"+P[1]+P[3]+P[5]:P},m=f;a.default=m,u.exports=a.default}}),uLe=L({"../node_modules/polished/lib/internalHelpers/_numberToHex.js"(a,u){a.__esModule=!0,a.default=void 0;function f(b){var P=b.toString(16);return P.length===1?"0"+P:P}var m=f;a.default=m,u.exports=a.default}}),cLe=L({"../node_modules/polished/lib/color/rgb.js"(a,u){a.__esModule=!0,a.default=B;var f=P(lLe()),m=P(uLe()),b=P(E8());function P(O){return O&&O.__esModule?O:{default:O}}function B(O,q,K){if(typeof O=="number"&&typeof q=="number"&&typeof K=="number")return(0,f.default)("#"+(0,m.default)(O)+(0,m.default)(q)+(0,m.default)(K));if(typeof O=="object"&&q===void 0&&K===void 0)return(0,f.default)("#"+(0,m.default)(O.red)+(0,m.default)(O.green)+(0,m.default)(O.blue));throw new b.default(6)}u.exports=a.default}}),fLe=L({"../node_modules/polished/lib/color/rgba.js"(a,u){a.__esModule=!0,a.default=B;var f=P(Jre()),m=P(cLe()),b=P(E8());function P(O){return O&&O.__esModule?O:{default:O}}function B(O,q,K,J){if(typeof O=="string"&&typeof q=="number"){var te=(0,f.default)(O);return"rgba("+te.red+","+te.green+","+te.blue+","+q+")"}else{if(typeof O=="number"&&typeof q=="number"&&typeof K=="number"&&typeof J=="number")return J>=1?(0,m.default)(O,q,K):"rgba("+O+","+q+","+K+","+J+")";if(typeof O=="object"&&q===void 0&&K===void 0&&J===void 0)return O.alpha>=1?(0,m.default)(O.red,O.green,O.blue):"rgba("+O.red+","+O.green+","+O.blue+","+O.alpha+")"}throw new b.default(7)}u.exports=a.default}}),dLe=L({"../node_modules/polished/lib/color/transparentize.js"(a,u){a.__esModule=!0,a.default=void 0;var f=B(iLe()),m=B(aLe()),b=B(fLe()),P=B(Jre());function B(te){return te&&te.__esModule?te:{default:te}}function O(){return O=Object.assign||function(te){for(var ne=1;ne<arguments.length;ne++){var re=arguments[ne];for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(te[ue]=re[ue])}return te},O.apply(this,arguments)}function q(te,ne){if(ne==="transparent")return ne;var re=(0,P.default)(ne),ue=typeof re.alpha=="number"?re.alpha:1,pe=O({},re,{alpha:(0,m.default)(0,1,+(ue*100-parseFloat(te)*100).toFixed(2)/100)});return(0,b.default)(pe)}var K=(0,f.default)(q),J=K;a.default=J,u.exports=a.default}}),b8,tN,Zre,eie,tie,nie,hLe=w({"studio/src/uiComponents/simpleContextMenu/ContextMenu/Item.tsx"(){iR(),b8=U(xt()),Hn(),tN=26,Zre=lt.li`
  height: ${tN}px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: ${a=>a.enabled?"white":"#8f8f8f"};
  cursor: ${a=>a.enabled?"normal":"not-allowed"};

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: ${a=>a.enabled?"rgba(63, 174, 191, 0.75)":"initial"};
  }
`,eie=lt.span``,tie=a=>b8.default.createElement(Zre,{onClick:a.enabled?a.onClick:j0,enabled:a.enabled,title:a.enabled?void 0:"Disabled"},b8.default.createElement(eie,null,a.label)),nie=tie}});function pLe(a){const u=(0,C8.useRef)(a);u.current=a,(0,C8.useEffect)(()=>{const f=m=>u.current(m);return window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}},[])}var C8,mLe=w({"studio/src/uiComponents/useOnKeyDown.ts"(){C8=U(xt())}}),rie,iie,aie,GC,oie,sie,wR,lie,uie,cie,fie,die,vLe=w({"studio/src/uiComponents/simpleContextMenu/ContextMenu/ContextMenu.tsx"(){Uo(),Qre(),rie=U(dLe()),iie=U(xt()),aie=U(xt()),GC=U(xt()),oie=U(u_()),v8(),Hn(),hLe(),bw(),mLe(),sie=190,wR=20,lie=!0,uie=lt.ul`
  position: absolute;
  min-width: ${sie}px;
  z-index: 10000;
  background: ${(0,rie.default)(.2,"#111")};
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  ${Ro};
  border-radius: 3px;
`,cie=lt.div`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`,fie=a=>{const[u,f]=(0,GC.useState)(null),m=x8(u),b=JL();(0,GC.useLayoutEffect)(()=>{if(!m||!u)return;const O={left:m.width/2,top:tN/2+(a.displayName?tN:0)},q={left:a.clickPoint.clientX-O.left,top:a.clickPoint.clientY-O.top};q.left<0?q.left=0:q.left+m.width>b.width&&(q.left=b.width-m.width),q.top<0?q.top=0:q.top+m.height>b.height&&(q.top=b.height-m.height),u.style.left=q.left+"px",u.style.top=q.top+"px";const K=J=>{(J.clientX<q.left-wR||J.clientX>q.left+m.width+wR||J.clientY<q.top-wR||J.clientY>q.top+m.height+wR)&&a.onRequestClose()};return window.addEventListener("mousemove",K),()=>{window.removeEventListener("mousemove",K)}},[m,u,a.clickPoint,b,a.onRequestClose]);const P=(0,aie.useContext)(RC);pLe(O=>{O.key==="Escape"&&a.onRequestClose()});const B=(0,iie.useMemo)(()=>{const O=Array.isArray(a.items)?a.items:a.items();return O.length>0?O:[{label:a.displayName?`No actions for ${a.displayName}`:"No actions found",enabled:!1}]},[a.items]);return(0,oie.createPortal)(GC.default.createElement(uie,{ref:f},lie&&a.displayName?GC.default.createElement(cie,null,a.displayName):null,B.map((O,q)=>GC.default.createElement(nie,{key:`item-${q}`,label:O.label,enabled:O.enabled!==!1,onClick:K=>{O.callback&&O.callback(K),a.onRequestClose()}}))),P)},die=fie}}),nN,hie,pie,gLe=w({"studio/src/uiComponents/simpleContextMenu/useRequestContextMenu.ts"(){nN=U(xt()),hie=(a,u)=>{const[f,m]=(0,nN.useState)({isOpen:!1}),b=(0,nN.useCallback)(()=>m({isOpen:!1}),[]);return(0,nN.useEffect)(()=>{if(!a||u.disabled===!0){m({isOpen:!1});return}const P=B=>{m({isOpen:!0,event:B}),B.preventDefault(),B.stopPropagation()};return a.addEventListener("contextmenu",P),()=>{a.removeEventListener("contextmenu",P)}},[a,u.disabled]),[f,b]},pie=hie}}),mie,vie,yLe=w({"studio/src/uiComponents/form/BasicCheckbox.tsx"(){Hn(),mie=lt.input.attrs({type:"checkbox"})`
  outline: none;
`,vie=mie}});function _Le({propConfig:a,editingTools:u,value:f,autoFocus:m}){const b=(0,A8.useCallback)(P=>{u.permanentlySetValue(!!P.target.checked)},[a,u]);return A8.default.createElement(gie,{checked:f,onChange:b,autoFocus:m})}var A8,gie,yie,SLe=w({"studio/src/propEditors/simpleEditors/BooleanPropEditor.tsx"(){A8=U(xt()),Hn(),yLe(),gie=lt(vie)`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`,yie=_Le}});function xLe(a){return function(u){a.forEach(function(f){typeof f=="function"?f(u):f!=null&&(f.current=u)})}}var ER,rN=w({"../node_modules/react-merge-refs/dist/react-merge-refs.esm.js"(){ER=xLe}});function T8(a,u,f){(0,_ie.useEffect)(()=>{if(!a||f===!1)return;const m=Array.isArray(a)?a.filter(P=>P):[a],b=P=>{m.every(B=>!P.composedPath().includes(B))&&u(P)};return window.addEventListener("mousedown",b,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",b,{capture:!0,passive:!1})}},[a,f])}var _ie,M8=w({"studio/src/uiComponents/useOnClickOutside.ts"(){_ie=U(xt())}});function wLe(a){return isNaN(a)?"NaN":U0(a)?a.toFixed(0):S2(a,3).toString()}var Sie,xie,x_,iN,wie,Eie,bie,Cie,Aie,aN,P8=w({"studio/src/uiComponents/form/BasicNumberInput.tsx"(){wf(),Sie=U(xt()),xie=U(xt()),x_=U(xt()),Hn(),rN(),Po(),M8(),$c(),iN=lt.div`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`,wie=lt.input`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`,Eie=lt.div`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  ${iN}.dragging &, ${iN}.noFocus:hover & {
    background-color: #338198;
  }
`,bie=lt.div`
  display: contents;
`,Cie=a=>!0,Aie=a=>{var u;const[f]=oo({mode:"noFocus"}),m=(u=a.isValid)!=null?u:Cie,b=(0,x_.useRef)(a);b.current=a;const P=(0,x_.useRef)(null);T8(P.current,()=>{P.current.blur()},f.current.mode==="editingViaKeyboard");const B=(0,x_.useRef)(null),O=(0,x_.useMemo)(()=>{const me=Tt=>{const An=Tt.target,{value:jn}=An,jt=f.current;f.current=R(T({},jt),{currentEditedValueInString:jn});const xn=parseFloat(jn);!isFinite(xn)||!m(xn)||b.current.temporarilySetValue(xn)},De=()=>{f.current.mode==="editingViaKeyboard"&&(Re(),f.current={mode:"noFocus"}),a.onBlur&&a.onBlur()},Re=()=>{const Tt=f.current,An=parseFloat(Tt.currentEditedValueInString);!isFinite(An)||!m(An)||Tt.valueBeforeEditing===An?b.current.discardTemporaryValue():b.current.permanentlySetValue(An)},He=Tt=>{Tt.key==="Escape"?(b.current.discardTemporaryValue(),f.current={mode:"noFocus"},P.current.blur()):(Tt.key==="Enter"||Tt.key==="Tab")&&(Re(),P.current.blur())},Oe=Tt=>{f.current.mode==="noFocus"&&(P.current.focus(),Tt.preventDefault()),Tt.stopPropagation()},Fe=()=>{f.current.mode==="noFocus"?Qe():f.current.mode},Qe=()=>{const Tt=b.current.value;f.current={mode:"editingViaKeyboard",currentEditedValueInString:String(Tt),valueBeforeEditing:Tt},setTimeout(()=>{P.current.focus(),P.current.setSelectionRange(0,100)})};let gt;return{inputChange:me,onBlur:De,transitionToDraggingMode:()=>{var Tt;const An=b.current.value;gt=(Tt=P.current)==null?void 0:Tt.getBoundingClientRect().width,f.current={mode:"dragging"};let jn=An,jt=An;return B.current=document.body.style.cursor,{onDrag(xn,_r,lr,si){const un=lr.altKey?si/10:si,gn=jt+a.nudge({deltaX:un,deltaFraction:un/gt,magnitude:1});jt=a.range?tl(gn,a.range[0],a.range[1]):gn,b.current.temporarilySetValue(jt)},onDragEnd(xn){xn?(jn===jt?b.current.discardTemporaryValue():b.current.permanentlySetValue(jt),f.current={mode:"noFocus"}):(b.current.discardTemporaryValue(),f.current={mode:"noFocus"})},onClick(){P.current.focus(),P.current.setSelectionRange(0,100)}}},onInputKeyDown:He,onClick:Oe,onFocus:Fe}},[]);(0,Sie.useEffect)(()=>()=>{O.onBlur()},[]);let q=f.current.mode!=="editingViaKeyboard"?wLe(a.value):f.current.currentEditedValueInString;typeof q=="number"&&isNaN(q)&&(q="NaN");const K=[P];a.inputRef&&K.push(a.inputRef);const J=x_.default.createElement(wie,{key:"input",type:"text",onChange:O.inputChange,value:q,onBlur:O.onBlur,onKeyDown:O.onInputKeyDown,onClick:O.onClick,onFocus:O.onFocus,ref:ER(K),onMouseDown:me=>{me.stopPropagation()},onDoubleClick:me=>{me.preventDefault(),me.stopPropagation()},autoFocus:a.autoFocus}),{range:te}=a,ne=parseFloat(q),re=te?x_.default.createElement(Eie,{style:{"--percentage":tl((ne-te[0])/(te[1]-te[0]),0,1)}}):null,[ue,pe]=(0,xie.useState)(null);return xu(ue,{debugName:"form/BasicNumberInput",onDragStart:O.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:f.current.mode==="editingViaKeyboard"}),x_.default.createElement(iN,{className:a.className+" "+f.current.mode},x_.default.createElement(bie,{ref:pe},J),re)},aN=Aie}});function ELe({propConfig:a,editingTools:u,value:f,autoFocus:m}){const b=(0,R8.useCallback)(P=>a.nudgeFn(R(T({},P),{config:a})),[a]);return R8.default.createElement(aN,{value:f,temporarilySetValue:u.temporarilySetValue,discardTemporaryValue:u.discardTemporaryValue,permanentlySetValue:u.permanentlySetValue,range:a.range,nudge:b,autoFocus:m})}var R8,Tie,bLe=w({"studio/src/propEditors/simpleEditors/NumberPropEditor.tsx"(){P8(),R8=U(xt()),Tie=ELe}});function CLe({value:a,onChange:u,options:f,autoFocus:m}){const b=(0,bR.useCallback)(P=>{u(String(P.target.value))},[u]);return bR.default.createElement(I8,{role:"radiogroup"},Object.keys(f).map((P,B)=>bR.default.createElement(Mie,{key:"label-"+B,"data-checked":a===P},f[P],bR.default.createElement(Pie,{type:"radio",checked:a===P,value:P,onChange:b,name:"switchbox",autoFocus:m}))))}var bR,I8,Mie,Pie,Rie,ALe=w({"studio/src/uiComponents/form/BasicSwitch.tsx"(){Uv(),bR=U(xt()),Hn(),I8=lt.form`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`,Mie=lt.label`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  ${I8}:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: ${sR(.1,"white")}; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`,Pie=lt.input`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`,Rie=CLe}});function TLe({value:a,onChange:u,options:f,className:m,autoFocus:b}){const P=(0,Dw.useCallback)(B=>{u(String(B.target.value))},[u]);return Dw.default.createElement(Iie,null,Dw.default.createElement(Die,{className:m,value:a,onChange:P,autoFocus:b},Object.keys(f).map((B,O)=>Dw.default.createElement("option",{key:"option-"+O,value:B},f[B]))),Dw.default.createElement(kie,null,Dw.default.createElement(EBe,null)))}var Dw,Iie,kie,Die,Oie,MLe=w({"studio/src/uiComponents/form/BasicSelect.tsx"(){Dw=U(xt()),Hn(),pR(),Iie=lt.div`
  width: 100%;
  position: relative;
`,kie=lt.div`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`,Die=lt.select`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`,Oie=TLe}});function PLe({propConfig:a,editingTools:u,value:f,autoFocus:m}){const b=(0,oN.useCallback)(P=>{u.permanentlySetValue(P)},[a,u]);return a.as==="menu"?oN.default.createElement(Oie,{value:f,onChange:b,options:a.valuesAndLabels,autoFocus:m}):oN.default.createElement(Rie,{value:f,onChange:b,options:a.valuesAndLabels,autoFocus:m})}var oN,Bie,RLe=w({"studio/src/propEditors/simpleEditors/StringLiteralPropEditor.tsx"(){oN=U(xt()),ALe(),MLe(),Bie=PLe}});function vmt(a){return a}var Lie,CR,Nie,Fie,Uie,k8,zie=w({"studio/src/uiComponents/form/BasicStringInput.tsx"(){Hn(),Lie=U(xt()),CR=U(xt()),rN(),Po(),M8(),Nie=lt.input.attrs({type:"text"})`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`,Fie=a=>!0,Uie=a=>{var u,f;const[m]=oo({mode:"noFocus"}),b=(u=a.isValid)!=null?u:Fie,P=(0,CR.useRef)(a);P.current=a;const B=(0,CR.useRef)(null);T8(B.current,()=>{B.current.blur()},m.current.mode==="editingViaKeyboard");const O=(0,CR.useMemo)(()=>{const te=Re=>{const He=Re.target,{value:Oe}=He,Fe=m.current;m.current=R(T({},Fe),{currentEditedValueInString:Oe}),b(Oe)&&P.current.temporarilySetValue(Oe)},ne=()=>{var Re,He;m.current.mode==="editingViaKeyboard"&&(re(),m.current={mode:"noFocus"}),(He=(Re=P.current).onBlur)==null||He.call(Re)},re=()=>{const Re=m.current,He=Re.currentEditedValueInString;b(He)?Re.valueBeforeEditing===He?P.current.discardTemporaryValue():P.current.permanentlySetValue(He):P.current.discardTemporaryValue()},ue=Re=>{Re.key==="Escape"?(P.current.discardTemporaryValue(),m.current={mode:"noFocus"},B.current.blur()):(Re.key==="Enter"||Re.key==="Tab")&&(re(),B.current.blur())},pe=Re=>{m.current.mode==="noFocus"&&(B.current.focus(),Re.preventDefault()),Re.stopPropagation()},me=()=>{m.current.mode==="noFocus"?De():m.current.mode},De=()=>{const Re=P.current.value;m.current={mode:"editingViaKeyboard",currentEditedValueInString:String(Re),valueBeforeEditing:Re},setTimeout(()=>{B.current.focus()})};return{inputChange:te,onBlur:ne,onInputKeyDown:ue,onClick:pe,onFocus:me}},[]);(0,Lie.useEffect)(()=>()=>{O.onBlur()},[]);let q=m.current.mode!=="editingViaKeyboard"?a.value:m.current.currentEditedValueInString;const K=[B];return a.inputRef&&K.push(a.inputRef),CR.default.createElement(Nie,{key:"input",type:"text",className:`${(f=a.className)!=null?f:""} ${b(q)?"":"invalid"}`,onChange:O.inputChange,value:q,onBlur:O.onBlur,onKeyDown:O.onInputKeyDown,onClick:O.onClick,onFocus:O.onFocus,ref:ER(K),onMouseDown:te=>{te.stopPropagation()},onDoubleClick:te=>{te.preventDefault(),te.stopPropagation()},autoFocus:a.autoFocus})},k8=Uie}});function ILe({editingTools:a,value:u,autoFocus:f}){return Hie.default.createElement(k8,{value:u,temporarilySetValue:a.temporarilySetValue,discardTemporaryValue:a.discardTemporaryValue,permanentlySetValue:a.permanentlySetValue,autoFocus:f})}var Hie,jie,kLe=w({"studio/src/propEditors/simpleEditors/StringPropEditor.tsx"(){Hie=U(xt()),zie(),jie=ILe}});function DLe(a){a=a.trim().toLowerCase();const u=a.match(B8);if(!u)return{r:0,g:0,b:0,a:1};const f=OLe(u[1]);return{r:parseInt(f.substr(0,2),16)/255,g:parseInt(f.substr(2,2),16)/255,b:parseInt(f.substr(4,2),16)/255,a:parseInt(f.substr(6,2),16)/255}}function D8(a,{removeAlphaIfOpaque:u=!1}={}){const f=(a.a*255|256).toString(16).slice(1);return`#${(a.r*255|256).toString(16).slice(1)+(a.g*255|256).toString(16).slice(1)+(a.b*255|256).toString(16).slice(1)+(u&&f==="ff"?"":f)}`}function O8(a){return R(T({},a),{toString(){return D8(this,{removeAlphaIfOpaque:!0})}})}function OLe(a){switch(a.length){case 3:return`${a.repeat(2)}ff`;case 4:const u=a.substr(0,3),f=a[3];return`${u.repeat(2)}${f.repeat(2)}`;case 6:return`${a}ff`}return a}var B8,Gie=w({"shared/src/utils/color.ts"(){B8=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i}});function sN(a){const u=(0,L8.useRef)(a),f=(0,L8.useRef)(m=>{u.current&&u.current(m)});return u.current=a,f.current}var L8,Vie=w({"studio/src/uiComponents/colorPicker/hooks/useEventCallback.ts"(){L8=U(xt())}}),Ow,lN=w({"studio/src/uiComponents/colorPicker/utils/clamp.ts"(){Ow=(a,u=0,f=1)=>a>f?f:a<u?u:a}}),AR,N8,Wie,F8,U8=w({"studio/src/uiComponents/colorPicker/components/EditingProvider.tsx"(){AR=U(xt()),N8=(0,AR.createContext)(void 0),Wie=({children:a})=>{const[u,f]=(0,AR.useState)(!1);return AR.default.createElement(N8.Provider,{value:{editing:u,setEditing:f}},a)},F8=()=>(0,AR.useContext)(N8)}}),dS,VC,Kie,uN,z8,H8,qie,Xie,Yie,TR,cN=w({"studio/src/uiComponents/colorPicker/components/common/Interactive.tsx"(){dS=U(xt()),Vie(),lN(),Hn(),U8(),VC=a=>"touches"in a,Kie=(a,u)=>{for(let f=0;f<a.length;f++)if(a[f].identifier===u)return a[f];return a[0]},uN=a=>a&&a.ownerDocument.defaultView||self,z8=(a,u,f)=>{const m=a.getBoundingClientRect(),b=VC(u)?Kie(u.touches,f):u;return{left:Ow((b.pageX-(m.left+uN(a).pageXOffset))/m.width),top:Ow((b.pageY-(m.top+uN(a).pageYOffset))/m.height)}},H8=a=>{!VC(a)&&a.preventDefault()},qie=(a,u)=>u&&!VC(a),Xie=lt.div`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`,Yie=a=>{var u=a,{onMove:f,onKey:m}=u,b=j(u,["onMove","onKey"]);const P=(0,dS.useRef)(null),B=sN(f),O=sN(m),q=(0,dS.useRef)(null),K=(0,dS.useRef)(!1),{setEditing:J}=F8(),[te,ne,re]=(0,dS.useMemo)(()=>{const ue=({nativeEvent:He})=>{const Oe=P.current;if(Oe&&(H8(He),!(qie(He,K.current)||!Oe))){if(VC(He)){K.current=!0;const Fe=He.changedTouches||[];Fe.length&&(q.current=Fe[0].identifier)}Oe.focus(),J(!0),B(z8(Oe,He,q.current)),Re(!0)}},pe=He=>{H8(He),(VC(He)?He.touches.length>0:He.buttons>0)&&P.current?B(z8(P.current,He,q.current)):(J(!1),Re(!1))},me=He=>{J(!1),Re(!1)},De=He=>{const Oe=He.which||He.keyCode;Oe<37||Oe>40||(He.preventDefault(),O({left:Oe===39?.05:Oe===37?-.05:0,top:Oe===40?.05:Oe===38?-.05:0}))};function Re(He){const Oe=K.current,Fe=P.current,Qe=uN(Fe),gt=He?Qe.addEventListener:Qe.removeEventListener;gt(Oe?"touchmove":"mousemove",pe),gt(Oe?"touchend":"mouseup",me)}return[ue,De,Re]},[O,B]);return(0,dS.useEffect)(()=>re,[re]),dS.default.createElement(Xie,R(T({},b),{onTouchStart:te,onMouseDown:te,ref:P,onKeyDown:ne,tabIndex:0,role:"slider"}))},TR=dS.default.memo(Yie)}}),j8,$ie,Qie,Jie,fN,G8=w({"studio/src/uiComponents/colorPicker/components/common/Pointer.tsx"(){j8=U(xt()),Hn(),cN(),$ie=lt(TR)``,Qie=lt.div`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  ${$ie}:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`,Jie=lt.div`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`,fN=({className:a,color:u,left:f,top:m=.5})=>{const b={top:`${m*100}%`,left:`${f*100}%`};return j8.default.createElement(Qie,{style:b,className:a},j8.default.createElement(Jie,{style:{backgroundColor:u}}))}}}),Oh,dN=w({"studio/src/uiComponents/colorPicker/utils/round.ts"(){Oh=(a,u=0,f=Math.pow(10,u))=>Math.round(f*a)/f}}),V8,hN,pN,Zie,eae,mN=w({"studio/src/uiComponents/colorPicker/utils/convert.ts"(){dN(),V8=({h:a,s:u,v:f,a:m})=>{const b=(200-u)*f/100;return{h:Oh(a),s:Oh(b>0&&b<200?u*f/100/(b<=100?b:200-b)*100:0),l:Oh(b/2),a:Oh(m,2)}},hN=a=>{const{h:u,s:f,l:m}=V8(a);return`hsl(${u}, ${f}%, ${m}%)`},pN=a=>{const{h:u,s:f,l:m,a:b}=V8(a);return`hsla(${u}, ${f}%, ${m}%, ${b})`},Zie=({h:a,s:u,v:f,a:m})=>{a=a/360*6,u=u/100,f=f/100;const b=Math.floor(a),P=f*(1-u),B=f*(1-(a-b)*u),O=f*(1-(1-a+b)*u),q=b%6;return{r:Oh([f,B,P,P,O,f][q]*255),g:Oh([O,f,f,B,P,P][q]*255),b:Oh([P,P,O,f,f,B][q]*255),a:Oh(m,2)}},eae=({r:a,g:u,b:f,a:m})=>{const b=Math.max(a,u,f),P=b-Math.min(a,u,f),B=P?b===a?(u-f)/P:b===u?2+(f-a)/P:4+(a-u)/P:0;return{h:Oh(60*(B<0?B+6:B)),s:Oh(b?P/b*100:0),v:Oh(b/255*100),a:m}}}}),MR,tae,nae,rae,iae,BLe=w({"studio/src/uiComponents/colorPicker/components/common/Hue.tsx"(){MR=U(xt()),cN(),G8(),mN(),lN(),dN(),Hn(),tae=lt.div`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`,nae=lt(fN)`
  z-index: 2;
`,rae=({className:a,hue:u,onChange:f})=>{const m=P=>{f({h:360*P.left})},b=P=>{f({h:Ow(u+P.left*360,0,360)})};return MR.default.createElement(tae,{className:a},MR.default.createElement(TR,{onMove:m,onKey:b,"aria-label":"Hue","aria-valuetext":Oh(u)},MR.default.createElement(nae,{left:u/360,color:hN({h:u,s:100,v:100,a:1})})))},iae=MR.default.memo(rae)}}),PR,aae,oae,sae,lae,LLe=w({"studio/src/uiComponents/colorPicker/components/common/Saturation.tsx"(){PR=U(xt()),cN(),G8(),mN(),lN(),dN(),Hn(),aae=lt.div`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`,oae=lt(fN)`
  z-index: 3;
`,sae=({hsva:a,onChange:u})=>{const f=P=>{u({s:P.left*100,v:100-P.top*100})},m=P=>{u({s:Ow(a.s+P.left*100,0,100),v:Ow(a.v-P.top*100,0,100)})},b={backgroundColor:hN({h:a.h,s:100,v:100,a:1})};return PR.default.createElement(aae,{style:b},PR.default.createElement(TR,{onMove:f,onKey:m,"aria-label":"Color","aria-valuetext":`Saturation ${Oh(a.s)}%, Brightness ${Oh(a.v)}%`},PR.default.createElement(oae,{top:1-a.v/100,left:a.s/100,color:hN(a)})))},lae=PR.default.memo(sae)}}),RR,uae,cae,fae,dae,NLe=w({"studio/src/uiComponents/colorPicker/components/common/Alpha.tsx"(){RR=U(xt()),cN(),G8(),mN(),lN(),dN(),Hn(),uae=lt.div`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`,cae=lt.div.attrs(({colorFrom:a,colorTo:u})=>({style:{backgroundImage:`linear-gradient(90deg, ${a}, ${u})`}}))`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`,fae=lt(fN)`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`,dae=({className:a,hsva:u,onChange:f})=>{const m=O=>{f({a:O.left})},b=O=>{f({a:Ow(u.a+O.left)})},P=pN(Object.assign({},u,{a:0})),B=pN(Object.assign({},u,{a:1}));return RR.default.createElement(uae,{className:a},RR.default.createElement(cae,{colorFrom:P,colorTo:B}),RR.default.createElement(TR,{onMove:m,onKey:b,"aria-label":"Alpha","aria-valuetext":`${Oh(u.a*100)}%`},RR.default.createElement(fae,{left:u.a,color:pN(u)})))}}}),vN,hae=w({"studio/src/uiComponents/colorPicker/utils/compare.ts"(){vN=(a,u)=>{if(a===u)return!0;for(const f in a)if(a[f]!==u[f])return!1;return!0}}});function FLe(a,u,f,m){const{editing:b}=F8(),[P,B]=(0,w_.useState)(u),O=sN(f),q=sN(m);let K=b?P:u;const[J,te]=(0,w_.useState)(()=>a.toHsva(K)),ne=(0,w_.useRef)({color:K,hsva:J}),re=(0,w_.useRef)({color:K,hsva:J});(0,w_.useEffect)(()=>{b&&B(ne.current.color)},[b]),(0,w_.useEffect)(()=>{let pe=a.fromHsva(J);b?!vN(J,ne.current.hsva)&&!a.equal(pe,ne.current.color)&&(ne.current={hsva:J,color:pe},B(pe),O(pe)):!vN(J,re.current.hsva)&&!a.equal(pe,re.current.color)&&(re.current={hsva:J,color:pe},ne.current={hsva:J,color:pe},q(pe))},[b,J,a,O,q]),(0,w_.useEffect)(()=>{if(!b&&!a.equal(K,re.current.color)){const pe=a.toHsva(K);re.current={hsva:pe,color:K},te(pe)}},[b,K,a]);const ue=(0,w_.useCallback)(pe=>{te(me=>Object.assign({},me,pe))},[]);return[J,ue]}var w_,ULe=w({"studio/src/uiComponents/colorPicker/hooks/useColorManipulation.ts"(){w_=U(xt()),hae(),Vie(),U8()}}),WC,pae,mae,zLe=w({"studio/src/uiComponents/colorPicker/components/common/AlphaColorPicker.tsx"(){WC=U(xt()),BLe(),LLe(),NLe(),ULe(),Hn(),pae=lt.div`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`,mae=a=>{var u=a,{className:f,colorModel:m,color:b=m.defaultColor,temporarilySetValue:P,permanentlySetValue:B,discardTemporaryValue:O}=u,q=j(u,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);const[K,J]=FLe(m,b,P,B);return(0,WC.useEffect)(()=>()=>{O()},[]),WC.default.createElement(pae,T({},q),WC.default.createElement(lae,{hsva:K,onChange:J}),WC.default.createElement(iae,{hue:K.h,onChange:J}),WC.default.createElement(dae,{hsva:K,onChange:J}))}}}),W8,vae,gae,yae,_ae,HLe=w({"studio/src/uiComponents/colorPicker/components/RgbaColorPicker.tsx"(){W8=U(xt()),zLe(),hae(),mN(),U8(),vae=a=>({r:a.r/255,g:a.g/255,b:a.b/255,a:a.a}),gae=a=>({r:a.r*255,g:a.g*255,b:a.b*255,a:a.a}),yae={defaultColor:{r:0,g:0,b:0,a:1},toHsva:a=>eae(gae(a)),fromHsva:a=>vae(Zie(a)),equal:vN},_ae=a=>W8.default.createElement(Wie,null,W8.default.createElement(mae,R(T({},a),{permanentlySetValue:u=>{a.permanentlySetValue(u)},colorModel:yae})))}}),jLe=w({"studio/src/uiComponents/colorPicker/index.ts"(){HLe()}}),Sae,xae,K8,wae=w({"studio/src/uiComponents/Popover/ArrowContext.tsx"(){Sae=U(xt()),xae=(0,Sae.createContext)({}),K8=xae}});function GLe(a,u,f){const m=a.getBoundingClientRect(),b=P=>{(P.clientX<m.left-u||P.clientX>m.left+m.width+u||P.clientY<m.top-u||P.clientY>m.top+m.height+u)&&f(P)};return window.addEventListener("mousemove",b),()=>{window.removeEventListener("mousemove",b)}}var VLe=w({"studio/src/uiComponents/onPointerOutside.ts"(){}}),Eae,gN,q8,bae,X8,Cae=w({"studio/src/uiComponents/Popover/TooltipWrapper.tsx"(){Eae=U(xt()),gN=U(xt()),v8(),Qre(),wae(),Po(),M8(),VLe(),iR(),wf(),q8=8,bae=a=>{var u,f;const m=a.children(),[b,P]=oo(null),B=m.props.style?T({},m.props.style):{};B.position="absolute";const O=x8(P),q=x8(a.target),K=JL(),[J,te]=(0,gN.useState)({});return(0,gN.useLayoutEffect)(()=>{var ne,re,ue;if(!O||!P||!q)return;const pe=(ne=a.verticalGap)!=null?ne:8,me={};let De=(re=a.verticalPlacement)!=null?re:"bottom",Re=0,He=0;De==="bottom"?q.bottom+O.height+pe<K.height?(De="bottom",Re=q.bottom+pe,me.top="0px"):q.top>O.height+pe?(De="top",Re=q.top-(O.height+pe),me.bottom="0px",me.transform="rotateZ(180deg)"):De="overlay":De==="top"&&(q.top>O.height+pe?(De="top",Re=q.top-(O.height+pe),me.bottom="0px",me.transform="rotateZ(180deg)"):q.bottom+O.height+pe<K.height?(De="bottom",Re=q.bottom+pe,me.top="0px"):De="overlay");let Oe=0;if(De!=="overlay"){const An=q.left+q.width/2;An<O.width/2?(He=pe,Oe=Math.max(An-pe,q8)):An+O.width/2>K.width?(He=K.width-(pe+O.width),Oe=Math.min(An-He,O.width-q8)):(He=An-O.width/2,Oe=O.width/2),me.left=Oe+"px"}const{minX:Fe=-1/0,maxX:Qe=1/0,minY:gt=-1/0,maxY:Wt=1/0}=(ue=a.constraints)!=null?ue:{},Tt={left:tl(He,Fe,Qe-O.width),top:tl(Re,gt,Wt+O.height)};if(P.style.left=Tt.left+"px",P.style.top=Tt.top+"px",te(me),a.onPointerOutside)return GLe(P,a.onPointerOutside.threshold,a.onPointerOutside.callback)},[O,P,a.target,q,K,a.onPointerOutside]),T8([P,(u=a.target)!=null?u:null],(f=a.onClickOutside)!=null?f:j0),Eae.default.createElement(K8.Provider,{value:J},(0,gN.cloneElement)(m,{ref:b,style:B}))},X8=bae}});function hS(a,u){const f=(...ue)=>{},{isPointerBeingCaptured:m}=Iee("usePopover"),[b,P]=oo({isOpen:!1}),B=(0,Bh.useRef)(a),O=(0,Bh.useCallback)(ue=>{b.current={isOpen:!1}},[]),q=(0,Bh.useCallback)((ue,pe)=>{var me;const De=typeof B.current=="function"?B.current():B.current;function Re(){J.childHasFocusRef.current||De.closeOnClickOutside!==!1&&O("clicked outside popover")}b.current={isOpen:!0,clickPoint:{clientX:ue.clientX,clientY:ue.clientY},target:pe,opts:De,onClickOutside:Re,onPointerOutside:De.closeWhenPointerIsDistant===!1?void 0:{threshold:(me=De.pointerDistanceThreshold)!=null?me:100,callback:()=>{J.childHasFocusRef.current||m()||O("pointer outside")}}}},[]),K=(0,Bh.useCallback)((...ue)=>{b.current.isOpen?O("toggled"):q(...ue)},[]),J=WLe({_debug:f,state:P}),[,te]=(0,Bh.useContext)(OR);(0,Bh.useEffect)(()=>{let ue;return P.isOpen&&(ue=te()),()=>ue==null?void 0:ue()},[P.isOpen]);const ne=(0,Bh.useContext)(RC);return{node:P.isOpen?(0,Aae.createPortal)(Bh.default.createElement(Y8.Provider,{value:J.childPopoverLock},Bh.default.createElement(X8,{children:u,target:P.target,onClickOutside:P.onClickOutside,onPointerOutside:P.onPointerOutside,constraints:P.opts.constraints,verticalGap:P.opts.verticalGap})),ne):Bh.default.createElement(Bh.default.Fragment,null),open:q,close:O,toggle:K,isOpen:P.isOpen}}function WLe(a){const u=(0,Bh.useContext)(Y8);(0,Bh.useEffect)(()=>{if(a.state.isOpen){const m=u.takeFocus();return a._debug("take focus"),()=>{a._debug("release focus"),m.releaseFocus()}}},[a.state.isOpen]);const f=(0,Bh.useRef)(!1);return{childHasFocusRef:f,childPopoverLock:{takeFocus(){return f.current=!0,{releaseFocus(){f.current=!1}}}}}}var Bh,Aae,Y8,pS=w({"studio/src/uiComponents/Popover/usePopover.tsx"(){Kj(),Po(),Bh=U(xt()),Aae=U(u_()),bw(),Cae(),g9(),Y8=Bh.default.createContext({takeFocus(){return{releaseFocus(){}}}})}}),E_,Tae,Mae,Pae,Rae,Iae,kae,Dae,KLe=w({"studio/src/uiComponents/Popover/PopoverArrow.tsx"(){E_=U(xt()),Hn(),wae(),Tae=lt.div`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`,Mae=lt.div`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`,Pae=lt.path`
  fill: var(--popover-bg);
`,Rae=lt.path`
  fill: var(--popover-inner-stroke);
`,Iae=lt.path`
  fill: var(--popover-outer-stroke);
`,kae=(0,E_.forwardRef)(({className:a},u)=>{const f=(0,E_.useContext)(K8);return E_.default.createElement(Tae,{className:a,ref:u,style:T({},f)},E_.default.createElement(Mae,null,E_.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E_.default.createElement(Iae,{d:"M6 0L0 6H12L6 0Z"}),E_.default.createElement(Rae,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),E_.default.createElement(Pae,{d:"M6 3L0 9H12L6 3Z"}))))}),Dae=kae}}),yN,$8,Oae,Bae,b_,C_=w({"studio/src/uiComponents/Popover/BasicPopover.tsx"(){Uo(),Uv(),yN=U(xt()),Hn(),KLe(),$8=sS(.05,"#2a2a31"),Oae=lt.div`
  position: absolute;
  --popover-bg: ${$8};
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  ${Ro};
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`,Bae=yN.default.forwardRef(({children:a,className:u,showPopoverEdgeTriangle:f=!0},m)=>yN.default.createElement(Oae,{className:u,ref:m},f?yN.default.createElement(Dae,null):void 0,a)),b_=Bae}});function qLe({editingTools:a,value:u,autoFocus:f}){const m=(0,K0.useRef)(null),b=(0,K0.useCallback)(B=>{const O=O8(DLe(B));a.permanentlySetValue(O)},[a]),P=hS({debugName:"RgbaPropEditor"},()=>K0.default.createElement(Uae,null,K0.default.createElement(_ae,{color:{r:u.r,g:u.g,b:u.b,a:u.a},temporarilySetValue:B=>{const O=O8(B);a.temporarilySetValue(O)},permanentlySetValue:B=>{const O=O8(B);a.permanentlySetValue(O)},discardTemporaryValue:a.discardTemporaryValue})));return K0.default.createElement(K0.default.Fragment,null,K0.default.createElement(Lae,null,K0.default.createElement(Nae,{rgbaColor:u,ref:m,onClick:B=>{P.toggle(B,m.current)}}),K0.default.createElement(Fae,{value:D8(u,{removeAlphaIfOpaque:!0}),temporarilySetValue:Q8,discardTemporaryValue:Q8,permanentlySetValue:b,isValid:B=>!!B.match(B8),autoFocus:f})),P.node)}var K0,Lae,Nae,Fae,Q8,Uae,zae,XLe=w({"studio/src/propEditors/simpleEditors/RgbaPropEditor.tsx"(){Gie(),Gie(),K0=U(xt()),jLe(),Hn(),pS(),zie(),C_(),Lae=lt.div`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`,Nae=lt.div.attrs(a=>({style:{background:D8(a.rgbaColor)}}))`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`,Fae=lt(k8)`
  flex: 1;
`,Q8=()=>{},Uae=lt.div`
  position: absolute;
  background-color: ${$8};
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`,zae=qLe}}),J8,Hae=w({"studio/src/propEditors/simpleEditors/simplePropEditorByPropType.ts"(){SLe(),bLe(),RLe(),kLe(),XLe(),J8={number:Tie,string:jie,boolean:yie,stringLiteral:Bie,rgba:zae}}}),Z8,jae=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/rowIndentationFormulaCSS.tsx"(){Z8="calc(var(--left-pad) + var(--depth) * var(--step))"}});function YLe(a,u,f){return ma(()=>{if(!_ne(f))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:Bw.default.createElement(vR,{hasStaticOverride:!1})};const m=(0,Ug.getPointerParts)(a).path,b=!!(0,Ug.val)(Rh(Z().atomP.ephemeral.projects.stateByProjectId[u.address.projectId].stateBySheetId[u.address.sheetId].stateByObjectKey[u.address.objectKey].valuesBeingScrubbed,(0,Ug.getPointerParts)(a).path)),P=[],B={beingScrubbed:b,contextMenuItems:P,controlIndicators:Bw.default.createElement(Bw.default.Fragment,null)},O=(0,Ug.val)(u.template.getMapOfValidSequenceTracks_forStudio()),q=yw(O,m),K=q!==void 0&&Object.keys(q).length!==0,J=[];let te=!0;if(K){te=!1;for(const ne of zL(f,[])){if(v_(ne.conf))continue;const re=yw(q,ne.path);typeof re!="string"?te=!0:J.push(re)}}if(te&&P.push({label:"Reset all to default",callback:()=>{Z().transaction(({unset:ne})=>{ne(a)})}},{label:"Sequence all",callback:()=>{Z().transaction(({stateEditors:ne})=>{for(const{path:re,conf:ue}of zL(f,m)){if(v_(ue))continue;const pe=R(T({},u.address),{pathToProp:re});ne.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(pe,f)}})}}),K&&P.push({label:"Make all static",callback:()=>{Z().transaction(({stateEditors:ne})=>{for(const{path:re,conf:ue}of zL(f,[])){if(v_(ue))continue;const pe=R(T({},u.address),{pathToProp:[...m,...re]}),me=H6(a,re);ne.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(R(T({},pe),{value:u.getValueByPointer(me)}))}})}}),K){const ne=Ug.prism.memo("controlIndicators",()=>Bw.default.createElement($Le,T({},{pointerToProp:a,obj:u,possibleSequenceTrackIds:q,listOfDescendantTrackIds:J})),[q,J]);return R(T({},B),{type:"HasSequences",controlIndicators:ne})}else return R(T({},B),{type:"AllStatic",controlIndicators:Bw.default.createElement(vR,{hasStaticOverride:!1})})},[])}function $Le({pointerToProp:a,obj:u,possibleSequenceTrackIds:f,listOfDescendantTrackIds:m}){return ma(()=>{const b=(0,Ug.getPointerParts)(a).path,P=(0,Ug.val)(u.sheet.getSequence().positionDerivation),B=m.map(re=>({trackId:re,track:(0,Ug.val)(u.template.project.pointers.historic.sheetsById[u.address.sheetId].sequence.tracksByObject[u.address.objectKey].trackData[re])})).filter(({track:re})=>!!re).map(re=>R(T({},re),{nearbies:Cne(u,{id:re.trackId,data:re.track,sheetObject:u},P)})),O=B.find(({nearbies:re})=>!!re.cur),q=B.every(({nearbies:re})=>!!re.cur),K=B.reduce((re,ue)=>ue.nearbies.prev&&(re===void 0||ue.nearbies.prev.kf.position>re.kf.position)?ue.nearbies.prev:re,void 0),J=B.reduce((re,ue)=>ue.nearbies.next&&(re===void 0||ue.nearbies.next.kf.position<re.kf.position)?ue.nearbies.next:re,void 0),te=()=>{q?Z().transaction(re=>{re.unset(a)}):O?Z().transaction(re=>{re.set(a,(0,Ug.val)(a))}):Z().transaction(re=>{re.set(a,(0,Ug.val)(a))})},ne={cur:O?{type:"on",itemKey:Ef.forCompoundPropAggregateKeyframe(u,b,P),toggle:te}:{toggle:te,type:"off"},prev:K!==void 0?{position:K.kf.position,itemKey:Ef.forCompoundPropAggregateKeyframe(u,b,K.kf.position),jump:()=>{u.sheet.getSequence().position=K.kf.position}}:void 0,next:J!==void 0?{position:J.kf.position,itemKey:Ef.forCompoundPropAggregateKeyframe(u,b,J.kf.position),jump:()=>{u.sheet.getSequence().position=J.kf.position}}:void 0};return Bw.default.createElement(t8,T({},ne))},[a,u,f,m])}var Ug,Bw,QLe=w({"studio/src/propEditors/useEditingToolsForCompoundProp.tsx"(){Te(),rL(),Ei(),Ug=U(Ln),Hm(),Bw=U(xt()),bne(),Aw(),l_(),j6(),n8(),Tne()}});function JLe(a,u){return JSON.stringify(a,u,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var ZLe=w({"studio/src/utils/tightJsonStringify.ts"(){}});function Gae(a,u=!0){try{return typeof a=="string"?a:typeof a=="function"||a instanceof Error?a.toString():u?JLe(a):JSON.stringify(a)}catch{return(a==null?void 0:a.name)||String(a)}}var eNe=w({"studio/src/utils/devStringify.ts"(){ZLe()}});function tNe(a,u,f){a||(arguments.length>2?Vae(u,f):Vae(u))}function Vae(a,u){const f=arguments.length>1,m=Gae(typeof a=="function"?a():a),b=f?`
Instead found: ${Gae(u)}`:"";throw new Yae(`Invariant: ${m}${b}`,u)}var Wae,Kae,qae,Xae,Yae,nNe=w({"studio/src/utils/invariant.ts"(){eNe(),Wae=/^\s*at.+node:internal.+/gm,Kae=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,qae=/^\s*(at|[^@]+@).+test\-helpers.+/gm,Xae=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,Yae=class extends Error{constructor(a,u){super(a),Q(this,"found");var f;u!==void 0&&(this.found=u),this.stack=(f=this.stack)==null?void 0:f.replace(Kae,"").replace(Xae,"").replace(qae,"").replace(Wae,"")}}}});function rNe(a){return(0,SN.prism)(()=>{if(Array.isArray(a)){const u=new Array(a.length);for(let f=0;f<a.length;f++)u[f]=a[f].getValue();return u}else{const u={};for(const f in a)u[f]=(0,SN.val)(a[f]);return u}})}function _N(a){const u=KC.default.memo(KC.default.forwardRef(function(m,b){let P=[];const B={},O={ref:b};for(const te in m){const ne=m[te];(0,SN.isDerivation)(ne)?(P.push(ne),B[te]=ne):O[te]=ne}const q=(0,KC.useRef)(P.length);tNe(q.current===P.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:q.current,count:P.length});const K=(0,KC.useMemo)(()=>rNe(B),P),J=iL(K);return J&&KC.default.createElement(a,T(T({},O),J))}));return u.displayName=`deriver(${a.displayName})`,u}var SN,KC,$ae=w({"studio/src/utils/derive-utils.tsx"(){SN=U(Ln),Ei(),KC=U(xt()),nNe()}});function Qae({isHighlighted:a}){return a==="self"?"#1857a4":a==="descendent"?"#0a2f5c":"initial"}var Jae=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/getDetailRowHighlightBackground.tsx"(){}});function iNe({pointerToProp:a,obj:u,propConfig:f,visualIndentation:m}){var b;const P=(b=f.label)!=null?b:Yn((0,e9.getPointerParts)(a).path),B=Object.entries(f.props),O=B.filter(([pe,me])=>v_(me)),q=B.filter(([pe,me])=>!v_(me)),[K,J]=oo(null),te=YLe(a,u,f),[ne]=wp(J,{menuItems:te.contextMenuItems}),re=O.length>0,ue=(0,A_.useMemo)(()=>BL.getIsPropHighlightedD(R(T({},u.address),{pathToProp:(0,e9.getPointerParts)(a).path})),[a]);return A_.default.createElement(Zae,null,ne,A_.default.createElement(eoe,{isHighlighted:ue,style:{"--depth":m-1}},A_.default.createElement(toe,null,te.controlIndicators,A_.default.createElement(noe,{isHighlighted:ue,ref:K},P||"Props"))),A_.default.createElement(ioe,{style:{"--depth":m},depth:m,lastSubIsComposite:re},[...q,...O].map(([pe,me])=>A_.default.createElement(n9,{key:"prop-"+pe,propConfig:me,pointerToProp:a[pe],obj:u,visualIndentation:m+1}))))}var e9,A_,Zae,eoe,toe,noe,roe,ioe,aoe,aNe=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/DetailCompoundPropEditor.tsx"(){Aw(),e9=U(Ln),Dr(),Uv(),A_=U(xt()),Hn(),jae(),OC(),Uo(),Po(),poe(),Ep(),QLe(),G6(),$ae(),Jae(),Zae=lt.div`
  --step: 15px;
  --left-pad: 15px;
  ${Ro};
`,eoe=_N(lt.div`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;

  /* background-color: ${Qae}; */
`),toe=lt.div`
  padding-left: ${Z8};
  display: flex;
  align-items: center;
`,noe=_N(lt.div`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  user-select: none;
  &:hover {
    color: white;
  }

  ${()=>Cw};
`),roe=sS(.05,"#282b2f"),ioe=lt.div`
  /* background: ${({depth:a})=>sR(a*.03,roe)}; */
  /* padding: ${a=>a.lastSubIsComposite?0:"4px"} 0; */
`,aoe=A_.default.memo(iNe)}});function oNe({propConfig:a,pointerToProp:u,editingTools:f,children:m,isPropHighlightedD:b}){var P;const B=(P=a.label)!=null?P:Yn((0,t9.getPointerParts)(u).path),[O,q]=oo(null),[K]=wp(q,{menuItems:f.contextMenuItems});return qC.default.createElement(ooe,{isHighlighted:b},K,qC.default.createElement(soe,null,qC.default.createElement(uoe,null,f.controlIndicators),qC.default.createElement(loe,{isHighlighted:b,ref:O,title:["obj","props",...(0,t9.getPointerParts)(u).path].join(".")},B)),qC.default.createElement(coe,null,m))}var t9,qC,ooe,soe,loe,uoe,coe,sNe=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/SingleRowPropEditor.tsx"(){t9=U(Ln),Ep(),Po(),wf(),qC=U(xt()),Hn(),Uo(),OC(),$ae(),jae(),Jae(),ooe=_N(lt.div`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  ${Ro};

  /* background-color: ${Qae}; */
`),soe=lt.div`
  box-sizing: border-box;
  padding-left: ${Z8};
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`,loe=_N(lt.div`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  ${Cw};
  &:hover {
    color: white;
  }
`),uoe=lt.div`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`,coe=lt.div`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`}});function lNe({propConfig:a,pointerToProp:u,obj:f,SimpleEditorComponent:m}){const b=One(u,f,a),P=(0,IR.useMemo)(()=>BL.getIsPropHighlightedD(R(T({},f.address),{pathToProp:(0,foe.getPointerParts)(u).path})),[u]);return IR.default.createElement(oNe,T({},{editingTools:b,propConfig:a,pointerToProp:u,isPropHighlightedD:P}),IR.default.createElement(m,{editingTools:b,propConfig:a,value:b.value}))}var IR,foe,doe,uNe=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail/DetailSimplePropEditor.tsx"(){IR=U(xt()),Bne(),sNe(),foe=U(Ln),G6(),doe=IR.default.memo(lNe)}}),kR,hoe,n9,poe=w({"studio/src/panels/DetailPanel/DeterminePropEditorForDetail.tsx"(){kR=U(xt()),Hae(),aNe(),uNe(),hoe=({propConfig:a,visualIndentation:u,pointerToProp:f,obj:m})=>{if(a.type==="compound")return kR.default.createElement(aoe,{obj:m,visualIndentation:u,pointerToProp:f,propConfig:a});if(a.type==="enum")return kR.default.createElement(kR.default.Fragment,null);{const b=J8[a.type];return kR.default.createElement(doe,{SimpleEditorComponent:b,obj:m,visualIndentation:u,pointerToProp:f,propConfig:a})}},n9=hoe}}),r9,moe,voe,cNe=w({"studio/src/panels/DetailPanel/ObjectDetails.tsx"(){r9=U(xt()),poe(),Ei(),moe=({objects:a})=>{const u=a[0],f=(0,r9.useMemo)(()=>JSON.stringify(u.address),[u]),m=ka(u.template.configPointer);return r9.default.createElement(n9,{key:f,obj:u,pointerToProp:u.propsP,propConfig:m,visualIndentation:1})},voe=moe}}),goe,xN,yoe=w({"studio/src/uiComponents/DetailPanelButton.tsx"(){Hn(),goe=lt.button`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: ${a=>a.disabled?"none":"pointer"};
  opacity: ${a=>a.disabled?.4:1};

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`,xN=goe}}),fNe=w({"../node_modules/nanoid/url-alphabet/index.js"(){}}),_oe,dNe=w({"../node_modules/nanoid/index.browser.js"(){fNe(),_oe=(a=21)=>{let u="",f=crypto.getRandomValues(new Uint8Array(a));for(;a--;){let m=f[a]&63;m<36?u+=m.toString(36):m<62?u+=(m-26).toString(36).toUpperCase():m<63?u+="_":u+="-"}return u}}});function Soe(){return _oe(16)}var xoe=w({"studio/src/StudioStore/generateDiskStateRevision.ts"(){dNe()}}),woe,T_,i9,Eoe,boe,Coe,Aoe,Toe=w({"studio/src/uiComponents/Popover/TooltipContext.tsx"(){woe=U(Ln),Po(),T_=U(xt()),i9=(0,T_.createContext)(null),Eoe=0,boe=()=>{const a=(0,T_.useMemo)(()=>Eoe++,[]),{cur:u,set:f}=(0,T_.useContext)(i9),[m,b]=oo(!1),P=(0,T_.useCallback)((B,O)=>{f(B?a:-1,O)},[]);return(0,T_.useEffect)(()=>u.changesWithoutValues().tap(()=>{const B=u.getValue()===a;m.current!==B&&(m.current=B)}),[u,a]),[b,P]},Coe=({children:a})=>{const u=(0,T_.useMemo)(()=>new woe.Box(-1),[]),f=u.derivation,m=(0,T_.useMemo)(()=>{let b;return(P,B)=>{const O=b!==void 0;b!==void 0&&(clearTimeout(b),b=void 0),B===0||O?u.set(P):b=setTimeout(()=>{u.set(P),b=void 0},B)}},[]);return T_.default.createElement(i9.Provider,{value:{cur:f,set:m}},a)},Aoe=Coe}});function XC(a,u){const f=a.enabled!==!1,[m,b]=boe(),[P,B]=oo(null);(0,Poe.useEffect)(()=>{if(!f)return;const K=P.current;if(!K)return;const J=()=>{var ne;return b(!0,(ne=a.enterDelay)!=null?ne:400)},te=()=>{var ne;return b(!1,(ne=a.exitDelay)!=null?ne:200)};return K.addEventListener("mouseenter",J),K.addEventListener("mouseleave",te),()=>{K.removeEventListener("mouseenter",J),K.removeEventListener("mouseleave",te)}},[P,f,a.enterDelay,a.exitDelay]);const O=(0,Moe.useContext)(RC);return[f&&m&&B?(0,Roe.createPortal)(wN.default.createElement(X8,{children:u,target:B,onClickOutside:j0,verticalPlacement:a.verticalPlacement,verticalGap:a.verticalGap}),O):wN.default.createElement(wN.default.Fragment,null),P,m]}var Moe,Poe,wN,Roe,DR=w({"studio/src/uiComponents/Popover/useTooltip.tsx"(){Po(),Moe=U(xt()),Poe=U(xt()),wN=U(xt()),Cae(),Roe=U(u_()),Toe(),bw(),iR()}}),Ioe,YC,EN=w({"studio/src/uiComponents/Popover/BasicTooltip.tsx"(){Hn(),C_(),Ioe=lt(b_)`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`,YC=Ioe}}),q0,koe,Doe,Ooe,Boe,Loe,Noe,hNe=w({"studio/src/panels/DetailPanel/ProjectDetails/StateConflictRow.tsx"(){Ei(),Te(),q0=U(xt()),Hn(),xoe(),DR(),EN(),yoe(),koe=lt.div`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`,Doe=lt.div`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`,Ooe=lt.div`
  display: flex;
  gap: 8px;
`,Boe=({projectId:a})=>{const u=ka(Z().atomP.ephemeral.coreByProject[a].loadingState);return u&&u.type==="browserStateIsNotBasedOnDiskState"?q0.default.createElement(Loe,{loadingState:u,projectId:a}):null},Loe=({projectId:a,loadingState:u})=>{const f=()=>{Z().transaction(({drafts:q,stateEditors:K})=>{K.coreByProject.historic.revisionHistory.add({projectId:a,revision:u.onDiskState.revisionHistory[0]}),K.coreByProject.historic.revisionHistory.add({projectId:a,revision:Soe()}),q.ephemeral.coreByProject[a].loadingState={type:"loaded"}})},m=()=>{Z().transaction(({drafts:q})=>{q.historic.coreByProject[a]=u.onDiskState,q.ephemeral.coreByProject[a].loadingState={type:"loaded"}})},[b,P]=XC({},()=>q0.default.createElement(YC,null,"The browser's state will override the disk state.")),[B,O]=XC({},()=>q0.default.createElement(YC,null,"The disk's state will override the browser's state."));return q0.default.createElement(koe,null,q0.default.createElement(Doe,null,"Browser state is not based on disk state."," ",q0.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),q0.default.createElement(Ooe,null,b,q0.default.createElement(xN,{onClick:f,ref:P},"Use browser's state"),B,q0.default.createElement(xN,{onClick:m,ref:O},"Use disk state")))},Noe=Boe}}),zg,Foe,Uoe,zoe,Hoe,joe,pNe=w({"studio/src/panels/DetailPanel/ProjectDetails.tsx"(){Te(),C_(),pS(),zg=U(xt()),Hn(),yoe(),hNe(),Foe=lt.div``,Uoe=lt.div`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`,zoe=lt(b_)`
  width: 280px;
  padding: 1em;
`,Hoe=({projects:a})=>{const u=a[0],f=u.address.projectId,b=`${f.replace(/[^\w\d'_\-]+/g," ").trim()}.theatre-project-state.json`,[P,B]=(0,zg.useState)(!1),O=(0,zg.useCallback)(()=>{const K=JSON.stringify(Z().createContentOfSaveFile(u.address.projectId),null,2),J=new File([K],b,{type:"application/json"}),te=URL.createObjectURL(J),ne=Object.assign(document.createElement("a"),{href:te,target:"_blank",rel:"noopener"});ne.setAttribute("download",b),ne.click(),B(!0),setTimeout(()=>{B(!1)},2e3),setTimeout(()=>{URL.revokeObjectURL(te)},4e4)},[u,b]),q=hS({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>zg.default.createElement(zoe,null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle.",zg.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return zg.default.createElement(zg.default.Fragment,null,q.node,zg.default.createElement(Foe,null,zg.default.createElement(Noe,{projectId:f}),zg.default.createElement(Uoe,null,zg.default.createElement(xN,{onMouseEnter:K=>q.open(K,K.target),onClick:P?void 0:O,disabled:P},P?"(Exported)":`Export ${f} to JSON`))))},joe=Hoe}});function Goe(a){const[u,f]=(0,a9.useState)(!1);return(0,a9.useEffect)(()=>{const m=P=>{const B=u?200:50,O=56;let q=a==="left"?P.x<B:P.x>window.innerWidth-B;q&&(q=P.y>O),f(!!q)};document.addEventListener("mousemove",m);const b=()=>{f(!1)};return document.addEventListener("mouseleave",b),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseleave",b)}},[u]),u}var a9,Voe=w({"studio/src/uiComponents/useHotspot.ts"(){a9=U(xt())}});function mNe(a){return o9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),o9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var o9,s9,vNe=w({"studio/src/uiComponents/icons/Outline.tsx"(){o9=U(xt()),s9=mNe}});function gNe(a){return l9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),l9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var l9,Woe,yNe=w({"studio/src/uiComponents/icons/ChevronDown.tsx"(){l9=U(xt()),Woe=gNe}});function _Ne(a){return u9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),u9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var u9,Koe,SNe=w({"studio/src/uiComponents/icons/Details.tsx"(){u9=U(xt()),Koe=_Ne}});function xNe(a){return c9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),c9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var c9,qoe,wNe=w({"studio/src/uiComponents/icons/Ellipsis.tsx"(){c9=U(xt()),qoe=xNe}});function ENe(a){return f9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),f9.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var f9,Xoe,bNe=w({"studio/src/uiComponents/icons/Package.tsx"(){f9=U(xt()),Xoe=ENe}});function CNe(a){return d9.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),d9.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var d9,bN,ANe=w({"studio/src/uiComponents/icons/Bell.tsx"(){d9=U(xt()),bN=CNe}}),h9=w({"studio/src/uiComponents/icons/index.ts"(){vNe(),yNe(),SNe(),wNe(),bNe(),ANe()}}),mS,Yoe,$oe,Qoe,Joe,Zoe,ese,TNe=w({"studio/src/panels/DetailPanel/EmptyState.tsx"(){mS=U(xt()),Hn(),h9(),Yoe=lt.div`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`,$oe=lt.div`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`,Qoe=lt.div`
  color: rgba(145, 145, 145, 0.8);
`,Joe=lt.a`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`,Zoe=()=>mS.default.createElement(Yoe,null,mS.default.createElement($oe,null,mS.default.createElement(Qoe,null,mS.default.createElement(s9,null)),mS.default.createElement("div",null,"Please select an object from the ",mS.default.createElement("u",null,"Outline Menu")," to see its properties.")),mS.default.createElement(Joe,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),ese=Zoe}}),yl,$C,tse,CN,p9,m9,v9,OR,nse,rse,AN,Lw,g9=w({"studio/src/panels/DetailPanel/DetailPanel.tsx"(){oS(),Ei(),yl=U(xt()),Hn(),we(),y_(),Uo(),cNe(),pNe(),Te(),Voe(),$C=U(Ln),TNe(),Ure(),g_(),tse="32px",CN=lt.div`
  ${Ro};
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: ${zC.propsPanel};

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: ${({pin:a})=>a?"block":"none"};

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,p9=lt.div`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  ${Ro};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,m9=lt.div`
  height: ${tse};
  display: flex;
  align-items: center;
`,v9=lt.div`
  ${Ro};
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`,OR=(0,yl.createContext)([!1,()=>()=>{}]),nse=a=>{const u=ka(Z().atomP.ahistoric.pinDetails)!==!1,f=Goe("right");(0,yl.useLayoutEffect)(()=>{AN.set(f)},[f]),(0,yl.useEffect)(()=>()=>{Lw.set(!1),AN.set(!1)},[]);const[m]=(0,yl.useContext)(OR),b=u||f||m,[P,B]=(0,yl.useState)(null);return Pne(P),ma(()=>{const O=aS(),q=O.find(ut);if(q)return yl.default.createElement(CN,{"data-testid":"DetailPanel-Object",pin:b,ref:B,onMouseEnter:()=>{Lw.set(!0)},onMouseLeave:()=>{Lw.set(!1)}},yl.default.createElement(m9,null,yl.default.createElement(p9,{title:`${q.sheet.address.sheetId}: ${q.sheet.address.sheetInstanceId} > ${q.address.objectKey}`},yl.default.createElement(uS,null,q.sheet.address.sheetId," "),yl.default.createElement(SR,null,":",""),yl.default.createElement(uS,null,q.sheet.address.sheetInstanceId," "),yl.default.createElement(SR,null,""),yl.default.createElement(uS,null,q.address.objectKey))),yl.default.createElement(v9,null,yl.default.createElement(voe,{objects:[q]})));const K=O.find(Ke);return K?yl.default.createElement(CN,{pin:b},yl.default.createElement(m9,null,yl.default.createElement(p9,{title:`${K.address.projectId}`},yl.default.createElement(uS,null,K.address.projectId," "))),yl.default.createElement(v9,null,yl.default.createElement(joe,{projects:[K]}))):yl.default.createElement(CN,{pin:b,onMouseEnter:()=>{Lw.set(!0)},onMouseLeave:()=>{Lw.set(!1)}},yl.default.createElement(ese,null))},[b])},rse=()=>{const a=Fre();return yl.default.createElement(OR.Provider,{value:a},yl.default.createElement(nse,null))},AN=new $C.Box(!1),Lw=new $C.Box(!1),(0,$C.prism)(()=>{const a=(0,$C.val)(Lw.derivation),u=(0,$C.val)(AN.derivation);return a||u})}});function wp(a,u){const[f,m]=pie(a,u),[,b]=(0,QC.useContext)(OR);return(0,QC.useEffect)(()=>{var B;let O;return f.isOpen&&((B=u.onOpen)==null||B.call(u),O=b()),()=>O==null?void 0:O()},[f.isOpen,u.onOpen]),[f.isOpen?QC.default.createElement(die,{items:u.menuItems,displayName:u.displayName,clickPoint:f.event,onRequestClose:m}):ise,m,f.isOpen]}var QC,ise,Ep=w({"studio/src/uiComponents/simpleContextMenu/useContextMenu.tsx"(){QC=U(xt()),vLe(),gLe(),g9(),ise=QC.default.createElement(QC.default.Fragment,null)}});function MNe(a,u){let f=0;const[m,b]=a,[P,B]=u;return b-m>B-P?[P,B]:(m<P&&(f=0-m),b>B&&(f=B-b),[m+f,b+f])}var X0,vS,Qc,y9,TN,ase,ose,sse=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeStrip.tsx"(){X0=U(Ln),Ei(),Uo(),Te(),Fw(),Ep(),$c(),Po(),vS=U(xt()),Hn(),Ud(),Qc={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},y9=1e3,TN=lt.div`
  position: absolute;
  height: ${()=>$0-1}px;
  background-color: ${a=>a.enabled?Qc.enabled.backgroundColor:Qc.disabled.backgroundColor};
  cursor: grab;
  top: 0;
  left: 0;
  width: ${y9}px;
  transform-origin: left top;
  &:hover {
    background-color: ${Qc.hover.backgroundColor};
  }
  &.dragging {
    background-color: ${Qc.dragging.backgroundColor};
    cursor: grabbing !important;
  }
  ${Ro};

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`,ase=({layoutP:a})=>{const u=(0,vS.useMemo)(()=>(0,X0.prism)(()=>{const{projectId:K,sheetId:J}=(0,X0.val)(a.sheet).address;return(0,X0.val)(Z().atomP.ahistoric.projects.stateByProjectId[K].stateBySheetId[J].sequence.focusRange)}),[a]),[f,m]=oo(null),[b]=wp(m,{menuItems:()=>{const K=(0,X0.val)(a.sheet),J=u.getValue();return[{label:"Delete focus range",callback:()=>{Z().tempTransaction(({stateEditors:te})=>{te.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(T({},K.address))}).commit()}},{label:J!=null&&J.enabled?"Disable focus range":"Enable focus range",callback:()=>{J!==void 0&&Z().tempTransaction(({stateEditors:te})=>{te.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(T({},K.address),{range:J.range,enabled:!J.enabled}))}).commit()}}]}}),P=ka(a.scaledSpace.toUnitSpace),B=ka(a.sheet),O=(0,vS.useMemo)(()=>{let K,J;return{debugName:"FocusRangeStrip",onDragStart(te){let ne,re=u.getValue();if(!re)return!1;const ue=re.range.start,pe=re.range.end;let me=!1;const De=(0,X0.val)(a.sheet).getSequence();return{onDrag(Re){if(re=u.getValue(),re){me=!0;const He=P(Re),Oe=ue+He;let Fe=pe+He;Fe<Oe&&(Fe=Oe),[K,J]=MNe([Oe,Fe],[0,De.length]).map(Qe=>De.closestGridPosition(Qe)),ne&&ne.discard(),ne=Z().tempTransaction(({stateEditors:Qe})=>{var gt;Qe.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(T({},B.address),{range:{start:K,end:J},enabled:(gt=re==null?void 0:re.enabled)!=null?gt:!0}))})}},onDragEnd(){re&&(me&&ne!==void 0?ne.commit():ne&&ne.discard())}}},lockCSSCursorTo:"grabbing"}},[B,P]),[q]=xu(m,O);return S_(q,-1),ma(()=>{const K=u.getValue(),J=(K==null?void 0:K.range)||{start:0,end:0};let te=(0,X0.val)(a.clippedSpace.fromUnitSpace)(J.start),ne=(0,X0.val)(a.clippedSpace.fromUnitSpace)(J.end),re,ue;return te<0&&(te=0),ne>(0,X0.val)(a.clippedSpace.width)&&(ne=(0,X0.val)(a.clippedSpace.width)),te>ne?(ue=0,re=0):(ue=te,re=(ne-te)/y9),K?vS.default.createElement(vS.default.Fragment,null,b,vS.default.createElement(TN,{id:"range-strip",enabled:K.enabled,className:`${q?"dragging":""} ${K.enabled?"enabled":""}`,ref:f,style:{transform:`translateX(${ue}px) scale(${re}, 1)`}})):vS.default.createElement(vS.default.Fragment,null)},[a,f,u,b,q])},ose=ase}}),gS,M_,lse,use,cse,fse,_9,PNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeThumb.tsx"(){gS=U(Ln),Ei(),Te(),Fw(),Ym(),$c(),Po(),M_=U(xt()),Hn(),Ud(),sse(),Lg(),lse=lt.div`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: ${a=>a.type==="start"?0:-Qc.thumbWidth}px;
  transform-origin: left top;
  width: ${Qc.thumbWidth}px;
  height: ${()=>$0-1}px;
  z-index: 3;

  --bg: ${({enabled:a})=>a?Qc.enabled.backgroundColor:Qc.disabled.backgroundColor};

  stroke: ${Qc.enabled.stroke};
  user-select: none;

  cursor: ${a=>a.type==="start"?"w-resize":"e-resize"};

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${p_});
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  ${()=>TN}:hover ~ &, &:hover {
    --bg: ${Qc.hover.backgroundColor};
    stroke: ${Qc.hover.stroke};
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  ${()=>TN}.dragging.dragging ~ & {
    --bg: ${Qc.dragging.backgroundColor};
    stroke: ${Qc.dragging.stroke};
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: ${Qc.dragging.backgroundColor};
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`,use=lt.div`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    ${a=>a.type==="start"?90:-90}deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: ${a=>a.type==="start"?Qc.thumbWidth:-Qc.thumbWidth+1}px;
`,cse=lt.div`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    ${a=>a.type==="start"?-90:90}deg,
    ${()=>BR.backgroundColor} 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: ${a=>a.type==="start"?-12:Qc.thumbWidth}px;
`,fse=({layoutP:a,thumbType:u})=>{var f;const[m,b]=oo(null),P=(0,M_.useMemo)(()=>(0,gS.prism)(()=>{const{projectId:K,sheetId:J}=(0,gS.val)(a.sheet).address;return(0,gS.val)(Z().atomP.ahistoric.projects.stateByProjectId[K].stateBySheetId[J].sequence.focusRange)}),[a]),B=(0,M_.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let K,J;const te=(0,gS.val)(a.sheet),re={start:0,end:te.getSequence().length};let ue=P.getValue()||{range:re,enabled:!1};const pe=ue.enabled,me=ue.range[u],De=(0,gS.val)(a.scaledSpace.toUnitSpace),Re=De(Qc.rangeStripMinWidth);return{onDrag(He,Oe,Fe){var Qe;let gt;const Wt=Sp.checkIfMouseEventSnapToPos(Fe,{ignore:b});if(Wt==null){const An=De(He);gt=me+An}else gt=Wt;J=((Qe=P.getValue())==null?void 0:Qe.range)||re,u==="start"?gt=Math.max(Math.min(gt,J.end-Re),0):gt=Math.min(Math.max(gt,J.start+Re),te.getSequence().length);const Tt=te.getSequence().closestGridPosition(gt);K!==void 0&&K.discard(),K=Z().tempTransaction(({stateEditors:An})=>{An.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(T({},te.address),{range:R(T({},J),{[u]:Tt}),enabled:pe}))})},onDragEnd(He){He?K==null||K.commit():K==null||K.discard()}}}}),[a]),[O]=xu(b,B);Nv(O,"draggingPositionInSequenceEditor",u==="start"?"w-resize":"e-resize");const q=ka(P);return S_(O,(f=q==null?void 0:q.range[u])!=null?f:0),ma(()=>{const K=P.getValue();if(!K)return null;const{enabled:J}=K,te=K.range[u];let ne=(0,gS.val)(a.clippedSpace.fromUnitSpace)(te);return(ne<0||(0,gS.val)(a.clippedSpace.width)<ne)&&(ne=-1e4),M_.default.createElement(lse,R(T(T({ref:m},Sp.includePositionSnapAttrs(te)),W0(te)),{className:`${O&&"dragging"} ${J&&"enabled"}`,enabled:J,type:u,style:{transform:`translate3d(${ne}px, 0, 0)`}}),M_.default.createElement(use,{type:u,enabled:J}),M_.default.createElement(cse,{type:u}),M_.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},M_.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),M_.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[a,m,P,O])},_9=fse}});function RNe(a,u){const[f,m]=(0,Y0.useState)("none");return Nv(f!=="none","dragging",f==="creating"?"ew-resize":"move"),(0,Y0.useMemo)(()=>{const b=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(B){let O;const q=(0,Nw.val)(a.clippedSpace.toUnitSpace),K=(0,Nw.val)(a.scaledSpace.toUnitSpace),J=(0,Nw.val)(a.sheet),te=J.getSequence(),re=B.target.getBoundingClientRect(),ue=q(B.clientX-re.left),pe=K(Qc.rangeStripMinWidth);return{onDrag(me){const De=K(me);let Re=ue,He=ue+De;[Re,He]=[tl(Re,0,te.length),tl(He,0,te.length)].map(Oe=>te.closestGridPosition(Oe)),He<Re?[Re,He]=[Math.max(Math.min(He,Re-pe),0),Re]:me>0&&(He=Math.min(Math.max(He,Re+pe),te.length)),O&&O.discard(),O=Z().tempTransaction(({stateEditors:Oe})=>{Oe.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(R(T({},J.address),{range:{start:Re,end:He},enabled:!0}))})},onDragEnd(me){me&&O!==void 0?O.commit():O&&O.discard()}}},lockCSSCursorTo:"ew-resize"}),P=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let B;const O=u.current,q=u.current.addBoundsHighlightLock();return{onDrag(K,J){const te=R(T({},O.dims),{top:tl(O.dims.top+J,0,window.innerHeight-V0),left:tl(O.dims.left+K,-O.dims.width+V0,window.innerWidth-V0)}),ne=eN(te,{width:window.innerWidth,height:window.innerHeight});B==null||B.discard(),B=Z().tempTransaction(({stateEditors:re})=>{re.studio.historic.panelPositions.setPanelPosition({position:ne,panelId:O.panelId})})},onDragEnd(K){q(),K?B==null||B.commit():B==null||B.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(B){const[O,q]=B.shiftKey?["creating",b().onDragStart(B)]:["moving-panel",P().onDragStart(B)];return m(O),q===!1?!1:{onDrag(K,J,te,ne,re){q.onDrag(K,J,te,ne,re)},onDragEnd(K){var J;m("none"),(J=q.onDragEnd)==null||J.call(q,K)}}}}},[a,u])}var Nw,Y0,dse,hse,pse,INe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/FocusRangeZone/FocusRangeZone.tsx"(){Nw=U(Ln),Ei(),Te(),jC(),Fw(),Ym(),$c(),rLe(),Fee(),Po(),wf(),Y0=U(xt()),Hn(),sse(),PNe(),y_(),dse=lt.div`
  position: absolute;
  height: ${()=>$0}px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: ${a=>a.isShiftDown?"ew-resize":"move"};
`,hse=({layoutP:a})=>{const[u,f]=oo(null),m=HC(),b=(0,Y0.useRef)(m);b.current=m;const P=(0,Y0.useMemo)(()=>(0,Nw.prism)(()=>{const{projectId:q,sheetId:K}=(0,Nw.val)(a.sheet).address;return(0,Nw.val)(Z().atomP.ahistoric.projects.stateByProjectId[q].stateBySheetId[K].sequence.focusRange)}),[a]);xu(f,RNe(a,b));const B=Lee("Shift"),O=nLe(f);return(0,Y0.useEffect)(()=>{if(!B&&O)return b.current.addBoundsHighlightLock()},[!B&&O]),ma(()=>Y0.default.createElement(dse,{ref:u,isShiftDown:B},Y0.default.createElement(ose,{layoutP:a}),Y0.default.createElement(_9,{thumbType:"start",layoutP:a}),Y0.default.createElement(_9,{thumbType:"end",layoutP:a})),[a,P,B])},pse=hse}}),JC,$0,BR,mse,vse,gse,Fw=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/TopStrip.tsx"(){Ei(),JC=U(xt()),Hn(),Pre(),Ud(),Uo(),INe(),$0=18,BR={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},mse=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: ${$0}px;
  box-sizing: border-box;
  background: ${BR.backgroundColor};
  border-bottom: 1px solid ${BR.borderColor};
  ${Ro};
`,vse=({layoutP:a})=>{const u=ka(a.rightDims.width);return JC.default.createElement(JC.default.Fragment,null,JC.default.createElement(mse,T({},W0("hide")),JC.default.createElement(Mre,{layoutP:a,width:u,height:$0}),JC.default.createElement(pse,{layoutP:a})))},gse=vse}}),Uw,yse,_se,Sse,xse,wse,Ese,kNe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/LengthIndicator/LengthEditorPopover.tsx"(){Uw=U(xt()),Hn(),Ei(),Te(),P8(),OC(),yse=a=>isFinite(a)&&a>0,_se=lt.div`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`,Sse=lt.div`
  ${Cw};
  white-space: nowrap;
`,xse=({deltaX:a})=>a*.25,wse=({layoutP:a})=>{const u=ka(a.sheet),f=(0,Uw.useMemo)(()=>{let b;return{temporarilySetValue(P){b&&(b.discard(),b=void 0),b=Z().tempTransaction(({stateEditors:B})=>{B.coreByProject.historic.sheetsById.sequence.setLength(R(T({},u.address),{length:P}))})},discardTemporaryValue(){b&&(b.discard(),b=void 0)},permanentlySetValue(P){b&&(b.discard(),b=void 0),Z().transaction(({stateEditors:B})=>{B.coreByProject.historic.sheetsById.sequence.setLength(R(T({},u.address),{length:P}))})}}},[a,u]),m=(0,Uw.useRef)(null);return(0,Uw.useLayoutEffect)(()=>{m.current.focus()},[]),ma(()=>{const P=u.getSequence().length;return Uw.default.createElement(_se,null,Uw.default.createElement(Sse,null,"Sequence length"),Uw.default.createElement(aN,R(T({value:P},f),{isValid:yse,inputRef:m,nudge:xse})))},[u,f,m])},Ese=wse}});function DNe(a,u){const f=(0,cm.useRef)(u);f.current=u;const m=(0,cm.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(P){let B;const O=f.current,q=(0,zw.val)(f.current.layoutP.sheet),K=q.getSequence().length,J=(0,zw.val)(O.layoutP.scaledSpace.toUnitSpace);return{onDrag(te,ne,re){const ue=J(te);B&&(B.discard(),B=void 0),B=Z().tempTransaction(({stateEditors:pe})=>{pe.coreByProject.historic.sheetsById.sequence.setLength(R(T({},q.address),{length:K+ue}))})},onDragEnd(te){te?B&&B.commit():B&&B.discard()}}}}),[]),[b]=xu(a,m);return S_(b,-1),[b]}var zw,cm,S9,LR,yS,bse,Cse,Ase,Tse,Mse,Pse,Rse,ONe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/LengthIndicator/LengthIndicator.tsx"(){Ei(),zw=U(Ln),cm=U(xt()),Hn(),D_(),Fw(),Po(),$c(),Te(),pS(),Ud(),pR(),kNe(),Uo(),C_(),S9=1e3,LR={stripNormal:"#0000006c",stripActive:"#000000"},yS=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: ${()=>Z0.lengthIndicatorStrip};
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: ${$0}px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: ${LR.stripNormal};
  }

  &:hover:after,
  &.dragging:after {
    background-color: ${LR.stripActive};
  }
`,bse=lt.div`
  position: absolute;
  top: ${$0-15}px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`,Cse=lt.div`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  ${Ro};
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  ${yS}:hover &, ${yS}.dragging & {
    display: block;
    color: white;
    background-color: ${LR.stripActive};
  }
`,Ase=lt.div`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  ${Ro};
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  ${yS}:hover &, ${yS}.dragging & {
    color: white;
    background-color: ${LR.stripActive};

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`,Tse=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: ${S9}px;
  z-index: ${()=>Z0.lengthIndicatorCover};
  transform-origin: left top;

  ${yS}.dragging ~ &, ${yS}:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`,Mse=-1e4,Pse=({layoutP:a})=>{const[u,f]=oo(null),[m]=DNe(f,{layoutP:a}),{node:b,toggle:P,close:B}=hS({debugName:"LengthIndicator"},()=>cm.default.createElement(b_,null,cm.default.createElement(Ese,{layoutP:a,onRequestClose:B})));return ma(()=>{const O=(0,zw.val)(a.sheet),q=(0,zw.val)(a.rightDims.height),K=O.getSequence(),J=K.length,te=J;let ne=(0,zw.val)(a.clippedSpace.fromUnitSpace)(te),re=(0,zw.val)(a.clippedSpace.width),ue,pe;return ne>re?(pe=0,ue=0):(ne<0&&(ne=0),pe=ne,ue=(re-ne)/S9),cm.default.createElement(cm.default.Fragment,null,b,cm.default.createElement(yS,{style:{height:q+"px",transform:`translateX(${pe===0?Mse:pe}px)`},className:m?"dragging":""},cm.default.createElement(bse,null,cm.default.createElement(Ase,T({ref:u,onClick:me=>{P(me,f)}},W0("hide")),cm.default.createElement(oBe,null),cm.default.createElement(sBe,null)),cm.default.createElement(Cse,null,"Sequence length:"," ",K.positionFormatter.formatBasic(J)))),cm.default.createElement(Tse,{title:"Length",style:{height:q+"px",transform:`translateX(${pe}px) scale(${ue}, 1)`}}))},[a,u,m,b])},Rse=Pse}}),x9,P_,Ise,kse,Dse,Ose,Bse,BNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/FrameStamp.tsx"(){Ei(),x9=U(Ln),P_=U(xt()),Hn(),Pre(),D_(),Fw(),Ud(),Ise=lt.div`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`,kse=lt.div`
  position: absolute;
  top: 16px;
  font-size: ${fS.stampFontSize};
  color: ${fS.fullUnitStampColor};
  text-align: center;
  transform: translateX(-50%);
  background: ${BR.backgroundColor};
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: ${()=>Z0.currentFrameStamp};
`,Dse=lt.div`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`,Ose=P_.default.memo(({layoutP:a})=>{const[u,f]=ka(Ore()),m=ka(a.clippedSpace.fromUnitSpace),{sequence:b,formatter:P,clippedSpaceWidth:B}=ma(()=>{const J=(0,x9.val)(a.sheet).getSequence(),te=(0,x9.val)(a.clippedSpace.width);return{sequence:J,formatter:J.positionFormatter,clippedSpaceWidth:te}},[a]);if(u==-1)return P_.default.createElement(P_.default.Fragment,null);const O=f===p8.free?b.closestGridPosition(u):u,q=m(O),K=q>=0&&q<=B;return P_.default.createElement(P_.default.Fragment,null,P_.default.createElement(Ise,null,P_.default.createElement(kse,{style:{opacity:K?1:0,transform:`translate3d(calc(${q}px - 50%), 0, 0)`}},P.formatForPlayhead(O)),P_.default.createElement(Dse,{posType:f,style:{opacity:K?1:0,transform:`translate3d(${q}px, 0, 0)`}}))," ")}),Bse=Ose}}),Hg,bp,Lse,Nse,MN,w9,PN,RN,E9,Fse,Use,LNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/HorizontalScrollbar.tsx"(){Ei(),Hg=U(Ln),Lv(),Uv(),bp=U(xt()),Hn(),D_(),Ud(),Uo(),$c(),Lse=lt.div`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: ${()=>Z0.horizontalScrollbar};
  ${Ro}
`,Nse=lt.div`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`,MN=lt.div`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    ${p6("absolute","-4px")};
    display: block;
    content: ' ';
  }
`,w9=lt.div`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    ${p6("absolute","0")};
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    ${p6("absolute","-4px")};
    display: block;
    content: ' ';
  }
`,PN=lt(w9)`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`,RN=lt(w9)`
  cursor: e-resize;
  left: 0px;
`,E9=lt.div`
  display: ${a=>a.active?"block":"none"};
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  ${PN}:hover &,
  ${RN}:hover &,
  ${MN}:hover ~ ${PN} &,
  ${MN}:hover ~ ${RN} & {
    display: block;
  }
`,Fse=({layoutP:a})=>{const u=(0,bp.useCallback)(me=>me.toFixed(2),[]),f=(0,bp.useMemo)(()=>(0,Hg.prism)(()=>{const me=(0,Hg.val)(a.rightDims.width)-25,De=(0,Hg.val)(a.clippedSpace.range),Re=(0,Hg.val)(a.sheet).getSequence().length,He=Math.max(De.end,Re),Oe=De.start/He*me,Fe=De.end/He*me;return{rightWidth:me,clippedSpaceRange:De,sequenceLength:Re,assumedLengthOfSequence:He,rangeStartX:Oe,rangeEndX:Fe,bottom:(0,Hg.val)(a.horizontalScrollbarDims.bottom)}}),[a]),{rangeStartX:m,rangeEndX:b,clippedSpaceRange:P,bottom:B}=ka(f),[O,q]=(0,bp.useState)("nothing"),K=(0,bp.useMemo)(()=>{let me=(0,Hg.val)(f),De=()=>{me=(0,Hg.val)(f)};const Re=Oe=>Oe/me.rightWidth*me.assumedLengthOfSequence;return{onRangeDragStart(){return De(),{onDrag(Oe){q("both");const Fe=Re(Oe),Qe=Nd(me.clippedSpaceRange,gt=>gt+Fe);(0,Hg.val)(a.clippedSpace.setRange)(Qe)},onDragEnd(){q("nothing")}}},onRangeStartDragStart(){return De(),{onDrag(Oe){q("start");const Fe=Re(Oe),Qe={start:me.clippedSpaceRange.start+Fe,end:me.clippedSpaceRange.end};Qe.start>Qe.end-1&&(Qe.start=Qe.end-1),Qe.start<=0&&(Qe.start=0),(0,Hg.val)(a.clippedSpace.setRange)(Qe)},onDragEnd(){q("nothing")}}},onRangeEndDragStart(){return De(),{onDrag(Oe){q("end");const Fe=Re(Oe),Qe={start:me.clippedSpaceRange.start,end:me.clippedSpaceRange.end+Fe};Qe.end<Qe.start+1&&(Qe.end=Qe.start+1),Qe.end>=me.assumedLengthOfSequence&&(Qe.end=me.assumedLengthOfSequence),(0,Hg.val)(a.clippedSpace.setRange)(Qe)},onDragEnd(){q("nothing")}}}}},[a,f]),[J,te]=(0,bp.useState)(null);xu(J,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:K.onRangeDragStart,lockCSSCursorTo:"ew-resize"});const[ne,re]=(0,bp.useState)(null);xu(ne,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:K.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});const[ue,pe]=(0,bp.useState)(null);return xu(ue,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:K.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),bp.default.createElement(Lse,T({style:{bottom:B+8+"px"}},W0("hide")),bp.default.createElement(Nse,null,bp.default.createElement(MN,{ref:te,style:{width:`${b-m}px`,transform:`translate3d(${m}px, 0, 0)`}}),bp.default.createElement(PN,{ref:re,style:{transform:`translate3d(${m}px, 0, 0)`}},bp.default.createElement(E9,{active:O==="both"||O==="start"},u(P.start))),bp.default.createElement(RN,{ref:pe,style:{transform:`translate3d(${b}px, 0, 0)`}},bp.default.createElement(E9,{active:O==="both"||O==="end"},u(P.end)))))},Use=Fse}}),zse,Hse,jse,Gse,NNe=w({"studio/src/uiComponents/RoomToClick.tsx"(){zse=U(xt()),Hn(),Hse=lt.div`
  position: absolute;
  inset: ${a=>a.room*-1}px;
`,jse=a=>zse.default.createElement(Hse,{room:a.room}),Gse=jse}}),IN,kN,Vse,Wse,Kse,qse,Xse,Yse,$se,FNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/PlayheadPositionPopover.tsx"(){Hn(),Ei(),P8(),OC(),IN=U(xt()),kN=U(xt()),Vse=U(Ln),Yy(),Wse=a=>isFinite(a)&&a>=0,Kse=lt.div`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`,qse=lt.div`
  ${Cw};
  white-space: nowrap;
`,Xse=({deltaX:a})=>a*.25,Yse=({layoutP:a})=>{const u=(0,Vse.val)(a.sheet),f=u.getSequence(),m=(0,IN.useMemo)(()=>{let P;const B=f.position;return{temporarilySetValue(O){P&&(P=void 0),P=tl(O,0,f.length),f.position=P},discardTemporaryValue(){P&&(P=void 0,f.position=B)},permanentlySetValue(O){P&&(P=void 0),f.position=tl(O,0,f.length)}}},[a,f]),b=(0,IN.useRef)(null);return(0,IN.useLayoutEffect)(()=>{b.current.focus()},[]),ma(()=>{const P=u.getSequence();return kN.default.createElement(Kse,null,kN.default.createElement(qse,null,"Sequence position"),kN.default.createElement(aN,R(T({value:Number(P.position.toFixed(3))},m),{isValid:Wse,inputRef:b,nudge:Xse})))},[u,m,b])},$se=Yse}}),Qse,UNe=w({"studio/src/utils/isMac.ts"(){Qse=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}}),Jse,zNe=w({"studio/src/utils/keyboardUtils.ts"(){UNe(),Jse=a=>Qse?a.metaKey===!0:a.ctrlKey===!0}});function HNe(){const a=Z();(0,Zse.useEffect)(()=>{const u=f=>{const m=f.composedPath()[0];if(!(m&&(m.tagName==="INPUT"||m.tagName==="TEXTAREA"))){if(f.key==="z"||f.key==="Z"||f.code==="KeyZ")if(Jse(f))f.shiftKey===!0?a.redo():a.undo();else return;else if(f.code==="Space"&&!f.shiftKey&&!f.metaKey&&!f.altKey&&!f.ctrlKey){const b=CDe();if(b)if(b.playing)b.pause();else{const{projectId:P,sheetId:B}=b.address,O=(0,R_.prism)(()=>{const J=(0,R_.val)(Z().atomP.ahistoric.projects.stateByProjectId[P].stateBySheetId[B].sequence.focusRange);return R_.prism.memo("shouldFollowFocusRange",()=>{const ne=b.position;if(J){const re=ne>=J.range.start&&ne<=J.range.end;return J.enabled?!!re:!0}else return!0},[])&&J&&J.enabled?{range:[J.range.start,J.range.end],isFollowingARange:!0}:{range:[0,(0,R_.val)(b.pointer.length)],isFollowingARange:!1}}),q=b.playDynamicRange(O.map(({range:J})=>J)),K=b9(b);q.finally(()=>{K.set(void 0)}),K.set(O)}else return}else if(f.altKey&&(f.key==="\\"||f.code==="Backslash"||f.code==="IntlBackslash"))a.transaction(({stateEditors:b,drafts:P})=>{b.studio.ahistoric.setVisibilityState(P.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;f.preventDefault(),f.stopPropagation()}};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[])}var Zse,R_,b9,ele,tle=w({"studio/src/UIRoot/useKeyboardShortcuts.ts"(){Zse=U(xt()),Te(),zNe(),oS(),R_=U(Ln),Ee(),b9=xa(a=>new R_.Box(void 0)),ele=xa(a=>(0,R_.prism)(()=>{const u=b9(a).derivation.getValue();if(u)return u.getValue().isFollowingARange;{const{projectId:f,sheetId:m}=a.address,b=(0,R_.val)(Z().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange);if(!b||!b.enabled)return!1;const P=(0,R_.val)(a.pointer.position);return P>=b.range.start&&P<=b.range.end}}))}}),nle,jNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/SnapCursor.svg"(){nle="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAzNCAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSA3VjFINyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+CiAgPHBhdGggZD0iTTcgMzNIMUwxIDI3IiBzdHJva2U9IiM3NEZGREUiIHN0cm9rZS13aWR0aD0iMC4yNSIgLz4KICA8cGF0aCBkPSJNMzMgMjdWMzNIMjciIHN0cm9rZT0iIzc0RkZERSIgc3Ryb2tlLXdpZHRoPSIwLjI1IiAvPgogIDxwYXRoIGQ9Ik0yNyAxTDMzIDFWNyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+Cjwvc3ZnPg=="}}),jg,DN=w({"studio/src/utils/absoluteDims.tsx"(){jg=(a,u=a)=>`
  left: ${a*-.5}px;
  top: ${u*-.5}px;
  width: ${a}px;
  height: ${u}px;
`}}),rle,NR,C9,Q0,ile=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/DopeSnapHitZoneUI.tsx"(){Uo(),Ym(),Hn(),jNe(),DN(),Lg(),Ud(),rle=12,NR=34,C9="beingDragged",Q0={BEING_DRAGGED_CLASS:C9,CSS:c_`
    position: absolute;
    ${jg(rle)};
    ${Ro};

    &.${C9} {
      pointer-events: none !important;
    }
  `,CSS_WHEN_SOMETHING_DRAGGING:c_`
    pointer-events: auto;
    cursor: var(${p_});

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - ${NR/2}px);
      left: calc(50% - ${NR/2}px);
      width: ${NR}px;
      height: ${NR}px;
      display: block;
      content: ' ';
      background: url(${nle}) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `,reactProps(a){return R(T(T({},W0(a.position)),Sp.includePositionSnapAttrs(a.position)),{className:a.isDragging?Q0.BEING_DRAGGED_CLASS:""})}}}});function A9(){UR.set({mode:"snapToAll"})}function Hw(){UR.set({mode:"snapToNone"})}function ale(a){UR.set({mode:"snapToSome",positions:a})}function ole(a,u){return Object.fromEntries(Object.entries(a).map(([f,m])=>[f,Object.fromEntries(Object.entries(m.trackData).map(([b,P])=>[b,P.keyframes.filter(B=>u(B,{trackId:b,trackData:P,objectKey:f})).map(B=>B.position)]))]))}var T9,M9,sle,lle,ule,FR,UR,P9,jw=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/KeyframeSnapTarget.tsx"(){T9=U(Ln),M9=U(xt()),Hn(),ile(),sle=lt.div`
  z-index: 1;
  cursor: ew-resize;

  ${Q0.CSS}

  #pointer-root.draggingPositionInSequenceEditor & {
    ${Q0.CSS_WHEN_SOMETHING_DRAGGING}
  }
`,lle=lt.div`
  position: absolute;
`,ule=a=>M9.default.createElement(lle,{style:{top:`${a.leaf.nodeHeight/2}px`,left:`calc(${(0,T9.val)(a.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${a.position}px))`}},M9.default.createElement(sle,T({},Q0.reactProps({isDragging:!1,position:a.position})))),FR=ule,UR=new T9.Box({mode:"snapToNone"}),P9=UR.derivation}});function GNe(a,u){return wp(a,{menuItems(){return[{label:"Place marker",callback:()=>{Z().transaction(({stateEditors:f})=>{const m=(0,J0.val)(u.layoutP.sheet),b=m.getSequence();f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:m.address,markers:[{id:Lke(),position:b.position}],snappingFunction:b.closestGridPosition})})}}]}})}var J0,jv,Gw,cle,R9,fle,dle,hle,ple,VNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/Playhead.tsx"(){NNe(),$c(),Po(),Ei(),J0=U(Ln),Yy(),jv=U(xt()),Hn(),D_(),Ud(),Uo(),pS(),C_(),FNe(),tle(),Ym(),Ep(),Te(),l_(),Lg(),jw(),Gw=lt.div`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: ${()=>Z0.playhead};
  pointer-events: none;

  display: ${a=>a.isVisible?"block":"none"};
`,cle=lt.div`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(${p_}); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`,R9=lt.div`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  ${Ro};

  ${Gw}.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    ${Gw}:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(${p_});
  }

  ${Gw}.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`,fle=lt.div`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* ${Gw}.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`,dle=lt.div`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  ${R9}:hover &, ${Gw}.seeking & {
    display: block;
  }
`,hle=({layoutP:a})=>{const[u,f]=oo(null),{node:m,toggle:b,close:P}=hS({debugName:"Playhead"},()=>jv.default.createElement(b_,null,jv.default.createElement($se,{layoutP:a,onRequestClose:P}))),B=(0,jv.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){const K=(0,J0.val)(a.sheet).getSequence(),J=K.position,te=(0,J0.val)(a.scaledSpace.toUnitSpace),ne=(0,J0.val)(a.seeker.setIsSeeking);return ne(!0),A9(),{onDrag(re,ue,pe){var me;const De=te(re);K.position=(me=Sp.checkIfMouseEventSnapToPos(pe,{ignore:f}))!=null?me:tl(J+De,0,K.length)},onDragEnd(re){ne(!1),Hw()},onClick(re){b(re,u.current)}}}}),[a,f]),[O]=xu(f,B);Nv(O,"draggingPositionInSequenceEditor","ew-resize"),S_(ka(a.seeker.isSeeking)||O,-1);const[q]=GNe(f,{layoutP:a});return ma(()=>{const K=(0,J0.val)(a.seeker.isSeeking),J=(0,J0.val)(a.sheet).getSequence(),te=(0,J0.val)(ele(J)),ne=J.positionDerivation.getValue(),re=(0,J0.val)(a.clippedSpace.fromUnitSpace)(ne),ue=re>=0&&re<=(0,J0.val)(a.clippedSpace.width);return jv.default.createElement(jv.default.Fragment,null,q,m,jv.default.createElement(Gw,T({isVisible:ue,style:{transform:`translate3d(${re}px, 0, 0)`},className:`${K&&"seeking"} ${te&&"playheadattachedtofocusrange"}`},W0("hide")),jv.default.createElement(R9,T({ref:u},Sp.includePositionSnapAttrs(ne)),jv.default.createElement(Gse,{room:8}),jv.default.createElement(fle,null),jv.default.createElement(dle,null,J.positionFormatter.formatForPlayhead(J.closestGridPosition(ne)))),jv.default.createElement(cle,R(T({},Sp.includePositionSnapAttrs(ne)),{className:K?"seeking":""}))))},[a,u,m])},ple=hle}}),Vw,zR,ON,mle,vle,gle,WNe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/FocusRangeCurtains.tsx"(){Vw=U(Ln),Ei(),Te(),Fw(),zR=U(xt()),Hn(),ON=1e3,mle=lt.div`
  position: absolute;
  top: ${$0}px;
  left: 0;
  opacity: 0.15;
  width: ${ON}px;
  transform-origin: top left;
  pointer-events: none;
  background-color: ${a=>a.enabled?"#000000":"transparent"};
`,vle=({layoutP:a})=>{const u=(0,zR.useMemo)(()=>(0,Vw.prism)(()=>{const{projectId:f,sheetId:m}=(0,Vw.val)(a.sheet).address;return(0,Vw.val)(Z().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[a]);return ma(()=>{const f=u.getValue();if(!f||!f.enabled)return null;const m=(0,Vw.val)(a.rightDims.height)-$0,b=(0,Vw.val)(a.clippedSpace.fromUnitSpace),P=(0,Vw.val)(a.clippedSpace.width),B=[];{let O=0,q=b(f.range.start),K,J;O>q?(J=0,K=0):(q>P&&(q=P),J=O,K=(q-O)/ON),B.push({translateX:J,scaleX:K})}{let O=b(f.range.end),q=P,K,J;O>q?(J=0,K=0):(O<0&&(O=0),J=O,K=(q-O)/ON),B.push({translateX:J,scaleX:K})}return zR.default.createElement(zR.default.Fragment,null,B.map(({translateX:O,scaleX:q},K)=>zR.default.createElement(mle,{key:`curtain-${K}`,enabled:!0,style:{height:`${m}px`,transform:`translateX(${O}px) scaleX(${q})`}})))},[a,u])},gle=vle}});function KNe(a,u){return wp(a,{menuItems(){return[{label:"Remove marker",callback:()=>{Z().transaction(({stateEditors:f})=>{f.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:u.sheetAddress,markerId:u.markerId})})}}]}})}function qNe(a,u){const f=(0,$m.useRef)(u);f.current=u;const m=(0,$m.useMemo)(()=>({debugName:`MarkerDot/useDragMarker (${u.marker.id})`,onDragStart(P){const B=f.current.marker,O=(0,BN.val)(u.layoutP.scaledSpace.toUnitSpace);let q;return A9(),{onDrag(K,J,te){var ne;const re=B,ue=Math.max((ne=Sp.checkIfMouseEventSnapToPos(te,{ignore:a}))!=null?ne:re.position+O(K),0);q==null||q.discard(),q=Z().tempTransaction(({stateEditors:pe})=>{pe.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,BN.val)(u.layoutP.sheet.address),markers:[R(T({},re),{position:ue})],snappingFunction:(0,BN.val)(u.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(K){K?q==null||q.commit():q==null||q.discard(),Hw()}}}}),[]),[b]=xu(a,m);return S_(b,u.marker.position),Nv(b,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[b]}var BN,$m,I9,k9,yle,_le,Sle,LN,xle,wle,Ele,ble,Cle,XNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/MarkerDot.tsx"(){BN=U(Ln),Ei(),Te(),Ym(),Ep(),Po(),$m=U(xt()),Hn(),Ud(),$c(),D_(),Lg(),DN(),ile(),jw(),I9=12,k9=12,yle=I9*2,_le=k9*2,Sle=lt.div`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: ${()=>Z0.marker};
`,LN=lt.div`
  position: absolute;
  ${jg(I9,k9)}
  pointer-events: none;
`,xle=$m.default.memo(()=>$m.default.createElement(LN,{children:$m.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$m.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),wle=lt.div`
  z-index: 1;
  cursor: ew-resize;

  ${Q0.CSS}

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    ${Q0.CSS_WHEN_SOMETHING_DRAGGING}
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.${Q0.BEING_DRAGGED_CLASS} {
    pointer-events: auto;
    cursor: var(${p_});
  }

  &:hover
    + ${LN},
    // notice , "or" in CSS
    &.${Q0.BEING_DRAGGED_CLASS}
    + ${LN} {
    ${jg(yle,_le)}
  }
`,Ele=({layoutP:a,markerId:u})=>{const f=ka(a.sheet.address),m=ka(Z().atomP.historic.projects.stateByProjectId[f.projectId].stateBySheetId[f.sheetId].sequenceEditor.markerSet.byId[u]);if(!m)return null;const b=ka(a.clippedSpace.width),B=ka(a.clippedSpace.fromUnitSpace)(m.position),O=B<=0||B>b,q=O?-1e4:B,K=O?0:1;return $m.default.createElement(Sle,{style:{transform:`translateX(${q}px) scale(${K})`}},$m.default.createElement(Cle,{marker:m,layoutP:a}))},ble=Ele,Cle=({layoutP:a,marker:u})=>{const f=ka(a.sheet.address),[m,b]=oo(null),[P]=KNe(b,{sheetAddress:f,markerId:u.id}),[B]=qNe(b,{layoutP:a,marker:u});return $m.default.createElement($m.default.Fragment,null,P,$m.default.createElement(wle,T({ref:m},Q0.reactProps({isDragging:B,position:u.position}))),$m.default.createElement(xle,null))}}}),NN,Ale,Tle,YNe=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/Markers.tsx"(){Ei(),Te(),NN=U(xt()),XNe(),Ale=({layoutP:a})=>{const u=ka(a.sheet.address),f=Z().atomP.historic.projects.stateByProjectId[u.projectId].stateBySheetId[u.sheetId].sequenceEditor.markerSet,m=ka(f.allIds);return NN.default.createElement(NN.default.Fragment,null,m&&Object.keys(m).map(b=>NN.default.createElement(ble,{key:b,layoutP:a,markerId:b})))},Tle=Ale}}),Mle,I_,Ple,Rle,Ile,$Ne=w({"studio/src/panels/SequenceEditorPanel/RightOverlay/RightOverlay.tsx"(){D_(),Ei(),Mle=U(Ln),I_=U(xt()),Hn(),ONe(),BNe(),LNe(),VNe(),Fw(),WNe(),YNe(),Ple=lt.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: ${()=>Z0.rightOverlay};
  overflow: visible;
  pointer-events: none;
`,Rle=({layoutP:a})=>ma(()=>{const u=(0,Mle.val)(a.rightDims.width);return I_.default.createElement(Ple,{style:{width:u+"px"}},I_.default.createElement(ple,{layoutP:a}),I_.default.createElement(Use,{layoutP:a}),I_.default.createElement(Bse,{layoutP:a}),I_.default.createElement(gse,{layoutP:a}),I_.default.createElement(Tle,{layoutP:a}),I_.default.createElement(Rse,{layoutP:a}),I_.default.createElement(gle,{layoutP:a}))},[a]),Ile=Rle}}),HR,kle,Dle,D9,Ole=w({"studio/src/panels/BasePanel/PanelDragZone.tsx"(){Po(),Te(),$c(),HR=U(xt()),Hn(),jC(),Ym(),wf(),y_(),kle=lt.div`
  cursor: move;
`,Dle=a=>{const u=HC(),f=(0,HR.useRef)(u);f.current=u;const[m,b]=oo(null),P=(0,HR.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){const K=f.current;let J;const te=u.addBoundsHighlightLock();return{onDrag(ne,re){const ue=R(T({},K.dims),{top:tl(K.dims.top+re,0,window.innerHeight-V0),left:tl(K.dims.left+ne,-K.dims.width+V0,window.innerWidth-V0)}),pe=eN(ue,{width:window.innerWidth,height:window.innerHeight});J==null||J.discard(),J=Z().tempTransaction(({stateEditors:me})=>{me.studio.historic.panelPositions.setPanelPosition({position:pe,panelId:K.panelId})})},onDragEnd(ne){te(),ne?J==null||J.commit():J==null||J.discard()}}}}),[]),[B]=xu(b,P);Nv(B,"dragging","move");const[O,q]=(0,HR.useMemo)(()=>{let K;return[function(){if(K){const te=K;K=void 0,te()}K=u.addBoundsHighlightLock()},function(){if(K){const te=K;K=void 0,te()}}]},[]);return HR.default.createElement(kle,R(T({},a),{ref:m,onMouseEnter:O,onMouseLeave:q}))},D9=Dle}}),FN,O9,B9,L9,Ble,Lle,N9,Nle,Fle,jR,Ule,zle,Hle,jle,Gle,F9,Vle,k_,QNe=w({"studio/src/panels/BasePanel/PanelResizeHandle.tsx"(){Po(),Te(),$c(),Uv(),FN=U(xt()),Hn(),jC(),Uo(),wf(),y_(),O9=lt.div`
  position: absolute;
  ${Ro};
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: ${bC(.2,"#478698")}; */
  }

  &:hover {
    opacity: 1;
  }
`,B9=lt(O9)`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`,L9=lt(B9)`
  left: 0px;
  right: 0px;
  height: 1px;
`,Ble=lt(L9)`
  top: -1px;
`,Lle=lt(L9)`
  bottom: -1px;
`,N9=lt(B9)`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`,Nle=lt(N9)`
  left: -1px;
`,Fle=lt(N9)`
  right: -1px;
`,jR=lt(O9)`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`,Ule=lt(jR)`
  top: 0;
  left: 0;
`,zle=lt(jR)`
  top: 0;
  right: 0;
`,Hle=lt(jR)`
  bottom: 0;
  left: 0;
`,jle=lt(jR)`
  bottom: 0;
  right: 0;
`,Gle={Top:Ble,TopLeft:Ule,TopRight:zle,Bottom:Lle,BottomLeft:Hle,BottomRight:jle,Left:Nle,Right:Fle},F9={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},Vle=({which:a})=>{const u=HC(),f=(0,FN.useRef)(u);f.current=u;const[m,b]=oo(null),P=(0,FN.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:F9[a],onDragStart(){let K;const J=f.current,te=u.addBoundsHighlightLock();return{onDrag(ne,re){const ue=T({},J.dims);if(a.startsWith("Bottom"))ue.height=Math.max(ue.height+re,J.minDims.height);else if(a.startsWith("Top")){const me=ue.top+ue.height,De=tl(ue.top+re,0,Math.min(me-J.minDims.height,window.innerHeight-V0)),Re=me-De;ue.height=Re,ue.top=De}if(a.endsWith("Left")){const me=ue.left+ue.width,De=Math.min(ue.left+ne,Math.min(me-J.minDims.width,window.innerWidth-V0)),Re=me-De;ue.width=Re,ue.left=De}else a.endsWith("Right")&&(ue.width=Math.max(ue.width+ne,Math.max(J.minDims.width,V0-J.dims.left)));const pe=eN(ue,{width:window.innerWidth,height:window.innerHeight});K==null||K.discard(),K=Z().tempTransaction(({stateEditors:me})=>{me.studio.historic.panelPositions.setPanelPosition({position:pe,panelId:J.panelId})})},onDragEnd(ne){te(),ne?K==null||K.commit():K==null||K.discard()}}}}),[a]),[B]=xu(b,P),O=Gle[a],q=a.length<=6;return FN.default.createElement(O,{ref:m,className:[B?"isDragging":"",u.boundsHighlighted&&q?"isHighlighted":""].join(" "),style:{cursor:F9[a]}})},k_=Vle}}),Gg,Wle,Kle,JNe=w({"studio/src/panels/BasePanel/PanelResizers.tsx"(){Gg=U(xt()),QNe(),Wle=a=>Gg.default.createElement(Gg.default.Fragment,null,Gg.default.createElement(k_,{which:"Bottom"}),Gg.default.createElement(k_,{which:"Top"}),Gg.default.createElement(k_,{which:"Left"}),Gg.default.createElement(k_,{which:"Right"}),Gg.default.createElement(k_,{which:"TopLeft"}),Gg.default.createElement(k_,{which:"TopRight"}),Gg.default.createElement(k_,{which:"BottomLeft"}),Gg.default.createElement(k_,{which:"BottomRight"})),Kle=Wle}}),UN,qle,Xle,U9,Yle=w({"studio/src/panels/BasePanel/PanelWrapper.tsx"(){Uo(),UN=U(xt()),Hn(),jC(),JNe(),qle=lt.div`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  ${Ro};
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`,Xle=UN.default.forwardRef((a,u)=>{const f=HC(),m=a,{style:b,children:P}=m,B=j(m,["style","children"]);return UN.default.createElement(qle,R(T({ref:u},B),{style:T({width:f.dims.width+"px",height:f.dims.height+"px",top:f.dims.top+"px",left:f.dims.left+"px"},b??{})}),UN.default.createElement(Kle,null),P)}),U9=Xle}}),$le,zN,Qle,Jle,Zle,ZNe=w({"studio/src/panels/SequenceEditorPanel/GraphEditorToggle.tsx"(){$le=U(Ln),Ei(),Te(),zN=U(xt()),Hn(),pR(),Ud(),Qle=lt.button`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`,Jle=({layoutP:a})=>{const u=ka(a.graphEditorDims.isOpen),f=(0,zN.useCallback)(()=>{const m=(0,$le.val)(a.graphEditorDims.isOpen);Z().transaction(({stateEditors:b})=>{b.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!m})})},[a]);return zN.default.createElement(Qle,T({onClick:f,title:"Toggle graph editor",className:u?"open":""},W0("hide")),zN.default.createElement(CBe,null))},Zle=Jle}}),Vg,Il,eue,tue,Z0,nue,rue,iue,aue,oue,sue,lue,uue,D_=w({"studio/src/panels/SequenceEditorPanel/SequenceEditorPanel.tsx"(){oS(),Ei(),Xee(),Vg=U(Ln),Il=U(xt()),Hn(),jBe(),wF(),qBe(),$Ne(),jC(),Ole(),Yle(),Ud(),we(),wf(),ZNe(),y_(),g_(),eue=lt(U9)`
  z-index: ${zC.sequenceEditorPanel};
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`,tue=lt.div`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`,Z0=(()=>{const a={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0};let u=-1;for(const f of Object.keys(a))a[f]=u,u++;return a})(),nue=lt(D9)`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`,rue={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},iue={width:800,height:200},aue=a=>Il.default.createElement(_8,{panelId:"sequenceEditor",defaultPosition:rue,minDims:iue},Il.default.createElement(oue,null)),oue=()=>{const{dims:a}=HC(),[u,f]=(0,Il.useState)(null);return Pne(u),ma(()=>{const m=Vg.prism.memo("panelSize",()=>{const re=a.width,ue=a.height;return{width:re,height:ue,widthWithoutBorder:re-2,heightWithoutBorder:ue-4,screenX:a.left,screenY:a.top}},[a]),b=Z1(aS().filter(re=>Le(re)||ut(re)).map(re=>ut(re)?re.sheet:re));if(Z1(b.map(re=>re.template)).length!==1)return Il.default.createElement(Il.default.Fragment,null);const B=b[0];if(!B)return Il.default.createElement(Il.default.Fragment,null);const O=i6("panelSizeP",m).pointer,q=Vg.prism.memo("key",()=>JSON.stringify(B.address),[B]),K=Vg.prism.memo("layout",()=>KBe(B,O),[B,O]).getValue();if((0,Vg.val)(K.tree.children).length===0)return Il.default.createElement(Il.default.Fragment,null);const J=Vg.prism.memo("containerRef",uue,[]),te=(0,Vg.val)(K.graphEditorDims.isAvailable),ne=(0,Vg.val)(K.graphEditorDims.isOpen);return Il.default.createElement(eue,{ref:re=>{J(re),re!==u&&f(re)}},Il.default.createElement(tue,{style:{width:`${(0,Vg.val)(K.leftDims.width)}px`}}),Il.default.createElement(Nre,{layoutP:K},Il.default.createElement(sue,{layoutP:K}),Il.default.createElement(gre,{key:q+"-dopeSheet",layoutP:K}),ne&&Il.default.createElement(Dfe,{key:q+"-graphEditor",layoutP:K}),te&&Il.default.createElement(Zle,{layoutP:K}),Il.default.createElement(Ile,{layoutP:K})))},[a,u])},sue=({layoutP:a})=>ma(()=>{const u=(0,Vg.val)(a.sheet);return Il.default.createElement(nue,{style:{width:(0,Vg.val)(a.leftDims.width)}},Il.default.createElement(h8,null,Il.default.createElement(uS,null,u.address.sheetId," "),Il.default.createElement(SR,null,":",""),Il.default.createElement(uS,null,u.address.sheetInstanceId," "),Il.default.createElement(SR,null,"",">",""),Il.default.createElement(uS,null,"Sequence")))},[a]),lue=aue,uue=()=>{let a=null;const u={passive:!1,capture:!1},f=m=>{Math.abs(m.deltaY)<Math.abs(m.deltaX)&&(m.preventDefault(),m.stopPropagation())};return m=>{a!==m&&a&&a.removeEventListener("wheel",f,u),a=m,m&&m.addEventListener("wheel",f,u)}}}}),Ww,cue,z9,fue,due,hue,pue=w({"studio/src/panels/SequenceEditorPanel/VerticalScrollContainer.tsx"(){iR(),Ww=U(xt()),Hn(),D_(),cue=lt.div`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: ${()=>Z0.scrollableArea};

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`,z9=(0,Ww.createContext)(j0),fue=()=>(0,Ww.useContext)(z9),due=a=>{const u=(0,Ww.useRef)(null),f=(0,Ww.useCallback)(m=>{u.current.scrollBy(0,m.deltaY)},[]);return Ww.default.createElement(z9.Provider,{value:f},Ww.default.createElement(cue,{ref:u},a.children))},hue=due}});function eFe(a,u){const f=(0,Kw.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(b){if(b.target instanceof HTMLInputElement||b.shiftKey||b.altKey||b.ctrlKey||b.metaKey||b.composedPath().some(te=>te instanceof HTMLElement&&te.draggable===!0))return!1;const P=b.clientX-u.getBoundingClientRect().left,B=tl((0,wu.val)(a.clippedSpace.toUnitSpace)(P),0,1/0),O=(0,wu.val)(a.seeker.setIsSeeking),q=(0,wu.val)(a.sheet).getSequence();q.position=B;const K=B,J=(0,wu.val)(a.scaledSpace.toUnitSpace);return O(!0),A9(),{onDrag(te,ne,re){const ue=J(te);let me=tl(K+ue,0,q.length);const De=Sp.checkIfMouseEventSnapToPos(re,{});De!=null&&(me=De),q.position=me},onDragEnd(){O(!1),Hw()}}}}),[a,u]),[m]=xu(u,f);Nv(m,"draggingPositionInSequenceEditor","ew-resize")}function tFe(a,u){const f=fue();(0,Kw.useLayoutEffect)(()=>{if(!u)return;const m=P=>{if(P.ctrlKey){P.preventDefault(),P.stopPropagation();const B=P.clientX-u.getBoundingClientRect().left,O=(0,wu.val)(a.clippedSpace.toUnitSpace)(B),q=(0,wu.val)(a.clippedSpace.range),J=1+H9(P.deltaY,[-50,50])*.03,te=Nd(q,ue=>(ue-O)*J+O),ne=(0,wu.val)(a.sheet).getSequence().length,re=ne+ne*.25;(0,wu.val)(a.clippedSpace.setRange)(nFe(te,[0,re]));return}else if(P.shiftKey){P.preventDefault(),P.stopPropagation();const B=(0,wu.val)(a.sheet).getSequence().length,O=(0,wu.val)(a.clippedSpace.range),K=(O.end-O.start)/B,te=H9(P.deltaY||P.deltaX,[-50,50])*.05*K,ne=Nd(O,re=>re+te);(0,wu.val)(a.clippedSpace.setRange)(ne);return}else{f(P),P.preventDefault(),P.stopPropagation();const O=(0,wu.val)(a.scaledSpace.toUnitSpace)(P.deltaX*1),q=(0,wu.val)(a.clippedSpace.range),K=Nd(q,te=>te+O);(0,wu.val)(a.clippedSpace.setRange)(K);return}},b={capture:!0,passive:!1};return u.addEventListener("wheel",m,b),()=>{u.removeEventListener("wheel",m,b)}},[u,a]),xu(u,(0,Kw.useMemo)(()=>({onDragStart(m){const b=(0,wu.val)(a.clippedSpace.range),P=(0,wu.val)(a.clippedSpace.setRange),B=(0,wu.val)(a.scaledSpace.toUnitSpace);return m.preventDefault(),m.stopPropagation(),{onDrag(O,q,K,J,te){f({deltaY:-te});const ne=-B(O),re=Nd(b,ue=>ue+ne);P(re)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[a]))}function H9(a,[u,f]){return Math.max(Math.min(a,f),u)}function nFe(a,u){return Nd(a,f=>H9(f,u))}function rFe(a,u){(0,Kw.useLayoutEffect)(()=>{if(!u)return;const f=(0,wu.prism)(()=>{const B=(0,wu.val)(a.clippedSpace.range);return(0,wu.val)(a.scaledSpace.fromUnitSpace)(B.start)}),m=()=>{const B=f.getValue();u.scrollLeft=B},b=f.changesWithoutValues().tap(m);m();const P=setTimeout(m,100);return()=>{clearTimeout(P),b()}},[a,u])}var wu,Kw,mue,vue,j9,gue=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/HorizontallyScrollableArea.tsx"(){$c(),Po(),Ei(),wu=U(Ln),wf(),Kw=U(xt()),Hn(),pue(),Uo(),Ym(),Lg(),jw(),mue=lt.div`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  ${Ro};

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`,vue=Kw.default.memo(({layoutP:a,children:u,height:f})=>{const{width:m,unitSpaceToScaledSpaceMultiplier:b}=ma(()=>({width:(0,wu.val)(a.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,wu.val)(a.scaledSpace.fromUnitSpace)(1)}),[a]),[P,B]=oo(null);return tFe(a,B),eFe(a,B),rFe(a,B),Kw.default.createElement(mue,{ref:P,style:{width:m+"px",height:f+"px","--unitSpaceToScaledSpaceMultiplier":b}},u)}),j9=vue}}),HN,yue,_ue,Sue,xue,ZC,jN=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/Row.tsx"(){HN=U(xt()),Hn(),yue=lt.li`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`,_ue=lt.div`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: ${a=>a.isEven?"transparent":"#6b8fb505"};
  }
`,Sue=lt.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,xue=({leaf:a,children:u,node:f,isCollapsed:m})=>{const b=Array.isArray(u)&&u.length>0;return a.shouldRender?HN.default.createElement(yue,null,HN.default.createElement(_ue,{style:{height:a.nodeHeight+"px"},isEven:a.n%2===0},f),b&&HN.default.createElement(Sue,null,u)):null},ZC=xue}}),iFe=L({"../node_modules/fuzzy/lib/fuzzy.js"(a,u){(function(){var f=this,m={};typeof a<"u"?u.exports=m:f.fuzzy=m,m.simpleFilter=function(b,P){return P.filter(function(B){return m.test(b,B)})},m.test=function(b,P){return m.match(b,P)!==null},m.match=function(b,P,B){B=B||{};var O=0,q=[],K=P.length,J=0,te=0,ne=B.pre||"",re=B.post||"",ue=B.caseSensitive&&P||P.toLowerCase(),pe;b=B.caseSensitive&&b||b.toLowerCase();for(var me=0;me<K;me++)pe=P[me],ue[me]===b[O]?(pe=ne+pe+re,O+=1,te+=1+te):te=0,J+=te,q[q.length]=pe;return O===b.length?(J=ue===b?1/0:J,{rendered:q.join(""),score:J}):null},m.filter=function(b,P,B){return!P||P.length===0?[]:typeof b!="string"?P:(B=B||{},P.reduce(function(O,q,K,J){var te=q;B.extract&&(te=B.extract(q));var ne=m.match(b,te,B);return ne!=null&&(O[O.length]={string:ne.rendered,score:ne.score,index:K,original:q}),O},[]).sort(function(O,q){var K=q.score-O.score;return K||O.index-q.index}))}})()}});function aFe(a,u){const[f,m]=(0,GN.useState)(!1),b=(0,GN.useRef)(u);return f||(b.current=u),(0,GN.useMemo)(()=>a(m),b.current)}var GN,oFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/useFreezableMemo.ts"(){GN=U(xt())}}),G9,eA,VN=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/colors.ts"(){G9="rgba(26, 28, 30, 0.97);",eA="#272B2F"}});function wue(a,u,f,m){const b=aFe(P=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return P(!0),{onDrag(B,O){a&&f.onCurveChange(m(B,O))},onDragEnd(B){P(!1),f.onCancelCurveChange()}}}}),[a,f.onCurveChange,f.onCancelCurveChange]);xu(u,b)}var rl,WN,GR,tA,Eue,VR,bue,KN,Cue,Aue,Tue,qN,Mue,WR,Pue,Rue,V9,XN,W9,Iue,kue,sFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/CurveSegmentEditor.tsx"(){rl=U(xt()),$c(),Po(),Yy(),Hn(),Uo(),oFe(),VN(),WN=.12,GR=1+WN*2,tA=.01,Eue=8,VR=(1-tA)/(Eue-1),bue="#3EAAA4",KN="#3EAAA4",Cue="#3EAAA4",Aue="#3EAAA4",Tue="#3EAAA4",qN="#3EAAA4",Mue="#3EAAA4",WR="#B3B3B3",Pue="#3eaaa4",Rue="#67dfd8",V9=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],XN=lt.circle`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: ${Pue};
`,W9=lt.circle`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  ${Ro};
  &:hover {
    opacity: 0.4;
  }
  &:hover + ${XN} {
    fill: ${Rue};
  }
`,Iue=a=>{const{curveConnection:{left:u,right:f},backgroundConnections:m}=a,b=Math.min(0,1-f.handles[1],1-u.handles[3]),P=Math.max(1,1-f.handles[1],1-u.handles[3]),B=Math.max(1,P-b),O=De=>(De-b)/B,[q,K]=oo(null),J=GR/((K==null?void 0:K.clientWidth)||1),te=GR/((K==null?void 0:K.clientHeight)||1),[ne,re]=oo(null);wue(K,re,a,(De,Re)=>{const He=tl(u.handles[2]+De*J,0,1),Oe=u.handles[3]-Re*te;return[He,Oe,f.handles[0],f.handles[1]]});const[ue,pe]=oo(null);wue(K,pe,a,(De,Re)=>{const He=tl(f.handles[0]+De*J,0,1),Oe=f.handles[1]-Re*te;return[u.handles[2],u.handles[3],He,Oe]});const me=De=>`M0 ${O(1)} C${De.left.handles[2]} ${O(1-De.left.handles[3])} ${De.right.handles[0]} ${O(1-De.right.handles[1])} 1 ${O(0)}`;return rl.default.createElement("svg",{height:"100%",width:"100%",ref:q,viewBox:`${-WN} ${-WN} ${GR} ${GR}`,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},rl.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},rl.default.createElement("stop",{offset:O(-1),stopColor:Mue}),rl.default.createElement("stop",{offset:O(0),stopColor:qN}),rl.default.createElement("stop",{offset:O(.3),stopColor:Tue}),rl.default.createElement("stop",{offset:O(.5),stopColor:Aue}),rl.default.createElement("stop",{offset:O(.7),stopColor:Cue}),rl.default.createElement("stop",{offset:O(1),stopColor:KN}),rl.default.createElement("stop",{offset:O(2),stopColor:bue})),rl.default.createElement("pattern",{id:"dot-background-pattern-1",width:VR,height:VR/B,y:-b/B},rl.default.createElement("rect",{width:tA,height:tA,fill:WR,opacity:.3})),rl.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),rl.default.createElement("pattern",{id:"dot-background-pattern-2",width:VR,height:VR},rl.default.createElement("rect",{width:tA,height:tA,fill:WR})),rl.default.createElement("rect",{x:0,y:O(0),width:"1",height:O(1)-O(0),fill:"url(#dot-background-pattern-2)"}),rl.default.createElement("line",{x1:0,y1:O(1),x2:u.handles[2],y2:O(1-u.handles[3]),stroke:WR,strokeWidth:"0.01"}),rl.default.createElement("line",{x1:1,y1:O(0),x2:f.handles[0],y2:O(1-f.handles[1]),stroke:WR,strokeWidth:"0.01"}),rl.default.createElement("path",{d:me(a.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),m.map((De,Re)=>rl.default.createElement("path",{key:De.objectKey+"/"+De.left.id,d:me(De),stroke:V9[Re%V9.length],opacity:.6,strokeWidth:"0.01"})),rl.default.createElement("path",{d:me(a.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),rl.default.createElement("circle",{cx:0,cy:O(1),r:"0.025",stroke:KN,strokeWidth:"0.02",fill:eA}),rl.default.createElement("circle",{cx:1,cy:O(0),r:"0.025",stroke:qN,strokeWidth:"0.02",fill:eA}),rl.default.createElement(W9,{ref:ne,cx:u.handles[2],cy:O(1-u.handles[3]),fill:KN,opacity:.2}),rl.default.createElement(XN,{cx:u.handles[2],cy:O(1-u.handles[3])}),rl.default.createElement(W9,{ref:ue,cx:f.handles[0],cy:O(1-f.handles[1]),fill:qN,opacity:.2}),rl.default.createElement(XN,{cx:f.handles[0],cy:O(1-f.handles[1])}))},kue=Iue}});function YN(a){return a.map(u=>u.toFixed(Due)).join(", ")}function $N(a){if(!a||(a==null?void 0:a.length)>Oue)return null;const u=a.split(",");if(u.length!==4)return null;const f=u.map(m=>Number(m.trim()));return!f.every(m=>isFinite(m))||f[0]<0||f[0]>1||f[2]<0||f[2]>1?null:f}function lFe(a,u,f={threshold:.02}){if(!a||!u)return!1;let m=0;for(let b=0;b<4;b++)m+=Math.abs(a[b]-u[b]);return m<f.threshold}var Due,Oue,QN,Bue=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/shared.ts"(){Due=3,Oue=128,QN=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"}]}}),Qm,JN,KR,K9,Lue,Nue,qR,q9,X9,Fue,Uue,uFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/SVGCurveSegment.tsx"(){Qm=U(xt()),JN=.75,KR=.1,K9=1+JN*2,Lue="#F5F5F5",Nue="#888888",qR="#4f4f4f",q9="rgba(255, 255, 255, 0.1)",X9=a=>1-a,Fue=a=>{const{easing:u,isSelected:f}=a;if(!u)return Qm.default.createElement(Qm.default.Fragment,null);const m=f?Lue:Nue,b=[u[0],X9(u[1])],P=[u[2],X9(u[3])],B=`${-JN} ${-JN} ${K9} ${K9}`;return Qm.default.createElement("svg",{height:"100%",width:"100%",viewBox:B,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qm.default.createElement("line",{x1:"0",y1:"1",x2:b[0],y2:b[1],stroke:qR,strokeWidth:"0.1"}),Qm.default.createElement("line",{x1:"1",y1:"0",x2:P[0],y2:P[1],stroke:qR,strokeWidth:"0.1"}),Qm.default.createElement("circle",{cx:b[0],cy:b[1],r:.1,fill:q9}),Qm.default.createElement("circle",{cx:P[0],cy:P[1],r:.1,fill:q9}),Qm.default.createElement("circle",{cx:b[0],cy:b[1],r:KR,fill:qR}),Qm.default.createElement("circle",{cx:P[0],cy:P[1],r:KR,fill:qR}),Qm.default.createElement("path",{d:`M0 1 C${b[0]} ${b[1]} ${P[0]} 
      ${P[1]} 1 0`,stroke:m,strokeWidth:"0.08"}),Qm.default.createElement("circle",{cx:0,cy:1,r:KR,fill:m}),Qm.default.createElement("circle",{cx:1,cy:0,r:KR,fill:m}))},Uue=Fue}}),XR,zue,Hue,jue,Gue,cFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/EasingOption.tsx"(){DR(),XR=U(xt()),Hn(),Bue(),uFe(),rN(),VN(),C_(),zue=lt.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: ${eA};
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  ${({isSelected:a})=>a&&c_`
      background-color: #383d42;
    `}

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`,Hue=lt(b_)`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`,jue=XR.default.forwardRef((a,u)=>{const[f,m]=XC({enabled:!0,verticalPlacement:a.tooltipPlacement,verticalGap:0},()=>XR.default.createElement(Hue,{showPopoverEdgeTriangle:!1},a.easing.label));return XR.default.createElement(zue,T({ref:ER([m,u])},a),f,XR.default.createElement(Uue,{easing:$N(a.easing.value),isSelected:a.isSelected}))}),Gue=jue}});function fFe(a){var u;const[f,m]=(0,Vue.useState)(null),b=O=>{if(f===null){a.items.length>0&&m(0);return}const q=f+O*a.uiColumns,K=q<0,J=q>a.items.length-1;if(K||J){if(a.canVerticleExit&&a.canVerticleExit(K?"top":"bottom")){m(null);return}return}m(q)},P=O=>{f===null?m(pFe(O,a.items.length)):f+O<0?m(null):m(Math.min(f+O,a.items.length-1))};return{focusFirstItem(){m(0)},onParentEltKeyDown:O=>{if(O.key==="ArrowRight")P(1);else if(O.key==="ArrowLeft")P(-1);else if(O.key==="ArrowUp")b(-1);else if(O.key==="ArrowDown")b(1);else return 0;return 1},gridItems:a.items.map((O,q)=>a.renderItem({isSelected:q===f,item:O,select(K){m(q),a.onSelectItem(O)===1&&(K==null||K.preventDefault(),K==null||K.stopPropagation())}})),currentSelection:(u=a.items[f??-1])!=null?u:null}}var Vue,YR,dFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/useUIOptionGrid.tsx"(){Vue=U(xt()),eF(),function(a){a[a.Handled=1]="Handled",a[a.Passthrough=0]="Passthrough"}(YR||(YR={}))}});function Wue(a,u,f){var m;(m=a.current)==null||m.discard(),a.current=null;const b=$N(f);b!==null&&(a.current=hFe(u,b))}function Kue(a){var u;(u=a.current)==null||u.discard(),a.current=null}function hFe(a,u){return Z().tempTransaction(({stateEditors:f})=>{const{setHandlesForKeyframe:m}=f.coreByProject.historic.sheetsById.sequence;for(const{projectId:b,sheetId:P,objectKey:B,trackId:O,left:q,right:K}of a)m({projectId:b,sheetId:P,objectKey:B,trackId:O,keyframeId:q.id,start:[u[0],u[1]]}),m({projectId:b,sheetId:P,objectKey:B,trackId:O,keyframeId:K.id,end:[u[2],u[3]]})})}function pFe(a,u){return(a%u+u)%u}function mFe(a,u){return()=>setTimeout(a,u)}function vFe({left:a,right:u}){return({left:f,right:m})=>a.handles[2]!==f.handles[2]||a.handles[3]!==f.handles[3]||u.handles[0]!==m.handles[0]||u.handles[1]!==m.handles[1]}var ZN,kl,que,Y9,$9,Xue,Yue,$ue,Que,Jue,Zue,ece,tce,Q9,gFe,J9,nce,eF=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/CurveEditorPopover/CurveEditorPopover.tsx"(){ZN=U(Ln),kl=U(xt()),Hn(),que=U(iFe()),Te(),sFe(),cFe(),Bue(),VN(),Po(),dFe(),Y9=3,$9=53,Xue=25,Yue=lt.div`
  background: ${G9};
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: ${Y9*$9}px 120px;
  gap: 1px;
  height: 120px;
`,$ue=lt.div`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(${Y9}, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`,Que=lt.input.attrs({type:"text"})`
  background-color: ${eA};
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`,Jue=lt.div`
  grid-area: tween;
  background: ${eA};
`,Zue=lt.div`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`,function(a){a[a.init=0]="init",a[a.user=1]="user",a[a.auto=2]="auto",a[a.multipleValues=3]="multipleValues"}(ece||(ece={})),tce=a=>{const u=(0,kl.useMemo)(()=>[a.curveConnection,...a.additionalConnections],[a.curveConnection,...a.additionalConnections]),f=(0,kl.useRef)(null);(0,kl.useEffect)(()=>{const jt=nce(u);return()=>{var xn;jt(),(xn=f.current)==null||xn.commit()}},[f]);const m=[a.curveConnection.left.handles[2],a.curveConnection.left.handles[3],a.curveConnection.right.handles[0],a.curveConnection.right.handles[1]],b=(0,kl.useRef)(null);(0,kl.useLayoutEffect)(()=>{var jt,xn;(jt=b.current)==null||jt.select(),(xn=b.current)==null||xn.focus()},[b.current]);const[P,B]=(0,kl.useState)(YN(m)),O=jt=>{J(1),B(jt.target.value),$N(jt.target.value)&&ne(jt.target.value)},q=jt=>{var xn,_r;J(1),(jt.key==="ArrowDown"||jt.key==="ArrowUp")&&jt.preventDefault(),jt.key==="ArrowDown"?(jn.focusFirstItem(),(_r=(xn=Qe.current[De[0].label])==null?void 0:xn.current)==null||_r.focus()):jt.key==="Escape"?(Kue(f),a.onRequestClose("key Escape")):jt.key==="Enter"&&a.onRequestClose("key Enter")},[K,J]=(0,kl.useState)(0);(0,kl.useEffect)(()=>{K===2?B(YN(m)):K===3&&P!==""&&B("")},u);const[te,ne]=(0,kl.useState)(YN(m)),[re,ue]=(0,kl.useState)(null);(0,kl.useEffect)(()=>{var jt;K!==0&&K!==3&&Wue(f,u,(jt=re??te)!=null?jt:"")},[re,te,K]),u.some(vFe(a.curveConnection))&&K===0&&J(3);const pe=jt=>{var xn,_r;J(2);const lr=YN(jt);B(lr),ne(lr),(xn=b.current)==null||xn.select(),(_r=b.current)==null||_r.focus()},me=()=>{},De=(0,kl.useMemo)(()=>/^[A-Za-z]/.test(P)?que.default.filter(P,QN,{extract:xn=>xn.label}).map(xn=>xn.original):QN,[P]);(0,kl.useEffect)(()=>{K===1&&De[0]&&ne(De[0].value)},[De]);const Re=jt=>{jt.key==="Escape"?(Kue(f),a.onRequestClose("key Escape"),jt.stopPropagation()):jt.key==="Enter"&&(a.onRequestClose("key Enter"),jt.stopPropagation())},He=jt=>{K===0&&J(2),ue(jt.value)},Oe=()=>ue(null),Fe=jt=>(Wue(f,u,jt.value),a.onRequestClose("selected easing option"),YR.Handled),Qe=(0,kl.useRef)(QN.reduce((jt,xn)=>(jt[xn.label]={current:null},jt),{})),[gt,Wt]=oo(null),[Tt,An]=(0,kl.useState)(0);(0,kl.useEffect)(()=>{const jt=()=>{var xn;An((xn=Wt==null?void 0:Wt.scrollTop)!=null?xn:0)};return Wt==null||Wt.addEventListener("scroll",jt),()=>Wt==null?void 0:Wt.removeEventListener("scroll",jt)},[Wt]);const jn=fFe({items:De,uiColumns:3,onSelectItem:Fe,canVerticleExit(jt){var xn,_r;return jt==="top"?((xn=b.current)==null||xn.select(),(_r=b.current)==null||_r.focus(),YR.Handled):YR.Passthrough},renderItem:({item:jt,select:xn})=>{var _r,lr;return kl.default.createElement(Gue,{key:jt.label,easing:jt,tabIndex:0,onKeyDown:Re,ref:Qe.current[jt.label],onMouseOver:()=>He(jt),onMouseOut:Oe,onClick:xn,tooltipPlacement:((lr=(_r=Qe.current[jt.label].current)==null?void 0:_r.offsetTop)!=null?lr:0)-(Tt??0)<$9+Xue?"bottom":"top",isSelected:lFe(m,$N(jt.value))})}});return(0,kl.useLayoutEffect)(()=>{var jt,xn;if(jn.currentSelection!==null&&document.activeElement!==b.current){const _r=(xn=(jt=Qe.current)==null?void 0:jt[jn.currentSelection.label])==null?void 0:xn.current;_r==null||_r.focus(),ne(jn.currentSelection.value),/^[A-Za-z]/.test(P)||B(jn.currentSelection.value)}},[jn.currentSelection]),kl.default.createElement(Yue,null,kl.default.createElement(Que,{value:P,placeholder:K===3?"Multiple easings selected":"Search presets...",onPaste:mFe(O),onChange:O,ref:b,onKeyDown:q}),kl.default.createElement($ue,{ref:gt,onKeyDown:jt=>jn.onParentEltKeyDown(jt)},jn.gridItems,jn.gridItems.length===0?kl.default.createElement(Zue,null,"No results found"):void 0),kl.default.createElement(Jue,{onClick:()=>{var jt;return(jt=b.current)==null?void 0:jt.focus()}},kl.default.createElement(kue,{curveConnection:a.curveConnection,backgroundConnections:a.additionalConnections,onCurveChange:pe,onCancelCurveChange:me})))},Q9=tce,{isCurveEditorOpenD:gFe,isConnectionEditingInCurvePopover:J9,getLock:nce}=(()=>{const a=new ZN.Box([]);return{getLock(u){return a.set(u),function(){a.set([])}},isCurveEditorOpenD:(0,ZN.prism)(()=>a.derivation.getValue().length>0),isConnectionEditingInCurvePopover(u){return ZN.prism.ensurePrism(),a.derivation.getValue().some(({left:f,right:m})=>u.left.id===f.id&&u.right.id===m.id)}}})()}});function yFe(a,u){for(const{keyframeId:f}of xFe(u))if(a.left.id===f)return!0;return!1}function rce(a,u,f){return(0,nF.prism)(()=>{if(f===void 0)return[];let m=[];for(const{objectKey:b,trackId:P}of ice(f)){const B=(0,nF.val)(Z().atomP.historic.coreByProject[a].sheetsById[u].sequence.tracksByObject[b].trackData[P]);B&&(m=m.concat(SFe(B.keyframes).filter(O=>yFe(O,f)).map(({left:O,right:q})=>({left:O,right:q,trackId:P,objectKey:b,sheetId:u,projectId:a}))))}return m})}function tF(a,u,f){var m;if(f===void 0)return[];let b=[];for(const{objectKey:O,trackId:q,keyframeIds:K}of ice(f))b=b.concat((m=Z9({projectId:a,sheetId:u,objectKey:O,trackId:q,keyframeIds:K}))!=null?m:[]);const P=Ze(b.map(O=>O.pathToProp));return b.map(({keyframe:O,pathToProp:q})=>({keyframe:O,pathToProp:q.slice(P.length)}))}function Z9({projectId:a,sheetId:u,objectKey:f,trackId:m,keyframeIds:b}){const P=(0,nF.val)(Z().atomP.historic.coreByProject[a].sheetsById[u].sequence.tracksByObject[f]),B=P==null?void 0:P.trackData[m];if(!B)return null;const q=_Fe((P==null?void 0:P.trackIdByPropPath)||{})[m];if(!q)return null;const K=[f,...rt(q)];return b.map(J=>({keyframe:B.keyframes.find(te=>te.id===J),pathToProp:K})).filter(({keyframe:J})=>J!==void 0)}function _Fe(a){const u={};for(const[f,m]of Object.entries(a))u[m]=f;return u}function SFe(a){return a.map((u,f)=>({left:u,right:a[f+1]})).slice(0,-1)}function xFe(a){var u,f,m;const b=[];for(const[P,B]of Object.entries((u=a==null?void 0:a.byObjectKey)!=null?u:{}))for(const[O,q]of Object.entries((f=B==null?void 0:B.byTrackId)!=null?f:{}))for(const K of Object.keys((m=q==null?void 0:q.byKeyframeId)!=null?m:{}))b.push({objectKey:P,trackId:O,keyframeId:K});return b}function ice(a){var u,f,m;const b=[];for(const[P,B]of Object.entries((u=a==null?void 0:a.byObjectKey)!=null?u:{}))for(const[O,q]of Object.entries((f=B==null?void 0:B.byTrackId)!=null?f:{}))b.push({objectKey:P,trackId:O,keyframeIds:Object.keys((m=q==null?void 0:q.byKeyframeId)!=null?m:{})});return b}var nF,nA=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/selections.ts"(){nF=U(Ln),Te(),It()}});function wFe(a){return(0,ace.useMemo)(()=>EFe(a),[])}function EFe(a){let u=null;const f=b=>Z().tempTransaction(P=>a(P,b));function m(){u==null||u.discard(),u=null}return{temporarilySetValue(b){m(),u=f(b)},discardTemporaryValue:m,permanentlySetValue(b){m(),f(b).commit()}}}var ace,bFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/useTempTransactionEditingTools.tsx"(){Te(),ace=U(xt())}});function eG(a){var u;if(a.type==="sheetObject")return zd.default.createElement(zd.default.Fragment,null,zd.default.createElement(rF,{style:{paddingLeft:`${a.indent*iF}px`}},a.sheetObject.address.objectKey),a.children.map((f,m)=>zd.default.createElement(eG,R(T({key:m},f),{autoFocusInput:a.autoFocusInput&&m===0,indent:a.indent+1}))));if(a.type==="propWithChildren"){const f=(u=a.propConfig.label)!=null?u:Yn(a.pathToProp);return zd.default.createElement(zd.default.Fragment,null,zd.default.createElement(rF,{style:{paddingLeft:`${a.indent*iF}px`}},f),a.children.map((m,b)=>zd.default.createElement(eG,R(T({key:b},m),{autoFocusInput:a.autoFocusInput&&b===0,indent:a.indent+1}))))}else return zd.default.createElement(CFe,R(T({},a),{autoFocusInput:a.autoFocusInput,indent:a.indent}))}function CFe(a){var u;const f=(u=a.propConfig.label)!=null?u:Yn(a.pathToProp),m=AFe(a);if(a.propConfig.type==="enum")return zd.default.createElement(zd.default.Fragment,null);{const b=J8[a.propConfig.type];return zd.default.createElement(oce,null,zd.default.createElement(rF,null,zd.default.createElement("span",{style:{paddingLeft:`${a.indent*iF}px`}},f)),zd.default.createElement(sce,null,zd.default.createElement(b,{editingTools:m,propConfig:a.propConfig,value:UL(a.keyframe.value,a.propConfig),autoFocus:a.autoFocusInput})))}}function AFe(a){const u=a.sheetObject;return wFe(({stateEditors:f},m)=>{const b=R(T({},a.keyframe),{value:m});f.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},u.address),{trackId:a.trackId,keyframes:[b],snappingFunction:u.sheet.getSequence().closestGridPosition}))})}var zd,oce,rF,iF,sce,TFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/DeterminePropEditorForSingleKeyframe.tsx"(){zd=U(xt()),Hn(),Hae(),Dr(),bFe(),Aw(),oce=lt.div`
  display: flex;
  align-items: stretch;

  select {
    min-width: 100px;
  }
`,rF=lt.div`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`,iF=10,sce=lt.div`
  display: flex;
  align-items: center;
  width: 60%;
`}});function aF(a){return hS({debugName:"useKeyframeInlineEditorPopover"},()=>oF.default.createElement(b_,{showPopoverEdgeTriangle:!0},oF.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(a)?a.map((u,f)=>oF.default.createElement(eG,R(T({key:f},u),{autoFocusInput:f===0,indent:0}))):void 0)))}var oF,sF=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/useSingleKeyframeInlineEditorPopover.tsx"(){oF=U(xt()),pS(),C_(),TFe()}});function MFe(a,u,f){return wp(a,{displayName:"Keyframe",menuItems:()=>{const m=tF(f.leaf.sheetObject.address.projectId,f.leaf.sheetObject.address.sheetId,f.selection);return[{label:m.length>0?"Copy (selection)":"Copy",callback:()=>{m.length>0?Z().transaction(b=>{b.stateEditors.studio.ahistoric.setClipboardKeyframes(m)}):Z().transaction(b=>{b.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:f.keyframe,pathToProp:f.leaf.pathToProp}])})}},{label:f.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{f.selection?f.selection.delete():Z().transaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},f.leaf.sheetObject.address),{keyframeIds:[f.keyframe.id],trackId:f.leaf.trackId}))})}}]},onOpen(){u._debug("Show keyframe",f)}})}function PFe(a,u,f){const m=(0,qw.useRef)(u);m.current=u;const{onClickFromDrag:b}=f,P=(0,qw.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(O){const q=m.current,K=(0,lF.val)(Z().atomP.historic.coreByProject[q.leaf.sheetObject.address.projectId].sheetsById[q.leaf.sheetObject.address.sheetId].sequence.tracksByObject),J=ole(K,function(pe,{trackId:me,objectKey:De}){var Re,He;return pe.id!==q.keyframe.id&&!(q.selection&&((He=(Re=q.selection.byObjectKey[De])==null?void 0:Re.byTrackId[me])!=null&&He.byKeyframeId[pe.id]))});if(ale(J),q.selection){const{selection:ue,leaf:pe}=q,{sheetObject:me}=pe,De=ue.getDragHandlers(R(T({},me.address),{domNode:a,positionAtStartOfDrag:q.track.data.keyframes[q.index].position})).onDragStart(O);return De&&R(T({},De),{onClick:b,onDragEnd:(...Re)=>{var He;(He=De.onDragEnd)==null||He.call(De,...Re),Hw()}})}const te=q,ne=(0,lF.val)(te.layoutP.scaledSpace.toUnitSpace);let re;return{onDrag(ue,pe,me){var De;const Re=te.track.data.keyframes[te.index],He=Math.max((De=Sp.checkIfMouseEventSnapToPos(me,{ignore:a}))!=null?De:Re.position+ne(ue),0);re==null||re.discard(),re=void 0,re=Z().tempTransaction(({stateEditors:Oe})=>{Oe.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},te.leaf.sheetObject.address),{trackId:te.leaf.trackId,keyframes:[R(T({},Re),{position:He})],snappingFunction:(0,lF.val)(te.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(ue){ue?re==null||re.commit():re==null||re.discard(),Hw()},onClick(ue){b(ue)}}}}),[b]),[B]=xu(a,P);return S_(B,u.keyframe.position),Nv(B,"draggingPositionInSequenceEditor","ew-resize"),[B]}var qw,lF,uF,tG,$R,lce,cF,uce,cce,fce,dce=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/SingleKeyframeDot.tsx"(){qw=U(xt()),Hn(),Te(),Ep(),$c(),Po(),lF=U(Ln),Ud(),Ym(),Lg(),DN(),rS(),nA(),Uo(),jw(),sF(),g_(),uF=6,tG=uF+2,$R={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},lce=({isSelected:a,isInlineEditorPopoverOpen:u})=>a&&u?$R.inlineEditorOpenColor:a?$R.selectedColor:u?$R.selectedAndInlineEditorOpenColor:$R.normalColor,cF=lt.div`
  position: absolute;
  ${jg(uF)}

  background: ${a=>lce(a)};
  transform: rotateZ(45deg);

  ${a=>a.flag===zv.Primary?"outline: 2px solid white;":""};

  z-index: 1;
  pointer-events: none;
`,uce=lt.div`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  ${jg(12)};
  ${Ro};

  & + ${cF} {
    ${a=>a.isInlineEditorPopoverOpen?jg(tG):""}
  }

  &:hover + ${cF} {
    ${jg(tG)}
  }
`,cce=a=>{const u=nS("SingleKeyframeDot",a.keyframe.id),f=Tw(a.itemKey),[m,b]=oo(null),[P]=MFe(b,u,a),{node:B,toggle:O,isOpen:q}=aF([{type:"primitiveProp",keyframe:a.keyframe,pathToProp:a.leaf.pathToProp,propConfig:a.leaf.propConf,sheetObject:a.leaf.sheetObject,trackId:a.leaf.trackId}]);return PFe(b,a,{onClickFromDrag(K){O(K,m.current)}}),qw.default.createElement(qw.default.Fragment,null,qw.default.createElement(uce,T({ref:m,isInlineEditorPopoverOpen:q},f.attrs)),qw.default.createElement(cF,{isSelected:!!a.selection,isInlineEditorPopoverOpen:q,flag:f.flag}),B,P)},fce=cce}}),nG,rG,iG,Xw,hce,aG,pce=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/keyframeRowUI/ConnectorLine.tsx"(){Uv(),nG=U(xt()),Hn(),dce(),rG=uF/2+1,iG=1e3,Xw={normalColor:"#365b59",selectedColor:"#8A7842",barColor:a=>{const u=a.isSelected?Xw.selectedColor:Xw.normalColor;return a.isPopoverOpen?TL(.2,bC(.2,u)):u},hoverColor:a=>{const u=a.isSelected?Xw.selectedColor:Xw.normalColor;return a.isPopoverOpen?TL(.2,bC(.2,u)):TL(.1,bC(.1,u))}},hce=lt.div`
  position: absolute;
  background: ${Xw.barColor};
  height: ${rG}px;
  width: ${iG}px;

  left: 0;
  top: -${rG/2}px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: ${Xw.hoverColor};
  }
`,aG=nG.default.forwardRef((a,u)=>{const f={isPopoverOpen:a.isPopoverOpen,isSelected:a.isSelected};return nG.default.createElement(hce,R(T({},f),{ref:u,style:{transform:`scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ${a.connectorLengthInUnitSpace/iG}))`},onClick:m=>{var b;(b=a.openPopover)==null||b.call(a,m)}}),a.children)})}});function RFe(a,u){const f=(0,oG.useRef)(u);f.current=u;const m=(0,oG.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(b){const P=f.current;let B;if(P.selection){const{selection:J,leaf:te}=P,{sheetObject:ne}=te;return J.getDragHandlers(R(T({},ne.address),{domNode:a,positionAtStartOfDrag:P.track.data.keyframes[P.index].position})).onDragStart(b)}const O=P,q=(0,fF.val)(O.layoutP.sheet).getSequence(),K=(0,fF.val)(O.layoutP.scaledSpace.toUnitSpace);return{onDrag(J,te,ne){const re=K(J);B&&(B.discard(),B=void 0),B=Z().tempTransaction(({stateEditors:ue})=>{ue.coreByProject.historic.sheetsById.sequence.transformKeyframes(R(T({},O.leaf.sheetObject.address),{trackId:O.leaf.trackId,keyframeIds:[O.keyframe.id,O.track.data.keyframes[O.index+1].id],translate:re,scale:1,origin:0,snappingFunction:q.closestGridPosition}))})},onDragEnd(J){J?B&&B.commit():B&&B.discard()}}}}),[]);xu(a,m)}function IFe(a,u,f,m){return wp(u,{displayName:"Tween",menuItems:()=>{const b=tF(a.leaf.sheetObject.address.projectId,a.leaf.sheetObject.address.sheetId,a.selection);return[{label:b.length>0?"Copy (selection)":"Copy",callback:()=>{b.length>0?Z().transaction(P=>{P.stateEditors.studio.ahistoric.setClipboardKeyframes(b)}):Z().transaction(P=>{P.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:f,pathToProp:a.leaf.pathToProp},{keyframe:m,pathToProp:a.leaf.pathToProp}])})}},{label:a.selection?"Delete (selection)":"Delete",callback:()=>{a.selection?a.selection.delete():Z().transaction(({stateEditors:P})=>{P.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},a.leaf.sheetObject.address),{keyframeIds:[f.id,m.id],trackId:a.leaf.trackId}))})}}]}})}var fF,_S,oG,sG,mce,vce,gce,yce,kFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/BasicKeyframeConnector.tsx"(){Te(),Ep(),$c(),Po(),fF=U(Ln),_S=U(xt()),oG=U(xt()),pS(),C_(),eF(),pce(),VN(),Ei(),nA(),nA(),Hn(),sG=5,mce=lt(b_)`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: ${G9};
`,vce=a=>{const{index:u,track:f}=a,m=f.data.keyframes[u],b=f.data.keyframes[u+1],[P,B]=oo(null),{node:O,toggle:q,close:K}=hS(()=>{const ue=(0,fF.val)(a.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:ue.screenX+sG,maxX:ue.screenX+ue.width-sG}}},()=>_S.default.createElement(yce,R(T({},a),{closePopover:K}))),[J]=IFe(a,B,m,b);RFe(B,a);const te=b.position-m.position,re={isPopoverOpen:ma(()=>J9(R(T({},a.leaf.sheetObject.address),{trackId:a.leaf.trackId,left:m,right:b})),[a.leaf.sheetObject.address,a.leaf.trackId,m,b]),isSelected:a.selection!==void 0};return _S.default.createElement(_S.default.Fragment,null,_S.default.createElement(aG,R(T({ref:P,connectorLengthInUnitSpace:te},re),{openPopover:ue=>{B&&q(ue,B)}}),O),J)},gce=vce,yce=_S.default.forwardRef((a,u)=>{const{index:f,track:{data:m},selection:b}=a,P=m.keyframes[f],B=m.keyframes[f+1],O=a.leaf.trackId,q=a.leaf.sheetObject.address,K=ma(()=>rce(q.projectId,q.sheetId,b).getValue(),[q,b]),J=T({left:P,right:B,trackId:O},q);return _S.default.createElement(mce,{showPopoverEdgeTriangle:!1,ref:u},_S.default.createElement(Q9,{curveConnection:J,additionalConnections:K,onRequestClose:a.closePopover}))})}}),_ce,Yw,Sce,xce,wce,Ece,DFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/KeyframeEditor/SingleKeyframeEditor.tsx"(){_ce=U(Ln),Yw=U(xt()),Hn(),kFe(),dce(),Sce=lt.div`
  position: absolute;
`,xce=Yw.default.createElement(Yw.default.Fragment,null),wce=Yw.default.memo(a=>{const{index:u,track:{data:f}}=a,m=f.keyframes[u],b=f.keyframes[u+1],P=m.connectedRight&&!!b;return Yw.default.createElement(Sce,{style:{top:`${a.leaf.nodeHeight/2}px`,left:`calc(${(0,_ce.val)(a.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${m.position}px))`}},Yw.default.createElement(fce,R(T({},a),{itemKey:a.itemKey})),P?Yw.default.createElement(gce,T({},a)):xce)}),Ece=wce}});function OFe(a,u){return wp(a,{displayName:"Keyframe Track",menuItems:()=>{var f;const m=(f=(0,rA.val)(Z().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?f:[];return[BFe(u,m)]}})}function BFe(a,u){return{label:"Paste Keyframes",enabled:u.length>0,callback:()=>{var f;const b=(0,rA.val)(a.layoutP.sheet).getSequence(),P=(f=u[0])==null?void 0:f.pathToProp,B=u.filter(({keyframe:O,pathToProp:q})=>ke(P,q)).map(({keyframe:O,pathToProp:q})=>O);Z().transaction(({stateEditors:O})=>{var q;b.position=b.closestGridPosition(b.position);const K=(q=LFe(B))==null?void 0:q.position;for(const J of B)O.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(T({},a.leaf.sheetObject.address),{trackId:a.leaf.trackId,position:b.position+J.position-K,handles:J.handles,value:J.value,snappingFunction:b.closestGridPosition}))})}}}function LFe(a){let u=null;for(const f of a)(u===null||f.position<u.position)&&(u=f);return u}var rA,O_,bce,lG,Cce,NFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/BasicKeyframedTrack/BasicKeyframedTrack.tsx"(){Ei(),rA=U(Ln),O_=U(xt()),Hn(),DFe(),Ep(),Po(),Te(),It(),jw(),l_(),bce=lt.div`
  position: relative;
  height: 100%;
  width: 100%;
`,lG=O_.default.memo(a=>{var u;const{layoutP:f,trackData:m,leaf:b}=a,[P,B]=oo(null),{selectedKeyframeIds:O,selection:q}=ma(()=>{const He=(0,rA.val)(f.selectionAtom),Oe=(0,rA.val)(He.pointer.current.byObjectKey[b.sheetObject.address.objectKey].byTrackId[b.trackId].byKeyframeId);return Oe?{selectedKeyframeIds:Oe,selection:(0,rA.val)(He.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[f,b.trackId]),[K,J,te]=OFe(B,a),ne=ka(P9),re=ne.mode==="snapToSome"?(u=ne.positions[b.sheetObject.address.objectKey])==null?void 0:u[b.trackId]:[],ue=ne.mode==="snapToAll",pe=(0,O_.useMemo)(()=>({data:m,id:b.trackId,sheetObject:a.leaf.sheetObject}),[m,b.trackId]),me=m.keyframes.map((He,Oe)=>O_.default.createElement(Ece,{key:"keyframe-"+He.id,itemKey:Ef.forTrackKeyframe(b.sheetObject,b.trackId,He.id),keyframe:He,index:Oe,track:pe,layoutP:f,leaf:b,selection:O[He.id]===!0?q:void 0})),De=re.map(He=>O_.default.createElement(FR,{key:"snap-target-"+He,layoutP:f,leaf:b,position:He})),Re=ue?m.keyframes.map(He=>O_.default.createElement(FR,{key:`additionalSnapTarget-${He.id}`,layoutP:f,leaf:b,position:He.position})):null;return O_.default.createElement(bce,{ref:P,style:{background:te?"#444850 ":"unset"}},me,De,O_.default.createElement(O_.default.Fragment,null,Re),K)}),lG.displayName="BasicKeyframedTrack",Cce=lG}}),Ace,QR,Tce,Mce,FFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/PrimitivePropRow.tsx"(){Te(),Ei(),Ace=U(Ln),QR=U(xt()),jN(),NFe(),rS(),Tce=({leaf:a,layoutP:u})=>{const f=nS("PrimitivePropRow",a.pathToProp.join());return ma(()=>{const{sheetObject:m}=a,{trackId:b}=a,P=(0,Ace.val)(Z().atomP.historic.coreByProject[m.address.projectId].sheetsById[m.address.sheetId].sequence.tracksByObject[m.address.objectKey].trackData[b]);if((P==null?void 0:P.type)!=="BasicKeyframedTrack")return f.errorDev(`trackData type ${P==null?void 0:P.type} is not yet supported on the sequence editor`),QR.default.createElement(ZC,{leaf:a,isCollapsed:!1,node:QR.default.createElement("div",null)});{const B=QR.default.createElement(Cce,{layoutP:u,trackData:P,leaf:a});return QR.default.createElement(ZC,{leaf:a,isCollapsed:!1,node:B})}},[a,u])},Mce=Tce}});function UFe(a){return a()}var zFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/iif.tsx"(){}});function Pce(a){const{index:u,aggregateKeyframes:f,selection:m}=a;return ma(Rce(a),[u,f,m,a.viewModel])}function Rce(a){const{index:u,aggregateKeyframes:f,selection:m}=a,{projectId:b,sheetId:P}=a.viewModel.type==="sheet"?a.viewModel.sheet.address:a.viewModel.sheetObject.address;return()=>{const B=f[u],O=f[u+1],K=O&&B.keyframes.length===O.keyframes.length&&B.keyframes.every(({track:ue},pe)=>O.keyframes[pe].track===ue)?{length:O.position-B.position,selected:B.selected===ey.AllSelected&&O.selected===ey.AllSelected}:null,J=K?B.keyframes.map(({kf:ue,track:pe},me)=>R(T({},pe.sheetObject.address),{trackId:pe.id,left:ue,right:O.keyframes[me].kf})):[],te=UFe(()=>{const ue=uG.prism.memo("selectedConnections",()=>rce(b,P,m),[b,P,m]).getValue();return[...J,...ue]}),ne=J.every(ue=>J9(ue));return{itemKey:uG.prism.memo("itemKey",()=>a.viewModel.type==="sheet"?Ef.forSheetAggregateKeyframe(a.viewModel.sheet,B.position):a.viewModel.type==="sheetObject"?Ef.forSheetObjectAggregateKeyframe(a.viewModel.sheetObject,B.position):Ef.forCompoundPropAggregateKeyframe(a.viewModel.sheetObject,a.viewModel.pathToProp,B.position),[a.viewModel,B.position]),cur:B,connected:K,isAggregateEditingInCurvePopover:ne,allConnections:te}}}var uG,cG=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/useAggregateKeyframeEditorUtils.tsx"(){uG=U(Ln),l_(),iA(),eF(),Ei(),nA(),zFe()}});function HFe(a,u){const f=(0,Gv.useRef)(u);f.current=u;const m=(0,Gv.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(b){const P=f.current;let B;const O=P.aggregateKeyframes[P.index].keyframes,{selection:q,viewModel:K}=P,J=K.type==="sheet"?K.sheet.address:K.sheetObject.address;if(q&&P.aggregateKeyframes[P.index].selected===ey.AllSelected)return q.getDragHandlers(R(T({},J),{domNode:a,positionAtStartOfDrag:P.aggregateKeyframes[P.index].position})).onDragStart(b);const te=P,ne=(0,dF.val)(te.layoutP.sheet).getSequence(),re=(0,dF.val)(te.layoutP.scaledSpace.toUnitSpace);return{onDrag(ue,pe,me){const De=re(ue);B&&(B.discard(),B=void 0),B=Z().tempTransaction(({stateEditors:Re})=>{for(const He of O)Re.coreByProject.historic.sheetsById.sequence.transformKeyframes(R(T({},He.track.sheetObject.address),{trackId:He.track.id,keyframeIds:[He.kf.id,He.track.data.keyframes[He.track.data.keyframes.indexOf(He.kf)+1].id],translate:De,scale:1,origin:0,snappingFunction:ne.closestGridPosition}))})},onDragEnd(ue){ue?B&&B.commit():B&&B.discard()}}}}),[]);return xu(a,m)}function jFe(a,u){return wp(u,{displayName:"Aggregate Tween",menuItems:()=>{const f=a.utils.allConnections.reduce((O,q)=>{var K;return O.concat((K=Z9(R(T({},q),{keyframeIds:[q.left.id,q.right.id]})))!=null?K:[])},[]),m=Ze(f.map(O=>O.pathToProp)),b=f.map(({keyframe:O,pathToProp:q})=>({keyframe:O,pathToProp:q.slice(m.length)})),P=a.editorProps.viewModel,B=P.type==="sheet"?P.sheet.address:P.sheetObject.address;return[{label:"Copy",callback:()=>{if(a.editorProps.selection){const O=tF(B.projectId,B.sheetId,a.editorProps.selection);Z().transaction(q=>{q.stateEditors.studio.ahistoric.setClipboardKeyframes(O)})}else Z().transaction(O=>{O.stateEditors.studio.ahistoric.setClipboardKeyframes(b)})}},{label:"Delete",callback:()=>{a.editorProps.selection?a.editorProps.selection.delete():Z().transaction(({stateEditors:O})=>{for(const q of a.utils.allConnections)O.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},B),{objectKey:q.objectKey,keyframeIds:[q.left.id,q.right.id],trackId:q.trackId}))})}}]}})}var dF,Gv,fG,Ice,kce,Dce,GFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeConnector.tsx"(){dF=U(Ln),Gv=U(xt()),pce(),iA(),pS(),Po(),Te(),$c(),eF(),cG(),Hn(),C_(),nA(),Ep(),It(),fG=5,Ice=lt(b_)`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`,kce=Gv.default.forwardRef((a,u)=>{const{allConnections:f}=Pce(a);return Gv.default.createElement(Ice,{showPopoverEdgeTriangle:!1,ref:u},Gv.default.createElement(Q9,{curveConnection:f[0],additionalConnections:f,onRequestClose:a.closePopover}))}),Dce=a=>{const[u,f]=oo(null),{editorProps:m}=a,[b]=jFe(a,f),[P]=HFe(f,a.editorProps),{node:B,toggle:O,close:q}=hS(()=>{const te=(0,dF.val)(m.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:te.screenX+fG,maxX:te.screenX+te.width-fG}}},()=>Gv.default.createElement(kce,R(T({},m),{closePopover:q}))),{connected:K,isAggregateEditingInCurvePopover:J}=a.utils;return K||P?Gv.default.createElement(Gv.default.Fragment,null,Gv.default.createElement(aG,{ref:u,connectorLengthInUnitSpace:K?K.length:0,isSelected:K?K.selected:!1,isPopoverOpen:J,openPopover:te=>{f&&O(te,f)}}),B,b):Gv.default.createElement(Gv.default.Fragment,null)}}});function VFe(a){const u={isSelected:a.isSelected,flag:a.flag};return B_.default.createElement(hF,null,a.isAllHere?B_.default.createElement(Nce,T({},u)):B_.default.createElement(Fce,T({},u)))}var B_,dG,Oce,hF,Bce,hG,pG,mG,vG,Lce,Nce,Fce,WFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeVisualDot.tsx"(){B_=U(xt()),iA(),g_(),Hn(),DN(),Uo(),dG=16,Oce=dG+2,hF=lt.div`
  position: absolute;
  ${jg(dG)}
  z-index: 1;
`,Bce=lt.div`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  ${jg(12)};
  ${Ro};

  &:hover
    + ${hF},
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + ${hF} {
    ${jg(Oce)}
  }
`,hG="#F2C95C",pG="#40AAA4",mG="#45747C",vG=a=>a.isSelected===ey.AllSelected?hG:a.isSelected===ey.AtLeastOneUnselected?pG:mG,Lce=a=>a.isSelected===ey.AllSelected?hG:a.isSelected===ey.AtLeastOneUnselected?pG:mG,Nce=a=>B_.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B_.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:Lce(a)}),B_.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:vG(a),stroke:a.flag===zv.Primary?"white":void 0,strokeWidth:a.flag===zv.Primary?"2px":void 0})),Fce=a=>B_.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B_.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:a.flag===zv.Primary?"white":vG(a),strokeWidth:a.flag===zv.Primary?"2px":void 0}))}});function KFe(a,u){const f=a.children.map(m=>m.type==="propWithChildren"?gG(m,u):Uce(m,u)).filter(yG);return f.length===0?null:{type:"sheetObject",sheetObject:a.sheetObject,children:f}}function gG(a,u){const f=a.children.map(m=>m.type==="propWithChildren"?gG(m,u):Uce(m,u)).filter(yG);return f.length===0?null:{type:"propWithChildren",pathToProp:a.pathToProp,propConfig:a.propConf,children:f}}function Uce(a,u){const f=u.find(m=>m.track.id===a.trackId);return f?{type:"primitiveProp",keyframe:f.kf,pathToProp:a.pathToProp,propConfig:a.propConf,sheetObject:a.sheetObject,trackId:a.trackId}:null}function qFe(a){var u,f,m,b;const{cur:P}=a.utils,B=aF(a.editorProps.viewModel.type==="sheet"?null:a.editorProps.viewModel.type==="sheetObject"?(f=(u=KFe(a.editorProps.viewModel,P.keyframes))==null?void 0:u.children)!=null?f:null:(b=(m=gG(a.editorProps.viewModel,P.keyframes))==null?void 0:m.children)!=null?b:null),O=Tw(a.utils.itemKey);O.useRelations(()=>P.keyframes.map(te=>({affects:te.itemKey,flag:zv.Primary})),[P.keyframes.map(te=>te.track.id).join("-")]);const[q,K]=oo(null),[J]=XFe(a,K);return JR.default.createElement(JR.default.Fragment,null,JR.default.createElement(Bce,R(T(T({ref:q},O.attrs),Sp.includePositionSnapAttrs(P.position)),{onClick:te=>a.editorProps.viewModel.type!=="sheet"?B.open(te,q.current):null})),JR.default.createElement(VFe,{flag:O.flag,isAllHere:P.allHere,isSelected:P.selected}),J,B.node)}function XFe(a,u){return wp(u,{displayName:"Aggregate Keyframe",menuItems:()=>{const f=a.editorProps.viewModel,m=a.editorProps.selection;return[{label:m?"Copy (selection)":"Copy",callback:()=>{if(m){const{projectId:b,sheetId:P}=f.type==="sheet"?f.sheet.address:f.sheetObject.address,B=tF(b,P,m);Z().transaction(O=>{O.stateEditors.studio.ahistoric.setClipboardKeyframes(B)})}else{const b=a.utils.cur.keyframes.flatMap(q=>{var K;return(K=Z9(R(T({},q.track.sheetObject.address),{trackId:q.track.id,keyframeIds:[q.kf.id]})))!=null?K:[]}),P=f.type==="sheet"?[]:f.type==="sheetObject"?[f.sheetObject.address.objectKey]:f.type==="propWithChildren"?[f.sheetObject.address.objectKey,...f.pathToProp]:[],B=Ze([P,...b.map(q=>q.pathToProp)]),O=b.map(({keyframe:q,pathToProp:K})=>({keyframe:q,pathToProp:K.slice(B.length)}));Z().transaction(q=>{q.stateEditors.studio.ahistoric.setClipboardKeyframes(O)})}}},{label:m?"Delete (selection)":"Delete",callback:()=>{m?m.delete():Z().transaction(({stateEditors:b})=>{for(const P of a.utils.cur.keyframes)b.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},P.track.sheetObject.address),{keyframeIds:[P.kf.id],trackId:P.track.id}))})}}]}})}var JR,yG,YFe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeDot.tsx"(){JR=U(xt()),Po(),g_(),Ep(),WFe(),Te(),nA(),It(),Lg(),sF(),yG=a=>a!==null}}),zce,ZR,Hce,jce,Gce,$Fe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregateKeyframeEditor/AggregateKeyframeEditor.tsx"(){zce=U(Ln),ZR=U(xt()),Hn(),GFe(),cG(),YFe(),Hce=lt.div`
  position: absolute;
`,jce=ZR.default.memo(a=>{const u=Pce(a);return ZR.default.createElement(Hce,{style:{top:`${a.viewModel.nodeHeight/2}px`,left:`calc(${(0,zce.val)(a.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${u.cur.position}px))`}},ZR.default.createElement(qFe,{editorProps:a,utils:u}),ZR.default.createElement(Dce,{editorProps:a,utils:u}))}),Gce=jce}}),Vce,Wce,Kce=w({"shared/src/utils/index.ts"(){Vce={},Wce=[]}});function QFe(a){const{layoutP:u,aggregatedKeyframes:f,viewModel:m}=a,b=nS("AggregatedKeyframeTrack"),[P,B]=oo(null),{selectedPositions:O,selection:q}=JFe(u,f),[K,J,te]=tUe(B,a,()=>b._debug("see aggregatedKeyframes",a.aggregatedKeyframes)),ne=(0,Vv.useMemo)(()=>[...f.byPosition.entries()].sort((Oe,Fe)=>Oe[0]-Fe[0]).map(([Oe,Fe])=>({position:Oe,keyframes:Fe,selected:O.get(Oe),allHere:Fe.length===f.tracks.length})),[f,O]),re=ka(P9),ue=re.mode==="snapToAll",pe=re.mode==="snapToSome"?re.positions:Vce,De=(0,Vv.useMemo)(()=>m.type==="sheet"?_De(m,pe):e6(m,pe),[pe]).map(Oe=>Vv.default.createElement(FR,{key:"snap-target-"+Oe,layoutP:u,leaf:m,position:Oe})),Re=(0,Vv.useMemo)(()=>ne.map(({position:Oe,keyframes:Fe},Qe)=>({position:Oe,editorProps:{index:Qe,layoutP:u,viewModel:m,aggregateKeyframes:ne,selection:O.has(Oe)?q:void 0}})),[ne,m,O]);aUe(B,Oe=>{var Fe;return(Fe=Re.find(Qe=>Qe.position===Oe))==null?void 0:Fe.editorProps},{onClickFromDrag(Oe){}});const He=Re.map((Oe,Fe)=>Vv.default.createElement(Vv.Fragment,{key:"agg-"+ne[Fe].keyframes[0].kf.id},ue&&Vv.default.createElement(FR,{layoutP:u,leaf:m,position:Oe.position}),Vv.default.createElement(Gce,T({},Oe.editorProps))));return Vv.default.createElement(Yce,{ref:P,style:{background:te?"#444850 ":"unset"}},He,De,K)}function JFe(a,u){return ma(()=>(0,Cp.val)(ZFe(a,u)),[a,u])}function ZFe(a,u){return(0,Cp.prism)(()=>{const f=(0,Cp.val)(a.selectionAtom),m=(0,Cp.val)(f.pointer.current);if(!m)return $ce;const b=new Map;for(const[P,B]of u.byPosition){const O=eUe(B,m);O!==void 0&&O!==mF&&b.set(P,O)}return{selectedPositions:b,selection:(0,Cp.val)(f.pointer.current)}})}function eUe(a,u){var f,m,b;let P;for(const{track:B,kf:O}of a){const q=((b=(m=(f=u.byObjectKey[B.sheetObject.address.objectKey])==null?void 0:f.byTrackId[B.id])==null?void 0:m.byKeyframeId)==null?void 0:b[O.id])===!0;P===void 0?q?P=SG:P=mF:q?P===mF&&(P=xG):P===SG&&(P=xG)}return P}function tUe(a,u,f){return wp(a,{onOpen:f,displayName:"Aggregate Keyframe Track",menuItems:()=>{var m;const b=(m=(0,Cp.valueDerivation)(Z().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?m:[];return[nUe(u,b)]}})}function nUe(a,u){return{label:"Paste Keyframes",enabled:u.length>0,callback:()=>{const m=(0,Cp.val)(a.layoutP.sheet).getSequence();a.viewModel.type==="sheet"?rUe(a.viewModel,u,m):iUe(a.viewModel,u,m)}}}function rUe(a,u,f){var m;const{projectId:b,sheetId:P,sheetInstanceId:B}=a.sheet.address;if(u.every(({pathToProp:q})=>q.length===0))for(const q of a.children.map(K=>K.sheetObject)){const K=(0,Cp.valueDerivation)(Z().atomP.historic.coreByProject[b].sheetsById[P].sequence.tracksByObject[q.address.objectKey]).getValue(),J=Object.keys((m=K==null?void 0:K.trackData)!=null?m:{});_G(q.address,J,u,f)}else{const q=(0,Cp.valueDerivation)(Z().atomP.historic.coreByProject[b].sheetsById[P].sequence.tracksByObject).getValue(),K=u.map(({keyframe:J,pathToProp:te})=>{var ne,re;const ue=te[0],pe=te.slice(1),me=Xe([...pe]),Re=((re=(ne=q==null?void 0:q[ue])==null?void 0:ne.trackIdByPropPath)!=null?re:{})[me];return Re?{keyframe:J,trackId:Re,address:{objectKey:ue,projectId:b,sheetId:P,sheetInstanceId:B}}:null}).filter(J=>J!==null);qce(K,f)}}function iUe(a,u,f){var m;const{projectId:b,sheetId:P,objectKey:B}=a.sheetObject.address,O=(0,Cp.valueDerivation)(Z().atomP.historic.coreByProject[b].sheetsById[P].sequence.tracksByObject[B]).getValue();if(u.every(({pathToProp:K})=>K.length===0)){const K=Object.keys((m=O==null?void 0:O.trackData)!=null?m:{});if(a.type==="sheetObject")_G(a.sheetObject.address,K,u,f);else{const J=(O==null?void 0:O.trackIdByPropPath)||{},te=Object.entries(J).filter(([ne,re])=>re!==void 0&&oe(rt(ne),a.pathToProp)).map(([ne,re])=>re);_G(a.sheetObject.address,te,u,f)}}else{const K=(O==null?void 0:O.trackIdByPropPath)||{},J=a.type==="propWithChildren"?a.pathToProp:[],te=u.map(({keyframe:ne,pathToProp:re})=>{const ue=Xe([...J,...re]),pe=K[ue];return pe?{keyframe:ne,trackId:pe,address:a.sheetObject.address}:null}).filter(ne=>ne!==null);qce(te,f)}}function _G(a,u,f,m){var b;m.position=m.closestGridPosition(m.position);const P=(b=Xce(f.map(({keyframe:B})=>B)))==null?void 0:b.position;Z().transaction(({stateEditors:B})=>{for(const O of u)for(const{keyframe:q}of f)B.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(T({},a),{trackId:O,position:m.position+q.position-P,handles:q.handles,value:q.value,snappingFunction:m.closestGridPosition}))})}function qce(a,u){var f;u.position=u.closestGridPosition(u.position);const m=(f=Xce(a.map(({keyframe:b})=>b)))==null?void 0:f.position;Z().transaction(({stateEditors:b})=>{for(const{keyframe:P,trackId:B,address:O}of a)b.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(T({},O),{trackId:B,position:u.position+P.position-m,handles:P.handles,value:P.value,snappingFunction:u.closestGridPosition}))})}function Xce(a){let u=null;for(const f of a)(u===null||f.position<u.position)&&(u=f);return u}function aUe(a,u,f){const m=nS("useDragForAggregateKeyframeDot"),b=Bre(),P=(0,Vv.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(O){m._debug("onDragStart",{target:O.target});const q=Number(O.target.dataset.pos),K=u(q);if(!K)return m._debug("no props found for ",{positionToFind:q}),!1;b(!0,q);const J=(0,Cp.prism)(Rce(K)).getValue().cur.keyframes,te=K.viewModel.type==="sheet"?K.viewModel.sheet.address:K.viewModel.sheetObject.address,ne=(0,Cp.val)(Z().atomP.historic.coreByProject[te.projectId].sheetsById[te.sheetId].sequence.tracksByObject),re=ole(ne,function(Re,{trackId:He,objectKey:Oe}){var Fe,Qe;return J.every(gt=>Re.id!==gt.kf.id)&&!(K.selection&&((Qe=(Fe=K.selection.byObjectKey[Oe])==null?void 0:Fe.byTrackId[He])!=null&&Qe.byKeyframeId[Re.id]))});if(ale(re),K.selection&&K.aggregateKeyframes[K.index].selected===0){const{selection:De,viewModel:Re}=K,He=De.getDragHandlers(R(T({},te),{domNode:a,positionAtStartOfDrag:J[0].kf.position})).onDragStart(O);return He&&R(T({},He),{onClick:f.onClickFromDrag,onDragEnd:(...Oe)=>{var Fe;(Fe=He.onDragEnd)==null||Fe.call(He,...Oe),Hw()}})}const ue=K,pe=(0,Cp.val)(ue.layoutP.scaledSpace.toUnitSpace);let me;return{onDrag(De,Re,He){var Oe;const Fe=Math.max((Oe=Sp.checkIfMouseEventSnapToPos(He,{}))!=null?Oe:J[0].kf.position+pe(De),0);b(!0,Fe),me==null||me.discard(),me=void 0,me=Z().tempTransaction(({stateEditors:Qe})=>{for(const gt of J){const Wt=gt.kf;Qe.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},gt.track.sheetObject.address),{trackId:gt.track.id,keyframes:[R(T({},Wt),{position:Fe})],snappingFunction:(0,Cp.val)(ue.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(De){b(!1,-1),De?me==null||me.commit():(me==null||me.discard(),f.onClickFromDrag(O)),Hw()},onClick(De){f.onClickFromDrag(De)}}}}),[u,f.onClickFromDrag]),[B]=xu(a,P);return Nv(B,"draggingPositionInSequenceEditor","ew-resize"),[B]}var Cp,Vv,Yce,$ce,Qce,pF,ey,SG,xG,mF,iA=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/AggregatedKeyframeTrack/AggregatedKeyframeTrack.tsx"(){Ei(),Cp=U(Ln),Vv=U(xt()),Hn(),Ep(),Po(),$Fe(),wC(),rS(),cG(),Lg(),$c(),Ud(),Ym(),Te(),It(),jw(),Kce(),jw(),wC(),Yce=lt.div`
  position: relative;
  height: 100%;
  width: 100%;
`,$ce=Object.freeze({selectedPositions:new Map,selection:void 0}),Qce=Vv.default.memo(QFe),pF=Qce,function(a){a[a.AllSelected=0]="AllSelected",a[a.AtLeastOneUnselected=1]="AtLeastOneUnselected",a[a.NoneSelected=2]="NoneSelected"}(ey||(ey={})),{AllSelected:SG,AtLeastOneUnselected:xG,NoneSelected:mF}=ey}}),aA,wG,Jce,oUe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/PropWithChildrenRow.tsx"(){Ei(),aA=U(xt()),FFe(),jN(),iA(),wC(),rS(),wG=(a,u)=>a.type==="propWithChildren"?aA.default.createElement(Jce,{layoutP:u,viewModel:a,key:"prop"+a.pathToProp[a.pathToProp.length-1]}):aA.default.createElement(Mce,{layoutP:u,leaf:a,key:"prop"+a.pathToProp[a.pathToProp.length-1]}),Jce=({viewModel:a,layoutP:u})=>{const f=nS("RightPropWithChildrenRow",a.pathToProp.join());return ma(()=>{const m=_L(a),b=aA.default.createElement(pF,{layoutP:u,aggregatedKeyframes:m,viewModel:a});return aA.default.createElement(Ree,{logger:f},aA.default.createElement(ZC,{leaf:a,node:b,isCollapsed:a.isCollapsed},a.children.map(P=>wG(P,u))))},[a,u])}}}),EG,Zce,efe,sUe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/SheetObjectRow.tsx"(){Ei(),EG=U(xt()),oUe(),jN(),wC(),iA(),Zce=({leaf:a,layoutP:u})=>ma(()=>{const f=_L(a),m=EG.default.createElement(pF,{layoutP:u,aggregatedKeyframes:f,viewModel:a});return EG.default.createElement(ZC,{leaf:a,node:m,isCollapsed:a.isCollapsed},a.children.map(b=>wG(b,u)))},[a,u]),efe=Zce}}),vF,tfe,nfe,lUe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/SheetRow.tsx"(){Ei(),vF=U(xt()),sUe(),jN(),wC(),iA(),tfe=({leaf:a,layoutP:u})=>ma(()=>{const f=_L(a),m=vF.default.createElement(pF,{layoutP:u,aggregatedKeyframes:f,viewModel:a});return vF.default.createElement(ZC,{leaf:a,node:m,isCollapsed:a.isCollapsed},a.children.map(b=>vF.default.createElement(efe,{layoutP:u,key:"sheetObject-"+b.sheetObject.address.objectKey,leaf:b})))},[a,u]),nfe=tfe}}),eI,$w,gF,rfe,ife,afe,ofe=w({"studio/src/panels/SequenceEditorPanel/DopeSheet/Right/Right.tsx"(){Ei(),eI=U(Ln),$w=U(xt()),Hn(),wDe(),gue(),lUe(),gF=1e6,rfe=lt.ul`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: ${gF}px;
`,ife=({layoutP:a})=>ma(()=>{const u=(0,eI.val)(a.tree),f=(0,eI.val)(a.tree.top)+Math.max((0,eI.val)(a.tree.heightIncludingChildren),(0,eI.val)(a.dopeSheetDims.height));return $w.default.createElement($w.default.Fragment,null,$w.default.createElement(j9,{layoutP:a,height:f},$w.default.createElement(Kee,{layoutP:a,height:f},$w.default.createElement(rfe,{style:{top:u.top+"px"}},$w.default.createElement(nfe,{leaf:u,layoutP:a})))))},[a]),afe=ife}});function bG(a,u,f,m){const b=`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${a}px)`,P=`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${u}) * 1px)`;f===0&&(f=1e-4);const B=`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${f})`;m===0&&(m=.001);const O=`calc(var(--graphEditorVerticalSpace) * ${m*-1})`;return`translate(${b}, ${P}) scale(${B}, ${O})`}function uUe(a,u){const{index:f,trackData:m}=u,b=m.keyframes[f],P=m.keyframes[f+1];return wp(a,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:B})=>{const{deleteKeyframes:O}=B.coreByProject.historic.sheetsById.sequence;O(R(T({},u.sheetObject.address),{trackId:u.trackId,keyframeIds:[b.id,P.id]}))})}}]})}var yF,sfe,lfe,ufe,CG=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/Curve.tsx"(){Aw(),Te(),Ep(),Po(),yF=U(xt()),Hn(),sfe=lt.path`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`,lfe=a=>{const{index:u,trackData:f}=a,m=f.keyframes[u],b=f.keyframes[u+1],P=b.position-m.position,[B,O]=oo(null),[q]=uUe(O,a),K=a.isScalar?UL(m.value,a.propConfig):0,J=a.isScalar?UL(b.value,a.propConfig):1,te=a.extremumSpace.fromValueSpace(K),re=a.extremumSpace.fromValueSpace(J)-te,ue=bG(m.position,te,P,re),pe=m.handles[2],me=m.handles[3],De=b.handles[0],Re=b.handles[1],He=`M 0 0 C ${pe} ${me} ${De} ${Re} 1 1`;return yF.default.createElement(yF.default.Fragment,null,yF.default.createElement(sfe,{ref:B,d:He,style:{transform:ue}}),q)},ufe=lfe}});function cUe(a,u){const f=(0,Qw.useRef)(u);f.current=u;const m=(0,Qw.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let b;const P=f.current,B=(0,tI.val)(P.layoutP.scaledSpace.toUnitSpace),O=(0,tI.val)(P.layoutP.graphEditorVerticalSpace.toExtremumSpace),q=P.extremumSpace.lock();return{onDrag(K,J){b&&(b.discard(),b=void 0);const{index:te,trackData:ne}=P,re=ne.keyframes[te],ue=ne.keyframes[te+1];let me=B(K)/(ue.position-re.position);const De=-J,Re=O(De),He=P.extremumSpace.deltaToValueSpace(Re),Oe=u.isScalar?re.value:0,Fe=u.isScalar?ue.value:1,Qe=He/(Fe-Oe);if(P.which==="left"){const gt=tl(re.handles[2]+me,0,1),Wt=re.handles[3]+Qe;b=Z().tempTransaction(({stateEditors:Tt})=>{Tt.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},P.sheetObject.address),{snappingFunction:(0,tI.val)(P.layoutP.sheet).getSequence().closestGridPosition,trackId:P.trackId,keyframes:[R(T({},re),{handles:[re.handles[0],re.handles[1],gt,Wt]})]}))})}else{const gt=tl(ue.handles[0]+me,0,1),Wt=ue.handles[1]+Qe;b=Z().tempTransaction(({stateEditors:Tt})=>{Tt.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},P.sheetObject.address),{trackId:P.trackId,snappingFunction:(0,tI.val)(P.layoutP.sheet).getSequence().closestGridPosition,keyframes:[R(T({},ue),{handles:[gt,Wt,ue.handles[2],ue.handles[3]]})]}))})}},onDragEnd(K){q(),K?b&&b.commit():b&&b.discard()}}}}),[]);xu(a,m)}function fUe(a,u){return wp(a,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:f})=>{f.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},u.sheetObject.address),{keyframeIds:[u.keyframe.id],trackId:u.trackId}))})}}]})}var tI,Qw,AG,cfe,ffe,dfe,TG,dUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/CurveHandle.tsx"(){Te(),Ep(),$c(),Po(),tI=U(Ln),wf(),Qw=U(xt()),Hn(),CG(),Uo(),AG=lt.circle`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`,cfe=lt.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  ${Ro};
  &:hover {
  }
  &:hover + ${AG} {
    r: 6px;
  }
`,ffe=lt.path`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`,dfe=a=>{const[u,f]=oo(null),{index:m,trackData:b}=a,P=b.keyframes[m],B=b.keyframes[m+1],[O]=fUe(f,a);cUe(f,a);const q=a.which==="left"?P.handles[2]:B.handles[0],K=P.position+(B.position-P.position)*q,J=a.which==="left"?P.handles[3]:B.handles[1],te=a.isScalar?P.value:0,ne=a.isScalar?B.value:1,re=te+(ne-te)*J,ue=a.extremumSpace.fromValueSpace(re),pe=ue-a.extremumSpace.fromValueSpace(a.which==="left"?te:ne),me=bG(a.which==="left"?P.position:B.position,a.extremumSpace.fromValueSpace(a.which==="left"?te:ne),K-(a.which==="left"?P.position:B.position),pe);return Qw.default.createElement("g",null,Qw.default.createElement(cfe,{ref:u,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${K} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${ue}) * 1px)`}}),Qw.default.createElement(AG,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${K} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${ue}) * 1px)`}}),Qw.default.createElement(ffe,{d:"M 0 0 L 1 1",style:{transform:me}}),O)},TG=dfe}});function hUe(a){const[u,f]=(0,SS.useState)(!1);S_(u,a.props.keyframe.position);const m=(0,SS.useRef)(a.props);m.current=a.props;const b=(0,SS.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(P){f(!0);const B=!!P.altKey,O=m.current,q=(0,_F.val)(O.layoutP.scaledSpace.toUnitSpace),K=(0,_F.val)(O.layoutP.graphEditorVerticalSpace.toExtremumSpace),J=O.extremumSpace.lock();let te;return{onDrag(ne,re){const ue=O.trackData.keyframes[O.index],pe=q(ne),me=-re,De=K(me),Re=O.extremumSpace.deltaToValueSpace(De),He=[],Oe=R(T({},ue),{position:ue.position+pe,value:ue.value+Re,handles:[...ue.handles]});if(He.push(Oe),B){const Fe=O.trackData.keyframes[O.index-1];if(Fe&&Math.abs(ue.value-Fe.value)>0){const gt=R(T({},Fe),{handles:[...Fe.handles]});He.push(gt),gt.handles[3]=mUe(Fe.handles[3],Fe.value,Fe.value,ue.value,Oe.value)}const Qe=O.trackData.keyframes[O.index+1];if(Qe&&Math.abs(ue.value-Qe.value)>0){const gt=R(T({},Qe),{handles:[...Qe.handles]});He.push(gt),gt.handles[1]=vUe(gt.handles[1],gt.value,gt.value,ue.value,Oe.value)}}te==null||te.discard(),te=Z().tempTransaction(({stateEditors:Fe})=>{Fe.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},O.sheetObject.address),{trackId:O.trackId,keyframes:He,snappingFunction:(0,_F.val)(O.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(ne){f(!1),J(),ne?te==null||te.commit():(te==null||te.discard(),a.onDetectedClick(P))}}}}),[]);return xu(a.node,b),Nv(u,"draggingPositionInSequenceEditor","move"),u}function pUe(a,u){return wp(a,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:f})=>{f.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},u.sheetObject.address),{keyframeIds:[u.keyframe.id],trackId:u.trackId}))})}}]})}function mUe(a,u,f,m,b){return(m-u)*a/(b-f)}function vUe(a,u,f,m,b){return((u-m)*a+m-u+f-b)/(f-b)}var _F,SS,MG,hfe,pfe,mfe,gUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorDotScalar.tsx"(){Te(),Ep(),$c(),Po(),_F=U(Ln),SS=U(xt()),Hn(),Ud(),Ud(),Uo(),Ym(),Lg(),sF(),g_(),MG=lt.circle`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`,hfe=lt.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  ${Ro};

  &:hover + ${MG} {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${p_});
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`,pfe=a=>{const[u,f]=oo(null),{index:m,trackData:b}=a,P=b.keyframes[m],[B]=pUe(f,a),O=Tw(a.itemKey),q=P.value,K=a.extremumSpace.fromValueSpace(q),J=aF([{type:"primitiveProp",keyframe:a.keyframe,pathToProp:a.pathToProp,propConfig:a.propConfig,sheetObject:a.sheetObject,trackId:a.trackId}]),te=hUe({node:f,props:a,onDetectedClick:ne=>J.toggle(ne,ne.target instanceof Element?ne.target:f)});return SS.default.createElement(SS.default.Fragment,null,SS.default.createElement(hfe,R(T(T(T({ref:u,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${P.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${K}) * 1px)`}},W0(P.position)),Sp.includePositionSnapAttrs(P.position)),O.attrs),{className:te?"beingDragged":""})),SS.default.createElement(MG,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${P.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${K}) * 1px)`,fill:O.flag===zv.Primary?"white":void 0}}),J.node,B)},mfe=pfe}});function yUe(a){const[u,f]=(0,xS.useState)(!1);S_(u,a.props.keyframe.position);const m=(0,xS.useRef)(a.props);m.current=a.props;const b=(0,xS.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(P){f(!0);const B=m.current,O=(0,PG.val)(B.layoutP.scaledSpace.toUnitSpace),q=B.extremumSpace.lock();let K;return{onDrag(J,te){const ne=B.trackData.keyframes[B.index],re=O(J),ue=[],pe=R(T({},ne),{position:ne.position+re,value:ne.value,handles:[...ne.handles]});ue.push(pe),K==null||K.discard(),K=Z().tempTransaction(({stateEditors:me})=>{me.coreByProject.historic.sheetsById.sequence.replaceKeyframes(R(T({},B.sheetObject.address),{trackId:B.trackId,keyframes:ue,snappingFunction:(0,PG.val)(B.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(J){f(!1),q(),J?K==null||K.commit():(K==null||K.discard(),a.onDetectedClick(P))}}}}),[]);return xu(a.node,b),Nv(u,"draggingPositionInSequenceEditor","ew-resize"),u}function _Ue(a,u){return wp(a,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:f})=>{f.coreByProject.historic.sheetsById.sequence.deleteKeyframes(R(T({},u.sheetObject.address),{keyframeIds:[u.keyframe.id],trackId:u.trackId}))})}}]})}var PG,xS,RG,vfe,gfe,IG,SUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorDotNonScalar.tsx"(){Te(),Ep(),$c(),Po(),PG=U(Ln),xS=U(xt()),Hn(),Ud(),Ud(),Uo(),Ym(),Lg(),sF(),g_(),RG=lt.circle`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`,vfe=lt.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  ${Ro};

  &:hover + ${RG} {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${p_});
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`,gfe=a=>{const[u,f]=oo(null),{index:m,trackData:b,itemKey:P}=a,B=b.keyframes[m],[O]=_Ue(f,a),q=Tw(P),K=a.which==="left"?0:1,J=aF([{type:"primitiveProp",keyframe:a.keyframe,pathToProp:a.pathToProp,propConfig:a.propConfig,sheetObject:a.sheetObject,trackId:a.trackId}]),te=yUe({node:f,props:a,onDetectedClick:re=>J.toggle(re,re.target instanceof Element?re.target:f)}),ne=a.extremumSpace.fromValueSpace(K);return xS.default.createElement(xS.default.Fragment,null,xS.default.createElement(vfe,R(T(T(T({ref:u,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${B.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${ne}) * 1px)`}},q.attrs),W0(B.position)),Sp.includePositionSnapAttrs(B.position)),{className:te?"beingDragged":""})),xS.default.createElement(RG,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${B.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${ne}) * 1px)`,fill:q.flag===zv.Primary?"white":void 0}}),J.node,O)},IG=gfe}}),SF,yfe,_fe,Sfe,xUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/GraphEditorNonScalarDash.tsx"(){SF=U(xt()),Hn(),CG(),yfe=lt.path`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`,_fe=a=>{const{index:u,trackData:f}=a,m="M 0 0 L 1 1",b=bG(f.keyframes[u].position,a.extremumSpace.fromValueSpace(0),0,a.extremumSpace.fromValueSpace(1)-a.extremumSpace.fromValueSpace(0));return SF.default.createElement(SF.default.Fragment,null,SF.default.createElement(yfe,{d:m,style:{transform:b}}))},Sfe=_fe}}),Ap,xfe,wfe,Efe,bfe,wUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/KeyframeEditor/KeyframeEditor.tsx"(){Ap=U(xt()),Hn(),CG(),dUe(),gUe(),SUe(),xUe(),xfe=lt.g`
  /* position: absolute; */
`,wfe=Ap.default.createElement(Ap.default.Fragment,null),Efe=a=>{const{index:u,trackData:f,isScalar:m}=a,b=f.keyframes[u],P=f.keyframes[u+1],O=b.connectedRight&&!!P&&P.value!==b.value;return Ap.default.createElement(xfe,null,O?Ap.default.createElement(Ap.default.Fragment,null,Ap.default.createElement(ufe,T({},a)),Ap.default.createElement(TG,R(T({},a),{which:"left"})),Ap.default.createElement(TG,R(T({},a),{which:"right"}))):wfe,m?Ap.default.createElement(mfe,T({},a)):Ap.default.createElement(Ap.default.Fragment,null,Ap.default.createElement(IG,R(T({},a),{which:"left"})),Ap.default.createElement(IG,R(T({},a),{which:"right"})),Ap.default.createElement(Sfe,T({},a))))},bfe=Efe}});function EUe(a,u){let f=1/0,m=-1/0;function b(P){f=Math.min(P,f),m=Math.max(P,m)}return a.forEach((P,B)=>{const O=UL(P.value,u);if(b(O),!P.connectedRight)return;const q=a[B+1];if(!q)return;const K=(typeof q.value=="number"?q.value:1)-O;b(O+P.handles[3]*K),b(O+q.handles[1]*K)}),[f,m]}function bUe(a){let u=0,f=1;function m(b){u=Math.min(b,u),f=Math.max(b,f)}return a.forEach((b,P)=>{if(!b.connectedRight)return;const B=a[P+1];B&&(m(b.handles[3]),m(B.handles[1]))}),[u,f]}var ty,Cfe,Afe,CUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/BasicKeyframedTrack/BasicKeyframedTrack.tsx"(){l_(),ty=U(xt()),wF(),wUe(),Aw(),Ei(),Cfe=ty.default.memo(({layoutP:a,trackData:u,sheetObject:f,trackId:m,color:b,pathToProp:P})=>{const B=FL(ka(f.template.configPointer),P);if(v_(B))return console.error("Composite prop types cannot be keyframed"),ty.default.createElement(ty.default.Fragment,null);const[O,q]=(0,ty.useState)(!1),K=(0,ty.useMemo)(()=>{const re=new Set;return function(){const pe=re.size===0;re.add(me),pe&&q(!0);function me(){const De=re.size>0;re.delete(me),De&&re.size===0&&q(!1)}return me}},[]),J=(0,ty.useMemo)(()=>{const re=B.type==="number"?EUe(u.keyframes,B):bUe(u.keyframes),ue=De=>(De-re[0])/(re[1]-re[0]),pe=De=>re[0]+me(De),me=De=>De*(re[1]-re[0]);return{fromValueSpace:ue,toValueSpace:pe,deltaToValueSpace:me,lock:K}},[u.keyframes]),te=(0,ty.useRef)(void 0);O||(te.current=J);const ne=u.keyframes.map((re,ue)=>ty.default.createElement(bfe,{pathToProp:P,propConfig:B,itemKey:Ef.forTrackKeyframe(f,m,re.id),keyframe:re,index:ue,trackData:u,layoutP:a,sheetObject:f,trackId:m,isScalar:B.type==="number",key:re.id,extremumSpace:te.current,color:b}));return ty.default.createElement("g",{style:{"--main-color":nI[b].iconColor}},ne)}),Afe=Cfe}}),Tfe,xF,Mfe,Pfe,AUe=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/PrimitivePropGraph.tsx"(){Te(),Ei(),Tfe=U(Ln),xF=U(xt()),CUe(),Mfe=a=>ma(()=>{const{sheetObject:u,trackId:f}=a,m=(0,Tfe.val)(Z().atomP.historic.coreByProject[u.address.projectId].sheetsById[u.address.sheetId].sequence.tracksByObject[u.address.objectKey].trackData[f]);return(m==null?void 0:m.type)!=="BasicKeyframedTrack"?(console.error(`trackData type ${m==null?void 0:m.type} is not yet supported on the graph editor`),xF.default.createElement(xF.default.Fragment,null)):xF.default.createElement(Afe,R(T({},a),{trackData:m}))},[a.trackId,a.layoutP]),Pfe=Mfe}}),ny,Jw,nI,Rfe,Ife,kfe,Dfe,wF=w({"studio/src/panels/SequenceEditorPanel/GraphEditor/GraphEditor.tsx"(){Te(),It(),rL(),Ei(),ny=U(Ln),Jw=U(xt()),Hn(),ofe(),gue(),AUe(),fre(),Uv(),nI={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},Rfe=lt.div`
  position: absolute;
  right: 0;
  bottom: 0;
  background: ${sS(.03,"#1a1c1e")};
`,Ife=lt.svg`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`,kfe=({layoutP:a})=>ma(()=>{const u=(0,ny.val)(a.sheet),f=(0,ny.val)(Z().atomP.historic.projects.stateByProjectId[u.address.projectId].stateBySheetId[u.address.sheetId].sequenceEditor.selectedPropsByObject),m=(0,ny.val)(a.graphEditorDims.height),b=(0,ny.val)(a.scaledSpace.fromUnitSpace)(1),P=[];if(f)for(const[O,q]of Object.entries(f)){const K=u.getObject(O);if(!K)continue;const J=(0,ny.val)(K.template.getMapOfValidSequenceTracks_forStudio());for(const[te,ne]of Object.entries(q)){const re=rt(te),ue=yw(J,re);ue&&P.push(Jw.default.createElement(Pfe,{key:`graph-${O}-${te}`,sheetObject:K,pathToProp:re,layoutP:a,trackId:ue,color:ne}))}}const B=(0,ny.val)(a.rightDims.width);return Jw.default.createElement(Rfe,{style:{width:B+"px",height:m+"px","--unitSpaceToScaledSpaceMultiplier":b,"--graphEditorVerticalSpace":`${(0,ny.val)(a.graphEditorVerticalSpace.space)}`}},Jw.default.createElement(c8,{layoutP:a,width:B,height:m}),Jw.default.createElement(j9,{layoutP:a,height:m},Jw.default.createElement(Ife,{width:gF,height:m,viewBox:`0 0 ${gF} ${m}`},Jw.default.createElement("g",{style:{transform:`translate(${(0,ny.val)(a.scaledSpace.leftPadding)}px, ${(0,ny.val)(a.graphEditorDims.padding.top)}px)`}},P))))},[a]),Dfe=kfe}});function Ofe(a,u){return a.length<=u?a:a.substr(0,u-3)+"..."}var TUe=w({"shared/src/utils/ellipsify.ts"(){}}),Bfe,kG,Lfe=w({"shared/src/utils/userReadableTypeOfValue.ts"(){TUe(),Bfe=a=>typeof a=="string"?`string("${Ofe(a,10)}")`:typeof a=="number"?`number(${Ofe(String(a),10)})`:a===null?"null":a===void 0?"undefined":typeof a=="boolean"?String(a):Array.isArray(a)?"array":typeof a=="object"?"object":"unknown",kG=Bfe}}),ry,Nfe,Ffe,Ufe,zfe,Hfe,jfe,Gfe,Vfe,Wfe,rI,EF=w({"studio/src/panels/OutlinePanel/BaseItem.tsx"(){ry=U(xt()),Hn(),Uo(),h9(),Nfe=lt.li`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`,Ffe=lt.div``,Ufe=lt(Ffe)`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  ${Ro};
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  // Hit zone
  &:before {
    position: absolute;
    inset: -1px 0;
    display: block;
    content: ' ';
    z-index: 5;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,zfe=c_`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`,Hfe=lt.span`
  ${zfe};

  ${Ro};
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`,jfe=lt.div`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`,Gfe=lt.span`
  font-size: 9px;
  position: relative;
  display: block;
`,Vfe=lt.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,Wfe=({label:a,children:u,depth:f,select:m,selectionStatus:b,labelDecoration:P})=>{const B=u!==void 0;return ry.default.createElement(Nfe,{style:{"--depth":f}},ry.default.createElement(Ufe,{className:b,onClick:m},ry.default.createElement(jfe,null,B?ry.default.createElement(Gfe,{isOpen:!0},ry.default.createElement(Woe,null)):ry.default.createElement(Xoe,null)),ry.default.createElement(Hfe,null,ry.default.createElement("span",null,a)),P),B&&ry.default.createElement(Vfe,null,u))},rI=Wfe}}),Kfe,qfe,MUe=w({"studio/src/panels/OutlinePanel/ObjectsList/ObjectItem.tsx"(){Te(),Kfe=U(xt()),EF(),Ei(),oS(),qfe=({sheetObject:a,depth:u,overrideLabel:f})=>{const m=()=>{Z().transaction(({stateEditors:P})=>{P.studio.historic.panels.outline.selection.set([a])})},b=ma(()=>aS(),[]);return Kfe.default.createElement(rI,{select:m,label:f??a.address.objectKey,depth:u,selectionStatus:b.includes(a)?"selected":"not-selected"})}}});function PUe(a){let u=DG.get(a);return u||(u=a.address.objectKey.split(Xfe),console.assert(u.length>0,"expected not empty"),DG.set(a,u)),u}var Xfe,DG,RUe=w({"studio/src/panels/OutlinePanel/ObjectsList/getObjectNamespacePath.tsx"(){Xfe=/\s*\/\s*/g,DG=new WeakMap}});function IUe(a,u){Yfe(a,PUe(u),u)}function Yfe(a,u,f){console.assert(u.length>0,"expecting path to not be empty");const[m,...b]=u;let P=a.get(m);P||(P={nested:void 0,object:void 0},a.set(m,P)),b.length===0?(console.assert(!P.object,"expect not to have existing object with same name",{existing:P,object:f}),P.object=f):(P.nested||(P.nested=new Map),Yfe(P.nested,b,f))}var kUe=w({"studio/src/panels/OutlinePanel/ObjectsList/NamespacedObjects.tsx"(){RUe()}});function $fe(a){return L_.default.createElement(L_.default.Fragment,null,[...a.namespace.entries()].map(([u,{object:f,nested:m}])=>{const b=m&&L_.default.createElement($fe,{namespace:m,key:"namespaceTree("+u+")",visualIndentation:a.visualIndentation+1}),P=f&&L_.default.createElement(qfe,{depth:a.visualIndentation,key:"objectPath("+f.address.objectKey+")",sheetObject:f,overrideLabel:u});return L_.default.createElement(L_.default.Fragment,{key:`${u} - ${a.visualIndentation}`},P,b&&L_.default.createElement(rI,{selectionStatus:"not-selectable",label:u,key:`baseItem(${u})`,depth:a.visualIndentation,children:b}))}))}var Qfe,L_,Jfe,Zfe,DUe=w({"studio/src/panels/OutlinePanel/ObjectsList/ObjectsList.tsx"(){Ei(),Qfe=U(Ln),L_=U(xt()),Hn(),MUe(),EF(),kUe(),lt.li`
  color: ${a=>a.isSelected?"white":"hsl(1, 1%, 80%)"};
`,Jfe=({sheet:a,depth:u})=>ma(()=>{const f=(0,Qfe.val)(a.objectsP),m=Object.values(f).filter(P=>P!=null),b=new Map;return m.forEach(P=>{IUe(b,P)}),L_.default.createElement($fe,{namespace:b,visualIndentation:u})},[a,u]),Zfe=Jfe}}),oA,ede,tde,nde,OUe=w({"studio/src/panels/OutlinePanel/SheetsList/SheetInstanceItem.tsx"(){Te(),oS(),Ei(),oA=U(xt()),Hn(),DUe(),EF(),ede=lt.div`
  display: flex;
`,lt.li`
  color: ${a=>a.isSelected?"white":"hsl(1, 1%, 80%)"};
`,tde=lt.div``,nde=({sheet:a,depth:u})=>{const f=(0,oA.useCallback)(()=>{Z().transaction(({stateEditors:m})=>{m.studio.historic.panels.outline.selection.set([a])})},[a]);return ma(()=>{const m=aS();return oA.default.createElement(rI,{depth:u,select:f,selectionStatus:m.some(b=>b===a)?"selected":m.some(b=>b.type==="Theatre_SheetObject"&&b.sheet===a)?"descendant-is-selected":"not-selected",label:oA.default.createElement(ede,null,a.address.sheetId,": ",a.address.sheetInstanceId)},oA.default.createElement(tde,null,oA.default.createElement(Zfe,{depth:u+1,sheet:a,key:"objectList"+a.address.sheetInstanceId})))},[u])}}}),OG,sA,rde,BUe=w({"studio/src/panels/OutlinePanel/SheetsList/SheetItem.tsx"(){Ei(),OG=U(Ln),sA=U(xt()),Hn(),OUe(),lt.div`
  display: flex;
`,lt.li`
  color: ${a=>a.isSelected?"white":"hsl(1, 1%, 80%)"};
`,lt.div``,rde=({sheetId:a,depth:u,project:f})=>ma(()=>{const m=(0,OG.val)(f.sheetTemplatesP[a]);if(!m)return sA.default.createElement(sA.default.Fragment,null);const b=(0,OG.val)(m.instancesP);return sA.default.createElement(sA.default.Fragment,null,Object.entries(b).map(([P,B])=>sA.default.createElement(nde,{key:B.address.sheetInstanceId,sheet:B,depth:u})))},[u,a,f])}}),bF,ide,ade,LUe=w({"studio/src/panels/OutlinePanel/SheetsList/SheetsList.tsx"(){oS(),Ei(),bF=U(xt()),BUe(),ide=({project:a,depth:u})=>ma(()=>{if(!a)return null;const f=bDe(a);return bF.default.createElement(bF.default.Fragment,null,f.map(m=>bF.default.createElement(rde,{depth:u,sheetId:m,key:`sheet-${m}`,project:a})))},[a,u]),ade=ide}}),iI,ode,sde,lde,ude,NUe=w({"studio/src/panels/OutlinePanel/ProjectsList/ProjectListItem.tsx"(){iI=U(xt()),EF(),LUe(),Te(),Ei(),oS(),ode=U(Ln),Hn(),sde=lt.div`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`,lde=({depth:a,project:u})=>{const f=ma(()=>aS(),[]),m=ma(()=>{const P=u.address.projectId,B=(0,ode.val)(Z().atomP.ephemeral.coreByProject[P].loadingState);return(B==null?void 0:B.type)==="browserStateIsNotBasedOnDiskState"},[u]),b=(0,iI.useCallback)(()=>{Z().transaction(({stateEditors:P})=>{P.studio.historic.panels.outline.selection.set([u])})},[u]);return iI.default.createElement(rI,{depth:a,label:u.address.projectId,labelDecoration:m?iI.default.createElement(sde,null,"Has Conflicts"):null,children:iI.default.createElement(ade,{project:u,depth:a+1}),selectionStatus:f.includes(u)?"selected":f.some(P=>P.address.projectId===u.address.projectId)?"descendant-is-selected":"not-selected",select:b})},ude=lde}}),cde,BG,fde,dde,hde,FUe=w({"studio/src/panels/OutlinePanel/ProjectsList/ProjectsList.tsx"(){cde=U(Ln),Ei(),Te(),BG=U(xt()),Hn(),NUe(),fde=lt.ul`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`,dde=a=>ma(()=>{const u=(0,cde.val)(Z().projectsP);return BG.default.createElement(fde,null,Object.keys(u).map(f=>{const m=u[f];return BG.default.createElement(ude,{depth:0,project:m,key:`projectListItem-${f}`})}))},[]),hde=dde}}),aI,lA,LG,pde,mde,vde,CF,oI,gde,UUe=w({"studio/src/panels/OutlinePanel/OutlinePanel.tsx"(){aI=U(xt()),Hn(),y_(),FUe(),Ei(),Te(),Voe(),lA=U(Ln),Uo(),LG="44px",pde=lt.div`
  ${Ro};
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: ${zC.outlinePanel};

  top: calc(${LG} + 8px);
  height: fit-content;
  max-height: calc(100% - ${LG});
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: ${({pin:a})=>a?"block":"none"};

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`,mde=()=>{var a;const u=(a=ka(Z().atomP.ahistoric.pinOutline))!=null?a:!0,f=ka(gde),m=Goe("left");return(0,aI.useLayoutEffect)(()=>{CF.set(m)},[m]),(0,aI.useEffect)(()=>()=>{oI.set(!1),CF.set(!1)},[]),aI.default.createElement(pde,{pin:u||f,onMouseEnter:()=>{oI.set(!0)},onMouseLeave:()=>{oI.set(!1)}},aI.default.createElement(hde,null))},vde=mde,CF=new lA.Box(!1),oI=new lA.Box(!1),gde=(0,lA.prism)(()=>{const a=(0,lA.val)(oI.derivation),u=(0,lA.val)(CF.derivation);return a||u})}}),zUe=L({"../node_modules/react-error-boundary/dist/react-error-boundary.umd.js"(a,u){(function(f,m){typeof a=="object"&&typeof u<"u"?m(a,xt()):(f=typeof globalThis<"u"?globalThis:f||self,m(f.ReactErrorBoundary={},f.React))})(a,function(f,m){function b(re){if(re&&re.__esModule)return re;var ue=Object.create(null);return re&&Object.keys(re).forEach(function(pe){if(pe!=="default"){var me=Object.getOwnPropertyDescriptor(re,pe);Object.defineProperty(ue,pe,me.get?me:{enumerable:!0,get:function(){return re[pe]}})}}),ue.default=re,Object.freeze(ue)}var P=b(m);function B(re,ue){return B=Object.setPrototypeOf||function(me,De){return me.__proto__=De,me},B(re,ue)}function O(re,ue){re.prototype=Object.create(ue.prototype),re.prototype.constructor=re,B(re,ue)}var q=function(ue,pe){return ue===void 0&&(ue=[]),pe===void 0&&(pe=[]),ue.length!==pe.length||ue.some(function(me,De){return!Object.is(me,pe[De])})},K={error:null},J=function(re){O(ue,re);function ue(){for(var me,De=arguments.length,Re=new Array(De),He=0;He<De;He++)Re[He]=arguments[He];return me=re.call.apply(re,[this].concat(Re))||this,me.state=K,me.updatedWithError=!1,me.resetErrorBoundary=function(){for(var Oe,Fe=arguments.length,Qe=new Array(Fe),gt=0;gt<Fe;gt++)Qe[gt]=arguments[gt];me.props.onReset==null||(Oe=me.props).onReset.apply(Oe,Qe),me.reset()},me}ue.getDerivedStateFromError=function(De){return{error:De}};var pe=ue.prototype;return pe.reset=function(){this.updatedWithError=!1,this.setState(K)},pe.componentDidCatch=function(De,Re){var He,Oe;(He=(Oe=this.props).onError)==null||He.call(Oe,De,Re)},pe.componentDidMount=function(){var De=this.state.error;De!==null&&(this.updatedWithError=!0)},pe.componentDidUpdate=function(De){var Re=this.state.error,He=this.props.resetKeys;if(Re!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(Re!==null&&q(De.resetKeys,He)){var Oe,Fe;(Oe=(Fe=this.props).onResetKeysChange)==null||Oe.call(Fe,De.resetKeys,He),this.reset()}},pe.render=function(){var De=this.state.error,Re=this.props,He=Re.fallbackRender,Oe=Re.FallbackComponent,Fe=Re.fallback;if(De!==null){var Qe={error:De,resetErrorBoundary:this.resetErrorBoundary};if(P.isValidElement(Fe))return Fe;if(typeof He=="function")return He(Qe);if(Oe)return P.createElement(Oe,Qe);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ue}(P.Component);function te(re,ue){var pe=function(Re){return P.createElement(J,ue,P.createElement(re,Re))},me=re.displayName||re.name||"Unknown";return pe.displayName="withErrorBoundary("+me+")",pe}function ne(re){var ue=P.useState(null),pe=ue[0],me=ue[1];if(re!=null)throw re;if(pe!=null)throw pe;return me}f.ErrorBoundary=J,f.useErrorHandler=ne,f.withErrorBoundary=te,Object.defineProperty(f,"__esModule",{value:!0})})}}),Hd,yde,_de,Sde,xde,wde,Ede,bde,Cde,Ade,Tde,Mde,Pde,Rde,HUe=w({"studio/src/panels/BasePanel/ExtensionPaneWrapper.tsx"(){Hd=U(xt()),Hn(),y_(),jC(),Ole(),Yle(),yde=U(zUe()),pR(),Te(),y_(),_de={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},Sde={width:300,height:300},xde=({paneInstance:a})=>Hd.default.createElement(_8,{panelId:`pane-${a.instanceId}`,defaultPosition:_de,minDims:Sde},Hd.default.createElement(Pde,{paneInstance:a})),wde=lt(U9)`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: ${zC.pluginPanes};
`,Ede=lt.div`
  width: 100%;
`,bde=lt.div`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`,Cde=lt.button`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`,Ade=lt(_re)`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`,Tde=lt.div`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`,Mde=a=>Hd.default.createElement(Tde,null,"An Error occured rendering this pane. Open the console for more info.",Hd.default.createElement("pre",null,JSON.stringify({message:a.error.message,stack:a.error.stack},null,2))),Pde=({paneInstance:a})=>{const[u,f]=(0,Hd.useState)(null),m=a.definition.mount;(0,Hd.useLayoutEffect)(()=>{if(!u)return;const P=m({paneId:a.instanceId,node:u});if(typeof P=="function")return P},[u,m,a.instanceId]);const b=(0,Hd.useCallback)(()=>{Z().paneManager.destroyPane(a.instanceId)},[a]);return Hd.default.createElement(wde,null,Hd.default.createElement(D9,null,Hd.default.createElement(h8,null,Hd.default.createElement(bde,null,Hd.default.createElement(Cde,{onClick:b,title:"Close Pane"},Hd.default.createElement(nBe,null))),Hd.default.createElement(Ede,null,a.instanceId))),Hd.default.createElement(yde.ErrorBoundary,{FallbackComponent:Mde},Hd.default.createElement(Ade,{ref:f})))},Rde=xde}}),Zw,Ide,kde,jUe=w({"studio/src/UIRoot/PanelsRoot.tsx"(){UUe(),g9(),Zw=U(xt()),Te(),Ei(),HUe(),D_(),Ide=()=>{const a=ka(Z().paneManager.allPanesD),u=Object.entries(a).map(([f,m])=>Zw.default.createElement(Rde,{key:`pane-${f}`,paneInstance:m}));return Zw.default.createElement(Zw.default.Fragment,null,u,Zw.default.createElement(vde,null),Zw.default.createElement(rse,null),Zw.default.createElement(lue,null))},kde=Ide}}),Dde,Ode,GUe=w({"studio/src/uiComponents/Popover/ErrorTooltip.tsx"(){Hn(),EN(),Dde=lt(YC)`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`,Ode=Dde}}),VUe=L({"../node_modules/levenshtein-edit-distance/index.js"(a,u){var f,m;f=[],m=[];function b(P,B,O){var q,K,J,te,ne,re,ue,pe;if(P===B)return 0;if(q=P.length,K=B.length,q===0)return K;if(K===0)return q;for(O&&(P=P.toLowerCase(),B=B.toLowerCase()),ue=0;ue<q;)m[ue]=P.charCodeAt(ue),f[ue]=++ue;for(pe=0;pe<K;)for(J=B.charCodeAt(pe),te=ne=pe++,ue=-1;++ue<q;)re=J===m[ue]?ne:ne+1,ne=f[ue],f[ue]=te=ne>te?re>te?te+1:re:re>ne?ne+1:re;return te}u.exports=b}}),WUe=L({"../node_modules/propose/propose.js"(a,u){var f=VUe();function m(){var b,P,B,O,q,K=0,J=arguments[0],te=arguments[1],ne=te.length,re=arguments[2];re&&(O=re.threshold,q=re.ignoreCase),O===void 0&&(O=0);for(var ue=0;ue<ne;++ue)q?P=f(J,te[ue],!0):P=f(J,te[ue]),P>J.length?b=1-P/te[ue].length:b=1-P/J.length,b>K&&(K=b,B=te[ue]);return K>=O?B:null}u.exports=m}});function KUe(a,u,f="Did you mean ",m="?"){const b=(0,Bde.default)(a,u,{threshold:.7});return b?f+JSON.stringify(b)+m:""}var Bde,qUe=w({"shared/src/utils/didYouMean.ts"(){Bde=U(WUe())}}),Lde,NG,Nde=w({"studio/src/uiComponents/Popover/MinimalTooltip.tsx"(){Hn(),EN(),Lde=lt(YC)`
  padding: 6px;
`,NG=Lde}}),Fde,FG,Ude=w({"studio/src/uiComponents/toolbar/ToolbarSwitchSelectContainer.ts"(){Hn(),bw(),Fde=lt(ene)`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`,FG=Fde}}),uA,zde,Hde,sI,AF=w({"studio/src/uiComponents/toolbar/ToolbarIconButton.tsx"(){Hn(),Uo(),uA=U(xt()),DR(),rN(),Nde(),Ude(),zde=lt.button`
  ${Ro};
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  ${FG} > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,Hde=uA.default.forwardRef((a,u)=>{var f=a,{title:m}=f,b=j(f,["title"]);const[P,B]=XC({enabled:typeof m=="string"},()=>uA.default.createElement(NG,null,m));return uA.default.createElement(uA.default.Fragment,null,P,uA.default.createElement(zde,T({ref:ER([B,u])},b))," ")}),sI=Hde}}),jde,Gde,Vde,Wde,XUe=w({"studio/src/toolbars/ExtensionToolbar/tools/IconButton.tsx"(){jde=U(xt()),AF(),Hn(),Uo(),Gde=lt(sI)`
  ${Ro};
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`,Vde=({config:a})=>{var u;return jde.default.createElement(Gde,{onClick:a.onClick,title:a.title,dangerouslySetInnerHTML:{__html:(u=a.svgSource)!=null?u:""}})},Wde=Vde}});function YUe({value:a,label:u,icon:f,onClick:m,isSelected:b}){return cA.default.createElement(cA.default.Fragment,null,cA.default.createElement(sI,{forwardedAs:Qte,className:b?"selected":void 0,"aria-label":u,onClick:m,title:u},f))}var cA,Kde,qde,$Ue=w({"studio/src/uiComponents/toolbar/ToolbarSwitchSelect.tsx"(){cA=U(xt()),bw(),AF(),Ude(),Kde=({value:a,onChange:u,options:f})=>cA.default.createElement(FG,null,f.map(({label:m,icon:b,value:P})=>cA.default.createElement(YUe,{key:P,value:P,isSelected:a===P,label:m,icon:b,onClick:()=>u(P)}))),qde=Kde}}),UG,Xde,Yde,$de,QUe=w({"studio/src/toolbars/ExtensionToolbar/tools/Switch.tsx"(){UG=U(xt()),Hn(),Uo(),$Ue(),Xde=lt.div`
  ${Ro};
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`,Yde=({config:a})=>UG.default.createElement(qde,{onChange:a.onChange,options:a.options.map(({label:u,value:f,svgSource:m})=>({label:u,value:f,icon:UG.default.createElement(Xde,{dangerouslySetInnerHTML:{__html:m}})})),value:a.value}),$de=Yde}});function JUe(a){return zG[a]}var lI,Qde,zG,Jde,Zde,ZUe=w({"studio/src/toolbars/ExtensionToolbar/Toolset.tsx"(){qUe(),Lfe(),lI=U(xt()),XUe(),QUe(),Qde=a=>lI.default.createElement(lI.default.Fragment,null,a.config.map((u,f)=>lI.default.createElement(Jde,{config:u,key:f}))),zG={Icon:Wde,Switch:$de},Jde=({config:a})=>{const u=JUe(a.type);if(!u)throw new Error(`No tool with tool.type ${kG(a.type)} exists. Did you mean ${KUe(a.type,Object.keys(zG))}`);return lI.default.createElement(u,{config:a})},Zde=Qde}}),ehe,iy,the,HG,nhe,rhe,jG,ihe=w({"studio/src/toolbars/ExtensionToolbar/ExtensionToolbar.tsx"(){ehe=U(Ln),Ei(),Te(),iy=U(xt()),Hn(),ZUe(),the=lt.div`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`,HG=lt.div`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`,nhe=({extension:a,toolbarId:u})=>{const f=(0,iy.useMemo)(()=>new ehe.Box([]),[]);(0,iy.useLayoutEffect)(()=>{var b,P;const B=(P=(b=a.toolbars)==null?void 0:b[u])==null?void 0:P.call(b,f.set.bind(f),Z().publicApi);if(typeof B=="function")return B},[a,u]);const m=ka(f.derivation);return iy.default.createElement(Zde,{config:m})},rhe=({toolbarId:a,showLeftDivider:u})=>{var f;const m=[],b=ka(Z().atomP.ephemeral.extensions.byId);let P=!1;for(const[,B]of Object.entries(b))!B||!((f=B.toolbars)!=null&&f[a])||(m.push(iy.default.createElement(iy.default.Fragment,{key:"extensionToolbar-"+B.id},P?iy.default.createElement(HG,null):void 0,iy.default.createElement(nhe,{extension:B,toolbarId:a}))),P=!0);return m.length===0?null:iy.default.createElement(the,null,u?iy.default.createElement(HG,null):void 0,m)},jG=rhe}}),uI,ahe,ohe,TF,eze=w({"studio/src/toolbars/PinButton.tsx"(){Hn(),uI=U(xt()),AF(),ahe=lt(sI)`
  color: ${({pinned:a})=>a?"rgba(255, 255, 255, 0.8)":"#A8A8A9"};

  border-bottom: 1px solid
    ${({pinned:a})=>a?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"};
`,ohe=(0,uI.forwardRef)((a,u)=>{var f=a,{children:m,hint:b,pinned:P,icon:B,pinHintIcon:O,unpinHintIcon:q}=f,K=j(f,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);const[J,te]=(0,uI.useState)(!1),ne=J||b;return uI.default.createElement(ahe,R(T({},K),{pinned:P,ref:u,onMouseOver:()=>te(!0),onMouseOut:()=>te(!1)}),uI.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},ne&&!P?O:ne&&P?q:B),m)}),TF=ohe}});function tze(a){return GG.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),GG.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var GG,VG,nze=w({"studio/src/uiComponents/icons/DoubleChevronLeft.tsx"(){GG=U(xt()),VG=tze}});function rze(a){return WG.createElement("svg",T({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),WG.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var WG,KG,ize=w({"studio/src/uiComponents/icons/DoubleChevronRight.tsx"(){WG=U(xt()),KG=rze}}),Jc,she,qG,wS,lhe,uhe,che,fhe,MF,dhe,XG,YG,hhe,phe,aze=w({"studio/src/toolbars/MoreMenu/MoreMenu.tsx"(){Ei(),Te(),Jc=U(xt()),Hn(),she=lt.div`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`,qG=lt.div`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`,wS=lt(qG)`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`,lhe=lt(qG)`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`,uhe=lt.div`
  font-weight: 600;
`,che=lt.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,fhe=lt.div`
  margin-left: 2px;
`,MF=lt.div`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`,dhe=lt.div`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`,XG="0.5.1",YG=XG.match(/^[^\-]+/)[0],hhe=Jc.default.forwardRef((a,u)=>{const f=ka(Z().atomP.ahistoric.updateChecker.result.hasUpdates);return Jc.default.createElement(she,{ref:u},Jc.default.createElement(wS,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Jc.default.createElement(wS,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Jc.default.createElement(MF,null),Jc.default.createElement(wS,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Jc.default.createElement(wS,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Jc.default.createElement(wS,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Jc.default.createElement(MF,null),Jc.default.createElement(lhe,null,Jc.default.createElement(uhe,null,"Version"),Jc.default.createElement(che,null,Jc.default.createElement(fhe,null,XG," ",f===!0?"(outdated)":f===!1?"(latest)":""))),f===!0&&Jc.default.createElement(Jc.default.Fragment,null,Jc.default.createElement(MF,null),Jc.default.createElement(wS,{as:"a",href:`https://www.theatrejs.com/docs/latest/releases${encodeURIComponent(YG)}`,className:"",target:"_blank"},"Update",Jc.default.createElement(dhe,null)),Jc.default.createElement(wS,{as:"a",href:`https://www.theatrejs.com/docs/latest/releases#${encodeURIComponent(YG)}`,className:"",target:"_blank"},"What's new?")))}),phe=hhe}}),$G,PF,mhe,QG,vhe,ghe,cI,yhe,JG,_he,RF,fI,dI,ES,She,xhe,whe,fA,fm,Ehe,bhe,ZG,IF,oze=w({"../node_modules/react-hot-toast/headless/index.mjs"(){$G=U(xt()),PF=U(xt()),mhe=a=>typeof a=="function",QG=(a,u)=>mhe(a)?a(u):a,vhe=(()=>{let a=0;return()=>(++a).toString()})(),ghe=20,cI=new Map,yhe=1e3,JG=a=>{if(cI.has(a))return;let u=setTimeout(()=>{cI.delete(a),ES({type:4,toastId:a})},yhe);cI.set(a,u)},_he=a=>{let u=cI.get(a);u&&clearTimeout(u)},RF=(a,u)=>{switch(u.type){case 0:return R(T({},a),{toasts:[u.toast,...a.toasts].slice(0,ghe)});case 1:return u.toast.id&&_he(u.toast.id),R(T({},a),{toasts:a.toasts.map(P=>P.id===u.toast.id?T(T({},P),u.toast):P)});case 2:let{toast:f}=u;return a.toasts.find(P=>P.id===f.id)?RF(a,{type:1,toast:f}):RF(a,{type:0,toast:f});case 3:let{toastId:m}=u;return m?JG(m):a.toasts.forEach(P=>{JG(P.id)}),R(T({},a),{toasts:a.toasts.map(P=>P.id===m||m===void 0?R(T({},P),{visible:!1}):P)});case 4:return u.toastId===void 0?R(T({},a),{toasts:[]}):R(T({},a),{toasts:a.toasts.filter(P=>P.id!==u.toastId)});case 5:return R(T({},a),{pausedAt:u.time});case 6:let b=u.time-(a.pausedAt||0);return R(T({},a),{pausedAt:void 0,toasts:a.toasts.map(P=>R(T({},P),{pauseDuration:P.pauseDuration+b}))})}},fI=[],dI={toasts:[],pausedAt:void 0},ES=a=>{dI=RF(dI,a),fI.forEach(u=>{u(dI)})},She={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xhe=(a={})=>{let[u,f]=(0,$G.useState)(dI);(0,$G.useEffect)(()=>(fI.push(f),()=>{let b=fI.indexOf(f);b>-1&&fI.splice(b,1)}),[u]);let m=u.toasts.map(b=>{var P,B;return R(T(T(T({},a),a[b.type]),b),{duration:b.duration||((P=a[b.type])==null?void 0:P.duration)||(a==null?void 0:a.duration)||She[b.type],style:T(T(T({},a.style),(B=a[b.type])==null?void 0:B.style),b.style)})});return R(T({},u),{toasts:m})},whe=(a,u="blank",f)=>R(T({createdAt:Date.now(),visible:!0,type:u,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0},f),{id:(f==null?void 0:f.id)||vhe()}),fA=a=>(u,f)=>{let m=whe(u,a,f);return ES({type:2,toast:m}),m.id},fm=(a,u)=>fA("blank")(a,u),fm.error=fA("error"),fm.success=fA("success"),fm.loading=fA("loading"),fm.custom=fA("custom"),fm.dismiss=a=>{ES({type:3,toastId:a})},fm.remove=a=>ES({type:4,toastId:a}),fm.promise=(a,u,f)=>{let m=fm.loading(u.loading,T(T({},f),f==null?void 0:f.loading));return a.then(b=>(fm.success(QG(u.success,b),T(T({id:m},f),f==null?void 0:f.success)),b)).catch(b=>{fm.error(QG(u.error,b),T(T({id:m},f),f==null?void 0:f.error))}),a},Ehe=(a,u)=>{ES({type:1,toast:{id:a,height:u}})},bhe=()=>{ES({type:5,time:Date.now()})},ZG=a=>{let{toasts:u,pausedAt:f}=xhe(a);(0,PF.useEffect)(()=>{if(f)return;let P=Date.now(),B=u.map(O=>{if(O.duration===1/0)return;let q=(O.duration||0)+O.pauseDuration-(P-O.createdAt);if(q<0){O.visible&&fm.dismiss(O.id);return}return setTimeout(()=>fm.dismiss(O.id),q)});return()=>{B.forEach(O=>O&&clearTimeout(O))}},[u,f]);let m=(0,PF.useCallback)(()=>{f&&ES({type:6,time:Date.now()})},[f]),b=(0,PF.useCallback)((P,B)=>{let{reverseOrder:O=!1,gutter:q=8,defaultPosition:K}=B||{},J=u.filter(re=>(re.position||K)===(P.position||K)&&re.height),te=J.findIndex(re=>re.id===P.id),ne=J.filter((re,ue)=>ue<te&&re.visible).length;return J.filter(re=>re.visible).slice(...O?[ne+1]:[0,ne]).reduce((re,ue)=>re+(ue.height||0)+q,0)},[u]);return{toasts:u,handlers:{updateHeight:Ehe,startPause:bhe,endPause:m,calculateOffset:b}}},IF=fm}});function Che(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function sze(a){eE=a}function rd(a,u){if(u){if(Dhe.test(a))return a.replace(Ohe,eV)}else if(Bhe.test(a))return a.replace(Lhe,eV);return a}function Ahe(a){return a.replace(Fhe,(u,f)=>(f=f.toLowerCase(),f==="colon"?":":f.charAt(0)==="#"?f.charAt(1)==="x"?String.fromCharCode(parseInt(f.substring(2),16)):String.fromCharCode(+f.substring(1)):""))}function il(a,u){a=typeof a=="string"?a:a.source,u=u||"";const f={replace:(m,b)=>(b=b.source||b,b=b.replace(Uhe,"$1"),a=a.replace(m,b),f),getRegex:()=>new RegExp(a,u)};return f}function The(a,u,f){if(a){let m;try{m=decodeURIComponent(Ahe(f)).replace(zhe,"").toLowerCase()}catch{return null}if(m.indexOf("javascript:")===0||m.indexOf("vbscript:")===0||m.indexOf("data:")===0)return null}u&&!Hhe.test(f)&&(f=lze(u,f));try{f=encodeURI(f).replace(/%25/g,"%")}catch{return null}return f}function lze(a,u){hI[" "+a]||(jhe.test(a)?hI[" "+a]=a+"/":hI[" "+a]=kF(a,"/",!0)),a=hI[" "+a];const f=a.indexOf(":")===-1;return u.substring(0,2)==="//"?f?u:a.replace(Ghe,"$1")+u:u.charAt(0)==="/"?f?u:a.replace(Vhe,"$1")+u:a+u}function Wg(a){let u=1,f,m;for(;u<arguments.length;u++){f=arguments[u];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&(a[m]=f[m])}return a}function Mhe(a,u){const f=a.replace(/\|/g,(P,B,O)=>{let q=!1,K=B;for(;--K>=0&&O[K]==="\\";)q=!q;return q?"|":" |"}),m=f.split(/ \|/);let b=0;if(m[0].trim()||m.shift(),m.length>0&&!m[m.length-1].trim()&&m.pop(),m.length>u)m.splice(u);else for(;m.length<u;)m.push("");for(;b<m.length;b++)m[b]=m[b].trim().replace(/\\\|/g,"|");return m}function kF(a,u,f){const m=a.length;if(m===0)return"";let b=0;for(;b<m;){const P=a.charAt(m-b-1);if(P===u&&!f)b++;else if(P!==u&&f)b++;else break}return a.slice(0,m-b)}function uze(a,u){if(a.indexOf(u[1])===-1)return-1;const f=a.length;let m=0,b=0;for(;b<f;b++)if(a[b]==="\\")b++;else if(a[b]===u[0])m++;else if(a[b]===u[1]&&(m--,m<0))return b;return-1}function Phe(a){a&&a.sanitize&&!a.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Rhe(a,u){if(u<1)return"";let f="";for(;u>1;)u&1&&(f+=a),u>>=1,a+=a;return f+a}function Ihe(a,u,f,m){const b=u.href,P=u.title?rd(u.title):null,B=a[1].replace(/\\([\[\]])/g,"$1");if(a[0].charAt(0)!=="!"){m.state.inLink=!0;const O={type:"link",raw:f,href:b,title:P,text:B,tokens:m.inlineTokens(B)};return m.state.inLink=!1,O}return{type:"image",raw:f,href:b,title:P,text:rd(B)}}function cze(a,u){const f=a.match(/^(\s+)(?:```)/);if(f===null)return u;const m=f[1];return u.split(`
`).map(b=>{const P=b.match(/^\s+/);if(P===null)return b;const[B]=P;return B.length>=m.length?b.slice(m.length):b}).join(`
`)}function fze(a){return a.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function khe(a){let u="",f,m;const b=a.length;for(f=0;f<b;f++)m=a.charCodeAt(f),Math.random()>.5&&(m="x"+m.toString(16)),u+="&#"+m+";";return u}function ua(a,u,f){if(typeof a>"u"||a===null)throw new Error("marked(): input parameter is undefined or null");if(typeof a!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected");if(typeof u=="function"&&(f=u,u=null),u=Wg({},ua.defaults,u||{}),Phe(u),f){const b=u.highlight;let P;try{P=N_.lex(a,u)}catch(q){return f(q)}const B=function(q){let K;if(!q)try{u.walkTokens&&ua.walkTokens(P,u.walkTokens),K=ay.parse(P,u)}catch(J){q=J}return u.highlight=b,q?f(q):f(null,K)};if(!b||b.length<3||(delete u.highlight,!P.length))return B();let O=0;ua.walkTokens(P,function(q){q.type==="code"&&(O++,setTimeout(()=>{b(q.text,q.lang,function(K,J){if(K)return B(K);J!=null&&J!==q.text&&(q.text=J,q.escaped=!0),O--,O===0&&B()})},0))}),O===0&&B();return}function m(b){if(b.message+=`
Please report this to https://github.com/markedjs/marked.`,u.silent)return"<p>An error occurred:</p><pre>"+rd(b.message+"",!0)+"</pre>";throw b}try{const b=N_.lex(a,u);if(u.walkTokens){if(u.async)return Promise.all(ua.walkTokens(b,u.walkTokens)).then(()=>ay.parse(b,u)).catch(m);ua.walkTokens(b,u.walkTokens)}return ay.parse(b,u)}catch(b){m(b)}}var eE,Dhe,Ohe,Bhe,Lhe,Nhe,eV,Fhe,Uhe,zhe,Hhe,hI,jhe,Ghe,Vhe,pI,DF,Oi,ei,N_,OF,tV,nV,ay,dze=w({"../node_modules/marked/lib/marked.esm.js"(){eE=Che(),Dhe=/[&<>"']/,Ohe=/[&<>"']/g,Bhe=/[<>"']|&(?!#?\w+;)/,Lhe=/[<>"']|&(?!#?\w+;)/g,Nhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eV=a=>Nhe[a],Fhe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,Uhe=/(^|[^\[])\^/g,zhe=/[^\w:]/g,Hhe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,hI={},jhe=/^[^:]+:\/*[^/]*$/,Ghe=/^([^:]+:)[\s\S]*$/,Vhe=/^([^:]+:\/*[^/]*)[\s\S]*$/,pI={exec:function(){}},DF=class{constructor(a){this.options=a||eE}space(a){const u=this.rules.block.newline.exec(a);if(u&&u[0].length>0)return{type:"space",raw:u[0]}}code(a){const u=this.rules.block.code.exec(a);if(u){const f=u[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:u[0],codeBlockStyle:"indented",text:this.options.pedantic?f:kF(f,`
`)}}}fences(a){const u=this.rules.block.fences.exec(a);if(u){const f=u[0],m=cze(f,u[3]||"");return{type:"code",raw:f,lang:u[2]?u[2].trim():u[2],text:m}}}heading(a){const u=this.rules.block.heading.exec(a);if(u){let f=u[2].trim();if(/#$/.test(f)){const m=kF(f,"#");(this.options.pedantic||!m||/ $/.test(m))&&(f=m.trim())}return{type:"heading",raw:u[0],depth:u[1].length,text:f,tokens:this.lexer.inline(f)}}}hr(a){const u=this.rules.block.hr.exec(a);if(u)return{type:"hr",raw:u[0]}}blockquote(a){const u=this.rules.block.blockquote.exec(a);if(u){const f=u[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:u[0],tokens:this.lexer.blockTokens(f,[]),text:f}}}list(a){let u=this.rules.block.list.exec(a);if(u){let f,m,b,P,B,O,q,K,J,te,ne,re,ue=u[1].trim();const pe=ue.length>1,me={type:"list",raw:"",ordered:pe,start:pe?+ue.slice(0,-1):"",loose:!1,items:[]};ue=pe?`\\d{1,9}\\${ue.slice(-1)}`:`\\${ue}`,this.options.pedantic&&(ue=pe?ue:"[*+-]");const De=new RegExp(`^( {0,3}${ue})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;a&&(re=!1,!(!(u=De.exec(a))||this.rules.block.hr.test(a)));){if(f=u[0],a=a.substring(f.length),K=u[2].split(`
`,1)[0],J=a.split(`
`,1)[0],this.options.pedantic?(P=2,ne=K.trimLeft()):(P=u[2].search(/[^ ]/),P=P>4?1:P,ne=K.slice(P),P+=u[1].length),O=!1,!K&&/^ *$/.test(J)&&(f+=J+`
`,a=a.substring(J.length+1),re=!0),!re){const He=new RegExp(`^ {0,${Math.min(3,P-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),Oe=new RegExp(`^ {0,${Math.min(3,P-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Fe=new RegExp(`^ {0,${Math.min(3,P-1)}}(?:\`\`\`|~~~)`),Qe=new RegExp(`^ {0,${Math.min(3,P-1)}}#`);for(;a&&(te=a.split(`
`,1)[0],K=te,this.options.pedantic&&(K=K.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Fe.test(K)||Qe.test(K)||He.test(K)||Oe.test(a)));){if(K.search(/[^ ]/)>=P||!K.trim())ne+=`
`+K.slice(P);else if(!O)ne+=`
`+K;else break;!O&&!K.trim()&&(O=!0),f+=te+`
`,a=a.substring(te.length+1)}}me.loose||(q?me.loose=!0:/\n *\n *$/.test(f)&&(q=!0)),this.options.gfm&&(m=/^\[[ xX]\] /.exec(ne),m&&(b=m[0]!=="[ ] ",ne=ne.replace(/^\[[ xX]\] +/,""))),me.items.push({type:"list_item",raw:f,task:!!m,checked:b,loose:!1,text:ne}),me.raw+=f}me.items[me.items.length-1].raw=f.trimRight(),me.items[me.items.length-1].text=ne.trimRight(),me.raw=me.raw.trimRight();const Re=me.items.length;for(B=0;B<Re;B++){this.lexer.state.top=!1,me.items[B].tokens=this.lexer.blockTokens(me.items[B].text,[]);const He=me.items[B].tokens.filter(Fe=>Fe.type==="space"),Oe=He.every(Fe=>{const Qe=Fe.raw.split("");let gt=0;for(const Wt of Qe)if(Wt===`
`&&(gt+=1),gt>1)return!0;return!1});!me.loose&&He.length&&Oe&&(me.loose=!0,me.items[B].loose=!0)}return me}}html(a){const u=this.rules.block.html.exec(a);if(u){const f={type:"html",raw:u[0],pre:!this.options.sanitizer&&(u[1]==="pre"||u[1]==="script"||u[1]==="style"),text:u[0]};if(this.options.sanitize){const m=this.options.sanitizer?this.options.sanitizer(u[0]):rd(u[0]);f.type="paragraph",f.text=m,f.tokens=this.lexer.inline(m)}return f}}def(a){const u=this.rules.block.def.exec(a);if(u)return u[3]&&(u[3]=u[3].substring(1,u[3].length-1)),{type:"def",tag:u[1].toLowerCase().replace(/\s+/g," "),raw:u[0],href:u[2],title:u[3]}}table(a){const u=this.rules.block.table.exec(a);if(u){const f={type:"table",header:Mhe(u[1]).map(m=>({text:m})),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:u[3]&&u[3].trim()?u[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(f.header.length===f.align.length){f.raw=u[0];let m=f.align.length,b,P,B,O;for(b=0;b<m;b++)/^ *-+: *$/.test(f.align[b])?f.align[b]="right":/^ *:-+: *$/.test(f.align[b])?f.align[b]="center":/^ *:-+ *$/.test(f.align[b])?f.align[b]="left":f.align[b]=null;for(m=f.rows.length,b=0;b<m;b++)f.rows[b]=Mhe(f.rows[b],f.header.length).map(q=>({text:q}));for(m=f.header.length,P=0;P<m;P++)f.header[P].tokens=this.lexer.inline(f.header[P].text);for(m=f.rows.length,P=0;P<m;P++)for(O=f.rows[P],B=0;B<O.length;B++)O[B].tokens=this.lexer.inline(O[B].text);return f}}}lheading(a){const u=this.rules.block.lheading.exec(a);if(u)return{type:"heading",raw:u[0],depth:u[2].charAt(0)==="="?1:2,text:u[1],tokens:this.lexer.inline(u[1])}}paragraph(a){const u=this.rules.block.paragraph.exec(a);if(u){const f=u[1].charAt(u[1].length-1)===`
`?u[1].slice(0,-1):u[1];return{type:"paragraph",raw:u[0],text:f,tokens:this.lexer.inline(f)}}}text(a){const u=this.rules.block.text.exec(a);if(u)return{type:"text",raw:u[0],text:u[0],tokens:this.lexer.inline(u[0])}}escape(a){const u=this.rules.inline.escape.exec(a);if(u)return{type:"escape",raw:u[0],text:rd(u[1])}}tag(a){const u=this.rules.inline.tag.exec(a);if(u)return!this.lexer.state.inLink&&/^<a /i.test(u[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(u[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(u[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(u[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:u[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):rd(u[0]):u[0]}}link(a){const u=this.rules.inline.link.exec(a);if(u){const f=u[2].trim();if(!this.options.pedantic&&/^</.test(f)){if(!/>$/.test(f))return;const P=kF(f.slice(0,-1),"\\");if((f.length-P.length)%2===0)return}else{const P=uze(u[2],"()");if(P>-1){const O=(u[0].indexOf("!")===0?5:4)+u[1].length+P;u[2]=u[2].substring(0,P),u[0]=u[0].substring(0,O).trim(),u[3]=""}}let m=u[2],b="";if(this.options.pedantic){const P=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(m);P&&(m=P[1],b=P[3])}else b=u[3]?u[3].slice(1,-1):"";return m=m.trim(),/^</.test(m)&&(this.options.pedantic&&!/>$/.test(f)?m=m.slice(1):m=m.slice(1,-1)),Ihe(u,{href:m&&m.replace(this.rules.inline._escapes,"$1"),title:b&&b.replace(this.rules.inline._escapes,"$1")},u[0],this.lexer)}}reflink(a,u){let f;if((f=this.rules.inline.reflink.exec(a))||(f=this.rules.inline.nolink.exec(a))){let m=(f[2]||f[1]).replace(/\s+/g," ");if(m=u[m.toLowerCase()],!m||!m.href){const b=f[0].charAt(0);return{type:"text",raw:b,text:b}}return Ihe(f,m,f[0],this.lexer)}}emStrong(a,u,f=""){let m=this.rules.inline.emStrong.lDelim.exec(a);if(!m||m[3]&&f.match(/[\p{L}\p{N}]/u))return;const b=m[1]||m[2]||"";if(!b||b&&(f===""||this.rules.inline.punctuation.exec(f))){const P=m[0].length-1;let B,O,q=P,K=0;const J=m[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(J.lastIndex=0,u=u.slice(-1*a.length+P);(m=J.exec(u))!=null;){if(B=m[1]||m[2]||m[3]||m[4]||m[5]||m[6],!B)continue;if(O=B.length,m[3]||m[4]){q+=O;continue}else if((m[5]||m[6])&&P%3&&!((P+O)%3)){K+=O;continue}if(q-=O,q>0)continue;if(O=Math.min(O,O+q+K),Math.min(P,O)%2){const ne=a.slice(1,P+m.index+O);return{type:"em",raw:a.slice(0,P+m.index+O+1),text:ne,tokens:this.lexer.inlineTokens(ne)}}const te=a.slice(2,P+m.index+O-1);return{type:"strong",raw:a.slice(0,P+m.index+O+1),text:te,tokens:this.lexer.inlineTokens(te)}}}}codespan(a){const u=this.rules.inline.code.exec(a);if(u){let f=u[2].replace(/\n/g," ");const m=/[^ ]/.test(f),b=/^ /.test(f)&&/ $/.test(f);return m&&b&&(f=f.substring(1,f.length-1)),f=rd(f,!0),{type:"codespan",raw:u[0],text:f}}}br(a){const u=this.rules.inline.br.exec(a);if(u)return{type:"br",raw:u[0]}}del(a){const u=this.rules.inline.del.exec(a);if(u)return{type:"del",raw:u[0],text:u[2],tokens:this.lexer.inlineTokens(u[2])}}autolink(a,u){const f=this.rules.inline.autolink.exec(a);if(f){let m,b;return f[2]==="@"?(m=rd(this.options.mangle?u(f[1]):f[1]),b="mailto:"+m):(m=rd(f[1]),b=m),{type:"link",raw:f[0],text:m,href:b,tokens:[{type:"text",raw:m,text:m}]}}}url(a,u){let f;if(f=this.rules.inline.url.exec(a)){let m,b;if(f[2]==="@")m=rd(this.options.mangle?u(f[0]):f[0]),b="mailto:"+m;else{let P;do P=f[0],f[0]=this.rules.inline._backpedal.exec(f[0])[0];while(P!==f[0]);m=rd(f[0]),f[1]==="www."?b="http://"+m:b=m}return{type:"link",raw:f[0],text:m,href:b,tokens:[{type:"text",raw:m,text:m}]}}}inlineText(a,u){const f=this.rules.inline.text.exec(a);if(f){let m;return this.lexer.state.inRawBlock?m=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):rd(f[0]):f[0]:m=rd(this.options.smartypants?u(f[0]):f[0]),{type:"text",raw:f[0],text:m}}}},Oi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:pI,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Oi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Oi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Oi.def=il(Oi.def).replace("label",Oi._label).replace("title",Oi._title).getRegex(),Oi.bullet=/(?:[*+-]|\d{1,9}[.)])/,Oi.listItemStart=il(/^( *)(bull) */).replace("bull",Oi.bullet).getRegex(),Oi.list=il(Oi.list).replace(/bull/g,Oi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Oi.def.source+")").getRegex(),Oi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Oi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Oi.html=il(Oi.html,"i").replace("comment",Oi._comment).replace("tag",Oi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Oi.paragraph=il(Oi._paragraph).replace("hr",Oi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Oi._tag).getRegex(),Oi.blockquote=il(Oi.blockquote).replace("paragraph",Oi.paragraph).getRegex(),Oi.normal=Wg({},Oi),Oi.gfm=Wg({},Oi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Oi.gfm.table=il(Oi.gfm.table).replace("hr",Oi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Oi._tag).getRegex(),Oi.gfm.paragraph=il(Oi._paragraph).replace("hr",Oi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Oi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Oi._tag).getRegex(),Oi.pedantic=Wg({},Oi.normal,{html:il(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Oi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pI,paragraph:il(Oi.normal._paragraph).replace("hr",Oi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Oi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ei={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:pI,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:pI,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ei._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ei.punctuation=il(ei.punctuation).replace(/punctuation/g,ei._punctuation).getRegex(),ei.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ei.escapedEmSt=/\\\*|\\_/g,ei._comment=il(Oi._comment).replace("(?:-->|$)","-->").getRegex(),ei.emStrong.lDelim=il(ei.emStrong.lDelim).replace(/punct/g,ei._punctuation).getRegex(),ei.emStrong.rDelimAst=il(ei.emStrong.rDelimAst,"g").replace(/punct/g,ei._punctuation).getRegex(),ei.emStrong.rDelimUnd=il(ei.emStrong.rDelimUnd,"g").replace(/punct/g,ei._punctuation).getRegex(),ei._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ei._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ei._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ei.autolink=il(ei.autolink).replace("scheme",ei._scheme).replace("email",ei._email).getRegex(),ei._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ei.tag=il(ei.tag).replace("comment",ei._comment).replace("attribute",ei._attribute).getRegex(),ei._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ei._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ei._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ei.link=il(ei.link).replace("label",ei._label).replace("href",ei._href).replace("title",ei._title).getRegex(),ei.reflink=il(ei.reflink).replace("label",ei._label).replace("ref",Oi._label).getRegex(),ei.nolink=il(ei.nolink).replace("ref",Oi._label).getRegex(),ei.reflinkSearch=il(ei.reflinkSearch,"g").replace("reflink",ei.reflink).replace("nolink",ei.nolink).getRegex(),ei.normal=Wg({},ei),ei.pedantic=Wg({},ei.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:il(/^!?\[(label)\]\((.*?)\)/).replace("label",ei._label).getRegex(),reflink:il(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ei._label).getRegex()}),ei.gfm=Wg({},ei.normal,{escape:il(ei.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ei.gfm.url=il(ei.gfm.url,"i").replace("email",ei.gfm._extended_email).getRegex(),ei.breaks=Wg({},ei.gfm,{br:il(ei.br).replace("{2,}","*").getRegex(),text:il(ei.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),N_=class{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||eE,this.options.tokenizer=this.options.tokenizer||new DF,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const u={block:Oi.normal,inline:ei.normal};this.options.pedantic?(u.block=Oi.pedantic,u.inline=ei.pedantic):this.options.gfm&&(u.block=Oi.gfm,this.options.breaks?u.inline=ei.breaks:u.inline=ei.gfm),this.tokenizer.rules=u}static get rules(){return{block:Oi,inline:ei}}static lex(a,u){return new N_(u).lex(a)}static lexInline(a,u){return new N_(u).inlineTokens(a)}lex(a){a=a.replace(/\r\n|\r/g,`
`),this.blockTokens(a,this.tokens);let u;for(;u=this.inlineQueue.shift();)this.inlineTokens(u.src,u.tokens);return this.tokens}blockTokens(a,u=[]){this.options.pedantic?a=a.replace(/\t/g,"    ").replace(/^ +$/gm,""):a=a.replace(/^( *)(\t+)/gm,(B,O,q)=>O+"    ".repeat(q.length));let f,m,b,P;for(;a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(B=>(f=B.call({lexer:this},a,u))?(a=a.substring(f.raw.length),u.push(f),!0):!1))){if(f=this.tokenizer.space(a)){a=a.substring(f.raw.length),f.raw.length===1&&u.length>0?u[u.length-1].raw+=`
`:u.push(f);continue}if(f=this.tokenizer.code(a)){a=a.substring(f.raw.length),m=u[u.length-1],m&&(m.type==="paragraph"||m.type==="text")?(m.raw+=`
`+f.raw,m.text+=`
`+f.text,this.inlineQueue[this.inlineQueue.length-1].src=m.text):u.push(f);continue}if(f=this.tokenizer.fences(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.heading(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.hr(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.blockquote(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.list(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.html(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.def(a)){a=a.substring(f.raw.length),m=u[u.length-1],m&&(m.type==="paragraph"||m.type==="text")?(m.raw+=`
`+f.raw,m.text+=`
`+f.raw,this.inlineQueue[this.inlineQueue.length-1].src=m.text):this.tokens.links[f.tag]||(this.tokens.links[f.tag]={href:f.href,title:f.title});continue}if(f=this.tokenizer.table(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.lheading(a)){a=a.substring(f.raw.length),u.push(f);continue}if(b=a,this.options.extensions&&this.options.extensions.startBlock){let B=1/0;const O=a.slice(1);let q;this.options.extensions.startBlock.forEach(function(K){q=K.call({lexer:this},O),typeof q=="number"&&q>=0&&(B=Math.min(B,q))}),B<1/0&&B>=0&&(b=a.substring(0,B+1))}if(this.state.top&&(f=this.tokenizer.paragraph(b))){m=u[u.length-1],P&&m.type==="paragraph"?(m.raw+=`
`+f.raw,m.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=m.text):u.push(f),P=b.length!==a.length,a=a.substring(f.raw.length);continue}if(f=this.tokenizer.text(a)){a=a.substring(f.raw.length),m=u[u.length-1],m&&m.type==="text"?(m.raw+=`
`+f.raw,m.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=m.text):u.push(f);continue}if(a){const B="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(B);break}else throw new Error(B)}}return this.state.top=!0,u}inline(a,u=[]){return this.inlineQueue.push({src:a,tokens:u}),u}inlineTokens(a,u=[]){let f,m,b,P=a,B,O,q;if(this.tokens.links){const K=Object.keys(this.tokens.links);if(K.length>0)for(;(B=this.tokenizer.rules.inline.reflinkSearch.exec(P))!=null;)K.includes(B[0].slice(B[0].lastIndexOf("[")+1,-1))&&(P=P.slice(0,B.index)+"["+Rhe("a",B[0].length-2)+"]"+P.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(B=this.tokenizer.rules.inline.blockSkip.exec(P))!=null;)P=P.slice(0,B.index)+"["+Rhe("a",B[0].length-2)+"]"+P.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(B=this.tokenizer.rules.inline.escapedEmSt.exec(P))!=null;)P=P.slice(0,B.index)+"++"+P.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(O||(q=""),O=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(K=>(f=K.call({lexer:this},a,u))?(a=a.substring(f.raw.length),u.push(f),!0):!1))){if(f=this.tokenizer.escape(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.tag(a)){a=a.substring(f.raw.length),m=u[u.length-1],m&&f.type==="text"&&m.type==="text"?(m.raw+=f.raw,m.text+=f.text):u.push(f);continue}if(f=this.tokenizer.link(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(f.raw.length),m=u[u.length-1],m&&f.type==="text"&&m.type==="text"?(m.raw+=f.raw,m.text+=f.text):u.push(f);continue}if(f=this.tokenizer.emStrong(a,P,q)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.codespan(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.br(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.del(a)){a=a.substring(f.raw.length),u.push(f);continue}if(f=this.tokenizer.autolink(a,khe)){a=a.substring(f.raw.length),u.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(a,khe))){a=a.substring(f.raw.length),u.push(f);continue}if(b=a,this.options.extensions&&this.options.extensions.startInline){let K=1/0;const J=a.slice(1);let te;this.options.extensions.startInline.forEach(function(ne){te=ne.call({lexer:this},J),typeof te=="number"&&te>=0&&(K=Math.min(K,te))}),K<1/0&&K>=0&&(b=a.substring(0,K+1))}if(f=this.tokenizer.inlineText(b,fze)){a=a.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(q=f.raw.slice(-1)),O=!0,m=u[u.length-1],m&&m.type==="text"?(m.raw+=f.raw,m.text+=f.text):u.push(f);continue}if(a){const K="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(K);break}else throw new Error(K)}}return u}},OF=class{constructor(a){this.options=a||eE}code(a,u,f){const m=(u||"").match(/\S*/)[0];if(this.options.highlight){const b=this.options.highlight(a,m);b!=null&&b!==a&&(f=!0,a=b)}return a=a.replace(/\n$/,"")+`
`,m?'<pre><code class="'+this.options.langPrefix+rd(m,!0)+'">'+(f?a:rd(a,!0))+`</code></pre>
`:"<pre><code>"+(f?a:rd(a,!0))+`</code></pre>
`}blockquote(a){return`<blockquote>
${a}</blockquote>
`}html(a){return a}heading(a,u,f,m){if(this.options.headerIds){const b=this.options.headerPrefix+m.slug(f);return`<h${u} id="${b}">${a}</h${u}>
`}return`<h${u}>${a}</h${u}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(a,u,f){const m=u?"ol":"ul",b=u&&f!==1?' start="'+f+'"':"";return"<"+m+b+`>
`+a+"</"+m+`>
`}listitem(a){return`<li>${a}</li>
`}checkbox(a){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(a){return`<p>${a}</p>
`}table(a,u){return u&&(u=`<tbody>${u}</tbody>`),`<table>
<thead>
`+a+`</thead>
`+u+`</table>
`}tablerow(a){return`<tr>
${a}</tr>
`}tablecell(a,u){const f=u.header?"th":"td";return(u.align?`<${f} align="${u.align}">`:`<${f}>`)+a+`</${f}>
`}strong(a){return`<strong>${a}</strong>`}em(a){return`<em>${a}</em>`}codespan(a){return`<code>${a}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(a){return`<del>${a}</del>`}link(a,u,f){if(a=The(this.options.sanitize,this.options.baseUrl,a),a===null)return f;let m='<a href="'+rd(a)+'"';return u&&(m+=' title="'+u+'"'),m+=">"+f+"</a>",m}image(a,u,f){if(a=The(this.options.sanitize,this.options.baseUrl,a),a===null)return f;let m=`<img src="${a}" alt="${f}"`;return u&&(m+=` title="${u}"`),m+=this.options.xhtml?"/>":">",m}text(a){return a}},tV=class{strong(a){return a}em(a){return a}codespan(a){return a}del(a){return a}html(a){return a}text(a){return a}link(a,u,f){return""+f}image(a,u,f){return""+f}br(){return""}},nV=class{constructor(){this.seen={}}serialize(a){return a.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(a,u){let f=a,m=0;if(this.seen.hasOwnProperty(f)){m=this.seen[a];do m++,f=a+"-"+m;while(this.seen.hasOwnProperty(f))}return u||(this.seen[a]=m,this.seen[f]=0),f}slug(a,u={}){const f=this.serialize(a);return this.getNextSafeSlug(f,u.dryrun)}},ay=class{constructor(a){this.options=a||eE,this.options.renderer=this.options.renderer||new OF,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tV,this.slugger=new nV}static parse(a,u){return new ay(u).parse(a)}static parseInline(a,u){return new ay(u).parseInline(a)}parse(a,u=!0){let f="",m,b,P,B,O,q,K,J,te,ne,re,ue,pe,me,De,Re,He,Oe,Fe;const Qe=a.length;for(m=0;m<Qe;m++){if(ne=a[m],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ne.type]&&(Fe=this.options.extensions.renderers[ne.type].call({parser:this},ne),Fe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ne.type))){f+=Fe||"";continue}switch(ne.type){case"space":continue;case"hr":{f+=this.renderer.hr();continue}case"heading":{f+=this.renderer.heading(this.parseInline(ne.tokens),ne.depth,Ahe(this.parseInline(ne.tokens,this.textRenderer)),this.slugger);continue}case"code":{f+=this.renderer.code(ne.text,ne.lang,ne.escaped);continue}case"table":{for(J="",K="",B=ne.header.length,b=0;b<B;b++)K+=this.renderer.tablecell(this.parseInline(ne.header[b].tokens),{header:!0,align:ne.align[b]});for(J+=this.renderer.tablerow(K),te="",B=ne.rows.length,b=0;b<B;b++){for(q=ne.rows[b],K="",O=q.length,P=0;P<O;P++)K+=this.renderer.tablecell(this.parseInline(q[P].tokens),{header:!1,align:ne.align[P]});te+=this.renderer.tablerow(K)}f+=this.renderer.table(J,te);continue}case"blockquote":{te=this.parse(ne.tokens),f+=this.renderer.blockquote(te);continue}case"list":{for(re=ne.ordered,ue=ne.start,pe=ne.loose,B=ne.items.length,te="",b=0;b<B;b++)De=ne.items[b],Re=De.checked,He=De.task,me="",De.task&&(Oe=this.renderer.checkbox(Re),pe?De.tokens.length>0&&De.tokens[0].type==="paragraph"?(De.tokens[0].text=Oe+" "+De.tokens[0].text,De.tokens[0].tokens&&De.tokens[0].tokens.length>0&&De.tokens[0].tokens[0].type==="text"&&(De.tokens[0].tokens[0].text=Oe+" "+De.tokens[0].tokens[0].text)):De.tokens.unshift({type:"text",text:Oe}):me+=Oe),me+=this.parse(De.tokens,pe),te+=this.renderer.listitem(me,He,Re);f+=this.renderer.list(te,re,ue);continue}case"html":{f+=this.renderer.html(ne.text);continue}case"paragraph":{f+=this.renderer.paragraph(this.parseInline(ne.tokens));continue}case"text":{for(te=ne.tokens?this.parseInline(ne.tokens):ne.text;m+1<Qe&&a[m+1].type==="text";)ne=a[++m],te+=`
`+(ne.tokens?this.parseInline(ne.tokens):ne.text);f+=u?this.renderer.paragraph(te):te;continue}default:{const gt='Token with "'+ne.type+'" type was not found.';if(this.options.silent){console.error(gt);return}else throw new Error(gt)}}}return f}parseInline(a,u){u=u||this.renderer;let f="",m,b,P;const B=a.length;for(m=0;m<B;m++){if(b=a[m],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[b.type]&&(P=this.options.extensions.renderers[b.type].call({parser:this},b),P!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(b.type))){f+=P||"";continue}switch(b.type){case"escape":{f+=u.text(b.text);break}case"html":{f+=u.html(b.text);break}case"link":{f+=u.link(b.href,b.title,this.parseInline(b.tokens,u));break}case"image":{f+=u.image(b.href,b.title,b.text);break}case"strong":{f+=u.strong(this.parseInline(b.tokens,u));break}case"em":{f+=u.em(this.parseInline(b.tokens,u));break}case"codespan":{f+=u.codespan(b.text);break}case"br":{f+=u.br();break}case"del":{f+=u.del(this.parseInline(b.tokens,u));break}case"text":{f+=u.text(b.text);break}default:{const O='Token with "'+b.type+'" type was not found.';if(this.options.silent){console.error(O);return}else throw new Error(O)}}}return f}},ua.options=ua.setOptions=function(a){return Wg(ua.defaults,a),sze(ua.defaults),ua},ua.getDefaults=Che,ua.defaults=eE,ua.use=function(...a){const u=Wg({},...a),f=ua.defaults.extensions||{renderers:{},childTokens:{}};let m;a.forEach(b=>{if(b.extensions&&(m=!0,b.extensions.forEach(P=>{if(!P.name)throw new Error("extension name required");if(P.renderer){const B=f.renderers?f.renderers[P.name]:null;B?f.renderers[P.name]=function(...O){let q=P.renderer.apply(this,O);return q===!1&&(q=B.apply(this,O)),q}:f.renderers[P.name]=P.renderer}if(P.tokenizer){if(!P.level||P.level!=="block"&&P.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");f[P.level]?f[P.level].unshift(P.tokenizer):f[P.level]=[P.tokenizer],P.start&&(P.level==="block"?f.startBlock?f.startBlock.push(P.start):f.startBlock=[P.start]:P.level==="inline"&&(f.startInline?f.startInline.push(P.start):f.startInline=[P.start]))}P.childTokens&&(f.childTokens[P.name]=P.childTokens)})),b.renderer){const P=ua.defaults.renderer||new OF;for(const B in b.renderer){const O=P[B];P[B]=(...q)=>{let K=b.renderer[B].apply(P,q);return K===!1&&(K=O.apply(P,q)),K}}u.renderer=P}if(b.tokenizer){const P=ua.defaults.tokenizer||new DF;for(const B in b.tokenizer){const O=P[B];P[B]=(...q)=>{let K=b.tokenizer[B].apply(P,q);return K===!1&&(K=O.apply(P,q)),K}}u.tokenizer=P}if(b.walkTokens){const P=ua.defaults.walkTokens;u.walkTokens=function(B){let O=[];return O.push(b.walkTokens.call(this,B)),P&&(O=O.concat(P.call(this,B))),O}}m&&(u.extensions=f),ua.setOptions(u)})},ua.walkTokens=function(a,u){let f=[];for(const m of a)switch(f=f.concat(u.call(ua,m)),m.type){case"table":{for(const b of m.header)f=f.concat(ua.walkTokens(b.tokens,u));for(const b of m.rows)for(const P of b)f=f.concat(ua.walkTokens(P.tokens,u));break}case"list":{f=f.concat(ua.walkTokens(m.items,u));break}default:ua.defaults.extensions&&ua.defaults.extensions.childTokens&&ua.defaults.extensions.childTokens[m.type]?ua.defaults.extensions.childTokens[m.type].forEach(function(b){f=f.concat(ua.walkTokens(m[b],u))}):m.tokens&&(f=f.concat(ua.walkTokens(m.tokens,u)))}return f},ua.parseInline=function(a,u){if(typeof a>"u"||a===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof a!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected");u=Wg({},ua.defaults,u||{}),Phe(u);try{const f=N_.lexInline(a,u);return u.walkTokens&&ua.walkTokens(f,u.walkTokens),ay.parseInline(f,u)}catch(f){if(f.message+=`
Please report this to https://github.com/markedjs/marked.`,u.silent)return"<p>An error occurred:</p><pre>"+rd(f.message+"",!0)+"</pre>";throw f}},ua.Parser=ay,ua.parser=ay.parse,ua.Renderer=OF,ua.TextRenderer=tV,ua.Lexer=N_,ua.lexer=N_.lex,ua.Tokenizer=DF,ua.Slugger=nV,ua.parse=ua,ua.options,ua.setOptions,ua.use,ua.walkTokens,ua.parseInline,ay.parse,N_.lex}}),Ac,BF,mI,LF,Whe,rV,Khe,iV,qhe,Xhe,Yhe,vI,$he,Qhe,Jhe,Zhe,epe,tpe,npe,rpe,aV,oV=w({"studio/src/notify.tsx"(){Ac=U(xt()),oze(),Hn(),Uo(),Ei(),Te(),dze(),DR(),Nde(),BF=({title:a,message:u})=>`${a} ${u}`,mI=(()=>{const a=new Map;return{add:u=>{const f=BF(u);a.has(f)?a.set(f,a.get(f)+1):a.set(f,1)},delete:u=>{const f=BF(u);a.has(f)&&a.get(f)>1?a.set(f,a.get(f)-1):a.delete(f)},clear:()=>{a.clear()},check:u=>a.has(BF(u))}})(),LF=(()=>{const a=new Map;return{add:u=>{a.has(u)?a.set(u,a.get(u)+1):a.set(u,1)},delete:u=>{a.has(u)&&a.get(u)>1?a.set(u,a.get(u)-1):a.delete(u)},clear:()=>{a.clear()},check:u=>a.has(u),get types(){return Array.of(...a.keys())}}})(),Whe=lt.div`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  ${Ro};
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,rV=lt.div`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`,Khe=lt.div`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`,iV=lt.div`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`,qhe=lt.button`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`,Xhe={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Yhe=lt.div`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: ${({type:a})=>Xhe[a]};
  }
`,vI=a=>(u,f,m=[],b=!1)=>{(b||!mI.check({title:u,message:f}))&&(mI.add({title:u,message:f}),LF.add(a),IF.custom(P=>Ac.default.createElement(Whe,null,Ac.default.createElement(Yhe,{type:a}),Ac.default.createElement(Khe,null,Ac.default.createElement(rV,null,u),Ac.default.createElement(iV,{dangerouslySetInnerHTML:{__html:ua.parse(f)}}),m.length>0&&Ac.default.createElement(iV,null,Ac.default.createElement("span",null,"Docs:"," ",m.map((B,O)=>Ac.default.createElement(Ac.Fragment,{key:O},O>0&&", ",Ac.default.createElement("a",{target:"_blank",href:B.url},B.title)))))),Ac.default.createElement(qhe,{onClick:()=>{IF.remove(P.id),mI.delete({title:u,message:f}),LF.delete(a)}},"Close")),{duration:1/0}))},$he={warning:vI("warning"),success:vI("success"),info:vI("info"),error:vI("error")},Qhe=lt.div`
  display: flex;
  justify-content: ${({align:a})=>a==="center"?"center":"flex-end"};
  gap: 12px;
`,Jhe=lt.button`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  ${Ro};
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: ${({danger:a})=>a?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"};
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,Zhe=lt.div`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`,epe=lt.div`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`,tpe=lt.div`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`,npe=()=>{const{hasNotifications:a}=aV();return XC({enabled:!a},()=>Ac.default.createElement(NG,null,Ac.default.createElement(tpe,null,Ac.default.createElement(rV,null,"No notifications"),"Notifications will appear here when you get them.")))},rpe=()=>{var a;const{toasts:u,handlers:f}=ZG(),{startPause:m,endPause:b}=f,P=(a=ka(Z().atomP.ahistoric.pinNotifications))!=null?a:!1;return Ac.default.createElement(Zhe,null,P?u.length>0&&Ac.default.createElement(epe,{onMouseEnter:m,onMouseLeave:b},Ac.default.createElement("div",null,u.map(B=>Ac.default.createElement("div",{key:B.id},B.message(B))))):null,Ac.default.createElement(Qhe,{align:"side"},P&&u.length>0&&Ac.default.createElement(Jhe,{onClick:()=>{LF.clear(),mI.clear(),IF.remove()},danger:!0},"Clear")))},aV=()=>{const{toasts:a}=ZG();return{hasNotifications:a.length>0}}}}),al,ipe,ape,ope,sV,lV,uV,spe,lpe,hze=w({"studio/src/toolbars/GlobalToolbar.tsx"(){Ei(),Te(),al=U(xt()),Hn(),DR(),GUe(),EN(),ipe=U(Ln),ihe(),eze(),h9(),nze(),ize(),AF(),pS(),aze(),oV(),ape=lt.div`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`,ope=lt.div`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`,sV=lt.div`
  display: flex;
  gap: 8px;
`,lV=lt.div`
  position: absolute;
  background: ${({type:a})=>a==="info"?"#40aaa4":"#f59e0b"};
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`,lt.div`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`,uV=!1,spe=()=>{var a,u,f;const m=ma(()=>{const pe=(0,ipe.val)(Z().atomP.ephemeral.coreByProject);return Object.entries(pe).map(([me,De])=>({projectId:me,state:De})).filter(({state:me})=>me.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[b,P]=XC({enabled:m.length>0,enterDelay:m.length>0?0:200},()=>m.length>0?al.default.createElement(Ode,null,m.length===1?`There is a state conflict in project "${m[0].projectId}". Select the project in the outline below in order to fix it.`:`There are ${m.length} projects that have state conflicts. They are highlighted in the outline below. `):al.default.createElement(YC,null,"Outline")),B=(a=ka(Z().atomP.ahistoric.pinOutline))!=null?a:!0,O=(u=ka(Z().atomP.ahistoric.pinDetails))!=null?u:!0,q=ka(Z().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,K=hS(()=>{const pe=J.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:pe.right,maxY:8,minX:pe.left-140,minY:8},verticalGap:2}},()=>al.default.createElement(phe,null)),J=(0,al.useRef)(null),te=(0,al.useMemo)(()=>q||window.__IS_VISUAL_REGRESSION_TESTING?(uV||(uV=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally")),!0):q,[q]),{hasNotifications:ne}=aV(),[re,ue]=npe();return al.default.createElement(ape,null,al.default.createElement(sV,null,b,al.default.createElement(TF,{ref:P,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{Z().transaction(({stateEditors:pe,drafts:me})=>{var De;pe.studio.ahistoric.setPinOutline(!((De=me.ahistoric.pinOutline)==null||De))})},icon:al.default.createElement(s9,null),pinHintIcon:al.default.createElement(KG,null),unpinHintIcon:al.default.createElement(VG,null),pinned:B}),m.length>0?al.default.createElement(ope,null,m.length):null,al.default.createElement(jG,{showLeftDivider:!0,toolbarId:"global"})),al.default.createElement(sV,null,re,al.default.createElement(TF,{ref:ue,onClick:()=>{Z().transaction(({stateEditors:pe,drafts:me})=>{var De;pe.studio.ahistoric.setPinNotifications(!((De=me.ahistoric.pinNotifications)!=null&&De))})},icon:al.default.createElement(bN,null),pinHintIcon:al.default.createElement(bN,null),unpinHintIcon:al.default.createElement(bN,null),pinned:(f=ka(Z().atomP.ahistoric.pinNotifications))!=null?f:!1},ne&&al.default.createElement(lV,{type:"warning"})),K.node,al.default.createElement(sI,{ref:J,onClick:pe=>{K.toggle(pe,J.current)}},al.default.createElement(qoe,null),te&&al.default.createElement(lV,{type:"info"})),al.default.createElement(TF,{ref:P,onClick:()=>{Z().transaction(({stateEditors:pe,drafts:me})=>{var De;pe.studio.ahistoric.setPinDetails(!((De=me.ahistoric.pinDetails)==null||De))})},icon:al.default.createElement(Koe,null),pinHintIcon:al.default.createElement(VG,null),unpinHintIcon:al.default.createElement(KG,null),pinned:O})))},lpe=spe}}),upe,gI,cpe,yI,fpe,dpe,hpe,ppe,mpe=w({"studio/src/utils/renderInPortalInContext.tsx"(){upe=U(Ln),Ei(),gI=U(xt()),cpe=U(u_()),yI=new upe.Atom({set:{},byId:{}}),fpe=1,dpe=()=>{const a=fpe++;function u(m,b,P){yI.reduceState([],B=>({byId:R(T({},B.byId),{[a]:{comp:m,props:b,portalNode:P}}),set:R(T({},B.set),{[a]:!0})}))}function f(){yI.reduceState([],m=>{const b=T({},m.set),P=T({},m.byId);return delete b[a],{byId:P,set:b}})}return{mountOrRender:u,unmount:f}},hpe=()=>{const a=Object.keys(ka(yI.pointer.set));return gI.default.createElement(gI.default.Fragment,null,a.map(u=>gI.default.createElement(ppe,{key:"id-"+u,id:u})))},ppe=({id:a})=>{const{comp:u,portalNode:f,props:m}=ka(yI.pointer.byId[a]),b=u;return(0,cpe.createPortal)(gI.default.createElement(b,T({},m)),f)}}});function pze(){const a=Z(),[u,f]=oo(void 0),m=ir();m.configureLogging({min:Pr.DEBUG,dev:fV,internal:fV});const b=m.getLogger().named("Theatre.js UIRoot");HNe();const P=ka(a.atomP.ahistoric.visibilityState);return(0,jd.useEffect)(()=>(P==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[P]),ma(()=>{const O=(0,cV.val)(a.atomP.ahistoric.visibilityState);return(0,cV.val)(a.atomP.ephemeral.initialised)?jd.default.createElement(Ree,{logger:b},jd.default.createElement(Aoe,null,jd.default.createElement(lDe,null,jd.default.createElement(_pe,null),jd.default.createElement(RC.Provider,{value:f},jd.default.createElement(N6,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:Z().ui.containerShadow},jd.default.createElement(jd.default.Fragment,null,jd.default.createElement(vpe,null),jd.default.createElement(gpe,{className:O==="everythingIsHidden"?"invisible":""},jd.default.createElement(L6,{ref:u}),jd.default.createElement(lpe,null),jd.default.createElement(kde,null),jd.default.createElement(rpe,null)))))))):null},[a,u,f])}var cV,jd,vpe,gpe,ype,fV,_pe,mze=w({"studio/src/UIRoot/UIRoot.tsx"(){Te(),Ei(),cV=U(Ln),jd=U(xt()),Hn(),jUe(),hze(),Po(),bw(),tle(),Ym(),Toe(),Kj(),mpe(),Uo(),ja(),rS(),oV(),vpe=typeof window<"u"?q2`
  :host {
    contain: strict;
  }
`:{},gpe=lt(Pee)`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`,fV=/Playground.+Theatre\.js/.test((ype=typeof document<"u"?document==null?void 0:document.title:null)!=null?ype:""),_pe=()=>jd.default.createElement(hpe,null)}}),Spe={};F(Spe,{default:()=>bpe});var xpe,wpe,Epe,bpe,vze=w({"studio/src/UI.ts"(){mze(),xpe=U(xt()),wpe=U(u_()),Epe=U(Ln),mpe(),Uo(),ihe(),bpe=class{constructor(a){this.studio=a,Q(this,"containerEl",document.createElement("div")),Q(this,"_rendered",!1),Q(this,"_renderTimeout"),Q(this,"_documentBodyUIIsRenderedIn"),Q(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;const u=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){const f=document.createElement("div");return f.id="theatrejs-faux-shadow-root",document.body.appendChild(f),f}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=u()}render(){this._rendered||(this._rendered=!0,this._render())}_render(){const a=()=>{if(!document.body){this._renderTimeout=setTimeout(a,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),wpe.default.render(xpe.default.createElement(pze),this.containerShadow)};this._renderTimeout=setTimeout(a,10)}hide(){this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,Epe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(a,u){const f=dpe();return f.mountOrRender($Oe(jG),{toolbarId:a},u),f.unmount}}}});F(e,{ToolbarDropdownSelect:()=>T5e,default:()=>P5e}),Te();function dV(a,u,f=[]){if(typeof a=="object"&&a)for(const[m,b]of Object.entries(a))dV(b,u,[...f,m]);else{if(a==null)return;u(a,f)}}var Cpe=U(Ln);we();var gze=0,yze=class{constructor(a){this._studio=a,Q(this,"_id"),Q(this,"_state",{type:"Ready"}),this._id=String(gze++)}get status(){return this._state.type}reset(){const{_state:a}=this;if(a.type!=="Ready")if(a.type==="Captured")this._state={type:"Ready"},a.transaction.discard(),a.flagsTransaction.discard();else throw a.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){const{_state:a}=this;if(a.type==="Captured")a.transaction.commit(),a.flagsTransaction.discard(),this._state={type:"Committed"};else if(a.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw a.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(a){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let u=!0;try{this._state=T({type:"Captured"},this._capture(a)),u=!1}finally{u&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(a){const u=[],f=this._studio.tempTransaction(b=>{let P=!0;const B={set:(O,q)=>{if(!P)throw new Error("You seem to have called the scrub api after scrub.capture()");const{root:K,path:J}=(0,Cpe.getPointerParts)(O);if(!ut(K))throw new Error("We can only scrub props of Sheet Objects for now");b.set(O,q),u.push(O)}};try{a(B)}finally{P=!1}}),m=this._studio.tempTransaction(({stateEditors:b})=>{u.forEach(P=>{const{root:B,path:O}=(0,Cpe.getPointerParts)(P);if(!ut(B))return;const q=B.template.getDefaultsAtPointer(P);dV(q,(K,J)=>{b.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(R(T({},B.address),{pathToProp:J}))},O)})});return{transaction:f,flagsTransaction:m}}discard(){const{_state:a}=this;if(a.type==="Captured"||a.type==="Ready")a.type==="Captured"&&(a.transaction.discard(),a.flagsTransaction.discard()),this._state={type:"Discarded"};else throw a.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},NF=U(Ln);function _ze(a){return a}var Sze=(a,u=_ze)=>{const f=m=>({type:a,payload:u(m)});return f.type=a,f.is=m=>m&&m.type&&m.type===a,f},oy=Sze,Ape=U(Ut()),Tpe=U(Bn());Dr();var FF,xze=new Uint8Array(16);function wze(){if(!FF&&(FF=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!FF))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FF(xze)}var Eze=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bze(a){return typeof a=="string"&&Eze.test(a)}for(var Cze=bze,Gd=[],hV=0;hV<256;++hV)Gd.push((hV+256).toString(16).substr(1));function Aze(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(Gd[a[u+0]]+Gd[a[u+1]]+Gd[a[u+2]]+Gd[a[u+3]]+"-"+Gd[a[u+4]]+Gd[a[u+5]]+"-"+Gd[a[u+6]]+Gd[a[u+7]]+"-"+Gd[a[u+8]]+Gd[a[u+9]]+"-"+Gd[a[u+10]]+Gd[a[u+11]]+Gd[a[u+12]]+Gd[a[u+13]]+Gd[a[u+14]]+Gd[a[u+15]]).toLowerCase();if(!Cze(f))throw TypeError("Stringified UUID is invalid");return f}var Tze=Aze;function Mze(a,u,f){a=a||{};var m=a.random||(a.rng||wze)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,u){f=f||0;for(var b=0;b<16;++b)u[f+b]=m[b];return u}return Tze(m)}var Pze=Mze,_I={replaceHistory:oy("@history/replaceHistory"),startHistoryFromScratch:oy("@history/startHistoryFromScratch"),undo:oy("@history/undo"),redo:oy("@history/redo")},Rze={type:"@history/unknownAction",payload:""},Ize={maxNumberOfCommits:100},kze=(a,u=Ize)=>{const f=pV(a(void 0,Rze));return function(b,P){return _I.startHistoryFromScratch.is(P)?pV(a(void 0,P.payload)):_I.replaceHistory.is(P)?P.payload:_I.undo.is(P)?b?Bze(b):f:_I.redo.is(P)?b?Lze(b):f:b?Dze(b,a(b.innerState,P),u):pV(a(void 0,P))}};function pV(a){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:a}}function Dze(a,u,f){if(u===a.innerState)return a;const m=Oze(a.innerState,u);if(m.forwardDiff.length===0)return a;const b=Yn(a.listOfCommitHashes),P={currentCommitHash:m.hash,commitsByHash:T({},a.commitsByHash),listOfCommitHashes:[...a.listOfCommitHashes],innerState:u};if(a.currentCommitHash!==b){const B=a.listOfCommitHashes.findIndex(q=>q===a.currentCommitHash);a.listOfCommitHashes.slice(B+1).forEach(q=>{delete P.commitsByHash[q]}),P.listOfCommitHashes.splice(B+1,P.listOfCommitHashes.length)}if(P.listOfCommitHashes.push(m.hash),P.commitsByHash[m.hash]=m,P.listOfCommitHashes.length>f.maxNumberOfCommits){const B=P.listOfCommitHashes.length-f.maxNumberOfCommits;P.listOfCommitHashes.slice(0,B).forEach(q=>{delete P.commitsByHash[q]}),P.listOfCommitHashes.splice(0,B)}return P}function Oze(a,u){const f=Ape.default.diff(a,u,{invertible:!1}),m=Ape.default.diff(u,a,{invertible:!1}),b=Date.now(),P=Pze();return{forwardDiff:f,backwardDiff:m,timestamp:b,hash:P}}function Bze(a){if(a.currentCommitHash===void 0)return a;const u=a.listOfCommitHashes.findIndex(O=>O===a.currentCommitHash);if(u===-1)throw new Error("This should never happen");const f=a.commitsByHash[a.currentCommitHash],m=(0,Tpe.default)(a.innerState,f.backwardDiff),b=u-1,P=b===-1?void 0:a.listOfCommitHashes[b];return R(T({},a),{currentCommitHash:P,innerState:m})}function Lze(a){if(a.listOfCommitHashes.length===0)return a;const u=a.listOfCommitHashes.findIndex(O=>O===a.currentCommitHash);if(u===a.listOfCommitHashes.length-1)return a;const f=u+1,m=a.listOfCommitHashes[f],b=a.commitsByHash[m],P=(0,Tpe.default)(a.innerState,b.forwardDiff);return R(T({},a),{currentCommitHash:m,innerState:P})}ja();var UF={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},Mpe=oy("@storeBundle/replacePersistentState",a=>a),Ppe=oy("@storeBundle/reduceParts",a=>a),dA={historic:_I,replacePersistentState:Mpe,reduceParts:Ppe},Rpe=oy("@storeBundle/setInnerHistoricState",a=>a),Nze=(a=UF.historic,u)=>Rpe.is(u)?u.payload:a,mV=kze(Nze),Ipe=(a,u)=>{if(Mpe.is(u)){const{historic:f,ahistoric:m}=u.payload,b=(a==null?void 0:a.ephemeral)||UF.ephemeral;return{$persistent:{historic:f,ahistoric:m},ephemeral:b}}else if(a){let{historic:f,ahistoric:m}=a.$persistent,{ephemeral:b}=a;if(Ppe.is(u)){const B={historic:a.$persistent.historic.innerState,ahistoric:a.$persistent.ahistoric,ephemeral:a.ephemeral},O=u.payload(B);if(O===B)return a;f.innerState!==O.historic&&(f=mV(f,Rpe(O.historic))),m=O.ahistoric,b=O.ephemeral}else{const B=mV(f,u);if(B===f)return a;f=B}return{$persistent:f===a.$persistent.historic&&m===a.$persistent.ahistoric?a.$persistent:{historic:f,ahistoric:m},ephemeral:b}}else{const f=mV(void 0,{}),m=UF.ahistoric,b=UF.ephemeral;return{$persistent:{historic:f,ahistoric:m},ephemeral:b}}},kpe=oy("@history/pushTempAction",a=>a),Dpe=oy("@history/discardTempAction",a=>a),Ope=oy("@history/commitTempAction",a=>a),Fze=0,Uze=()=>{const a=Fze++;return{push:b=>kpe({id:a,originalAction:b}),discard:()=>Dpe(a),commit:()=>Ope(a)}},zze=(a,u)=>{if(a){let{tempActions:f,permanent:m}=a.$temps,b;if(kpe.is(u))f=[...f,u];else if(Ope.is(u)){const B=f.find(O=>O.payload.id===u.payload);B?(b=B.payload.originalAction,f=f.filter(O=>O.payload.id!==u.payload)):Ir.error(`Comitting temp action group ${u.payload} isn't possible as this group doesn't exist`)}else Dpe.is(u)?f=f.filter(B=>B.payload.id!==u.payload):b=u;b&&(m=Ipe(a.$temps.permanent,b));let P={historic:m.$persistent.historic.innerState,ahistoric:m.$persistent.ahistoric,ephemeral:m.ephemeral};for(const B of f)P=B.payload.originalAction.payload(P);return T({$temps:{tempActions:f,permanent:m},$persistent:m.$persistent},P)}else{const f=Ipe(void 0,u);return{$temps:{permanent:f,tempActions:[]},$persistent:f.$persistent,historic:f.$persistent.historic.innerState,ahistoric:f.$persistent.ahistoric,ephemeral:f.ephemeral}}};It(),It(),l_();function Bpe(a,u){if(typeof a!="object"||a===null)return;if(u.length===0){for(const B of Object.keys(a))delete a[B];return}const f=u.slice(0,u.length-1);let m=a;const b=new WeakMap;for(const B of f){const O=m,q=O[B];if(typeof q!="object"||q===null)return;b.set(q,O),m=q}const P=u.slice().reverse();for(const B of P){if(delete m[B],Object.keys(m).length>0)return;m=b.get(m)}}function Hze(a,{scale:u,origin:f,translate:m}){const b=f+(a-f)*u;return m+b}function Vd(a){for(var u=arguments.length,f=Array(u>1?u-1:0),m=1;m<u;m++)f[m-1]=arguments[m];{var b=Xze[a],P=b?typeof b=="function"?b.apply(null,f):b:"unknown error nr: "+a;throw Error("[Immer] "+P)}}function hA(a){return!!a&&!!a[Jm]}function tE(a){return!!a&&(function(u){if(!u||typeof u!="object")return!1;var f=Object.getPrototypeOf(u);if(f===null)return!0;var m=Object.hasOwnProperty.call(f,"constructor")&&f.constructor;return m===Object||typeof m=="function"&&Function.toString.call(m)===Yze}(a)||Array.isArray(a)||!!a[Wpe]||!!a.constructor[Wpe]||gV(a)||yV(a))}function SI(a,u,f){f===void 0&&(f=!1),pA(a)===0?(f?Object.keys:RV)(a).forEach(function(m){f&&typeof m=="symbol"||u(m,a[m],a)}):a.forEach(function(m,b){return u(b,m,a)})}function pA(a){var u=a[Jm];return u?u.i>3?u.i-4:u.i:Array.isArray(a)?1:gV(a)?2:yV(a)?3:0}function vV(a,u){return pA(a)===2?a.has(u):Object.prototype.hasOwnProperty.call(a,u)}function jze(a,u){return pA(a)===2?a.get(u):a[u]}function Lpe(a,u,f){var m=pA(a);m===2?a.set(u,f):m===3?(a.delete(u),a.add(f)):a[u]=f}function Gze(a,u){return a===u?a!==0||1/a==1/u:a!=a&&u!=u}function gV(a){return Kze&&a instanceof Map}function yV(a){return qze&&a instanceof Set}function nE(a){return a.o||a.t}function _V(a){if(Array.isArray(a))return Array.prototype.slice.call(a);var u=$ze(a);delete u[Jm];for(var f=RV(u),m=0;m<f.length;m++){var b=f[m],P=u[b];P.writable===!1&&(P.writable=!0,P.configurable=!0),(P.get||P.set)&&(u[b]={configurable:!0,writable:!0,enumerable:P.enumerable,value:a[b]})}return Object.create(Object.getPrototypeOf(a),u)}function SV(a,u){return u===void 0&&(u=!1),xV(a)||hA(a)||!tE(a)||(pA(a)>1&&(a.set=a.add=a.clear=a.delete=Vze),Object.freeze(a),u&&SI(a,function(f,m){return SV(m,!0)},!0)),a}function Vze(){Vd(2)}function xV(a){return a==null||typeof a!="object"||Object.isFrozen(a)}function F_(a){var u=Qze[a];return u||Vd(18,a),u}function Npe(){return mA||Vd(0),mA}function wV(a,u){u&&(F_("Patches"),a.u=[],a.s=[],a.v=u)}function zF(a){EV(a),a.p.forEach(Wze),a.p=null}function EV(a){a===mA&&(mA=a.l)}function Fpe(a){return mA={p:[],l:mA,h:a,m:!0,_:0}}function Wze(a){var u=a[Jm];u.i===0||u.i===1?u.j():u.O=!0}function bV(a,u){u._=u.p.length;var f=u.p[0],m=a!==void 0&&a!==f;return u.h.g||F_("ES5").S(u,a,m),m?(f[Jm].P&&(zF(u),Vd(4)),tE(a)&&(a=HF(u,a),u.l||jF(u,a)),u.u&&F_("Patches").M(f[Jm],a,u.u,u.s)):a=HF(u,f,[]),zF(u),u.u&&u.v(u.u,u.s),a!==Vpe?a:void 0}function HF(a,u,f){if(xV(u))return u;var m=u[Jm];if(!m)return SI(u,function(P,B){return Upe(a,m,u,P,B,f)},!0),u;if(m.A!==a)return u;if(!m.P)return jF(a,m.t,!0),m.t;if(!m.I){m.I=!0,m.A._--;var b=m.i===4||m.i===5?m.o=_V(m.k):m.o;SI(m.i===3?new Set(b):b,function(P,B){return Upe(a,m,b,P,B,f)}),jF(a,b,!1),f&&a.u&&F_("Patches").R(m,f,a.u,a.s)}return m.o}function Upe(a,u,f,m,b,P){if(b===f&&Vd(5),hA(b)){var B=HF(a,b,P&&u&&u.i!==3&&!vV(u.D,m)?P.concat(m):void 0);if(Lpe(f,m,B),!hA(B))return;a.m=!1}if(tE(b)&&!xV(b)){if(!a.h.F&&a._<1)return;HF(a,b),u&&u.A.l||jF(a,b)}}function jF(a,u,f){f===void 0&&(f=!1),a.h.F&&a.m&&SV(u,f)}function CV(a,u){var f=a[Jm];return(f?nE(f):a)[u]}function zpe(a,u){if(u in a)for(var f=Object.getPrototypeOf(a);f;){var m=Object.getOwnPropertyDescriptor(f,u);if(m)return m;f=Object.getPrototypeOf(f)}}function AV(a){a.P||(a.P=!0,a.l&&AV(a.l))}function TV(a){a.o||(a.o=_V(a.t))}function MV(a,u,f){var m=gV(u)?F_("MapSet").N(u,f):yV(u)?F_("MapSet").T(u,f):a.g?function(b,P){var B=Array.isArray(b),O={i:B?1:0,A:P?P.A:Npe(),P:!1,I:!1,D:{},l:P,t:b,k:null,o:null,j:null,C:!1},q=O,K=VF;B&&(q=[O],K=WF);var J=Proxy.revocable(q,K),te=J.revoke,ne=J.proxy;return O.k=ne,O.j=te,ne}(u,f):F_("ES5").J(u,f);return(f?f.A:Npe()).p.push(m),m}function GF(a){return hA(a)||Vd(22,a),function u(f){if(!tE(f))return f;var m,b=f[Jm],P=pA(f);if(b){if(!b.P&&(b.i<4||!F_("ES5").K(b)))return b.t;b.I=!0,m=Hpe(f,P),b.I=!1}else m=Hpe(f,P);return SI(m,function(B,O){b&&jze(b.t,B)===O||Lpe(m,B,u(O))}),P===3?new Set(m):m}(a)}function Hpe(a,u){switch(u){case 2:return new Map(a);case 3:return Array.from(a)}return _V(a)}var jpe,mA,PV=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Kze=typeof Map<"u",qze=typeof Set<"u",Gpe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Vpe=PV?Symbol.for("immer-nothing"):((jpe={})["immer-nothing"]=!0,jpe),Wpe=PV?Symbol.for("immer-draftable"):"__$immer_draftable",Jm=PV?Symbol.for("immer-state"):"__$immer_state",Xze={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(a){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+a},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(a){return"Cannot apply patch, path doesn't resolve: "+a},16:'Sets cannot have "replace" patches.',17:function(a){return"Unsupported patch operation: "+a},18:function(a){return"The plugin for '"+a+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+a+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(a){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+a+"'"},22:function(a){return"'current' expects a draft, got: "+a},23:function(a){return"'original' expects a draft, got: "+a},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Yze=""+Object.prototype.constructor,RV=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,$ze=Object.getOwnPropertyDescriptors||function(a){var u={};return RV(a).forEach(function(f){u[f]=Object.getOwnPropertyDescriptor(a,f)}),u},Qze={},VF={get:function(a,u){if(u===Jm)return a;var f=nE(a);if(!vV(f,u))return function(b,P,B){var O,q=zpe(P,B);return q?"value"in q?q.value:(O=q.get)===null||O===void 0?void 0:O.call(b.k):void 0}(a,f,u);var m=f[u];return a.I||!tE(m)?m:m===CV(a.t,u)?(TV(a),a.o[u]=MV(a.A.h,m,a)):m},has:function(a,u){return u in nE(a)},ownKeys:function(a){return Reflect.ownKeys(nE(a))},set:function(a,u,f){var m=zpe(nE(a),u);if(m!=null&&m.set)return m.set.call(a.k,f),!0;if(!a.P){var b=CV(nE(a),u),P=b==null?void 0:b[Jm];if(P&&P.t===f)return a.o[u]=f,a.D[u]=!1,!0;if(Gze(f,b)&&(f!==void 0||vV(a.t,u)))return!0;TV(a),AV(a)}return a.o[u]===f&&typeof f!="number"&&(f!==void 0||u in a.o)||(a.o[u]=f,a.D[u]=!0,!0)},deleteProperty:function(a,u){return CV(a.t,u)!==void 0||u in a.t?(a.D[u]=!1,TV(a),AV(a)):delete a.D[u],a.o&&delete a.o[u],!0},getOwnPropertyDescriptor:function(a,u){var f=nE(a),m=Reflect.getOwnPropertyDescriptor(f,u);return m&&{writable:!0,configurable:a.i!==1||u!=="length",enumerable:m.enumerable,value:f[u]}},defineProperty:function(){Vd(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){Vd(12)}},WF={};SI(VF,function(a,u){WF[a]=function(){return arguments[0]=arguments[0][0],u.apply(this,arguments)}}),WF.deleteProperty=function(a,u){return isNaN(parseInt(u))&&Vd(13),VF.deleteProperty.call(this,a[0],u)},WF.set=function(a,u,f){return u!=="length"&&isNaN(parseInt(u))&&Vd(14),VF.set.call(this,a[0],u,f,a[0])};var Jze=function(){function a(f){var m=this;this.g=Gpe,this.F=!0,this.produce=function(b,P,B){if(typeof b=="function"&&typeof P!="function"){var O=P;P=b;var q=m;return function(re){var ue=this;re===void 0&&(re=O);for(var pe=arguments.length,me=Array(pe>1?pe-1:0),De=1;De<pe;De++)me[De-1]=arguments[De];return q.produce(re,function(Re){var He;return(He=P).call.apply(He,[ue,Re].concat(me))})}}var K;if(typeof P!="function"&&Vd(6),B!==void 0&&typeof B!="function"&&Vd(7),tE(b)){var J=Fpe(m),te=MV(m,b,void 0),ne=!0;try{K=P(te),ne=!1}finally{ne?zF(J):EV(J)}return typeof Promise<"u"&&K instanceof Promise?K.then(function(re){return wV(J,B),bV(re,J)},function(re){throw zF(J),re}):(wV(J,B),bV(K,J))}if(!b||typeof b!="object")return(K=P(b))===Vpe?void 0:(K===void 0&&(K=b),m.F&&SV(K,!0),K);Vd(21,b)},this.produceWithPatches=function(b,P){return typeof b=="function"?function(q){for(var K=arguments.length,J=Array(K>1?K-1:0),te=1;te<K;te++)J[te-1]=arguments[te];return m.produceWithPatches(q,function(ne){return b.apply(void 0,[ne].concat(J))})}:[m.produce(b,P,function(q,K){B=q,O=K}),B,O];var B,O},typeof(f==null?void 0:f.useProxies)=="boolean"&&this.setUseProxies(f.useProxies),typeof(f==null?void 0:f.autoFreeze)=="boolean"&&this.setAutoFreeze(f.autoFreeze)}var u=a.prototype;return u.createDraft=function(f){tE(f)||Vd(8),hA(f)&&(f=GF(f));var m=Fpe(this),b=MV(this,f,void 0);return b[Jm].C=!0,EV(m),b},u.finishDraft=function(f,m){var b=f&&f[Jm];b&&b.C||Vd(9),b.I&&Vd(10);var P=b.A;return wV(P,m),bV(void 0,P)},u.setAutoFreeze=function(f){this.F=f},u.setUseProxies=function(f){f&&!Gpe&&Vd(20),this.g=f},u.applyPatches=function(f,m){var b;for(b=m.length-1;b>=0;b--){var P=m[b];if(P.path.length===0&&P.op==="replace"){f=P.value;break}}var B=F_("Patches").$;return hA(f)?B(f,m):this.produce(f,function(O){return B(O,m.slice(b+1))})},a}(),Zm=new Jze;Zm.produce,Zm.produceWithPatches.bind(Zm),Zm.setAutoFreeze.bind(Zm),Zm.setUseProxies.bind(Zm),Zm.applyPatches.bind(Zm);var IV=Zm.createDraft.bind(Zm),kV=Zm.finishDraft.bind(Zm);Ia(),_p(),Cke(),xj(),Mke(),wF(),wf(),we();var Kg={create(a){const u={byId:{},allIds:{}};if(a)for(const[f,m]of a)u.byId[f]=m,u.allIds[f]=!0;return u},shallowCopy(a){return{byId:T({},a==null?void 0:a.byId),allIds:T({},a==null?void 0:a.allIds)}},add(a,u,f){return{byId:R(T({},a==null?void 0:a.byId),{[u]:f}),allIds:R(T({},a==null?void 0:a.allIds),{[u]:!0})}},merge(a){const u=Kg.create();for(let f=0;f<a.length;f++)u.byId=T(T({},u.byId),a[f].byId),u.allIds=T(T({},u.allIds),a[f].allIds);return u},remove(a,u){const f=Kg.shallowCopy(a);return delete f.allIds[u],delete f.byId[u],f},filter(a,u){const f=Kg.shallowCopy(a);for(const[m,b]of Object.entries(f.byId))u(b)||(delete f.allIds[m],delete f.byId[m]);return f}},Kpe=a=>(DV=a,OV),DV,dm=()=>{if(DV===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return DV},OV;(function(a){(function(u){(function(f){(function(m){function b(P){var B;const O=dm().historic;(B=O.panelPositions)!=null||(O.panelPositions={}),O.panelPositions[P.panelId]=P.position}m.setPanelPosition=b})(f.panelPositions||(f.panelPositions={})),function(m){function b(){var P,B;return(B=(P=dm().historic).panels)!=null||(P.panels={}),dm().historic.panels}m._ensure=b,function(P){function B(){var O;const q=a.studio.historic.panels._ensure();return(O=q.outlinePanel)!=null||(q.outlinePanel={}),q.outlinePanel}P._ensure=B,function(O){function q(J){const te=[];for(const ne of Z1(J))Ke(ne)?te.push(T({type:"Project"},ne.address)):Le(ne)?(te.push(T({type:"Sheet"},ne.template.address)),a.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(ne.address)):Ge(ne)?te.push(T({type:"Sheet"},ne.address)):ut(ne)?(te.push(T({type:"SheetObject"},ne.template.address)),a.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(ne.sheet.address)):st(ne)&&te.push(T({type:"SheetObject"},ne.address));P._ensure().selection=te}O.set=q;function K(){P._ensure().selection=[]}O.unset=K}(P.selection||(P.selection={}))}(m.outline||(m.outline={})),function(P){function B(){var O;const q=a.studio.historic.panels._ensure();return(O=q.sequenceEditor)!=null||(q.sequenceEditor={}),q.sequenceEditor}P._ensure=B,function(O){function q(){var J;const te=P._ensure();return(J=te.graphEditor)!=null||(te.graphEditor={height:.5,isOpen:!1}),te.graphEditor}function K(J){q().isOpen=J.isOpen}O.setIsOpen=K}(P.graphEditor||(P.graphEditor={}))}(m.sequenceEditor||(m.sequenceEditor={}))}(f.panels||(f.panels={})),function(m){(function(b){function P(B){const O=dm().historic;return O.projects.stateByProjectId[B.projectId]||(O.projects.stateByProjectId[B.projectId]={stateBySheetId:{}}),O.projects.stateByProjectId[B.projectId]}b._ensure=P,function(B){function O(K){const J=a.studio.historic.projects.stateByProjectId._ensure(K);return J.stateBySheetId[K.sheetId]||(J.stateBySheetId[K.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),J.stateBySheetId[K.sheetId]}B._ensure=O;function q(K){a.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(K).selectedInstanceId=K.sheetInstanceId}B.setSelectedInstanceId=q,function(K){function J(pe){const{selectedPropsByObject:me}=B._ensure(pe).sequenceEditor;me[pe.objectKey]||(me[pe.objectKey]={});const De=me[pe.objectKey],Re=Xe(pe.pathToProp),He=new Set(Object.keys(nI));for(const[Fe,Qe]of Object.entries(GF(me)))for(const[gt,Wt]of Object.entries(Qe))He.delete(Wt);const Oe=He.size>0?He.values().next().value:Object.keys(nI)[0];De[Re]=Oe}K.addPropToGraphEditor=J;function te(pe){const{selectedPropsByObject:me}=B._ensure(pe).sequenceEditor;if(!me[pe.objectKey])return;const De=me[pe.objectKey],Re=Xe(pe.pathToProp);De[Re]&&Bpe(me,[pe.objectKey,Re])}K.removePropFromGraphEditor=te;function ne(pe){const me=a.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(pe).sequenceEditor;return me.markerSet||(me.markerSet=Kg.create()),me.markerSet}function re(pe){const me=ne(pe.sheetAddress),De=pe.markers.filter(Fe=>!!isFinite(Fe.position)).map(Fe=>R(T({},Fe),{position:pe.snappingFunction(Fe.position)})),Re=vl(De,"id");let He=Kg.filter(me,Fe=>Fe&&!Re[Fe.id]);const Oe=vl(Object.values(He.byId),"position");De.forEach(({position:Fe})=>{const Qe=Oe[Fe];Qe&&(He=Kg.remove(He,Qe.id))}),Object.assign(me,Kg.merge([He,Kg.create(De.map(Fe=>[Fe.id,Fe]))]))}K.replaceMarkers=re;function ue(pe){const me=ne(pe.sheetAddress);Object.assign(me,Kg.remove(me,pe.markerId))}K.removeMarker=ue}(B.sequenceEditor||(B.sequenceEditor={}))}(b.stateBySheetId||(b.stateBySheetId={}))})(m.stateByProjectId||(m.stateByProjectId={}))}(f.projects||(f.projects={}))})(u.historic||(u.historic={})),function(f){function m(b){dm().ephemeral.showOutline=b}f.setShowOutline=m,function(b){(function(P){function B(O){const q=dm().ephemeral;return q.projects.stateByProjectId[O.projectId]||(q.projects.stateByProjectId[O.projectId]={stateBySheetId:{}}),q.projects.stateByProjectId[O.projectId]}P._ensure=B,function(O){function q(K){const J=a.studio.ephemeral.projects.stateByProjectId._ensure(K);return J.stateBySheetId[K.sheetId]||(J.stateBySheetId[K.sheetId]={stateByObjectKey:{}}),J.stateBySheetId[K.sheetId]}O._ensure=q,function(K){function J(te){var ne,re;const ue=a.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(te).stateByObjectKey;return(re=ue[ne=te.objectKey])!=null||(ue[ne]={}),ue[te.objectKey]}K._ensure=J,function(te){function ne(ue){var pe;const me=a.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(ue);return(pe=me.valuesBeingScrubbed)!=null||(me.valuesBeingScrubbed={}),me.valuesBeingScrubbed}te._ensure=ne;function re(ue){gC(ne(ue),ue.pathToProp,!0)}te.flag=re}(K.propsBeingScrubbed||(K.propsBeingScrubbed={}))}(O.stateByObjectKey||(O.stateByObjectKey={}))}(P.stateBySheetId||(P.stateBySheetId={}))})(b.stateByProjectId||(b.stateByProjectId={}))}(f.projects||(f.projects={}))}(u.ephemeral||(u.ephemeral={})),function(f){function m(q){dm().ahistoric.pinOutline=q}f.setPinOutline=m;function b(q){dm().ahistoric.pinDetails=q}f.setPinDetails=b;function P(q){dm().ahistoric.pinNotifications=q}f.setPinNotifications=P;function B(q){dm().ahistoric.visibilityState=q}f.setVisibilityState=B;function O(q){const K=Ze(q.map(ne=>ne.pathToProp)),J=q.map(({keyframe:ne,pathToProp:re})=>({keyframe:ne,pathToProp:re.slice(K.length)})),te=dm();te.ahistoric.clipboard?te.ahistoric.clipboard.keyframesWithRelativePaths=J:te.ahistoric.clipboard={keyframesWithRelativePaths:J}}f.setClipboardKeyframes=O,function(q){(function(K){function J(te){const ne=dm().ahistoric;return ne.projects.stateByProjectId[te.projectId]||(ne.projects.stateByProjectId[te.projectId]={stateBySheetId:{}}),ne.projects.stateByProjectId[te.projectId]}K._ensure=J,function(te){function ne(re){const ue=a.studio.ahistoric.projects.stateByProjectId._ensure(re);return ue.stateBySheetId[re.sheetId]||(ue.stateBySheetId[re.sheetId]={}),ue.stateBySheetId[re.sheetId]}te._ensure=ne,function(re){function ue(pe){const me=a.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(pe);return me.sequence||(me.sequence={}),me.sequence}re._ensure=ue,function(pe){function me(Re){a.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(Re).focusRange={range:Re.range,enabled:Re.enabled}}pe.set=me;function De(Re){a.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(Re).focusRange=void 0}pe.unset=De}(re.focusRange||(re.focusRange={})),function(pe){function me(De){a.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(De).clippedSpaceRange=T({},De.range)}pe.set=me}(re.clippedSpaceRange||(re.clippedSpaceRange={})),function(pe){function me(Re){const He=a.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(Re);let Oe=He.collapsableItems;return Oe||(Oe=He.collapsableItems=Kg.create()),Oe}function De(Re){const He=me(Re);Object.assign(He,Kg.add(He,Re.studioSheetItemKey,{isCollapsed:Re.isCollapsed}))}pe.set=De}(re.sequenceEditorCollapsableItems||(re.sequenceEditorCollapsableItems={}))}(te.sequence||(te.sequence={}))}(K.stateBySheetId||(K.stateBySheetId={}))})(q.stateByProjectId||(q.stateByProjectId={}))}(f.projects||(f.projects={}))}(u.ahistoric||(u.ahistoric={}))})(a.studio||(a.studio={})),function(u){(function(f){(function(m){function b(P){const B=dm().historic.coreByProject[P.projectId].revisionHistory,O=50;B.unshift(P.revision),B.length>O&&(B.length=O)}m.add=b})(f.revisionHistory||(f.revisionHistory={})),function(m){function b(P){const B=dm().historic.coreByProject[P.projectId].sheetsById;return B[P.sheetId]||(B[P.sheetId]={staticOverrides:{byObject:{}}}),B[P.sheetId]}m._ensure=b,function(P){function B(Oe){var Fe;const Qe=a.coreByProject.historic.sheetsById._ensure(Oe);return(Fe=Qe.sequence)!=null||(Qe.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),Qe.sequence}P._ensure=B;function O(Oe){B(Oe).length=tl(parseFloat(Oe.length.toFixed(2)),.01,1/0)}P.setLength=O;function q(Oe){var Fe,Qe;const gt=a.coreByProject.historic.sheetsById.sequence._ensure(Oe).tracksByObject;return(Qe=gt[Fe=Oe.objectKey])!=null||(gt[Fe]={trackData:{},trackIdByPropPath:{}}),gt[Oe.objectKey]}function K(Oe,Fe){const Qe=q(Oe),gt=Xe(Oe.pathToProp);if(typeof Qe.trackIdByPropPath[gt]=="string")return;const Tt=Bke(),An={type:"BasicKeyframedTrack",__debugName:`${Oe.objectKey}:${gt}`,keyframes:[]};Qe.trackData[Tt]=An,Qe.trackIdByPropPath[gt]=Tt}P.setPrimitivePropAsSequenced=K;function J(Oe){const Fe=q(Oe),Qe=Xe(Oe.pathToProp),gt=Fe.trackIdByPropPath[Qe];typeof gt=="string"&&(delete Fe.trackIdByPropPath[Qe],delete Fe.trackData[gt],a.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(Oe))}P.setPrimitivePropAsStatic=J;function te(Oe){const Fe=q(Oe);for(const Qe of Object.keys(Fe.trackIdByPropPath)){const gt=JSON.parse(Qe);if(Oe.pathToProp.every((Tt,An)=>gt[An]===Tt)){const Tt=Fe.trackIdByPropPath[Qe];if(typeof Tt!="string")continue;delete Fe.trackIdByPropPath[Qe],delete Fe.trackData[Tt]}}a.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(Oe)}P.setCompoundPropAsStatic=te;function ne(Oe){return q(Oe).trackData[Oe.trackId]}function re(Oe){const Fe=Oe.snappingFunction(Oe.position),Qe=ne(Oe);if(!Qe)return;const{keyframes:gt}=Qe,Wt=gt.findIndex(jn=>jn.position===Fe);if(Wt!==-1){const jn=gt[Wt];jn.value=Oe.value;return}const Tt=di(gt,jn=>jn.position<Fe);if(Tt===-1){gt.unshift({id:R2(),position:Fe,connectedRight:!0,handles:Oe.handles||[.5,1,.5,0],value:Oe.value});return}const An=gt[Tt];gt.splice(Tt+1,0,{id:R2(),position:Fe,connectedRight:An.connectedRight,handles:Oe.handles||[.5,1,.5,0],value:Oe.value})}P.setKeyframeAtPosition=re;function ue(Oe){const Fe=ne(Oe);if(!Fe)return;const{keyframes:Qe}=Fe,gt=Qe.findIndex(Wt=>Wt.position===Oe.position);gt!==-1&&Qe.splice(gt,1)}P.unsetKeyframeAtPosition=ue;function pe(Oe){const Fe=ne(Oe);if(!Fe)return;const Wt=GF(Fe.keyframes).filter(Tt=>Oe.keyframeIds.includes(Tt.id)).map(Tt=>{const An=Tt.position,jn=Oe.snappingFunction(Hze(An,Oe));return R(T({},Tt),{position:jn})});He(R(T({},Oe),{keyframes:Wt}))}P.transformKeyframes=pe;function me(Oe){const Fe=ne(Oe);Fe&&(Fe.keyframes=Fe.keyframes.map((Qe,gt)=>{const Wt=Fe.keyframes[gt-1],Tt=Oe.keyframeIds.includes(Qe.id),An=Oe.keyframeIds.includes(Wt==null?void 0:Wt.id);return Tt&&!An?R(T({},Qe),{handles:[Qe.handles[0],Qe.handles[1],Oe.handles[0],Oe.handles[1]]}):Tt&&An?R(T({},Qe),{handles:[Oe.handles[2],Oe.handles[3],Oe.handles[0],Oe.handles[1]]}):An?R(T({},Qe),{handles:[Oe.handles[2],Oe.handles[3],Qe.handles[2],Qe.handles[3]]}):Qe}))}P.setTweenBetweenKeyframes=me;function De(Oe){const Fe=ne(Oe);Fe&&(Fe.keyframes=Fe.keyframes.map(Qe=>{var gt,Wt,Tt,An,jn,jt,xn,_r;return Qe.id===Oe.keyframeId?R(T({},Qe),{handles:[(Wt=(gt=Oe.end)==null?void 0:gt[0])!=null?Wt:Qe.handles[0],(An=(Tt=Oe.end)==null?void 0:Tt[1])!=null?An:Qe.handles[1],(jt=(jn=Oe.start)==null?void 0:jn[0])!=null?jt:Qe.handles[2],(_r=(xn=Oe.start)==null?void 0:xn[1])!=null?_r:Qe.handles[3]]}):Qe}))}P.setHandlesForKeyframe=De;function Re(Oe){const Fe=ne(Oe);Fe&&(Fe.keyframes=Fe.keyframes.filter(Qe=>Oe.keyframeIds.indexOf(Qe.id)===-1))}P.deleteKeyframes=Re;function He(Oe){const Fe=ne(Oe);if(!Fe)return;const Qe=GF(Fe.keyframes),gt=Oe.keyframes.filter(jt=>!(typeof jt.value=="number"&&!isFinite(jt.value)||!jt.handles.every(xn=>isFinite(xn)))).map(jt=>R(T({},jt),{position:Oe.snappingFunction(jt.position)})),Wt=vl(gt,"id"),Tt=Qe.filter(jt=>!Wt[jt.id]),An=vl(Tt,"position");gt.forEach(({position:jt})=>{const xn=An[jt];xn&&y2(Tt,xn)});const jn=w2([...Tt,...gt],"position");Fe.keyframes=jn}P.replaceKeyframes=He}(m.sequence||(m.sequence={})),function(P){(function(B){function O(te){var ne,re;const ue=a.coreByProject.historic.sheetsById._ensure(te).staticOverrides.byObject;return(re=ue[ne=te.objectKey])!=null||(ue[ne]={}),ue[te.objectKey]}function q(te){const ne=O(te);gC(ne,te.pathToProp,te.value)}B.setValueOfCompoundProp=q;function K(te){const ne=O(te);gC(ne,te.pathToProp,te.value)}B.setValueOfPrimitiveProp=K;function J(te){const ne=a.coreByProject.historic.sheetsById._ensure(te).staticOverrides.byObject[te.objectKey];ne&&Bpe(ne,te.pathToProp)}B.unsetValueOfPrimitiveProp=J})(P.byObject||(P.byObject={}))}(m.staticOverrides||(m.staticOverrides={}))}(f.sheetsById||(f.sheetsById={}))})(u.historic||(u.historic={}))}(a.coreByProject||(a.coreByProject={}))})(OV||(OV={}));function qpe(){let a,u;const f=new Promise((b,P)=>{a=B=>{b(B),m.status="resolved"},u=B=>{P(B),m.status="rejected"}}),m={resolve:a,reject:u,promise:f,status:"pending"};return m}var Zze=U(Ln);function e5e(a){let u=a.getState();const f=new Zze.Atom(u);return a.subscribe(()=>{const m=a.getState();f.setState(m),u=m}),f}yo(),Iv();function t5e(a){var u,f=a.Symbol;return typeof f=="function"?f.observable?u=f.observable:(u=f("observable"),f.observable=u):u="@@observable",u}var xI;typeof self<"u"?xI=self:typeof window<"u"?xI=window:typeof Jd<"u"?xI=Jd:xI=t;var n5e=t5e(xI),Xpe=n5e,Ype={INIT:"@@redux/INIT"};function $pe(a,u,f){var m;if(typeof u=="function"&&typeof f>"u"&&(f=u,u=void 0),typeof f<"u"){if(typeof f!="function")throw new Error("Expected the enhancer to be a function.");return f($pe)(a,u)}if(typeof a!="function")throw new Error("Expected the reducer to be a function.");var b=a,P=u,B=[],O=B,q=!1;function K(){O===B&&(O=B.slice())}function J(){return P}function te(pe){if(typeof pe!="function")throw new Error("Expected listener to be a function.");var me=!0;return K(),O.push(pe),function(){if(me){me=!1,K();var Re=O.indexOf(pe);O.splice(Re,1)}}}function ne(pe){if(!Rg(pe))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof pe.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(q)throw new Error("Reducers may not dispatch actions.");try{q=!0,P=b(P,pe)}finally{q=!1}for(var me=B=O,De=0;De<me.length;De++){var Re=me[De];Re()}return pe}function re(pe){if(typeof pe!="function")throw new Error("Expected the nextReducer to be a function.");b=pe,ne({type:Ype.INIT})}function ue(){var pe,me=te;return pe={subscribe:function(Re){if(typeof Re!="object")throw new TypeError("Expected the observer to be an object.");function He(){Re.next&&Re.next(J())}He();var Oe=me(He);return{unsubscribe:Oe}}},pe[Xpe]=function(){return this},pe}return ne({type:Ype.INIT}),m={dispatch:ne,subscribe:te,getState:J,replaceReducer:re},m[Xpe]=ue,m}function r5e(a){typeof console<"u"&&typeof console.error=="function"&&console.error(a);try{throw new Error(a)}catch{}}function i5e(){for(var a=arguments.length,u=Array(a),f=0;f<a;f++)u[f]=arguments[f];return u.length===0?function(m){return m}:u.length===1?u[0]:u.reduce(function(m,b){return function(){return m(b.apply(void 0,arguments))}})}function Qpe(){}typeof Qpe.name=="string"&&Qpe.name!=="isCrushed"&&r5e("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.");function a5e(a){const u=[];{const b=typeof window=="object"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__(a.devtoolsOptions):wa;u.push(b)}const f=i5e(...u);return $pe(a.rootReducer,void 0,f)}ja(),ge();var o5e=(a,u,f)=>{const m=K=>{a.dispatch(dA.replacePersistentState(K))},b=f+".persistent",P=()=>a.getState().$persistent;q();let B=P();const O=()=>{const K=P();K!==B&&(B=K,localStorage.setItem(b,JSON.stringify(K)))};a.subscribe(ee(O,1e3)),window&&window.addEventListener("beforeunload",O);function q(){const K=localStorage.getItem(b);if(K){let J,te=!0;try{J=JSON.parse(K),te=!1}catch{Ir.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{te||m(J),u()}}else u()}};xoe(),we(),Hm(),rL();var KF=U(Ln);Aw(),wf(),Lfe();function BV(a){if(typeof a=="boolean"||typeof a=="string"||typeof a=="number")return a;if(Rg(a)){const u={};let f=!1;for(const[m,b]of Object.entries(a))BV(b)!==void 0&&(u[m]=b,f=!0);if(f)return u}else return}function Jpe(a,u,f){for(const[m,b]of Object.entries(a.props))if(b.type==="compound")Jpe(b,[...u,m],f);else{if(b.type==="enum")throw new Error("Not yet implemented");f(b,[...u,m])}}function s5e(a,u,f){return{set:(m,b)=>{a();const P=BV(b);if(typeof P>"u")return;const{root:B,path:O}=(0,KF.getPointerParts)(m);if(ut(B)){const q=B.template.getMapOfValidSequenceTracks_forStudio().getValue(),K=FL(B.template.staticConfig,O);if(!K)throw new Error(`Object ${B.address.objectKey} does not have a prop at ${JSON.stringify(O)}`);const J=(te,ne,re)=>{if(te==null)return;if(BV(ne.deserializeAndSanitize(te))===void 0)throw new Error(`Invalid value ${kG(te)} for object.props${re.map(De=>`[${JSON.stringify(De)}]`).join("")} is invalid`);const pe=R(T({},B.address),{pathToProp:re}),me=Rh(q,re);if(typeof me=="string"){const De=B.sheet.getSequence();De.position=De.closestGridPosition(De.position),u.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(R(T({},pe),{trackId:me,position:De.position,value:te,snappingFunction:De.closestGridPosition}))}else u.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(R(T({},pe),{value:te}))};if(K.type==="compound"){const te=(0,KF.getPointerParts)(m).path,ne=te.length;Jpe(K,te,(re,ue)=>{const pe=ue.slice(ne),me=yw(P,pe);if(typeof me<"u")J(me,re,ue);else throw new Error(`Property object.props${ue.map(De=>`[${JSON.stringify(De)}]`).join("")} is required but not provided`)})}else{if(K.type==="enum")throw new Error("Enums aren't implemented yet");J(P,K,O)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:m=>{a();const{root:b,path:P}=(0,KF.getPointerParts)(m);if(ut(b)){const B=b.template.getMapOfValidSequenceTracks_forStudio().getValue(),O=yw(b.template.getDefaultValues().getValue(),P),q=FL(b.template.staticConfig,P),K=(J,te)=>{const ne=R(T({},b.address),{pathToProp:te}),re=Rh(B,te);typeof re=="string"?u.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(R(T({},ne),{trackId:re,position:b.sheet.getSequence().positionSnappedToGrid})):q!==void 0&&u.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(ne)};q.type==="compound"?dV(O,(J,te)=>{K(J,te)},(0,KF.getPointerParts)(m).path):K(O,P)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return a(),f},get stateEditors(){return u}}}var l5e=class{constructor(){Q(this,"_reduxStore"),Q(this,"_atom"),Q(this,"atomP"),this._reduxStore=a5e({rootReducer:zze,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=e5e(this._reduxStore),this.atomP=this._atom.pointer}initialize(a){const u=qpe();return a.usePersistentStorage===!0?o5e(this._reduxStore,()=>{this.tempTransaction(({drafts:f})=>{f.ephemeral.initialised=!0}).commit(),u.resolve()},a.persistenceKey):(this.tempTransaction(({drafts:f})=>{f.ephemeral.initialised=!0}).commit(),u.resolve()),u.promise}getState(){return this._reduxStore.getState()}__dev_startHistoryFromScratch(a){this._reduxStore.dispatch(dA.historic.startHistoryFromScratch(dA.reduceParts(u=>R(T({},u),{historic:a}))))}tempTransaction(a){const u=Uze();let f;const m=u.push(dA.reduceParts(b=>{const P={historic:IV(b.historic),ahistoric:IV(b.ahistoric),ephemeral:IV(b.ephemeral)};let B=!0,O=()=>{if(!B)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")};const q=Kpe(P),K=s5e(O,q,P);try{return a(K),B=!1,{historic:kV(P.historic),ahistoric:kV(P.ahistoric),ephemeral:kV(P.ephemeral)}}catch(J){return f=J,b}finally{Kpe(void 0)}}));if(this._reduxStore.dispatch(m),f)throw this._reduxStore.dispatch(u.discard()),f;return{commit:()=>{this._reduxStore.dispatch(u.commit())},discard:()=>{this._reduxStore.dispatch(u.discard())}}}undo(){this._reduxStore.dispatch(dA.historic.undo())}redo(){this._reduxStore.dispatch(dA.historic.redo())}createContentOfSaveFile(a){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a])throw new Error(`Project ${a} has not been initialized.`);const f=Soe();this.tempTransaction(({stateEditors:P})=>{P.coreByProject.historic.revisionHistory.add({projectId:a,revision:f})}).commit();const m=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a];return T({},m)}};u8();var u5e=U(Ln),LV=class{constructor(){Q(this,"_values",{})}get(a,u){if(this.has(a))return this._values[a];{const f=u();return this._values[a]=f,f}}has(a){return this._values.hasOwnProperty(a)}};we(),oS(),Te(),wf();var c5e=class{constructor(a){Q(this,"ui",{hide(){Z().ui.hide()},get isHidden(){return Z().ui.isHidden},restore(){Z().ui.restore()},renderToolset(u,f){return Z().ui.renderToolset(u,f)}}),Q(this,"_cache",new LV)}initialize(a){return Z().initialize(a)}extend(a){Z().extend(a)}transaction(a){return Z().transaction(({set:u,unset:f})=>a({set:u,unset:f}))}_getSelectionDerivation(){return this._cache.get("_getStateDerivation()",()=>(0,u5e.prism)(()=>aS().filter(a=>a.type==="Theatre_SheetObject"||a.type==="Theatre_Sheet").map(a=>a.publicApi)))}_getSelection(){return this._getSelectionDerivation().getValue()}setSelection(a){const u=[...a].filter(f=>Se(f)||_e(f)).map(f=>Z().corePrivateAPI(f));Z().transaction(({stateEditors:f})=>{f.studio.historic.panels.outline.selection.set(u)})}onSelectionChange(a){return this._getSelectionDerivation().tapImmediate(KL,a)}get selection(){return this._getSelection()}scrub(){return Z().scrub()}getStudioProject(){const a=Z().core;if(!a)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return Z().getStudioProject(a)}debouncedScrub(a=1e3){let u;const f=ee(()=>{const b=u;b&&(u=void 0,b.commit())},a);return{capture:b=>{u||(u=this.scrub());let P=!0;try{u.capture(b),P=!1}finally{if(P){const B=u;u=void 0,B.discard()}else f()}}}}createPane(a){return Z().paneManager.createPane(a)}destroyPane(a){return Z().paneManager.destroyPane(a)}createContentOfSaveFile(a){return Z().createContentOfSaveFile(a)}};P2();var rE=U(Ln);Kce();var f5e=class{constructor(a){this._studio=a,Q(this,"_cache",new LV),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){const a=this._getAllPanes();a.changesWithoutValues().tap(()=>{a.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,rE.prism)(()=>{if(!(0,rE.val)(this._studio.coreP))return{};const u=(0,rE.val)(this._studio.atomP.historic.panelInstanceDesceriptors),f=(0,rE.val)(this._studio.atomP.ephemeral.extensions.paneClasses),m={};for(const b of Object.values(u)){if(!b)continue;const P=f[b.paneClass];if(!P)continue;const{instanceId:B}=b,{extensionId:O,classDefinition:q}=P,K=rE.prism.memo(`instance-${b.instanceId}`,()=>({extensionId:O,instanceId:B,definition:q}),Wce);m[B]=K}return m}))}get allPanesD(){return this._getAllPanes()}createPane(a){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");const f=(0,rE.val)(this._studio.atomP.ephemeral.extensions.paneClasses[a].extensionId),m=(0,rE.val)(this._studio.atomP.historic.panelInstanceDesceriptors);let b;for(let P=1;P<1e3&&(b=`${a} #${P}`,!!m[b]);P++);if(!f)throw new Error(`Pane class "${a}" is not registered.`);return this._studio.transaction(({drafts:P})=>{P.historic.panelInstanceDesceriptors[b]={instanceId:b,paneClass:a}}),this._getAllPanes().getValue()[b]}destroyPane(a){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:f})=>{delete f.historic.panelInstanceDesceriptors[a]})}},d5e=U(Ln);Te();var Zpe=30*60*1e3,h5e=1e3*60*60;function p5e(){return de(this,null,function*(){for(;;){const a=(0,d5e.val)(Z().atomP.ahistoric.updateChecker);if(a&&a.result!=="error"){const u=a.lastChecked,f=Date.now(),m=Math.abs(f-u);m<Zpe&&(yield NV(Zpe-m))}try{const u=yield fetch(new Request("https://updates.theatrejs.com/updates/0.5.1"));if(u.ok){const f=yield u.json();if(!m5e(f))throw new Error("Bad response");Z().transaction(({drafts:m})=>{m.ahistoric.updateChecker={lastChecked:Date.now(),result:T({},f)}}),yield NV(1e3)}else throw new Error(`HTTP Error ${u.statusText}`)}catch{yield NV(h5e)}}})}var NV=a=>new Promise(u=>setTimeout(u,a));function m5e(a){if(typeof a!="object")return!1;const u=a;return typeof u.hasUpdates!="boolean"?!1:u.hasUpdates===!0&&typeof u.newVersion=="string"&&typeof u.releasePage=="string"||u.hasUpdates===!1}var v5e=U(N2()),g5e=typeof window<"u"?(vze(),Spe):null,y5e=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,_5e="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",S5e=class{constructor(){Q(this,"ui"),Q(this,"publicApi"),Q(this,"address"),Q(this,"_projectsProxy",new NF.PointerProxy(new NF.Atom({}).pointer)),Q(this,"projectsP",this._projectsProxy.pointer),Q(this,"_store",new l5e),Q(this,"_corePrivateApi"),Q(this,"_cache",new LV),Q(this,"paneManager"),Q(this,"_coreAtom",new NF.Atom({})),Q(this,"_initializedDeferred",qpe()),Q(this,"_initializeFnCalled",!1),Q(this,"_didWarnAboutNotInitializing",!1),this.address={studioId:$P(10)},this.publicApi=new c5e(this),typeof window<"u"&&(this.ui=new g5e.default(this)),this._attachToIncomingProjects(),this.paneManager=new f5e(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(y5e),this._didWarnAboutNotInitializing=!0)},100)}get atomP(){return this._store.atomP}initialize(a){return de(this,null,function*(){if(this._initializeFnCalled)return console.log("`studio.initialize()` is already called. Ignoring subsequent calls."),this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(_5e);const u={persistenceKey:"theatre-0.4",usePersistentStorage:!0};typeof(a==null?void 0:a.persistenceKey)=="string"&&(u.persistenceKey=a.persistenceKey),((a==null?void 0:a.usePersistentStorage)===!1||typeof window>"u")&&(u.usePersistentStorage=!1);try{yield this._store.initialize(u)}catch(f){this._initializedDeferred.reject(f);return}this._initializedDeferred.resolve(),this.ui&&(this.ui.render(),p5e())})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){const a=(0,NF.valueDerivation)(this.projectsP),u=f=>{for(const m of Object.values(f))m.isAttachedToStudio||m.attachToStudio(this)};a.changesWithoutValues().tap(()=>{u(a.getValue())}),u(a.getValue())}setCoreBits(a){this._corePrivateApi=a.privateAPI,this._coreAtom.setIn(["core"],a.coreExports),this._setProjectsP(a.projectsP)}_setProjectsP(a){this._projectsProxy.setPointer(a)}scrub(){return new yze(this)}tempTransaction(a){return this._store.tempTransaction(a)}transaction(a){return this.tempTransaction(a).commit()}__dev_startHistoryFromScratch(a){return this._store.__dev_startHistoryFromScratch(a)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.getState().core}get coreP(){return this._coreAtom.pointer.core}extend(a){if(!a||typeof a!="object")throw new Error("Extensions must be JS objects");if(typeof a.id!="string")throw new Error("extension.id must be a string");this.transaction(({drafts:u})=>{var f;if(u.ephemeral.extensions.byId[a.id]){const b=u.ephemeral.extensions.byId[a.id];if(a===b||(0,v5e.default)(a,b))return;throw new Error(`Extension id "${a.id}" is already defined`)}u.ephemeral.extensions.byId[a.id]=a;const m=u.ephemeral.extensions.paneClasses;(f=a.panes)==null||f.forEach(b=>{if(typeof b.class!="string")throw new Error("pane.class must be a string");if(b.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");const P=m[b.class];if(P)throw new Error(`Pane class "${b.class}" already exists and is supplied by extension ${P}`);m[b.class]={extensionId:a.id,classDefinition:b}})})}getStudioProject(a){return this._cache.get("getStudioProject",()=>a.getProject("Studio"))}getExtensionSheet(a,u){return this._cache.get("extensionSheet-"+a,()=>this.getStudioProject(u).sheet("Extension "+a))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(a){return this._store.createContentOfSaveFile(a)}},FV="__TheatreJS_StudioBundle",x5e="__TheatreJS_CoreBundle",w5e="__TheatreJS_Notifications",E5e=class{constructor(a){this._studio=a,Q(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(a){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=a;let u;a.getBitsForStudio(this._studio,f=>{u=f}),this._studio.setCoreBits(u)}},b5e=U(xt());Hn();var C5e=lt.div``,A5e=a=>b5e.default.createElement(C5e,null),T5e=A5e;oV();var UV=new S5e;fe(UV);var M5e=UV.publicApi,P5e=M5e;R5e();function R5e(){if(typeof window>"u")return;const a=window[FV];if(typeof a<"u")throw typeof a=="object"&&a&&typeof a.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error(`The variable window.${FV} seems to be already set by a module other than @theatre/core.`);const u=new E5e(UV);window[FV]=u;const f=window[x5e];f&&f!==null&&f.type==="Theatre_CoreBundle"&&u.registerCoreBundle(f)}typeof window<"u"&&(window[w5e]={notify:$he});/*
object-assign
(c) Sindre Sorhus
@license MIT
*//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *//**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 *//** @license MIT License (c) copyright 2010-2014 original author or authors *//** @license React v0.20.2
 * scheduler-tracing.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v0.20.2
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */})(W4,W4.exports);var Not=W4.exports;const Am=tH(Not);var Fot=Object.create,vB=Object.defineProperty,Uot=Object.defineProperties,zot=Object.getOwnPropertyDescriptor,Hot=Object.getOwnPropertyDescriptors,jot=Object.getOwnPropertyNames,K4=Object.getOwnPropertySymbols,Got=Object.getPrototypeOf,XZ=Object.prototype.hasOwnProperty,ZRe=Object.prototype.propertyIsEnumerable,lQ=(t,e,n)=>e in t?vB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ao=(t,e)=>{for(var n in e||(e={}))XZ.call(e,n)&&lQ(t,n,e[n]);if(K4)for(var n of K4(e))ZRe.call(e,n)&&lQ(t,n,e[n]);return t},Zd=(t,e)=>Uot(t,Hot(e)),eIe=t=>vB(t,"__esModule",{value:!0}),v0=(t,e)=>{var n={};for(var r in t)XZ.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&K4)for(var r of K4(t))e.indexOf(r)<0&&ZRe.call(t,r)&&(n[r]=t[r]);return n},YZ=(t,e)=>function(){return t&&(e=(0,t[Object.keys(t)[0]])(t=0)),e},Vo=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},Vot=(t,e)=>{eIe(t);for(var n in e)vB(t,n,{get:e[n],enumerable:!0})},Wot=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of jot(e))!XZ.call(t,r)&&r!=="default"&&vB(t,r,{get:()=>e[r],enumerable:!(n=zot(e,r))||n.enumerable});return t},pa=t=>Wot(eIe(vB(t!=null?Fot(Got(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Sa=(t,e,n)=>(lQ(t,typeof e!="symbol"?e+"":e,n),n),YH=Vo({"../../node_modules/object-assign/index.js"(t,e){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function l(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var h={},v=0;v<10;v++)h["_"+String.fromCharCode(v)]=v;var S=Object.getOwnPropertyNames(h).map(function(A){return h[A]});if(S.join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(A){x[A]=A}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=l()?Object.assign:function(d,h){for(var v,S=o(d),x,A=1;A<arguments.length;A++){v=Object(arguments[A]);for(var T in v)r.call(v,T)&&(S[T]=v[T]);if(n){x=n(v);for(var R=0;R<x.length;R++)i.call(v,x[R])&&(S[x[R]]=v[x[R]])}}return S}}}),Kot=Vo({"../../node_modules/react/cjs/react.production.min.js"(t){var e=YH(),n=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,l=60112;t.Suspense=60113;var d=60115,h=60116;typeof Symbol=="function"&&Symbol.for&&(v=Symbol.for,n=v("react.element"),r=v("react.portal"),t.Fragment=v("react.fragment"),t.StrictMode=v("react.strict_mode"),t.Profiler=v("react.profiler"),i=v("react.provider"),o=v("react.context"),l=v("react.forward_ref"),t.Suspense=v("react.suspense"),d=v("react.memo"),h=v("react.lazy"));var v,S=typeof Symbol=="function"&&Symbol.iterator;function x(_e){return _e===null||typeof _e!="object"?null:(_e=S&&_e[S]||_e["@@iterator"],typeof _e=="function"?_e:null)}function A(_e){for(var Se="https://reactjs.org/docs/error-decoder.html?invariant="+_e,we=1;we<arguments.length;we++)Se+="&args[]="+encodeURIComponent(arguments[we]);return"Minified React error #"+_e+"; visit "+Se+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};function G(_e,Se,we){this.props=_e,this.context=Se,this.refs=R,this.updater=we||T}G.prototype.isReactComponent={},G.prototype.setState=function(_e,Se){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error(A(85));this.updater.enqueueSetState(this,_e,Se,"setState")},G.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function j(){}j.prototype=G.prototype;function w(_e,Se,we){this.props=_e,this.context=Se,this.refs=R,this.updater=we||T}var L=w.prototype=new j;L.constructor=w,e(L,G.prototype),L.isPureReactComponent=!0;var F={current:null},W=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0};function Q(_e,Se,we){var Pe,be={},Ce=null,qe=null;if(Se!=null)for(Pe in Se.ref!==void 0&&(qe=Se.ref),Se.key!==void 0&&(Ce=""+Se.key),Se)W.call(Se,Pe)&&!U.hasOwnProperty(Pe)&&(be[Pe]=Se[Pe]);var mt=arguments.length-2;if(mt===1)be.children=we;else if(1<mt){for(var We=Array(mt),Mt=0;Mt<mt;Mt++)We[Mt]=arguments[Mt+2];be.children=We}if(_e&&_e.defaultProps)for(Pe in mt=_e.defaultProps,mt)be[Pe]===void 0&&(be[Pe]=mt[Pe]);return{$$typeof:n,type:_e,key:Ce,ref:qe,props:be,_owner:F.current}}function de(_e,Se){return{$$typeof:n,type:_e.type,key:Se,ref:_e.ref,props:_e.props,_owner:_e._owner}}function fe(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===n}function Z(_e){var Se={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(we){return Se[we]})}var he=/\/+/g;function Te(_e,Se){return typeof _e=="object"&&_e!==null&&_e.key!=null?Z(""+_e.key):Se.toString(36)}function je(_e,Se,we,Pe,be){var Ce=typeof _e;(Ce==="undefined"||Ce==="boolean")&&(_e=null);var qe=!1;if(_e===null)qe=!0;else switch(Ce){case"string":case"number":qe=!0;break;case"object":switch(_e.$$typeof){case n:case r:qe=!0}}if(qe)return qe=_e,be=be(qe),_e=Pe===""?"."+Te(qe,0):Pe,Array.isArray(be)?(we="",_e!=null&&(we=_e.replace(he,"$&/")+"/"),je(be,Se,we,"",function(Mt){return Mt})):be!=null&&(fe(be)&&(be=de(be,we+(!be.key||qe&&qe.key===be.key?"":(""+be.key).replace(he,"$&/")+"/")+_e)),Se.push(be)),1;if(qe=0,Pe=Pe===""?".":Pe+":",Array.isArray(_e))for(var mt=0;mt<_e.length;mt++){Ce=_e[mt];var We=Pe+Te(Ce,mt);qe+=je(Ce,Se,we,We,be)}else if(We=x(_e),typeof We=="function")for(_e=We.call(_e),mt=0;!(Ce=_e.next()).done;)Ce=Ce.value,We=Pe+Te(Ce,mt++),qe+=je(Ce,Se,we,We,be);else if(Ce==="object")throw Se=""+_e,Error(A(31,Se==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":Se));return qe}function Ke(_e,Se,we){if(_e==null)return _e;var Pe=[],be=0;return je(_e,Pe,"","",function(Ce){return Se.call(we,Ce,be++)}),Pe}function Le(_e){if(_e._status===-1){var Se=_e._result;Se=Se(),_e._status=0,_e._result=Se,Se.then(function(we){_e._status===0&&(we=we.default,_e._status=1,_e._result=we)},function(we){_e._status===0&&(_e._status=2,_e._result=we)})}if(_e._status===1)return _e._result;throw _e._result}var Ge={current:null};function ut(){var _e=Ge.current;if(_e===null)throw Error(A(321));return _e}var st={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:F,IsSomeRendererActing:{current:!1},assign:e};t.Children={map:Ke,forEach:function(_e,Se,we){Ke(_e,function(){Se.apply(this,arguments)},we)},count:function(_e){var Se=0;return Ke(_e,function(){Se++}),Se},toArray:function(_e){return Ke(_e,function(Se){return Se})||[]},only:function(_e){if(!fe(_e))throw Error(A(143));return _e}},t.Component=G,t.PureComponent=w,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=st,t.cloneElement=function(_e,Se,we){if(_e==null)throw Error(A(267,_e));var Pe=e({},_e.props),be=_e.key,Ce=_e.ref,qe=_e._owner;if(Se!=null){if(Se.ref!==void 0&&(Ce=Se.ref,qe=F.current),Se.key!==void 0&&(be=""+Se.key),_e.type&&_e.type.defaultProps)var mt=_e.type.defaultProps;for(We in Se)W.call(Se,We)&&!U.hasOwnProperty(We)&&(Pe[We]=Se[We]===void 0&&mt!==void 0?mt[We]:Se[We])}var We=arguments.length-2;if(We===1)Pe.children=we;else if(1<We){mt=Array(We);for(var Mt=0;Mt<We;Mt++)mt[Mt]=arguments[Mt+2];Pe.children=mt}return{$$typeof:n,type:_e.type,key:be,ref:Ce,props:Pe,_owner:qe}},t.createContext=function(_e,Se){return Se===void 0&&(Se=null),_e={$$typeof:o,_calculateChangedBits:Se,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null},_e.Provider={$$typeof:i,_context:_e},_e.Consumer=_e},t.createElement=Q,t.createFactory=function(_e){var Se=Q.bind(null,_e);return Se.type=_e,Se},t.createRef=function(){return{current:null}},t.forwardRef=function(_e){return{$$typeof:l,render:_e}},t.isValidElement=fe,t.lazy=function(_e){return{$$typeof:h,_payload:{_status:-1,_result:_e},_init:Le}},t.memo=function(_e,Se){return{$$typeof:d,type:_e,compare:Se===void 0?null:Se}},t.useCallback=function(_e,Se){return ut().useCallback(_e,Se)},t.useContext=function(_e,Se){return ut().useContext(_e,Se)},t.useDebugValue=function(){},t.useEffect=function(_e,Se){return ut().useEffect(_e,Se)},t.useImperativeHandle=function(_e,Se,we){return ut().useImperativeHandle(_e,Se,we)},t.useLayoutEffect=function(_e,Se){return ut().useLayoutEffect(_e,Se)},t.useMemo=function(_e,Se){return ut().useMemo(_e,Se)},t.useReducer=function(_e,Se,we){return ut().useReducer(_e,Se,we)},t.useRef=function(_e){return ut().useRef(_e)},t.useState=function(_e){return ut().useState(_e)},t.version="17.0.2"}}),_s=Vo({"../../node_modules/react/index.js"(t,e){e.exports=Kot()}}),qot=Vo({"../../node_modules/regenerator-runtime/runtime.js"(t,e){var n=function(r){var i=Object.prototype,o=i.hasOwnProperty,l,d=typeof Symbol=="function"?Symbol:{},h=d.iterator||"@@iterator",v=d.asyncIterator||"@@asyncIterator",S=d.toStringTag||"@@toStringTag";function x(Se,we,Pe){return Object.defineProperty(Se,we,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),Se[we]}try{x({},"")}catch{x=function(we,Pe,be){return we[Pe]=be}}function A(Se,we,Pe,be){var Ce=we&&we.prototype instanceof F?we:F,qe=Object.create(Ce.prototype),mt=new ut(be||[]);return qe._invoke=je(Se,Pe,mt),qe}r.wrap=A;function T(Se,we,Pe){try{return{type:"normal",arg:Se.call(we,Pe)}}catch(be){return{type:"throw",arg:be}}}var R="suspendedStart",G="suspendedYield",j="executing",w="completed",L={};function F(){}function W(){}function U(){}var Q={};x(Q,h,function(){return this});var de=Object.getPrototypeOf,fe=de&&de(de(st([])));fe&&fe!==i&&o.call(fe,h)&&(Q=fe);var Z=U.prototype=F.prototype=Object.create(Q);W.prototype=U,x(Z,"constructor",U),x(U,"constructor",W),W.displayName=x(U,S,"GeneratorFunction");function he(Se){["next","throw","return"].forEach(function(we){x(Se,we,function(Pe){return this._invoke(we,Pe)})})}r.isGeneratorFunction=function(Se){var we=typeof Se=="function"&&Se.constructor;return we?we===W||(we.displayName||we.name)==="GeneratorFunction":!1},r.mark=function(Se){return Object.setPrototypeOf?Object.setPrototypeOf(Se,U):(Se.__proto__=U,x(Se,S,"GeneratorFunction")),Se.prototype=Object.create(Z),Se},r.awrap=function(Se){return{__await:Se}};function Te(Se,we){function Pe(qe,mt,We,Mt){var dt=T(Se[qe],Se,mt);if(dt.type==="throw")Mt(dt.arg);else{var en=dt.arg,cn=en.value;return cn&&typeof cn=="object"&&o.call(cn,"__await")?we.resolve(cn.__await).then(function(sn){Pe("next",sn,We,Mt)},function(sn){Pe("throw",sn,We,Mt)}):we.resolve(cn).then(function(sn){en.value=sn,We(en)},function(sn){return Pe("throw",sn,We,Mt)})}}var be;function Ce(qe,mt){function We(){return new we(function(Mt,dt){Pe(qe,mt,Mt,dt)})}return be=be?be.then(We,We):We()}this._invoke=Ce}he(Te.prototype),x(Te.prototype,v,function(){return this}),r.AsyncIterator=Te,r.async=function(Se,we,Pe,be,Ce){Ce===void 0&&(Ce=Promise);var qe=new Te(A(Se,we,Pe,be),Ce);return r.isGeneratorFunction(we)?qe:qe.next().then(function(mt){return mt.done?mt.value:qe.next()})};function je(Se,we,Pe){var be=R;return function(qe,mt){if(be===j)throw new Error("Generator is already running");if(be===w){if(qe==="throw")throw mt;return _e()}for(Pe.method=qe,Pe.arg=mt;;){var We=Pe.delegate;if(We){var Mt=Ke(We,Pe);if(Mt){if(Mt===L)continue;return Mt}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(be===R)throw be=w,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);be=j;var dt=T(Se,we,Pe);if(dt.type==="normal"){if(be=Pe.done?w:G,dt.arg===L)continue;return{value:dt.arg,done:Pe.done}}else dt.type==="throw"&&(be=w,Pe.method="throw",Pe.arg=dt.arg)}}}function Ke(Se,we){var Pe=Se.iterator[we.method];if(Pe===l){if(we.delegate=null,we.method==="throw"){if(Se.iterator.return&&(we.method="return",we.arg=l,Ke(Se,we),we.method==="throw"))return L;we.method="throw",we.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var be=T(Pe,Se.iterator,we.arg);if(be.type==="throw")return we.method="throw",we.arg=be.arg,we.delegate=null,L;var Ce=be.arg;if(!Ce)return we.method="throw",we.arg=new TypeError("iterator result is not an object"),we.delegate=null,L;if(Ce.done)we[Se.resultName]=Ce.value,we.next=Se.nextLoc,we.method!=="return"&&(we.method="next",we.arg=l);else return Ce;return we.delegate=null,L}he(Z),x(Z,S,"Generator"),x(Z,h,function(){return this}),x(Z,"toString",function(){return"[object Generator]"});function Le(Se){var we={tryLoc:Se[0]};1 in Se&&(we.catchLoc=Se[1]),2 in Se&&(we.finallyLoc=Se[2],we.afterLoc=Se[3]),this.tryEntries.push(we)}function Ge(Se){var we=Se.completion||{};we.type="normal",delete we.arg,Se.completion=we}function ut(Se){this.tryEntries=[{tryLoc:"root"}],Se.forEach(Le,this),this.reset(!0)}r.keys=function(Se){var we=[];for(var Pe in Se)we.push(Pe);return we.reverse(),function be(){for(;we.length;){var Ce=we.pop();if(Ce in Se)return be.value=Ce,be.done=!1,be}return be.done=!0,be}};function st(Se){if(Se){var we=Se[h];if(we)return we.call(Se);if(typeof Se.next=="function")return Se;if(!isNaN(Se.length)){var Pe=-1,be=function Ce(){for(;++Pe<Se.length;)if(o.call(Se,Pe))return Ce.value=Se[Pe],Ce.done=!1,Ce;return Ce.value=l,Ce.done=!0,Ce};return be.next=be}}return{next:_e}}r.values=st;function _e(){return{value:l,done:!0}}return ut.prototype={constructor:ut,reset:function(Se){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(Ge),!Se)for(var we in this)we.charAt(0)==="t"&&o.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=l)},stop:function(){this.done=!0;var Se=this.tryEntries[0],we=Se.completion;if(we.type==="throw")throw we.arg;return this.rval},dispatchException:function(Se){if(this.done)throw Se;var we=this;function Pe(Mt,dt){return qe.type="throw",qe.arg=Se,we.next=Mt,dt&&(we.method="next",we.arg=l),!!dt}for(var be=this.tryEntries.length-1;be>=0;--be){var Ce=this.tryEntries[be],qe=Ce.completion;if(Ce.tryLoc==="root")return Pe("end");if(Ce.tryLoc<=this.prev){var mt=o.call(Ce,"catchLoc"),We=o.call(Ce,"finallyLoc");if(mt&&We){if(this.prev<Ce.catchLoc)return Pe(Ce.catchLoc,!0);if(this.prev<Ce.finallyLoc)return Pe(Ce.finallyLoc)}else if(mt){if(this.prev<Ce.catchLoc)return Pe(Ce.catchLoc,!0)}else if(We){if(this.prev<Ce.finallyLoc)return Pe(Ce.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Se,we){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var be=this.tryEntries[Pe];if(be.tryLoc<=this.prev&&o.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var Ce=be;break}}Ce&&(Se==="break"||Se==="continue")&&Ce.tryLoc<=we&&we<=Ce.finallyLoc&&(Ce=null);var qe=Ce?Ce.completion:{};return qe.type=Se,qe.arg=we,Ce?(this.method="next",this.next=Ce.finallyLoc,L):this.complete(qe)},complete:function(Se,we){if(Se.type==="throw")throw Se.arg;return Se.type==="break"||Se.type==="continue"?this.next=Se.arg:Se.type==="return"?(this.rval=this.arg=Se.arg,this.method="return",this.next="end"):Se.type==="normal"&&we&&(this.next=we),L},finish:function(Se){for(var we=this.tryEntries.length-1;we>=0;--we){var Pe=this.tryEntries[we];if(Pe.finallyLoc===Se)return this.complete(Pe.completion,Pe.afterLoc),Ge(Pe),L}},catch:function(Se){for(var we=this.tryEntries.length-1;we>=0;--we){var Pe=this.tryEntries[we];if(Pe.tryLoc===Se){var be=Pe.completion;if(be.type==="throw"){var Ce=be.arg;Ge(Pe)}return Ce}}throw new Error("illegal catch attempt")},delegateYield:function(Se,we,Pe){return this.delegate={iterator:st(Se),resultName:we,nextLoc:Pe},this.method==="next"&&(this.arg=l),L}},r}(typeof e=="object"?e.exports:{});try{regeneratorRuntime=n}catch{Function("r","regeneratorRuntime = r")(n)}}}),Xot=Vo({"../../node_modules/@babel/runtime/regenerator/index.js"(t,e){e.exports=qot()}}),tIe=Vo({"../../node_modules/zustand/index.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Xot(),n=_s();function r(v){return v&&typeof v=="object"&&"default"in v?v:{default:v}}var i=r(e);function o(v){var S,x=new Set,A=function(F,W){var U=typeof F=="function"?F(S):F;if(U!==S){var Q=S;S=W?U:Object.assign({},S,U),x.forEach(function(de){return de(S,Q)})}},T=function(){return S},R=function(F,W,U){W===void 0&&(W=T),U===void 0&&(U=Object.is);var Q=W(S);function de(){var fe=W(S);if(!U(Q,fe)){var Z=Q;F(Q=fe,Z)}}return x.add(de),function(){return x.delete(de)}},G=function(F,W,U){return W||U?R(F,W,U):(x.add(F),function(){return x.delete(F)})},j=function(){return x.clear()},w={setState:A,getState:T,subscribe:G,destroy:j};return S=v(A,T,w),w}var l=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),d=l?n.useEffect:n.useLayoutEffect;function h(v){var S=typeof v=="function"?o(v):v,x=function(T,R){T===void 0&&(T=S.getState),R===void 0&&(R=Object.is);var G=n.useReducer(function(he){return he+1},0),j=G[1],w=S.getState(),L=n.useRef(w),F=n.useRef(T),W=n.useRef(R),U=n.useRef(!1),Q=n.useRef();Q.current===void 0&&(Q.current=T(w));var de,fe=!1;(L.current!==w||F.current!==T||W.current!==R||U.current)&&(de=T(w),fe=!R(Q.current,de)),d(function(){fe&&(Q.current=de),L.current=w,F.current=T,W.current=R,U.current=!1});var Z=n.useRef(w);return d(function(){var he=function(){try{var Ke=S.getState(),Le=F.current(Ke);W.current(Q.current,Le)||(L.current=Ke,Q.current=Le,j())}catch{U.current=!0,j()}},Te=S.subscribe(he);return S.getState()!==Z.current&&he(),Te},[]),fe?de:Q.current};return Object.assign(x,S),x[Symbol.iterator]=i.default.mark(function A(){return i.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),R.next=3,x;case 3:return R.next=5,S;case 5:case"end":return R.stop()}},A)}),x}t.default=h}}),gB=Vo({"../../node_modules/zustand/shallow.js"(t){Object.defineProperty(t,"__esModule",{value:!0});function e(n,r){if(Object.is(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var i=Object.keys(n);if(i.length!==Object.keys(r).length)return!1;for(var o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(r,i[o])||!Object.is(n[i[o]],r[i[o]]))return!1;return!0}t.default=e}}),Yot=Vo({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(t){var e,n,r,i;typeof performance=="object"&&typeof performance.now=="function"?(o=performance,t.unstable_now=function(){return o.now()}):(l=Date,d=l.now(),t.unstable_now=function(){return l.now()-d});var o,l,d;typeof window>"u"||typeof MessageChannel!="function"?(h=null,v=null,S=function(){if(h!==null)try{var Pe=t.unstable_now();h(!0,Pe),h=null}catch(be){throw setTimeout(S,0),be}},e=function(Pe){h!==null?setTimeout(e,0,Pe):(h=Pe,setTimeout(S,0))},n=function(Pe,be){v=setTimeout(Pe,be)},r=function(){clearTimeout(v)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}):(x=window.setTimeout,A=window.clearTimeout,typeof console<"u"&&(T=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),R=!1,G=null,j=-1,w=5,L=0,t.unstable_shouldYield=function(){return t.unstable_now()>=L},i=function(){},t.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Pe?Math.floor(1e3/Pe):5},F=new MessageChannel,W=F.port2,F.port1.onmessage=function(){if(G!==null){var Pe=t.unstable_now();L=Pe+w;try{G(!0,Pe)?W.postMessage(null):(R=!1,G=null)}catch(be){throw W.postMessage(null),be}}else R=!1},e=function(Pe){G=Pe,R||(R=!0,W.postMessage(null))},n=function(Pe,be){j=x(function(){Pe(t.unstable_now())},be)},r=function(){A(j),j=-1});var h,v,S,x,A,T,R,G,j,w,L,F,W;function U(Pe,be){var Ce=Pe.length;Pe.push(be);e:for(;;){var qe=Ce-1>>>1,mt=Pe[qe];if(mt!==void 0&&0<fe(mt,be))Pe[qe]=be,Pe[Ce]=mt,Ce=qe;else break e}}function Q(Pe){return Pe=Pe[0],Pe===void 0?null:Pe}function de(Pe){var be=Pe[0];if(be!==void 0){var Ce=Pe.pop();if(Ce!==be){Pe[0]=Ce;e:for(var qe=0,mt=Pe.length;qe<mt;){var We=2*(qe+1)-1,Mt=Pe[We],dt=We+1,en=Pe[dt];if(Mt!==void 0&&0>fe(Mt,Ce))en!==void 0&&0>fe(en,Mt)?(Pe[qe]=en,Pe[dt]=Ce,qe=dt):(Pe[qe]=Mt,Pe[We]=Ce,qe=We);else if(en!==void 0&&0>fe(en,Ce))Pe[qe]=en,Pe[dt]=Ce,qe=dt;else break e}}return be}return null}function fe(Pe,be){var Ce=Pe.sortIndex-be.sortIndex;return Ce!==0?Ce:Pe.id-be.id}var Z=[],he=[],Te=1,je=null,Ke=3,Le=!1,Ge=!1,ut=!1;function st(Pe){for(var be=Q(he);be!==null;){if(be.callback===null)de(he);else if(be.startTime<=Pe)de(he),be.sortIndex=be.expirationTime,U(Z,be);else break;be=Q(he)}}function _e(Pe){if(ut=!1,st(Pe),!Ge)if(Q(Z)!==null)Ge=!0,e(Se);else{var be=Q(he);be!==null&&n(_e,be.startTime-Pe)}}function Se(Pe,be){Ge=!1,ut&&(ut=!1,r()),Le=!0;var Ce=Ke;try{for(st(be),je=Q(Z);je!==null&&(!(je.expirationTime>be)||Pe&&!t.unstable_shouldYield());){var qe=je.callback;if(typeof qe=="function"){je.callback=null,Ke=je.priorityLevel;var mt=qe(je.expirationTime<=be);be=t.unstable_now(),typeof mt=="function"?je.callback=mt:je===Q(Z)&&de(Z),st(be)}else de(Z);je=Q(Z)}if(je!==null)var We=!0;else{var Mt=Q(he);Mt!==null&&n(_e,Mt.startTime-be),We=!1}return We}finally{je=null,Ke=Ce,Le=!1}}var we=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Pe){Pe.callback=null},t.unstable_continueExecution=function(){Ge||Le||(Ge=!0,e(Se))},t.unstable_getCurrentPriorityLevel=function(){return Ke},t.unstable_getFirstCallbackNode=function(){return Q(Z)},t.unstable_next=function(Pe){switch(Ke){case 1:case 2:case 3:var be=3;break;default:be=Ke}var Ce=Ke;Ke=be;try{return Pe()}finally{Ke=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=we,t.unstable_runWithPriority=function(Pe,be){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Ce=Ke;Ke=Pe;try{return be()}finally{Ke=Ce}},t.unstable_scheduleCallback=function(Pe,be,Ce){var qe=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?qe+Ce:qe):Ce=qe,Pe){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=Ce+mt,Pe={id:Te++,callback:be,priorityLevel:Pe,startTime:Ce,expirationTime:mt,sortIndex:-1},Ce>qe?(Pe.sortIndex=Ce,U(he,Pe),Q(Z)===null&&Pe===Q(he)&&(ut?r():ut=!0,n(_e,Ce-qe))):(Pe.sortIndex=mt,U(Z,Pe),Ge||Le||(Ge=!0,e(Se))),Pe},t.unstable_wrapCallback=function(Pe){var be=Ke;return function(){var Ce=Ke;Ke=be;try{return Pe.apply(this,arguments)}finally{Ke=Ce}}}}}),$Z=Vo({"../../node_modules/scheduler/index.js"(t,e){e.exports=Yot()}}),$ot=Vo({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(t,e){e.exports=function(r){var i={},o=YH(),l=_s(),d=$Z();function h(C){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+C,z=1;z<arguments.length;z++)M+="&args[]="+encodeURIComponent(arguments[z]);return"Minified React error #"+C+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,x=60106,A=60107,T=60108,R=60114,G=60109,j=60110,w=60112,L=60113,F=60120,W=60115,U=60116,Q=60121,de=60129,fe=60130,Z=60131;if(typeof Symbol=="function"&&Symbol.for){var he=Symbol.for;S=he("react.element"),x=he("react.portal"),A=he("react.fragment"),T=he("react.strict_mode"),R=he("react.profiler"),G=he("react.provider"),j=he("react.context"),w=he("react.forward_ref"),L=he("react.suspense"),F=he("react.suspense_list"),W=he("react.memo"),U=he("react.lazy"),Q=he("react.block"),he("react.scope"),de=he("react.debug_trace_mode"),fe=he("react.offscreen"),Z=he("react.legacy_hidden")}var Te=typeof Symbol=="function"&&Symbol.iterator;function je(C){return C===null||typeof C!="object"?null:(C=Te&&C[Te]||C["@@iterator"],typeof C=="function"?C:null)}function Ke(C){if(C==null)return null;if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case A:return"Fragment";case x:return"Portal";case R:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case j:return(C.displayName||"Context")+".Consumer";case G:return(C._context.displayName||"Context")+".Provider";case w:var M=C.render;return M=M.displayName||M.name||"",C.displayName||(M!==""?"ForwardRef("+M+")":"ForwardRef");case W:return Ke(C.type);case Q:return Ke(C._render);case U:M=C._payload,C=C._init;try{return Ke(C(M))}catch{}}return null}function Le(C){var M=C,z=C;if(C.alternate)for(;M.return;)M=M.return;else{C=M;do M=C,M.flags&1026&&(z=M.return),C=M.return;while(C)}return M.tag===3?z:null}function Ge(C){if(Le(C)!==C)throw Error(h(188))}function ut(C){var M=C.alternate;if(!M){if(M=Le(C),M===null)throw Error(h(188));return M!==C?null:C}for(var z=C,ae=M;;){var ce=z.return;if(ce===null)break;var Me=ce.alternate;if(Me===null){if(ae=ce.return,ae!==null){z=ae;continue}break}if(ce.child===Me.child){for(Me=ce.child;Me;){if(Me===z)return Ge(ce),C;if(Me===ae)return Ge(ce),M;Me=Me.sibling}throw Error(h(188))}if(z.return!==ae.return)z=ce,ae=Me;else{for(var ot=!1,yt=ce.child;yt;){if(yt===z){ot=!0,z=ce,ae=Me;break}if(yt===ae){ot=!0,ae=ce,z=Me;break}yt=yt.sibling}if(!ot){for(yt=Me.child;yt;){if(yt===z){ot=!0,z=Me,ae=ce;break}if(yt===ae){ot=!0,ae=Me,z=ce;break}yt=yt.sibling}if(!ot)throw Error(h(189))}}if(z.alternate!==ae)throw Error(h(190))}if(z.tag!==3)throw Error(h(188));return z.stateNode.current===z?C:M}function st(C){if(C=ut(C),!C)return null;for(var M=C;;){if(M.tag===5||M.tag===6)return M;if(M.child)M.child.return=M,M=M.child;else{if(M===C)break;for(;!M.sibling;){if(!M.return||M.return===C)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}}return null}function _e(C){if(C=ut(C),!C)return null;for(var M=C;;){if(M.tag===5||M.tag===6)return M;if(M.child&&M.tag!==4)M.child.return=M,M=M.child;else{if(M===C)break;for(;!M.sibling;){if(!M.return||M.return===C)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}}return null}function Se(C,M){for(var z=C.alternate;M!==null;){if(M===C||M===z)return!0;M=M.return}return!1}var we=r.getPublicInstance,Pe=r.getRootHostContext,be=r.getChildHostContext,Ce=r.prepareForCommit,qe=r.resetAfterCommit,mt=r.createInstance,We=r.appendInitialChild,Mt=r.finalizeInitialChildren,dt=r.prepareUpdate,en=r.shouldSetTextContent,cn=r.createTextInstance,sn=r.scheduleTimeout,$e=r.cancelTimeout,Gt=r.noTimeout,Ut=r.isPrimaryRenderer,Kt=r.supportsMutation,Yt=r.supportsPersistence,Cn=r.supportsHydration,Dn=r.getInstanceFromNode,nr=r.makeOpaqueHydratingObject,dr=r.makeClientId,Jr=r.beforeActiveInstanceBlur,Hi=r.afterActiveInstanceBlur,et=r.preparePortalMount,Be=r.supportsTestSelectors,Nt=r.findFiberRoot,Pn=r.getBoundingRect,kn=r.getTextContent,Nn=r.isHiddenSubtree,Ar=r.matchAccessibilityRole,Zn=r.setFocusIfFocusable,Je=r.setupIntersectionObserver,Jt=r.appendChild,On=r.appendChildToContainer,Bn=r.commitTextUpdate,Wn=r.commitMount,Yn=r.commitUpdate,Dr=r.insertBefore,cr=r.insertInContainerBefore,ht=r.removeChild,Ot=r.removeChildFromContainer,Rt=r.resetTextContent,ir=r.hideInstance,hr=r.hideTextInstance,Li=r.unhideInstance,Pa=r.unhideTextInstance,Ra=r.clearContainer,ft=r.cloneInstance,kt=r.createContainerChildSet,Bt=r.appendChildToContainerChildSet,Un=r.finalizeContainerChildren,Pr=r.replaceContainerChildren,yr=r.cloneHiddenInstance,Kn=r.cloneHiddenTextInstance,Sr=r.canHydrateInstance,$n=r.canHydrateTextInstance,oa=r.isSuspenseInstancePending,Ir=r.isSuspenseInstanceFallback,ja=r.getNextHydratableSibling,xa=r.getFirstHydratableChild,Ee=r.hydrateInstance,oe=r.hydrateTextInstance,ke=r.getNextHydratableInstanceAfterSuspenseInstance,Ze=r.commitHydratedContainer,Xe=r.commitHydratedSuspenseInstance,rt;function It(C){if(rt===void 0)try{throw Error()}catch(z){var M=z.stack.trim().match(/\n( *(at )?)/);rt=M&&M[1]||""}return`
`+rt+C}var Dt=!1;function ln(C,M){if(!C||Dt)return"";Dt=!0;var z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(M)if(M=function(){throw Error()},Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(pn){var ae=pn}Reflect.construct(C,[],M)}else{try{M.call()}catch(pn){ae=pn}C.call(M.prototype)}else{try{throw Error()}catch(pn){ae=pn}C()}}catch(pn){if(pn&&ae&&typeof pn.stack=="string"){for(var ce=pn.stack.split(`
`),Me=ae.stack.split(`
`),ot=ce.length-1,yt=Me.length-1;1<=ot&&0<=yt&&ce[ot]!==Me[yt];)yt--;for(;1<=ot&&0<=yt;ot--,yt--)if(ce[ot]!==Me[yt]){if(ot!==1||yt!==1)do if(ot--,yt--,0>yt||ce[ot]!==Me[yt])return`
`+ce[ot].replace(" at new "," at ");while(1<=ot&&0<=yt);break}}}finally{Dt=!1,Error.prepareStackTrace=z}return(C=C?C.displayName||C.name:"")?It(C):""}var dn=[],_n=-1;function $t(C){return{current:C}}function Rn(C){0>_n||(C.current=dn[_n],dn[_n]=null,_n--)}function wn(C,M){_n++,dn[_n]=C.current,C.current=M}var er={},tr=$t(er),Tr=$t(!1),Wr=er;function pr(C,M){var z=C.type.contextTypes;if(!z)return er;var ae=C.stateNode;if(ae&&ae.__reactInternalMemoizedUnmaskedChildContext===M)return ae.__reactInternalMemoizedMaskedChildContext;var ce={},Me;for(Me in z)ce[Me]=M[Me];return ae&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=M,C.__reactInternalMemoizedMaskedChildContext=ce),ce}function Rr(C){return C=C.childContextTypes,C!=null}function Or(){Rn(Tr),Rn(tr)}function pi(C,M,z){if(tr.current!==er)throw Error(h(168));wn(tr,M),wn(Tr,z)}function ji(C,M,z){var ae=C.stateNode;if(C=M.childContextTypes,typeof ae.getChildContext!="function")return z;ae=ae.getChildContext();for(var ce in ae)if(!(ce in C))throw Error(h(108,Ke(M)||"Unknown",ce));return o({},z,ae)}function ti(C){return C=(C=C.stateNode)&&C.__reactInternalMemoizedMergedChildContext||er,Wr=tr.current,wn(tr,C),wn(Tr,Tr.current),!0}function ki(C,M,z){var ae=C.stateNode;if(!ae)throw Error(h(169));z?(C=ji(C,M,Wr),ae.__reactInternalMemoizedMergedChildContext=C,Rn(Tr),Rn(tr),wn(tr,C)):Rn(Tr),wn(Tr,z)}var Ni=null,Fi=null,no=d.unstable_now;no();var mi=0,yi=8;function Ki(C){if(1&C)return yi=15,1;if(2&C)return yi=14,2;if(4&C)return yi=13,4;var M=24&C;return M!==0?(yi=12,M):C&32?(yi=11,32):(M=192&C,M!==0?(yi=10,M):C&256?(yi=9,256):(M=3584&C,M!==0?(yi=8,M):C&4096?(yi=7,4096):(M=4186112&C,M!==0?(yi=6,M):(M=62914560&C,M!==0?(yi=5,M):C&67108864?(yi=4,67108864):C&134217728?(yi=3,134217728):(M=805306368&C,M!==0?(yi=2,M):1073741824&C?(yi=1,1073741824):(yi=8,C))))))}function ca(C){switch(C){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Da(C){switch(C){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(h(358,C))}}function co(C,M){var z=C.pendingLanes;if(z===0)return yi=0;var ae=0,ce=0,Me=C.expiredLanes,ot=C.suspendedLanes,yt=C.pingedLanes;if(Me!==0)ae=Me,ce=yi=15;else if(Me=z&134217727,Me!==0){var pn=Me&~ot;pn!==0?(ae=Ki(pn),ce=yi):(yt&=Me,yt!==0&&(ae=Ki(yt),ce=yi))}else Me=z&~ot,Me!==0?(ae=Ki(Me),ce=yi):yt!==0&&(ae=Ki(yt),ce=yi);if(ae===0)return 0;if(ae=31-ou(ae),ae=z&((0>ae?0:1<<ae)<<1)-1,M!==0&&M!==ae&&!(M&ot)){if(Ki(M),ce<=yi)return M;yi=ce}if(M=C.entangledLanes,M!==0)for(C=C.entanglements,M&=ae;0<M;)z=31-ou(M),ce=1<<z,ae|=C[z],M&=~ce;return ae}function ko(C){return C=C.pendingLanes&-1073741825,C!==0?C:C&1073741824?1073741824:0}function ll(C,M){switch(C){case 15:return 1;case 14:return 2;case 12:return C=Ss(24&~M),C===0?ll(10,M):C;case 10:return C=Ss(192&~M),C===0?ll(8,M):C;case 8:return C=Ss(3584&~M),C===0&&(C=Ss(4186112&~M),C===0&&(C=512)),C;case 2:return M=Ss(805306368&~M),M===0&&(M=268435456),M}throw Error(h(358,C))}function Ss(C){return C&-C}function ul(C){for(var M=[],z=0;31>z;z++)M.push(C);return M}function El(C,M,z){C.pendingLanes|=M;var ae=M-1;C.suspendedLanes&=ae,C.pingedLanes&=ae,C=C.eventTimes,M=31-ou(M),C[M]=z}var ou=Math.clz32?Math.clz32:Qh,Gl=Math.log,Bc=Math.LN2;function Qh(C){return C===0?32:31-(Gl(C)/Bc|0)|0}var of=d.unstable_runWithPriority,Iu=d.unstable_scheduleCallback,Jh=d.unstable_cancelCallback,xs=d.unstable_shouldYield,Pi=d.unstable_requestPaint,hd=d.unstable_now,oh=d.unstable_getCurrentPriorityLevel,Lc=d.unstable_ImmediatePriority,Vp=d.unstable_UserBlockingPriority,Zh=d.unstable_NormalPriority,ws=d.unstable_LowPriority,Ga=d.unstable_IdlePriority,Vl={},pd=Pi!==void 0?Pi:function(){},sf=null,su=null,Wl=!1,sh=hd(),Do=1e4>sh?hd:function(){return hd()-sh};function Ks(){switch(oh()){case Lc:return 99;case Vp:return 98;case Zh:return 97;case ws:return 96;case Ga:return 95;default:throw Error(h(332))}}function Oo(C){switch(C){case 99:return Lc;case 98:return Vp;case 97:return Zh;case 96:return ws;case 95:return Ga;default:throw Error(h(332))}}function fo(C,M){return C=Oo(C),of(C,M)}function md(C,M,z){return C=Oo(C),Iu(C,M,z)}function bl(){if(su!==null){var C=su;su=null,Jh(C)}Im()}function Im(){if(!Wl&&sf!==null){Wl=!0;var C=0;try{var M=sf;fo(99,function(){for(;C<M.length;C++){var z=M[C];do z=z(!0);while(z!==null)}}),sf=null}catch(z){throw sf!==null&&(sf=sf.slice(C+1)),Iu(Lc,bl),z}finally{Wl=!1}}}var oc=v.ReactCurrentBatchConfig;function Tv(C,M){return C===M&&(C!==0||1/C===1/M)||C!==C&&M!==M}var Wo=typeof Object.is=="function"?Object.is:Tv,Nc=Object.prototype.hasOwnProperty;function Es(C,M){if(Wo(C,M))return!0;if(typeof C!="object"||C===null||typeof M!="object"||M===null)return!1;var z=Object.keys(C),ae=Object.keys(M);if(z.length!==ae.length)return!1;for(ae=0;ae<z.length;ae++)if(!Nc.call(M,z[ae])||!Wo(C[z[ae]],M[z[ae]]))return!1;return!0}function vd(C){switch(C.tag){case 5:return It(C.type);case 16:return It("Lazy");case 13:return It("Suspense");case 19:return It("SuspenseList");case 0:case 2:case 15:return C=ln(C.type,!1),C;case 11:return C=ln(C.type.render,!1),C;case 22:return C=ln(C.type._render,!1),C;case 1:return C=ln(C.type,!0),C;default:return""}}function Ps(C,M){if(C&&C.defaultProps){M=o({},M),C=C.defaultProps;for(var z in C)M[z]===void 0&&(M[z]=C[z]);return M}return M}var Rs=$t(null),sc=null,Kl=null,Nf=null;function ku(){Nf=Kl=sc=null}function ql(C,M){C=C.type._context,Ut?(wn(Rs,C._currentValue),C._currentValue=M):(wn(Rs,C._currentValue2),C._currentValue2=M)}function Xl(C){var M=Rs.current;Rn(Rs),C=C.type._context,Ut?C._currentValue=M:C._currentValue2=M}function wa(C,M){for(;C!==null;){var z=C.alternate;if((C.childLanes&M)===M){if(z===null||(z.childLanes&M)===M)break;z.childLanes|=M}else C.childLanes|=M,z!==null&&(z.childLanes|=M);C=C.return}}function yo(C,M){sc=C,Nf=Kl=null,C=C.dependencies,C!==null&&C.firstContext!==null&&(C.lanes&M&&(la=!0),C.firstContext=null)}function _o(C,M){if(Nf!==C&&M!==!1&&M!==0)if((typeof M!="number"||M===1073741823)&&(Nf=C,M=1073741823),M={context:C,observedBits:M,next:null},Kl===null){if(sc===null)throw Error(h(308));Kl=M,sc.dependencies={lanes:0,firstContext:M,responders:null}}else Kl=Kl.next=M;return Ut?C._currentValue:C._currentValue2}var Cl=!1;function gd(C){C.updateQueue={baseState:C.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function So(C,M){C=C.updateQueue,M.updateQueue===C&&(M.updateQueue={baseState:C.baseState,firstBaseUpdate:C.firstBaseUpdate,lastBaseUpdate:C.lastBaseUpdate,shared:C.shared,effects:C.effects})}function Is(C,M){return{eventTime:C,lane:M,tag:0,payload:null,callback:null,next:null}}function bs(C,M){if(C=C.updateQueue,C!==null){C=C.shared;var z=C.pending;z===null?M.next=M:(M.next=z.next,z.next=M),C.pending=M}}function Ff(C,M){var z=C.updateQueue,ae=C.alternate;if(ae!==null&&(ae=ae.updateQueue,z===ae)){var ce=null,Me=null;if(z=z.firstBaseUpdate,z!==null){do{var ot={eventTime:z.eventTime,lane:z.lane,tag:z.tag,payload:z.payload,callback:z.callback,next:null};Me===null?ce=Me=ot:Me=Me.next=ot,z=z.next}while(z!==null);Me===null?ce=Me=M:Me=Me.next=M}else ce=Me=M;z={baseState:ae.baseState,firstBaseUpdate:ce,lastBaseUpdate:Me,shared:ae.shared,effects:ae.effects},C.updateQueue=z;return}C=z.lastBaseUpdate,C===null?z.firstBaseUpdate=M:C.next=M,z.lastBaseUpdate=M}function lc(C,M,z,ae){var ce=C.updateQueue;Cl=!1;var Me=ce.firstBaseUpdate,ot=ce.lastBaseUpdate,yt=ce.shared.pending;if(yt!==null){ce.shared.pending=null;var pn=yt,qn=pn.next;pn.next=null,ot===null?Me=qn:ot.next=qn,ot=pn;var ui=C.alternate;if(ui!==null){ui=ui.updateQueue;var oi=ui.lastBaseUpdate;oi!==ot&&(oi===null?ui.firstBaseUpdate=qn:oi.next=qn,ui.lastBaseUpdate=pn)}}if(Me!==null){oi=ce.baseState,ot=0,ui=qn=pn=null;do{yt=Me.lane;var rr=Me.eventTime;if((ae&yt)===yt){ui!==null&&(ui=ui.next={eventTime:rr,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var Fa=C,eo=Me;switch(yt=M,rr=z,eo.tag){case 1:if(Fa=eo.payload,typeof Fa=="function"){oi=Fa.call(rr,oi,yt);break e}oi=Fa;break e;case 3:Fa.flags=Fa.flags&-4097|64;case 0:if(Fa=eo.payload,yt=typeof Fa=="function"?Fa.call(rr,oi,yt):Fa,yt==null)break e;oi=o({},oi,yt);break e;case 2:Cl=!0}}Me.callback!==null&&(C.flags|=32,yt=ce.effects,yt===null?ce.effects=[Me]:yt.push(Me))}else rr={eventTime:rr,lane:yt,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},ui===null?(qn=ui=rr,pn=oi):ui=ui.next=rr,ot|=yt;if(Me=Me.next,Me===null){if(yt=ce.shared.pending,yt===null)break;Me=yt.next,yt.next=null,ce.lastBaseUpdate=yt,ce.shared.pending=null}}while(1);ui===null&&(pn=oi),ce.baseState=pn,ce.firstBaseUpdate=qn,ce.lastBaseUpdate=ui,Xf|=ot,C.lanes=ot,C.memoizedState=oi}}function Fc(C,M,z){if(C=M.effects,M.effects=null,C!==null)for(M=0;M<C.length;M++){var ae=C[M],ce=ae.callback;if(ce!==null){if(ae.callback=null,ae=z,typeof ce!="function")throw Error(h(191,ce));ce.call(ae)}}}var yd=new l.Component().refs;function lh(C,M,z,ae){M=C.memoizedState,z=z(ae,M),z=z==null?M:o({},M,z),C.memoizedState=z,C.lanes===0&&(C.updateQueue.baseState=z)}var uc={isMounted:function(C){return(C=C._reactInternals)?Le(C)===C:!1},enqueueSetState:function(C,M,z){C=C._reactInternals;var ae=Xo(),ce=Gu(C),Me=Is(ae,ce);Me.payload=M,z!=null&&(Me.callback=z),bs(C,Me),_c(C,ce,ae)},enqueueReplaceState:function(C,M,z){C=C._reactInternals;var ae=Xo(),ce=Gu(C),Me=Is(ae,ce);Me.tag=1,Me.payload=M,z!=null&&(Me.callback=z),bs(C,Me),_c(C,ce,ae)},enqueueForceUpdate:function(C,M){C=C._reactInternals;var z=Xo(),ae=Gu(C),ce=Is(z,ae);ce.tag=2,M!=null&&(ce.callback=M),bs(C,ce),_c(C,ae,z)}};function Wp(C,M,z,ae,ce,Me,ot){return C=C.stateNode,typeof C.shouldComponentUpdate=="function"?C.shouldComponentUpdate(ae,Me,ot):M.prototype&&M.prototype.isPureReactComponent?!Es(z,ae)||!Es(ce,Me):!0}function km(C,M,z){var ae=!1,ce=er,Me=M.contextType;return typeof Me=="object"&&Me!==null?Me=_o(Me):(ce=Rr(M)?Wr:tr.current,ae=M.contextTypes,Me=(ae=ae!=null)?pr(C,ce):er),M=new M(z,Me),C.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=uc,C.stateNode=M,M._reactInternals=C,ae&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=ce,C.__reactInternalMemoizedMaskedChildContext=Me),M}function Uf(C,M,z,ae){C=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(z,ae),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(z,ae),M.state!==C&&uc.enqueueReplaceState(M,M.state,null)}function lf(C,M,z,ae){var ce=C.stateNode;ce.props=z,ce.state=C.memoizedState,ce.refs=yd,gd(C);var Me=M.contextType;typeof Me=="object"&&Me!==null?ce.context=_o(Me):(Me=Rr(M)?Wr:tr.current,ce.context=pr(C,Me)),lc(C,z,ce,ae),ce.state=C.memoizedState,Me=M.getDerivedStateFromProps,typeof Me=="function"&&(lh(C,M,Me,z),ce.state=C.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof ce.getSnapshotBeforeUpdate=="function"||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(M=ce.state,typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount(),M!==ce.state&&uc.enqueueReplaceState(ce,ce.state,null),lc(C,z,ce,ae),ce.state=C.memoizedState),typeof ce.componentDidMount=="function"&&(C.flags|=4)}var Du=Array.isArray;function os(C,M,z){if(C=z.ref,C!==null&&typeof C!="function"&&typeof C!="object"){if(z._owner){if(z=z._owner,z){if(z.tag!==1)throw Error(h(309));var ae=z.stateNode}if(!ae)throw Error(h(147,C));var ce=""+C;return M!==null&&M.ref!==null&&typeof M.ref=="function"&&M.ref._stringRef===ce?M.ref:(M=function(Me){var ot=ae.refs;ot===yd&&(ot=ae.refs={}),Me===null?delete ot[ce]:ot[ce]=Me},M._stringRef=ce,M)}if(typeof C!="string")throw Error(h(284));if(!z._owner)throw Error(h(290,C))}return C}function uf(C,M){if(C.type!=="textarea")throw Error(h(31,Object.prototype.toString.call(M)==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":M))}function uh(C){function M(Ht,wt){if(C){var hn=Ht.lastEffect;hn!==null?(hn.nextEffect=wt,Ht.lastEffect=wt):Ht.firstEffect=Ht.lastEffect=wt,wt.nextEffect=null,wt.flags=8}}function z(Ht,wt){if(!C)return null;for(;wt!==null;)M(Ht,wt),wt=wt.sibling;return null}function ae(Ht,wt){for(Ht=new Map;wt!==null;)wt.key!==null?Ht.set(wt.key,wt):Ht.set(wt.index,wt),wt=wt.sibling;return Ht}function ce(Ht,wt){return Ht=qc(Ht,wt),Ht.index=0,Ht.sibling=null,Ht}function Me(Ht,wt,hn){return Ht.index=hn,C?(hn=Ht.alternate,hn!==null?(hn=hn.index,hn<wt?(Ht.flags=2,wt):hn):(Ht.flags=2,wt)):wt}function ot(Ht){return C&&Ht.alternate===null&&(Ht.flags=2),Ht}function yt(Ht,wt,hn,Cr){return wt===null||wt.tag!==6?(wt=Xc(hn,Ht.mode,Cr),wt.return=Ht,wt):(wt=ce(wt,hn),wt.return=Ht,wt)}function pn(Ht,wt,hn,Cr){return wt!==null&&wt.elementType===hn.type?(Cr=ce(wt,hn.props),Cr.ref=os(Ht,wt,hn),Cr.return=Ht,Cr):(Cr=wc(hn.type,hn.key,hn.props,null,Ht.mode,Cr),Cr.ref=os(Ht,wt,hn),Cr.return=Ht,Cr)}function qn(Ht,wt,hn,Cr){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==hn.containerInfo||wt.stateNode.implementation!==hn.implementation?(wt=Dd(hn,Ht.mode,Cr),wt.return=Ht,wt):(wt=ce(wt,hn.children||[]),wt.return=Ht,wt)}function ui(Ht,wt,hn,Cr,Xr){return wt===null||wt.tag!==7?(wt=Vu(hn,Ht.mode,Cr,Xr),wt.return=Ht,wt):(wt=ce(wt,hn),wt.return=Ht,wt)}function oi(Ht,wt,hn){if(typeof wt=="string"||typeof wt=="number")return wt=Xc(""+wt,Ht.mode,hn),wt.return=Ht,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case S:return hn=wc(wt.type,wt.key,wt.props,null,Ht.mode,hn),hn.ref=os(Ht,null,wt),hn.return=Ht,hn;case x:return wt=Dd(wt,Ht.mode,hn),wt.return=Ht,wt}if(Du(wt)||je(wt))return wt=Vu(wt,Ht.mode,hn,null),wt.return=Ht,wt;uf(Ht,wt)}return null}function rr(Ht,wt,hn,Cr){var Xr=wt!==null?wt.key:null;if(typeof hn=="string"||typeof hn=="number")return Xr!==null?null:yt(Ht,wt,""+hn,Cr);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case S:return hn.key===Xr?hn.type===A?ui(Ht,wt,hn.props.children,Cr,Xr):pn(Ht,wt,hn,Cr):null;case x:return hn.key===Xr?qn(Ht,wt,hn,Cr):null}if(Du(hn)||je(hn))return Xr!==null?null:ui(Ht,wt,hn,Cr,null);uf(Ht,hn)}return null}function Fa(Ht,wt,hn,Cr,Xr){if(typeof Cr=="string"||typeof Cr=="number")return Ht=Ht.get(hn)||null,yt(wt,Ht,""+Cr,Xr);if(typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case S:return Ht=Ht.get(Cr.key===null?hn:Cr.key)||null,Cr.type===A?ui(wt,Ht,Cr.props.children,Xr,Cr.key):pn(wt,Ht,Cr,Xr);case x:return Ht=Ht.get(Cr.key===null?hn:Cr.key)||null,qn(wt,Ht,Cr,Xr)}if(Du(Cr)||je(Cr))return Ht=Ht.get(hn)||null,ui(wt,Ht,Cr,Xr,null);uf(wt,Cr)}return null}function eo(Ht,wt,hn,Cr){for(var Xr=null,Wa=null,ci=wt,Ea=wt=0,Zo=null;ci!==null&&Ea<hn.length;Ea++){ci.index>Ea?(Zo=ci,ci=null):Zo=ci.sibling;var ta=rr(Ht,ci,hn[Ea],Cr);if(ta===null){ci===null&&(ci=Zo);break}C&&ci&&ta.alternate===null&&M(Ht,ci),wt=Me(ta,wt,Ea),Wa===null?Xr=ta:Wa.sibling=ta,Wa=ta,ci=Zo}if(Ea===hn.length)return z(Ht,ci),Xr;if(ci===null){for(;Ea<hn.length;Ea++)ci=oi(Ht,hn[Ea],Cr),ci!==null&&(wt=Me(ci,wt,Ea),Wa===null?Xr=ci:Wa.sibling=ci,Wa=ci);return Xr}for(ci=ae(Ht,ci);Ea<hn.length;Ea++)Zo=Fa(ci,Ht,Ea,hn[Ea],Cr),Zo!==null&&(C&&Zo.alternate!==null&&ci.delete(Zo.key===null?Ea:Zo.key),wt=Me(Zo,wt,Ea),Wa===null?Xr=Zo:Wa.sibling=Zo,Wa=Zo);return C&&ci.forEach(function(Yc){return M(Ht,Yc)}),Xr}function yu(Ht,wt,hn,Cr){var Xr=je(hn);if(typeof Xr!="function")throw Error(h(150));if(hn=Xr.call(hn),hn==null)throw Error(h(151));for(var Wa=Xr=null,ci=wt,Ea=wt=0,Zo=null,ta=hn.next();ci!==null&&!ta.done;Ea++,ta=hn.next()){ci.index>Ea?(Zo=ci,ci=null):Zo=ci.sibling;var Yc=rr(Ht,ci,ta.value,Cr);if(Yc===null){ci===null&&(ci=Zo);break}C&&ci&&Yc.alternate===null&&M(Ht,ci),wt=Me(Yc,wt,Ea),Wa===null?Xr=Yc:Wa.sibling=Yc,Wa=Yc,ci=Zo}if(ta.done)return z(Ht,ci),Xr;if(ci===null){for(;!ta.done;Ea++,ta=hn.next())ta=oi(Ht,ta.value,Cr),ta!==null&&(wt=Me(ta,wt,Ea),Wa===null?Xr=ta:Wa.sibling=ta,Wa=ta);return Xr}for(ci=ae(Ht,ci);!ta.done;Ea++,ta=hn.next())ta=Fa(ci,Ht,Ea,ta.value,Cr),ta!==null&&(C&&ta.alternate!==null&&ci.delete(ta.key===null?Ea:ta.key),wt=Me(ta,wt,Ea),Wa===null?Xr=ta:Wa.sibling=ta,Wa=ta);return C&&ci.forEach(function(Cg){return M(Ht,Cg)}),Xr}return function(Ht,wt,hn,Cr){var Xr=typeof hn=="object"&&hn!==null&&hn.type===A&&hn.key===null;Xr&&(hn=hn.props.children);var Wa=typeof hn=="object"&&hn!==null;if(Wa)switch(hn.$$typeof){case S:e:{for(Wa=hn.key,Xr=wt;Xr!==null;){if(Xr.key===Wa){switch(Xr.tag){case 7:if(hn.type===A){z(Ht,Xr.sibling),wt=ce(Xr,hn.props.children),wt.return=Ht,Ht=wt;break e}break;default:if(Xr.elementType===hn.type){z(Ht,Xr.sibling),wt=ce(Xr,hn.props),wt.ref=os(Ht,Xr,hn),wt.return=Ht,Ht=wt;break e}}z(Ht,Xr);break}else M(Ht,Xr);Xr=Xr.sibling}hn.type===A?(wt=Vu(hn.props.children,Ht.mode,Cr,hn.key),wt.return=Ht,Ht=wt):(Cr=wc(hn.type,hn.key,hn.props,null,Ht.mode,Cr),Cr.ref=os(Ht,wt,hn),Cr.return=Ht,Ht=Cr)}return ot(Ht);case x:e:{for(Xr=hn.key;wt!==null;){if(wt.key===Xr)if(wt.tag===4&&wt.stateNode.containerInfo===hn.containerInfo&&wt.stateNode.implementation===hn.implementation){z(Ht,wt.sibling),wt=ce(wt,hn.children||[]),wt.return=Ht,Ht=wt;break e}else{z(Ht,wt);break}else M(Ht,wt);wt=wt.sibling}wt=Dd(hn,Ht.mode,Cr),wt.return=Ht,Ht=wt}return ot(Ht)}if(typeof hn=="string"||typeof hn=="number")return hn=""+hn,wt!==null&&wt.tag===6?(z(Ht,wt.sibling),wt=ce(wt,hn),wt.return=Ht,Ht=wt):(z(Ht,wt),wt=Xc(hn,Ht.mode,Cr),wt.return=Ht,Ht=wt),ot(Ht);if(Du(hn))return eo(Ht,wt,hn,Cr);if(je(hn))return yu(Ht,wt,hn,Cr);if(Wa&&uf(Ht,hn),typeof hn>"u"&&!Xr)switch(Ht.tag){case 1:case 22:case 0:case 11:case 15:throw Error(h(152,Ke(Ht.type)||"Component"))}return z(Ht,wt)}}var ks=uh(!0),cl=uh(!1),fl={},Bo=$t(fl),dl=$t(fl),$a=$t(fl);function lu(C){if(C===fl)throw Error(h(174));return C}function cf(C,M){wn($a,M),wn(dl,C),wn(Bo,fl),C=Pe(M),Rn(Bo),wn(Bo,C)}function ff(){Rn(Bo),Rn(dl),Rn($a)}function qs(C){var M=lu($a.current),z=lu(Bo.current);M=be(z,C.type,M),z!==M&&(wn(dl,C),wn(Bo,M))}function Xs(C){dl.current===C&&(Rn(Bo),Rn(dl))}var vi=$t(0);function Ou(C){for(var M=C;M!==null;){if(M.tag===13){var z=M.memoizedState;if(z!==null&&(z=z.dehydrated,z===null||oa(z)||Ir(z)))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if(M.flags&64)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===C)break;for(;M.sibling===null;){if(M.return===null||M.return===C)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}var Qa=null,Ds=null,ss=!1;function Oa(C,M){var z=po(5,null,null,0);z.elementType="DELETED",z.type="DELETED",z.stateNode=M,z.return=C,z.flags=8,C.lastEffect!==null?(C.lastEffect.nextEffect=z,C.lastEffect=z):C.firstEffect=C.lastEffect=z}function ep(C,M){switch(C.tag){case 5:return M=Sr(M,C.type,C.pendingProps),M!==null?(C.stateNode=M,!0):!1;case 6:return M=$n(M,C.pendingProps),M!==null?(C.stateNode=M,!0):!1;case 13:return!1;default:return!1}}function _d(C){if(ss){var M=Ds;if(M){var z=M;if(!ep(C,M)){if(M=ja(z),!M||!ep(C,M)){C.flags=C.flags&-1025|2,ss=!1,Qa=C;return}Oa(Qa,z)}Qa=C,Ds=xa(M)}else C.flags=C.flags&-1025|2,ss=!1,Qa=C}}function Bu(C){for(C=C.return;C!==null&&C.tag!==5&&C.tag!==3&&C.tag!==13;)C=C.return;Qa=C}function cc(C){if(!Cn||C!==Qa)return!1;if(!ss)return Bu(C),ss=!0,!1;var M=C.type;if(C.tag!==5||M!=="head"&&M!=="body"&&!en(M,C.memoizedProps))for(M=Ds;M;)Oa(C,M),M=ja(M);if(Bu(C),C.tag===13){if(!Cn)throw Error(h(316));if(C=C.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(h(317));Ds=ke(C)}else Ds=Qa?ja(C.stateNode):null;return!0}function ch(){Cn&&(Ds=Qa=null,ss=!1)}var Os=[];function zf(){for(var C=0;C<Os.length;C++){var M=Os[C];Ut?M._workInProgressVersionPrimary=null:M._workInProgressVersionSecondary=null}Os.length=0}var fh=v.ReactCurrentDispatcher,Al=v.ReactCurrentBatchConfig,fc=0,Ja=null,ro=null,ga=null,Lu=!1,To=!1;function xo(){throw Error(h(321))}function Yl(C,M){if(M===null)return!1;for(var z=0;z<M.length&&z<C.length;z++)if(!Wo(C[z],M[z]))return!1;return!0}function uu(C,M,z,ae,ce,Me){if(fc=Me,Ja=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,fh.current=C===null||C.memoizedState===null?Kp:Dm,C=z(ae,ce),To){Me=0;do{if(To=!1,!(25>Me))throw Error(h(301));Me+=1,ga=ro=null,M.updateQueue=null,fh.current=Mv,C=z(ae,ce)}while(To)}if(fh.current=Sd,M=ro!==null&&ro.next!==null,fc=0,ga=ro=Ja=null,Lu=!1,M)throw Error(h(300));return C}function dc(){var C={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ga===null?Ja.memoizedState=ga=C:ga=ga.next=C,ga}function Nu(){if(ro===null){var C=Ja.alternate;C=C!==null?C.memoizedState:null}else C=ro.next;var M=ga===null?Ja.memoizedState:ga.next;if(M!==null)ga=M,ro=C;else{if(C===null)throw Error(h(310));ro=C,C={memoizedState:ro.memoizedState,baseState:ro.baseState,baseQueue:ro.baseQueue,queue:ro.queue,next:null},ga===null?Ja.memoizedState=ga=C:ga=ga.next=C}return ga}function sa(C,M){return typeof M=="function"?M(C):M}function hc(C){var M=Nu(),z=M.queue;if(z===null)throw Error(h(311));z.lastRenderedReducer=C;var ae=ro,ce=ae.baseQueue,Me=z.pending;if(Me!==null){if(ce!==null){var ot=ce.next;ce.next=Me.next,Me.next=ot}ae.baseQueue=ce=Me,z.pending=null}if(ce!==null){ce=ce.next,ae=ae.baseState;var yt=ot=Me=null,pn=ce;do{var qn=pn.lane;if((fc&qn)===qn)yt!==null&&(yt=yt.next={lane:0,action:pn.action,eagerReducer:pn.eagerReducer,eagerState:pn.eagerState,next:null}),ae=pn.eagerReducer===C?pn.eagerState:C(ae,pn.action);else{var ui={lane:qn,action:pn.action,eagerReducer:pn.eagerReducer,eagerState:pn.eagerState,next:null};yt===null?(ot=yt=ui,Me=ae):yt=yt.next=ui,Ja.lanes|=qn,Xf|=qn}pn=pn.next}while(pn!==null&&pn!==ce);yt===null?Me=ae:yt.next=ot,Wo(ae,M.memoizedState)||(la=!0),M.memoizedState=ae,M.baseState=Me,M.baseQueue=yt,z.lastRenderedState=ae}return[M.memoizedState,z.dispatch]}function df(C){var M=Nu(),z=M.queue;if(z===null)throw Error(h(311));z.lastRenderedReducer=C;var ae=z.dispatch,ce=z.pending,Me=M.memoizedState;if(ce!==null){z.pending=null;var ot=ce=ce.next;do Me=C(Me,ot.action),ot=ot.next;while(ot!==ce);Wo(Me,M.memoizedState)||(la=!0),M.memoizedState=Me,M.baseQueue===null&&(M.baseState=Me),z.lastRenderedState=Me}return[Me,ae]}function tp(C,M,z){var ae=M._getVersion;ae=ae(M._source);var ce=Ut?M._workInProgressVersionPrimary:M._workInProgressVersionSecondary;if(ce!==null?C=ce===ae:(C=C.mutableReadLanes,(C=(fc&C)===C)&&(Ut?M._workInProgressVersionPrimary=ae:M._workInProgressVersionSecondary=ae,Os.push(M))),C)return z(M._source);throw Os.push(M),Error(h(350))}function np(C,M,z,ae){var ce=Ml;if(ce===null)throw Error(h(349));var Me=M._getVersion,ot=Me(M._source),yt=fh.current,pn=yt.useState(function(){return tp(ce,M,z)}),qn=pn[1],ui=pn[0];pn=ga;var oi=C.memoizedState,rr=oi.refs,Fa=rr.getSnapshot,eo=oi.source;oi=oi.subscribe;var yu=Ja;return C.memoizedState={refs:rr,source:M,subscribe:ae},yt.useEffect(function(){rr.getSnapshot=z,rr.setSnapshot=qn;var Ht=Me(M._source);if(!Wo(ot,Ht)){Ht=z(M._source),Wo(ui,Ht)||(qn(Ht),Ht=Gu(yu),ce.mutableReadLanes|=Ht&ce.pendingLanes),Ht=ce.mutableReadLanes,ce.entangledLanes|=Ht;for(var wt=ce.entanglements,hn=Ht;0<hn;){var Cr=31-ou(hn),Xr=1<<Cr;wt[Cr]|=Ht,hn&=~Xr}}},[z,M,ae]),yt.useEffect(function(){return ae(M._source,function(){var Ht=rr.getSnapshot,wt=rr.setSnapshot;try{wt(Ht(M._source));var hn=Gu(yu);ce.mutableReadLanes|=hn&ce.pendingLanes}catch(Cr){wt(function(){throw Cr})}})},[M,ae]),Wo(Fa,z)&&Wo(eo,M)&&Wo(oi,ae)||(C={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ui},C.dispatch=qn=dh.bind(null,Ja,C),pn.queue=C,pn.baseQueue=null,ui=tp(ce,M,z),pn.memoizedState=pn.baseState=ui),ui}function $l(C,M,z){var ae=Nu();return np(ae,C,M,z)}function cu(C){var M=dc();return typeof C=="function"&&(C=C()),M.memoizedState=M.baseState=C,C=M.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:C},C=C.dispatch=dh.bind(null,Ja,C),[M.memoizedState,C]}function Ai(C,M,z,ae){return C={tag:C,create:M,destroy:z,deps:ae,next:null},M=Ja.updateQueue,M===null?(M={lastEffect:null},Ja.updateQueue=M,M.lastEffect=C.next=C):(z=M.lastEffect,z===null?M.lastEffect=C.next=C:(ae=z.next,z.next=C,C.next=ae,M.lastEffect=C)),C}function Ys(C){var M=dc();return C={current:C},M.memoizedState=C}function Ba(){return Nu().memoizedState}function xe(C,M,z,ae){var ce=dc();Ja.flags|=C,ce.memoizedState=Ai(1|M,z,void 0,ae===void 0?null:ae)}function Ye(C,M,z,ae){var ce=Nu();ae=ae===void 0?null:ae;var Me=void 0;if(ro!==null){var ot=ro.memoizedState;if(Me=ot.destroy,ae!==null&&Yl(ae,ot.deps)){Ai(M,z,Me,ae);return}}Ja.flags|=C,ce.memoizedState=Ai(1|M,z,Me,ae)}function vt(C,M){return xe(516,4,C,M)}function nn(C,M){return Ye(516,4,C,M)}function Er(C,M){return Ye(4,2,C,M)}function Ti(C,M){if(typeof M=="function")return C=C(),M(C),function(){M(null)};if(M!=null)return C=C(),M.current=C,function(){M.current=null}}function Ko(C,M,z){return z=z!=null?z.concat([C]):null,Ye(4,2,Ti.bind(null,M,C),z)}function Fu(){}function $s(C,M){var z=Nu();M=M===void 0?null:M;var ae=z.memoizedState;return ae!==null&&M!==null&&Yl(M,ae[1])?ae[0]:(z.memoizedState=[C,M],C)}function ls(C,M){var z=Nu();M=M===void 0?null:M;var ae=z.memoizedState;return ae!==null&&M!==null&&Yl(M,ae[1])?ae[0]:(C=C(),z.memoizedState=[C,M],C)}function pc(C,M){var z=Ks();fo(98>z?98:z,function(){C(!0)}),fo(97<z?97:z,function(){var ae=Al.transition;Al.transition=1;try{C(!1),M()}finally{Al.transition=ae}})}function dh(C,M,z){var ae=Xo(),ce=Gu(C),Me={lane:ce,action:z,eagerReducer:null,eagerState:null,next:null},ot=M.pending;if(ot===null?Me.next=Me:(Me.next=ot.next,ot.next=Me),M.pending=Me,ot=C.alternate,C===Ja||ot!==null&&ot===Ja)To=Lu=!0;else{if(C.lanes===0&&(ot===null||ot.lanes===0)&&(ot=M.lastRenderedReducer,ot!==null))try{var yt=M.lastRenderedState,pn=ot(yt,z);if(Me.eagerReducer=ot,Me.eagerState=pn,Wo(pn,yt))return}catch{}finally{}_c(C,ce,ae)}}var Sd={readContext:_o,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useOpaqueIdentifier:xo,unstable_isNewReconciler:!1},Kp={readContext:_o,useCallback:function(C,M){return dc().memoizedState=[C,M===void 0?null:M],C},useContext:_o,useEffect:vt,useImperativeHandle:function(C,M,z){return z=z!=null?z.concat([C]):null,xe(4,2,Ti.bind(null,M,C),z)},useLayoutEffect:function(C,M){return xe(4,2,C,M)},useMemo:function(C,M){var z=dc();return M=M===void 0?null:M,C=C(),z.memoizedState=[C,M],C},useReducer:function(C,M,z){var ae=dc();return M=z!==void 0?z(M):M,ae.memoizedState=ae.baseState=M,C=ae.queue={pending:null,dispatch:null,lastRenderedReducer:C,lastRenderedState:M},C=C.dispatch=dh.bind(null,Ja,C),[ae.memoizedState,C]},useRef:Ys,useState:cu,useDebugValue:Fu,useDeferredValue:function(C){var M=cu(C),z=M[0],ae=M[1];return vt(function(){var ce=Al.transition;Al.transition=1;try{ae(C)}finally{Al.transition=ce}},[C]),z},useTransition:function(){var C=cu(!1),M=C[0];return C=pc.bind(null,C[1]),Ys(C),[C,M]},useMutableSource:function(C,M,z){var ae=dc();return ae.memoizedState={refs:{getSnapshot:M,setSnapshot:null},source:C,subscribe:z},np(ae,C,M,z)},useOpaqueIdentifier:function(){if(ss){var C=!1,M=nr(function(){throw C||(C=!0,z(dr())),Error(h(355))}),z=cu(M)[1];return!(Ja.mode&2)&&(Ja.flags|=516,Ai(5,function(){z(dr())},void 0,null)),M}return M=dr(),cu(M),M},unstable_isNewReconciler:!1},Dm={readContext:_o,useCallback:$s,useContext:_o,useEffect:nn,useImperativeHandle:Ko,useLayoutEffect:Er,useMemo:ls,useReducer:hc,useRef:Ba,useState:function(){return hc(sa)},useDebugValue:Fu,useDeferredValue:function(C){var M=hc(sa),z=M[0],ae=M[1];return nn(function(){var ce=Al.transition;Al.transition=1;try{ae(C)}finally{Al.transition=ce}},[C]),z},useTransition:function(){var C=hc(sa)[0];return[Ba().current,C]},useMutableSource:$l,useOpaqueIdentifier:function(){return hc(sa)[0]},unstable_isNewReconciler:!1},Mv={readContext:_o,useCallback:$s,useContext:_o,useEffect:nn,useImperativeHandle:Ko,useLayoutEffect:Er,useMemo:ls,useReducer:df,useRef:Ba,useState:function(){return df(sa)},useDebugValue:Fu,useDeferredValue:function(C){var M=df(sa),z=M[0],ae=M[1];return nn(function(){var ce=Al.transition;Al.transition=1;try{ae(C)}finally{Al.transition=ce}},[C]),z},useTransition:function(){var C=df(sa)[0];return[Ba().current,C]},useMutableSource:$l,useOpaqueIdentifier:function(){return df(sa)[0]},unstable_isNewReconciler:!1},rp=v.ReactCurrentOwner,la=!1;function Tl(C,M,z,ae){M.child=C===null?cl(M,null,z,ae):ks(M,C.child,z,ae)}function hh(C,M,z,ae,ce){z=z.render;var Me=M.ref;return yo(M,ce),ae=uu(C,M,z,ae,Me,ce),C!==null&&!la?(M.updateQueue=C.updateQueue,M.flags&=-517,C.lanes&=~ce,jf(C,M,ce)):(M.flags|=1,Tl(C,M,ae,ce),M.child)}function Hf(C,M,z,ae,ce,Me){if(C===null){var ot=z.type;return typeof ot=="function"&&!xc(ot)&&ot.defaultProps===void 0&&z.compare===null&&z.defaultProps===void 0?(M.tag=15,M.type=ot,Pv(C,M,ot,ae,ce,Me)):(C=wc(z.type,null,ae,M,M.mode,Me),C.ref=M.ref,C.return=M,M.child=C)}return ot=C.child,!(ce&Me)&&(ce=ot.memoizedProps,z=z.compare,z=z!==null?z:Es,z(ce,ae)&&C.ref===M.ref)?jf(C,M,Me):(M.flags|=1,C=qc(ot,ae),C.ref=M.ref,C.return=M,M.child=C)}function Pv(C,M,z,ae,ce,Me){if(C!==null&&Es(C.memoizedProps,ae)&&C.ref===M.ref)if(la=!1,(Me&ce)!==0)C.flags&16384&&(la=!0);else return M.lanes=C.lanes,jf(C,M,Me);return ph(C,M,z,ae,Me)}function hf(C,M,z){var ae=M.pendingProps,ce=ae.children,Me=C!==null?C.memoizedState:null;if(ae.mode==="hidden"||ae.mode==="unstable-defer-without-hiding")if(!(M.mode&4))M.memoizedState={baseLanes:0},Kc(M,z);else if(z&1073741824)M.memoizedState={baseLanes:0},Kc(M,Me!==null?Me.baseLanes:z);else return C=Me!==null?Me.baseLanes|z:z,M.lanes=M.childLanes=1073741824,M.memoizedState={baseLanes:C},Kc(M,C),null;else Me!==null?(ae=Me.baseLanes|z,M.memoizedState=null):ae=z,Kc(M,ae);return Tl(C,M,ce,z),M.child}function Uu(C,M){var z=M.ref;(C===null&&z!==null||C!==null&&C.ref!==z)&&(M.flags|=128)}function ph(C,M,z,ae,ce){var Me=Rr(z)?Wr:tr.current;return Me=pr(M,Me),yo(M,ce),z=uu(C,M,z,ae,Me,ce),C!==null&&!la?(M.updateQueue=C.updateQueue,M.flags&=-517,C.lanes&=~ce,jf(C,M,ce)):(M.flags|=1,Tl(C,M,z,ce),M.child)}function Uc(C,M,z,ae,ce){if(Rr(z)){var Me=!0;ti(M)}else Me=!1;if(yo(M,ce),M.stateNode===null)C!==null&&(C.alternate=null,M.alternate=null,M.flags|=2),km(M,z,ae),lf(M,z,ae,ce),ae=!0;else if(C===null){var ot=M.stateNode,yt=M.memoizedProps;ot.props=yt;var pn=ot.context,qn=z.contextType;typeof qn=="object"&&qn!==null?qn=_o(qn):(qn=Rr(z)?Wr:tr.current,qn=pr(M,qn));var ui=z.getDerivedStateFromProps,oi=typeof ui=="function"||typeof ot.getSnapshotBeforeUpdate=="function";oi||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(yt!==ae||pn!==qn)&&Uf(M,ot,ae,qn),Cl=!1;var rr=M.memoizedState;ot.state=rr,lc(M,ae,ot,ce),pn=M.memoizedState,yt!==ae||rr!==pn||Tr.current||Cl?(typeof ui=="function"&&(lh(M,z,ui,ae),pn=M.memoizedState),(yt=Cl||Wp(M,z,yt,ae,rr,pn,qn))?(oi||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(M.flags|=4)):(typeof ot.componentDidMount=="function"&&(M.flags|=4),M.memoizedProps=ae,M.memoizedState=pn),ot.props=ae,ot.state=pn,ot.context=qn,ae=yt):(typeof ot.componentDidMount=="function"&&(M.flags|=4),ae=!1)}else{ot=M.stateNode,So(C,M),yt=M.memoizedProps,qn=M.type===M.elementType?yt:Ps(M.type,yt),ot.props=qn,oi=M.pendingProps,rr=ot.context,pn=z.contextType,typeof pn=="object"&&pn!==null?pn=_o(pn):(pn=Rr(z)?Wr:tr.current,pn=pr(M,pn));var Fa=z.getDerivedStateFromProps;(ui=typeof Fa=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(yt!==oi||rr!==pn)&&Uf(M,ot,ae,pn),Cl=!1,rr=M.memoizedState,ot.state=rr,lc(M,ae,ot,ce);var eo=M.memoizedState;yt!==oi||rr!==eo||Tr.current||Cl?(typeof Fa=="function"&&(lh(M,z,Fa,ae),eo=M.memoizedState),(qn=Cl||Wp(M,z,qn,ae,rr,eo,pn))?(ui||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(ae,eo,pn),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(ae,eo,pn)),typeof ot.componentDidUpdate=="function"&&(M.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(M.flags|=256)):(typeof ot.componentDidUpdate!="function"||yt===C.memoizedProps&&rr===C.memoizedState||(M.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||yt===C.memoizedProps&&rr===C.memoizedState||(M.flags|=256),M.memoizedProps=ae,M.memoizedState=eo),ot.props=ae,ot.state=eo,ot.context=pn,ae=qn):(typeof ot.componentDidUpdate!="function"||yt===C.memoizedProps&&rr===C.memoizedState||(M.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||yt===C.memoizedProps&&rr===C.memoizedState||(M.flags|=256),ae=!1)}return qp(C,M,z,ae,Me,ce)}function qp(C,M,z,ae,ce,Me){Uu(C,M);var ot=(M.flags&64)!==0;if(!ae&&!ot)return ce&&ki(M,z,!1),jf(C,M,Me);ae=M.stateNode,rp.current=M;var yt=ot&&typeof z.getDerivedStateFromError!="function"?null:ae.render();return M.flags|=1,C!==null&&ot?(M.child=ks(M,C.child,null,Me),M.child=ks(M,null,yt,Me)):Tl(C,M,yt,Me),M.memoizedState=ae.state,ce&&ki(M,z,!0),M.child}function ip(C){var M=C.stateNode;M.pendingContext?pi(C,M.pendingContext,M.pendingContext!==M.context):M.context&&pi(C,M.context,!1),cf(C,M.containerInfo)}var ap={dehydrated:null,retryLane:0};function Om(C,M,z){var ae=M.pendingProps,ce=vi.current,Me=!1,ot;return(ot=(M.flags&64)!==0)||(ot=C!==null&&C.memoizedState===null?!1:(ce&2)!==0),ot?(Me=!0,M.flags&=-65):C!==null&&C.memoizedState===null||ae.fallback===void 0||ae.unstable_avoidThisFallback===!0||(ce|=1),wn(vi,ce&1),C===null?(ae.fallback!==void 0&&_d(M),C=ae.children,ce=ae.fallback,Me?(C=op(M,C,ce,z),M.child.memoizedState={baseLanes:z},M.memoizedState=ap,C):typeof ae.unstable_expectedLoadTime=="number"?(C=op(M,C,ce,z),M.child.memoizedState={baseLanes:z},M.memoizedState=ap,M.lanes=33554432,C):(z=mp({mode:"visible",children:C},M.mode,z,null),z.return=M,M.child=z)):C.memoizedState!==null?Me?(ae=Rv(C,M,ae.children,ae.fallback,z),Me=M.child,ce=C.child.memoizedState,Me.memoizedState=ce===null?{baseLanes:z}:{baseLanes:ce.baseLanes|z},Me.childLanes=C.childLanes&~z,M.memoizedState=ap,ae):(z=Xp(C,M,ae.children,z),M.memoizedState=null,z):Me?(ae=Rv(C,M,ae.children,ae.fallback,z),Me=M.child,ce=C.child.memoizedState,Me.memoizedState=ce===null?{baseLanes:z}:{baseLanes:ce.baseLanes|z},Me.childLanes=C.childLanes&~z,M.memoizedState=ap,ae):(z=Xp(C,M,ae.children,z),M.memoizedState=null,z)}function op(C,M,z,ae){var ce=C.mode,Me=C.child;return M={mode:"hidden",children:M},!(ce&2)&&Me!==null?(Me.childLanes=0,Me.pendingProps=M):Me=mp(M,ce,0,null),z=Vu(z,ce,ae,null),Me.return=C,z.return=C,Me.sibling=z,C.child=Me,z}function Xp(C,M,z,ae){var ce=C.child;return C=ce.sibling,z=qc(ce,{mode:"visible",children:z}),!(M.mode&2)&&(z.lanes=ae),z.return=M,z.sibling=null,C!==null&&(C.nextEffect=null,C.flags=8,M.firstEffect=M.lastEffect=C),M.child=z}function Rv(C,M,z,ae,ce){var Me=M.mode,ot=C.child;C=ot.sibling;var yt={mode:"hidden",children:z};return!(Me&2)&&M.child!==ot?(z=M.child,z.childLanes=0,z.pendingProps=yt,ot=z.lastEffect,ot!==null?(M.firstEffect=z.firstEffect,M.lastEffect=ot,ot.nextEffect=null):M.firstEffect=M.lastEffect=null):z=qc(ot,yt),C!==null?ae=qc(C,ae):(ae=Vu(ae,Me,ce,null),ae.flags|=2),ae.return=M,z.return=M,z.sibling=ae,M.child=z,ae}function b0(C,M){C.lanes|=M;var z=C.alternate;z!==null&&(z.lanes|=M),wa(C.return,M)}function mh(C,M,z,ae,ce,Me){var ot=C.memoizedState;ot===null?C.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:ae,tail:z,tailMode:ce,lastEffect:Me}:(ot.isBackwards=M,ot.rendering=null,ot.renderingStartTime=0,ot.last=ae,ot.tail=z,ot.tailMode=ce,ot.lastEffect=Me)}function vh(C,M,z){var ae=M.pendingProps,ce=ae.revealOrder,Me=ae.tail;if(Tl(C,M,ae.children,z),ae=vi.current,ae&2)ae=ae&1|2,M.flags|=64;else{if(C!==null&&C.flags&64)e:for(C=M.child;C!==null;){if(C.tag===13)C.memoizedState!==null&&b0(C,z);else if(C.tag===19)b0(C,z);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===M)break e;for(;C.sibling===null;){if(C.return===null||C.return===M)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}ae&=1}if(wn(vi,ae),!(M.mode&2))M.memoizedState=null;else switch(ce){case"forwards":for(z=M.child,ce=null;z!==null;)C=z.alternate,C!==null&&Ou(C)===null&&(ce=z),z=z.sibling;z=ce,z===null?(ce=M.child,M.child=null):(ce=z.sibling,z.sibling=null),mh(M,!1,ce,z,Me,M.lastEffect);break;case"backwards":for(z=null,ce=M.child,M.child=null;ce!==null;){if(C=ce.alternate,C!==null&&Ou(C)===null){M.child=ce;break}C=ce.sibling,ce.sibling=z,z=ce,ce=C}mh(M,!0,z,null,Me,M.lastEffect);break;case"together":mh(M,!1,null,null,void 0,M.lastEffect);break;default:M.memoizedState=null}return M.child}function jf(C,M,z){if(C!==null&&(M.dependencies=C.dependencies),Xf|=M.lanes,z&M.childLanes){if(C!==null&&M.child!==C.child)throw Error(h(153));if(M.child!==null){for(C=M.child,z=qc(C,C.pendingProps),M.child=z,z.return=M;C.sibling!==null;)C=C.sibling,z=z.sibling=qc(C,C.pendingProps),z.return=M;z.sibling=null}return M.child}return null}function zu(C){C.flags|=4}var xd,pf,zc,Hu;if(Kt)xd=function(C,M){for(var z=M.child;z!==null;){if(z.tag===5||z.tag===6)We(C,z.stateNode);else if(z.tag!==4&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===M)break;for(;z.sibling===null;){if(z.return===null||z.return===M)return;z=z.return}z.sibling.return=z.return,z=z.sibling}},pf=function(){},zc=function(C,M,z,ae,ce){if(C=C.memoizedProps,C!==ae){var Me=M.stateNode,ot=lu(Bo.current);z=dt(Me,z,C,ae,ce,ot),(M.updateQueue=z)&&zu(M)}},Hu=function(C,M,z,ae){z!==ae&&zu(M)};else if(Yt){xd=function(C,M,z,ae){for(var ce=M.child;ce!==null;){if(ce.tag===5){var Me=ce.stateNode;z&&ae&&(Me=yr(Me,ce.type,ce.memoizedProps,ce)),We(C,Me)}else if(ce.tag===6)Me=ce.stateNode,z&&ae&&(Me=Kn(Me,ce.memoizedProps,ce)),We(C,Me);else if(ce.tag!==4){if(ce.tag===13&&ce.flags&4&&(Me=ce.memoizedState!==null)){var ot=ce.child;if(ot!==null&&(ot.child!==null&&(ot.child.return=ot,xd(C,ot,!0,Me)),Me=ot.sibling,Me!==null)){Me.return=ce,ce=Me;continue}}if(ce.child!==null){ce.child.return=ce,ce=ce.child;continue}}if(ce===M)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===M)return;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}};var Gf=function(C,M,z,ae){for(var ce=M.child;ce!==null;){if(ce.tag===5){var Me=ce.stateNode;z&&ae&&(Me=yr(Me,ce.type,ce.memoizedProps,ce)),Bt(C,Me)}else if(ce.tag===6)Me=ce.stateNode,z&&ae&&(Me=Kn(Me,ce.memoizedProps,ce)),Bt(C,Me);else if(ce.tag!==4){if(ce.tag===13&&ce.flags&4&&(Me=ce.memoizedState!==null)){var ot=ce.child;if(ot!==null&&(ot.child!==null&&(ot.child.return=ot,Gf(C,ot,!0,Me)),Me=ot.sibling,Me!==null)){Me.return=ce,ce=Me;continue}}if(ce.child!==null){ce.child.return=ce,ce=ce.child;continue}}if(ce===M)break;for(;ce.sibling===null;){if(ce.return===null||ce.return===M)return;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}};pf=function(C){var M=C.stateNode;if(C.firstEffect!==null){var z=M.containerInfo,ae=kt(z);Gf(ae,C,!1,!1),M.pendingChildren=ae,zu(C),Un(z,ae)}},zc=function(C,M,z,ae,ce){var Me=C.stateNode,ot=C.memoizedProps;if((C=M.firstEffect===null)&&ot===ae)M.stateNode=Me;else{var yt=M.stateNode,pn=lu(Bo.current),qn=null;ot!==ae&&(qn=dt(yt,z,ot,ae,ce,pn)),C&&qn===null?M.stateNode=Me:(Me=ft(Me,qn,z,ot,ae,M,C,yt),Mt(Me,z,ae,ce,pn)&&zu(M),M.stateNode=Me,C?zu(M):xd(Me,M,!1,!1))}},Hu=function(C,M,z,ae){z!==ae?(C=lu($a.current),z=lu(Bo.current),M.stateNode=cn(ae,C,z,M),zu(M)):M.stateNode=C.stateNode}}else pf=function(){},zc=function(){},Hu=function(){};function Yp(C,M){if(!ss)switch(C.tailMode){case"hidden":M=C.tail;for(var z=null;M!==null;)M.alternate!==null&&(z=M),M=M.sibling;z===null?C.tail=null:z.sibling=null;break;case"collapsed":z=C.tail;for(var ae=null;z!==null;)z.alternate!==null&&(ae=z),z=z.sibling;ae===null?M||C.tail===null?C.tail=null:C.tail.sibling=null:ae.sibling=null}}function wd(C,M,z){var ae=M.pendingProps;switch(M.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Rr(M.type)&&Or(),null;case 3:return ff(),Rn(Tr),Rn(tr),zf(),ae=M.stateNode,ae.pendingContext&&(ae.context=ae.pendingContext,ae.pendingContext=null),(C===null||C.child===null)&&(cc(M)?zu(M):ae.hydrate||(M.flags|=256)),pf(M),null;case 5:Xs(M);var ce=lu($a.current);if(z=M.type,C!==null&&M.stateNode!=null)zc(C,M,z,ae,ce),C.ref!==M.ref&&(M.flags|=128);else{if(!ae){if(M.stateNode===null)throw Error(h(166));return null}if(C=lu(Bo.current),cc(M)){if(!Cn)throw Error(h(175));C=Ee(M.stateNode,M.type,M.memoizedProps,ce,C,M),M.updateQueue=C,C!==null&&zu(M)}else{var Me=mt(z,ae,ce,C,M);xd(Me,M,!1,!1),M.stateNode=Me,Mt(Me,z,ae,ce,C)&&zu(M)}M.ref!==null&&(M.flags|=128)}return null;case 6:if(C&&M.stateNode!=null)Hu(C,M,C.memoizedProps,ae);else{if(typeof ae!="string"&&M.stateNode===null)throw Error(h(166));if(C=lu($a.current),ce=lu(Bo.current),cc(M)){if(!Cn)throw Error(h(176));oe(M.stateNode,M.memoizedProps,M)&&zu(M)}else M.stateNode=cn(ae,C,ce,M)}return null;case 13:return Rn(vi),ae=M.memoizedState,M.flags&64?(M.lanes=z,M):(ae=ae!==null,ce=!1,C===null?M.memoizedProps.fallback!==void 0&&cc(M):ce=C.memoizedState!==null,ae&&!ce&&M.mode&2&&(C===null&&M.memoizedProps.unstable_avoidThisFallback!==!0||vi.current&1?Qn===0&&(Qn=3):((Qn===0||Qn===3)&&(Qn=4),Ml===null||!(Xf&134217727)&&!(Gc&134217727)||ml(Ml,Lo))),Yt&&ae&&(M.flags|=4),Kt&&(ae||ce)&&(M.flags|=4),null);case 4:return ff(),pf(M),C===null&&et(M.stateNode.containerInfo),null;case 10:return Xl(M),null;case 17:return Rr(M.type)&&Or(),null;case 19:if(Rn(vi),ae=M.memoizedState,ae===null)return null;if(ce=(M.flags&64)!==0,Me=ae.rendering,Me===null)if(ce)Yp(ae,!1);else{if(Qn!==0||C!==null&&C.flags&64)for(C=M.child;C!==null;){if(Me=Ou(C),Me!==null){for(M.flags|=64,Yp(ae,!1),C=Me.updateQueue,C!==null&&(M.updateQueue=C,M.flags|=4),ae.lastEffect===null&&(M.firstEffect=null),M.lastEffect=ae.lastEffect,C=z,ae=M.child;ae!==null;)ce=ae,z=C,ce.flags&=2,ce.nextEffect=null,ce.firstEffect=null,ce.lastEffect=null,Me=ce.alternate,Me===null?(ce.childLanes=0,ce.lanes=z,ce.child=null,ce.memoizedProps=null,ce.memoizedState=null,ce.updateQueue=null,ce.dependencies=null,ce.stateNode=null):(ce.childLanes=Me.childLanes,ce.lanes=Me.lanes,ce.child=Me.child,ce.memoizedProps=Me.memoizedProps,ce.memoizedState=Me.memoizedState,ce.updateQueue=Me.updateQueue,ce.type=Me.type,z=Me.dependencies,ce.dependencies=z===null?null:{lanes:z.lanes,firstContext:z.firstContext}),ae=ae.sibling;return wn(vi,vi.current&1|2),M.child}C=C.sibling}ae.tail!==null&&Do()>em&&(M.flags|=64,ce=!0,Yp(ae,!1),M.lanes=33554432)}else{if(!ce)if(C=Ou(Me),C!==null){if(M.flags|=64,ce=!0,C=C.updateQueue,C!==null&&(M.updateQueue=C,M.flags|=4),Yp(ae,!0),ae.tail===null&&ae.tailMode==="hidden"&&!Me.alternate&&!ss)return M=M.lastEffect=ae.lastEffect,M!==null&&(M.nextEffect=null),null}else 2*Do()-ae.renderingStartTime>em&&z!==1073741824&&(M.flags|=64,ce=!0,Yp(ae,!1),M.lanes=33554432);ae.isBackwards?(Me.sibling=M.child,M.child=Me):(C=ae.last,C!==null?C.sibling=Me:M.child=Me,ae.last=Me)}return ae.tail!==null?(C=ae.tail,ae.rendering=C,ae.tail=C.sibling,ae.lastEffect=M.lastEffect,ae.renderingStartTime=Do(),C.sibling=null,M=vi.current,wn(vi,ce?M&1|2:M&1),C):null;case 23:case 24:return Mo(),C!==null&&C.memoizedState!==null!=(M.memoizedState!==null)&&ae.mode!=="unstable-defer-without-hiding"&&(M.flags|=4),null}throw Error(h(156,M.tag))}function sp(C){switch(C.tag){case 1:Rr(C.type)&&Or();var M=C.flags;return M&4096?(C.flags=M&-4097|64,C):null;case 3:if(ff(),Rn(Tr),Rn(tr),zf(),M=C.flags,M&64)throw Error(h(285));return C.flags=M&-4097|64,C;case 5:return Xs(C),null;case 13:return Rn(vi),M=C.flags,M&4096?(C.flags=M&-4097|64,C):null;case 19:return Rn(vi),null;case 4:return ff(),null;case 10:return Xl(C),null;case 23:case 24:return Mo(),null;default:return null}}function Vf(C,M){try{var z="",ae=M;do z+=vd(ae),ae=ae.return;while(ae);var ce=z}catch(Me){ce=`
Error generating stack: `+Me.message+`
`+Me.stack}return{value:C,source:M,stack:ce}}function lp(C,M){try{console.error(M.value)}catch(z){setTimeout(function(){throw z})}}var io=typeof WeakMap=="function"?WeakMap:Map;function Bm(C,M,z){z=Is(-1,z),z.tag=3,z.payload={element:null};var ae=M.value;return z.callback=function(){du||(du=!0,Ad=ae),lp(C,M)},z}function gh(C,M,z){z=Is(-1,z),z.tag=3;var ae=C.type.getDerivedStateFromError;if(typeof ae=="function"){var ce=M.value;z.payload=function(){return lp(C,M),ae(ce)}}var Me=C.stateNode;return Me!==null&&typeof Me.componentDidCatch=="function"&&(z.callback=function(){typeof ae!="function"&&(ju===null?ju=new Set([this]):ju.add(this),lp(C,M));var ot=M.stack;this.componentDidCatch(M.value,{componentStack:ot!==null?ot:""})}),z}var Wf=typeof WeakSet=="function"?WeakSet:Set;function ho(C){var M=C.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(z){mu(C,z)}else M.current=null}function La(C,M){switch(M.tag){case 0:case 11:case 15:case 22:return;case 1:if(M.flags&256&&C!==null){var z=C.memoizedProps,ae=C.memoizedState;C=M.stateNode,M=C.getSnapshotBeforeUpdate(M.elementType===M.type?z:Ps(M.type,z),ae),C.__reactInternalSnapshotBeforeUpdate=M}return;case 3:Kt&&M.flags&256&&Ra(M.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(h(163))}function fu(C,M){if(M=M.updateQueue,M=M!==null?M.lastEffect:null,M!==null){var z=M=M.next;do{if((z.tag&C)===C){var ae=z.destroy;z.destroy=void 0,ae!==void 0&&ae()}z=z.next}while(z!==M)}}function us(C,M,z){switch(z.tag){case 0:case 11:case 15:case 22:if(M=z.updateQueue,M=M!==null?M.lastEffect:null,M!==null){C=M=M.next;do{if((C.tag&3)===3){var ae=C.create;C.destroy=ae()}C=C.next}while(C!==M)}if(M=z.updateQueue,M=M!==null?M.lastEffect:null,M!==null){C=M=M.next;do{var ce=C;ae=ce.next,ce=ce.tag,ce&4&&ce&1&&(tm(z,C),Yo(z,C)),C=ae}while(C!==M)}return;case 1:C=z.stateNode,z.flags&4&&(M===null?C.componentDidMount():(ae=z.elementType===z.type?M.memoizedProps:Ps(z.type,M.memoizedProps),C.componentDidUpdate(ae,M.memoizedState,C.__reactInternalSnapshotBeforeUpdate))),M=z.updateQueue,M!==null&&Fc(z,M,C);return;case 3:if(M=z.updateQueue,M!==null){if(C=null,z.child!==null)switch(z.child.tag){case 5:C=we(z.child.stateNode);break;case 1:C=z.child.stateNode}Fc(z,M,C)}return;case 5:C=z.stateNode,M===null&&z.flags&4&&Wn(C,z.type,z.memoizedProps,z);return;case 6:return;case 4:return;case 12:return;case 13:Cn&&z.memoizedState===null&&(z=z.alternate,z!==null&&(z=z.memoizedState,z!==null&&(z=z.dehydrated,z!==null&&Xe(z))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(h(163))}function Cs(C,M){if(Kt)for(var z=C;;){if(z.tag===5){var ae=z.stateNode;M?ir(ae):Li(z.stateNode,z.memoizedProps)}else if(z.tag===6)ae=z.stateNode,M?hr(ae):Pa(ae,z.memoizedProps);else if((z.tag!==23&&z.tag!==24||z.memoizedState===null||z===C)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===C)break;for(;z.sibling===null;){if(z.return===null||z.return===C)return;z=z.return}z.sibling.return=z.return,z=z.sibling}}function mc(C,M){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Ni,M)}catch{}switch(M.tag){case 0:case 11:case 14:case 15:case 22:if(C=M.updateQueue,C!==null&&(C=C.lastEffect,C!==null)){var z=C=C.next;do{var ae=z,ce=ae.destroy;if(ae=ae.tag,ce!==void 0)if(ae&4)tm(M,z);else{ae=M;try{ce()}catch(Me){mu(ae,Me)}}z=z.next}while(z!==C)}break;case 1:if(ho(M),C=M.stateNode,typeof C.componentWillUnmount=="function")try{C.props=M.memoizedProps,C.state=M.memoizedState,C.componentWillUnmount()}catch(Me){mu(M,Me)}break;case 5:ho(M);break;case 4:Kt?Ql(C,M):Yt&&Yt&&(M=M.stateNode.containerInfo,C=kt(M),Pr(M,C))}}function Hc(C,M){for(var z=M;;)if(mc(C,z),z.child===null||Kt&&z.tag===4){if(z===M)break;for(;z.sibling===null;){if(z.return===null||z.return===M)return;z=z.return}z.sibling.return=z.return,z=z.sibling}else z.child.return=z,z=z.child}function hl(C){C.alternate=null,C.child=null,C.dependencies=null,C.firstEffect=null,C.lastEffect=null,C.memoizedProps=null,C.memoizedState=null,C.pendingProps=null,C.return=null,C.updateQueue=null}function Kf(C){return C.tag===5||C.tag===3||C.tag===4}function cs(C){if(Kt){e:{for(var M=C.return;M!==null;){if(Kf(M))break e;M=M.return}throw Error(h(160))}var z=M;switch(M=z.stateNode,z.tag){case 5:var ae=!1;break;case 3:M=M.containerInfo,ae=!0;break;case 4:M=M.containerInfo,ae=!0;break;default:throw Error(h(161))}z.flags&16&&(Rt(M),z.flags&=-17);e:t:for(z=C;;){for(;z.sibling===null;){if(z.return===null||Kf(z.return)){z=null;break e}z=z.return}for(z.sibling.return=z.return,z=z.sibling;z.tag!==5&&z.tag!==6&&z.tag!==18;){if(z.flags&2||z.child===null||z.tag===4)continue t;z.child.return=z,z=z.child}if(!(z.flags&2)){z=z.stateNode;break e}}ae?$p(C,z,M):Qp(C,z,M)}}function $p(C,M,z){var ae=C.tag,ce=ae===5||ae===6;if(ce)C=ce?C.stateNode:C.stateNode.instance,M?cr(z,C,M):On(z,C);else if(ae!==4&&(C=C.child,C!==null))for($p(C,M,z),C=C.sibling;C!==null;)$p(C,M,z),C=C.sibling}function Qp(C,M,z){var ae=C.tag,ce=ae===5||ae===6;if(ce)C=ce?C.stateNode:C.stateNode.instance,M?Dr(z,C,M):Jt(z,C);else if(ae!==4&&(C=C.child,C!==null))for(Qp(C,M,z),C=C.sibling;C!==null;)Qp(C,M,z),C=C.sibling}function Ql(C,M){for(var z=M,ae=!1,ce,Me;;){if(!ae){ae=z.return;e:for(;;){if(ae===null)throw Error(h(160));switch(ce=ae.stateNode,ae.tag){case 5:Me=!1;break e;case 3:ce=ce.containerInfo,Me=!0;break e;case 4:ce=ce.containerInfo,Me=!0;break e}ae=ae.return}ae=!0}if(z.tag===5||z.tag===6)Hc(C,z),Me?Ot(ce,z.stateNode):ht(ce,z.stateNode);else if(z.tag===4){if(z.child!==null){ce=z.stateNode.containerInfo,Me=!0,z.child.return=z,z=z.child;continue}}else if(mc(C,z),z.child!==null){z.child.return=z,z=z.child;continue}if(z===M)break;for(;z.sibling===null;){if(z.return===null||z.return===M)return;z=z.return,z.tag===4&&(ae=!1)}z.sibling.return=z.return,z=z.sibling}}function Qs(C,M){if(Kt){switch(M.tag){case 0:case 11:case 14:case 15:case 22:fu(3,M);return;case 1:return;case 5:var z=M.stateNode;if(z!=null){var ae=M.memoizedProps;C=C!==null?C.memoizedProps:ae;var ce=M.type,Me=M.updateQueue;M.updateQueue=null,Me!==null&&Yn(z,Me,ce,C,ae,M)}return;case 6:if(M.stateNode===null)throw Error(h(162));z=M.memoizedProps,Bn(M.stateNode,C!==null?C.memoizedProps:z,z);return;case 3:Cn&&(M=M.stateNode,M.hydrate&&(M.hydrate=!1,Ze(M.containerInfo)));return;case 12:return;case 13:mf(M),yh(M);return;case 19:yh(M);return;case 17:return;case 23:case 24:Cs(M,M.memoizedState!==null);return}throw Error(h(163))}switch(M.tag){case 0:case 11:case 14:case 15:case 22:fu(3,M);return;case 12:return;case 13:mf(M),yh(M);return;case 19:yh(M);return;case 3:Cn&&(z=M.stateNode,z.hydrate&&(z.hydrate=!1,Ze(z.containerInfo)));break;case 23:case 24:return}e:if(Yt){switch(M.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:M=M.stateNode,Pr(M.containerInfo,M.pendingChildren);break e}throw Error(h(163))}}function mf(C){C.memoizedState!==null&&(Na=Do(),Kt&&Cs(C.child,!0))}function yh(C){var M=C.updateQueue;if(M!==null){C.updateQueue=null;var z=C.stateNode;z===null&&(z=C.stateNode=new Wf),M.forEach(function(ae){var ce=Fo.bind(null,C,ae);z.has(ae)||(z.add(ae),ae.then(ce,ce))})}}function Lm(C,M){return C!==null&&(C=C.memoizedState,C===null||C.dehydrated!==null)?(M=M.memoizedState,M!==null&&M.dehydrated===null):!1}var Ed=0,Jp=1,_h=2,qf=3,up=4;if(typeof Symbol=="function"&&Symbol.for){var bd=Symbol.for;Ed=bd("selector.component"),Jp=bd("selector.has_pseudo_class"),_h=bd("selector.role"),qf=bd("selector.test_id"),up=bd("selector.text")}function Sh(C){var M=Dn(C);if(M!=null){if(typeof M.memoizedProps["data-testname"]!="string")throw Error(h(364));return M}if(C=Nt(C),C===null)throw Error(h(362));return C.stateNode.current}function xh(C,M){switch(M.$$typeof){case Ed:if(C.type===M.value)return!0;break;case Jp:e:{M=M.value,C=[C,0];for(var z=0;z<C.length;){var ae=C[z++],ce=C[z++],Me=M[ce];if(ae.tag!==5||!Nn(ae)){for(;Me!=null&&xh(ae,Me);)ce++,Me=M[ce];if(ce===M.length){M=!0;break e}else for(ae=ae.child;ae!==null;)C.push(ae,ce),ae=ae.sibling}}M=!1}return M;case _h:if(C.tag===5&&Ar(C.stateNode,M.value))return!0;break;case up:if((C.tag===5||C.tag===6)&&(C=kn(C),C!==null&&0<=C.indexOf(M.value)))return!0;break;case qf:if(C.tag===5&&(C=C.memoizedProps["data-testname"],typeof C=="string"&&C.toLowerCase()===M.value.toLowerCase()))return!0;break;default:throw Error(h(365,M))}return!1}function wh(C){switch(C.$$typeof){case Ed:return"<"+(Ke(C.value)||"Unknown")+">";case Jp:return":has("+(wh(C)||"")+")";case _h:return'[role="'+C.value+'"]';case up:return'"'+C.value+'"';case qf:return'[data-testname="'+C.value+'"]';default:throw Error(h(365,C))}}function Nm(C,M){var z=[];C=[C,0];for(var ae=0;ae<C.length;){var ce=C[ae++],Me=C[ae++],ot=M[Me];if(ce.tag!==5||!Nn(ce)){for(;ot!=null&&xh(ce,ot);)Me++,ot=M[Me];if(Me===M.length)z.push(ce);else for(ce=ce.child;ce!==null;)C.push(ce,Me),ce=ce.sibling}}return z}function Eh(C,M){if(!Be)throw Error(h(363));C=Sh(C),C=Nm(C,M),M=[],C=Array.from(C);for(var z=0;z<C.length;){var ae=C[z++];if(ae.tag===5)Nn(ae)||M.push(ae.stateNode);else for(ae=ae.child;ae!==null;)C.push(ae),ae=ae.sibling}return M}var Zp=null;function vf(C){if(Zp===null)try{var M=("require"+Math.random()).slice(0,7);Zp=(e&&e[M]).call(e,"timers").setImmediate}catch{Zp=function(ae){var ce=new MessageChannel;ce.port1.onmessage=ae,ce.port2.postMessage(void 0)}}return Zp(C)}var bh=Math.ceil,Cd=v.ReactCurrentDispatcher,cp=v.ReactCurrentOwner,Bs=v.IsSomeRendererActing,Gr=0,Ml=null,wo=null,Lo=0,qo=0,Fm=$t(0),Qn=0,pl=null,jc=0,Xf=0,Gc=0,vc=0,Yf=null,Na=0,em=1/0;function Jl(){em=Do()+500}var wr=null,du=!1,Ad=null,ju=null,fs=!1,hu=null,$f=90,Qf=[],Td=[],Vc=null,Wc=0,Ch=null,Md=-1,gc=0,fp=0,gf=null,yc=!1;function Xo(){return Gr&48?Do():Md!==-1?Md:Md=Do()}function Gu(C){if(C=C.mode,!(C&2))return 1;if(!(C&4))return Ks()===99?1:2;if(gc===0&&(gc=jc),oc.transition!==0){fp!==0&&(fp=Yf!==null?Yf.pendingLanes:0),C=gc;var M=4186112&~fp;return M&=-M,M===0&&(C=4186112&~C,M=C&-C,M===0&&(M=8192)),M}return C=Ks(),Gr&4&&C===98?C=ll(12,gc):(C=ca(C),C=ll(C,gc)),C}function _c(C,M,z){if(50<Wc)throw Wc=0,Ch=null,Error(h(185));if(C=Sc(C,M),C===null)return null;El(C,M,z),C===Ml&&(Gc|=M,Qn===4&&ml(C,Lo));var ae=Ks();M===1?Gr&8&&!(Gr&48)?Ah(C):(Pl(C,z),Gr===0&&(Jl(),bl())):(!(Gr&4)||ae!==98&&ae!==99||(Vc===null?Vc=new Set([C]):Vc.add(C)),Pl(C,z)),Yf=C}function Sc(C,M){C.lanes|=M;var z=C.alternate;for(z!==null&&(z.lanes|=M),z=C,C=C.return;C!==null;)C.childLanes|=M,z=C.alternate,z!==null&&(z.childLanes|=M),z=C,C=C.return;return z.tag===3?z.stateNode:null}function Pl(C,M){for(var z=C.callbackNode,ae=C.suspendedLanes,ce=C.pingedLanes,Me=C.expirationTimes,ot=C.pendingLanes;0<ot;){var yt=31-ou(ot),pn=1<<yt,qn=Me[yt];if(qn===-1){if(!(pn&ae)||pn&ce){qn=M,Ki(pn);var ui=yi;Me[yt]=10<=ui?qn+250:6<=ui?qn+5e3:-1}}else qn<=M&&(C.expiredLanes|=pn);ot&=~pn}if(ae=co(C,C===Ml?Lo:0),M=yi,ae===0)z!==null&&(z!==Vl&&Jh(z),C.callbackNode=null,C.callbackPriority=0);else{if(z!==null){if(C.callbackPriority===M)return;z!==Vl&&Jh(z)}M===15?(z=Ah.bind(null,C),sf===null?(sf=[z],su=Iu(Lc,Im)):sf.push(z),z=Vl):M===14?z=md(99,Ah.bind(null,C)):(z=Da(M),z=md(z,Pd.bind(null,C))),C.callbackPriority=M,C.callbackNode=z}}function Pd(C){if(Md=-1,fp=gc=0,Gr&48)throw Error(h(327));var M=C.callbackNode;if(Ls()&&C.callbackNode!==M)return null;var z=co(C,C===Ml?Lo:0);if(z===0)return null;var ae=z,ce=Gr;Gr|=16;var Me=Eo();(Ml!==C||Lo!==ae)&&(Jl(),Ri(C,ae));do try{Zl();break}catch(yt){Di(C,yt)}while(1);if(ku(),Cd.current=Me,Gr=ce,wo!==null?ae=0:(Ml=null,Lo=0,ae=Qn),jc&Gc)Ri(C,0);else if(ae!==0){if(ae===2&&(Gr|=64,C.hydrate&&(C.hydrate=!1,Ra(C.containerInfo)),z=ko(C),z!==0&&(ae=Za(C,z))),ae===1)throw M=pl,Ri(C,0),ml(C,z),Pl(C,Do()),M;switch(C.finishedWork=C.current.alternate,C.finishedLanes=z,ae){case 0:case 1:throw Error(h(345));case 2:pu(C);break;case 3:if(ml(C,z),(z&62914560)===z&&(ae=Na+500-Do(),10<ae)){if(co(C,0)!==0)break;if(ce=C.suspendedLanes,(ce&z)!==z){Xo(),C.pingedLanes|=C.suspendedLanes&ce;break}C.timeoutHandle=sn(pu.bind(null,C),ae);break}pu(C);break;case 4:if(ml(C,z),(z&4186112)===z)break;for(ae=C.eventTimes,ce=-1;0<z;){var ot=31-ou(z);Me=1<<ot,ot=ae[ot],ot>ce&&(ce=ot),z&=~Me}if(z=ce,z=Do()-z,z=(120>z?120:480>z?480:1080>z?1080:1920>z?1920:3e3>z?3e3:4320>z?4320:1960*bh(z/1960))-z,10<z){C.timeoutHandle=sn(pu.bind(null,C),z);break}pu(C);break;case 5:pu(C);break;default:throw Error(h(329))}}return Pl(C,Do()),C.callbackNode===M?Pd.bind(null,C):null}function ml(C,M){for(M&=~vc,M&=~Gc,C.suspendedLanes|=M,C.pingedLanes&=~M,C=C.expirationTimes;0<M;){var z=31-ou(M),ae=1<<z;C[z]=-1,M&=~ae}}function Ah(C){if(Gr&48)throw Error(h(327));if(Ls(),C===Ml&&C.expiredLanes&Lo){var M=Lo,z=Za(C,M);jc&Gc&&(M=co(C,M),z=Za(C,M))}else M=co(C,0),z=Za(C,M);if(C.tag!==0&&z===2&&(Gr|=64,C.hydrate&&(C.hydrate=!1,Ra(C.containerInfo)),M=ko(C),M!==0&&(z=Za(C,M))),z===1)throw z=pl,Ri(C,0),ml(C,M),Pl(C,Do()),z;return C.finishedWork=C.current.alternate,C.finishedLanes=M,pu(C),Pl(C,Do()),null}function dp(){if(Vc!==null){var C=Vc;Vc=null,C.forEach(function(M){M.expiredLanes|=24&M.pendingLanes,Pl(M,Do())})}bl()}function Rd(C,M){var z=Gr;Gr|=1;try{return C(M)}finally{Gr=z,Gr===0&&(Jl(),bl())}}function Th(C,M){var z=Gr;if(z&48)return C(M);Gr|=1;try{if(C)return fo(99,C.bind(null,M))}finally{Gr=z,bl()}}function Kc(C,M){wn(Fm,qo),qo|=M,jc|=M}function Mo(){qo=Fm.current,Rn(Fm)}function Ri(C,M){C.finishedWork=null,C.finishedLanes=0;var z=C.timeoutHandle;if(z!==Gt&&(C.timeoutHandle=Gt,$e(z)),wo!==null)for(z=wo.return;z!==null;){var ae=z;switch(ae.tag){case 1:ae=ae.type.childContextTypes,ae!=null&&Or();break;case 3:ff(),Rn(Tr),Rn(tr),zf();break;case 5:Xs(ae);break;case 4:ff();break;case 13:Rn(vi);break;case 19:Rn(vi);break;case 10:Xl(ae);break;case 23:case 24:Mo()}z=z.return}Ml=C,wo=qc(C.current,null),Lo=qo=jc=M,Qn=0,pl=null,vc=Gc=Xf=0}function Di(C,M){do{var z=wo;try{if(ku(),fh.current=Sd,Lu){for(var ae=Ja.memoizedState;ae!==null;){var ce=ae.queue;ce!==null&&(ce.pending=null),ae=ae.next}Lu=!1}if(fc=0,ga=ro=Ja=null,To=!1,cp.current=null,z===null||z.return===null){Qn=1,pl=M,wo=null;break}e:{var Me=C,ot=z.return,yt=z,pn=M;if(M=Lo,yt.flags|=2048,yt.firstEffect=yt.lastEffect=null,pn!==null&&typeof pn=="object"&&typeof pn.then=="function"){var qn=pn;if(!(yt.mode&2)){var ui=yt.alternate;ui?(yt.updateQueue=ui.updateQueue,yt.memoizedState=ui.memoizedState,yt.lanes=ui.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var oi=(vi.current&1)!==0,rr=ot;do{var Fa;if(Fa=rr.tag===13){var eo=rr.memoizedState;if(eo!==null)Fa=eo.dehydrated!==null;else{var yu=rr.memoizedProps;Fa=yu.fallback===void 0?!1:yu.unstable_avoidThisFallback!==!0?!0:!oi}}if(Fa){var Ht=rr.updateQueue;if(Ht===null){var wt=new Set;wt.add(qn),rr.updateQueue=wt}else Ht.add(qn);if(!(rr.mode&2)){if(rr.flags|=64,yt.flags|=16384,yt.flags&=-2981,yt.tag===1)if(yt.alternate===null)yt.tag=17;else{var hn=Is(-1,1);hn.tag=2,bs(yt,hn)}yt.lanes|=1;break e}pn=void 0,yt=M;var Cr=Me.pingCache;if(Cr===null?(Cr=Me.pingCache=new io,pn=new Set,Cr.set(qn,pn)):(pn=Cr.get(qn),pn===void 0&&(pn=new Set,Cr.set(qn,pn))),!pn.has(yt)){pn.add(yt);var Xr=$o.bind(null,Me,qn,yt);qn.then(Xr,Xr)}rr.flags|=4096,rr.lanes=M;break e}rr=rr.return}while(rr!==null);pn=Error((Ke(yt.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Qn!==5&&(Qn=2),pn=Vf(pn,yt),rr=ot;do{switch(rr.tag){case 3:Me=pn,rr.flags|=4096,M&=-M,rr.lanes|=M;var Wa=Bm(rr,Me,M);Ff(rr,Wa);break e;case 1:Me=pn;var ci=rr.type,Ea=rr.stateNode;if(!(rr.flags&64)&&(typeof ci.getDerivedStateFromError=="function"||Ea!==null&&typeof Ea.componentDidCatch=="function"&&(ju===null||!ju.has(Ea)))){rr.flags|=4096,M&=-M,rr.lanes|=M;var Zo=gh(rr,Me,M);Ff(rr,Zo);break e}}rr=rr.return}while(rr!==null)}Id(z)}catch(ta){M=ta,wo===z&&z!==null&&(wo=z=z.return);continue}break}while(1)}function Eo(){var C=Cd.current;return Cd.current=Sd,C===null?Sd:C}function Za(C,M){var z=Gr;Gr|=16;var ae=Eo();Ml===C&&Lo===M||Ri(C,M);do try{As();break}catch(ce){Di(C,ce)}while(1);if(ku(),Gr=z,Cd.current=ae,wo!==null)throw Error(h(261));return Ml=null,Lo=0,Qn}function As(){for(;wo!==null;)No(wo)}function Zl(){for(;wo!==null&&!xs();)No(wo)}function No(C){var M=Qo(C.alternate,C,qo);C.memoizedProps=C.pendingProps,M===null?Id(C):wo=M,cp.current=null}function Id(C){var M=C;do{var z=M.alternate;if(C=M.return,M.flags&2048){if(z=sp(M),z!==null){z.flags&=2047,wo=z;return}C!==null&&(C.firstEffect=C.lastEffect=null,C.flags|=2048)}else{if(z=wd(z,M,qo),z!==null){wo=z;return}if(z=M,z.tag!==24&&z.tag!==23||z.memoizedState===null||qo&1073741824||!(z.mode&4)){for(var ae=0,ce=z.child;ce!==null;)ae|=ce.lanes|ce.childLanes,ce=ce.sibling;z.childLanes=ae}C!==null&&!(C.flags&2048)&&(C.firstEffect===null&&(C.firstEffect=M.firstEffect),M.lastEffect!==null&&(C.lastEffect!==null&&(C.lastEffect.nextEffect=M.firstEffect),C.lastEffect=M.lastEffect),1<M.flags&&(C.lastEffect!==null?C.lastEffect.nextEffect=M:C.firstEffect=M,C.lastEffect=M))}if(M=M.sibling,M!==null){wo=M;return}wo=M=C}while(M!==null);Qn===0&&(Qn=5)}function pu(C){var M=Ks();return fo(99,Jf.bind(null,C,M)),null}function Jf(C,M){do Ls();while(hu!==null);if(Gr&48)throw Error(h(327));var z=C.finishedWork;if(z===null)return null;if(C.finishedWork=null,C.finishedLanes=0,z===C.current)throw Error(h(177));C.callbackNode=null;var ae=z.lanes|z.childLanes,ce=ae,Me=C.pendingLanes&~ce;C.pendingLanes=ce,C.suspendedLanes=0,C.pingedLanes=0,C.expiredLanes&=ce,C.mutableReadLanes&=ce,C.entangledLanes&=ce,ce=C.entanglements;for(var ot=C.eventTimes,yt=C.expirationTimes;0<Me;){var pn=31-ou(Me),qn=1<<pn;ce[pn]=0,ot[pn]=-1,yt[pn]=-1,Me&=~qn}if(Vc!==null&&!(ae&24)&&Vc.has(C)&&Vc.delete(C),C===Ml&&(wo=Ml=null,Lo=0),1<z.flags?z.lastEffect!==null?(z.lastEffect.nextEffect=z,ae=z.firstEffect):ae=z:ae=z.firstEffect,ae!==null){ce=Gr,Gr|=32,cp.current=null,gf=Ce(C.containerInfo),yc=!1,wr=ae;do try{kd()}catch(wt){if(wr===null)throw Error(h(330));mu(wr,wt),wr=wr.nextEffect}while(wr!==null);gf=null,wr=ae;do try{for(ot=C;wr!==null;){var ui=wr.flags;if(ui&16&&Kt&&Rt(wr.stateNode),ui&128){var oi=wr.alternate;if(oi!==null){var rr=oi.ref;rr!==null&&(typeof rr=="function"?rr(null):rr.current=null)}}switch(ui&1038){case 2:cs(wr),wr.flags&=-3;break;case 6:cs(wr),wr.flags&=-3,Qs(wr.alternate,wr);break;case 1024:wr.flags&=-1025;break;case 1028:wr.flags&=-1025,Qs(wr.alternate,wr);break;case 4:Qs(wr.alternate,wr);break;case 8:yt=ot,Me=wr,Kt?Ql(yt,Me):Hc(yt,Me);var Fa=Me.alternate;hl(Me),Fa!==null&&hl(Fa)}wr=wr.nextEffect}}catch(wt){if(wr===null)throw Error(h(330));mu(wr,wt),wr=wr.nextEffect}while(wr!==null);yc&&Hi(),qe(C.containerInfo),C.current=z,wr=ae;do try{for(ui=C;wr!==null;){var eo=wr.flags;if(eo&36&&us(ui,wr.alternate,wr),eo&128){oi=void 0;var yu=wr.ref;if(yu!==null){var Ht=wr.stateNode;switch(wr.tag){case 5:oi=we(Ht);break;default:oi=Ht}typeof yu=="function"?yu(oi):yu.current=oi}}wr=wr.nextEffect}}catch(wt){if(wr===null)throw Error(h(330));mu(wr,wt),wr=wr.nextEffect}while(wr!==null);wr=null,pd(),Gr=ce}else C.current=z;if(fs)fs=!1,hu=C,$f=M;else for(wr=ae;wr!==null;)M=wr.nextEffect,wr.nextEffect=null,wr.flags&8&&(eo=wr,eo.sibling=null,eo.stateNode=null),wr=M;if(ae=C.pendingLanes,ae===0&&(ju=null),ae===1?C===Ch?Wc++:(Wc=0,Ch=C):Wc=0,z=z.stateNode,Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Ni,z,void 0,(z.current.flags&64)===64)}catch{}if(Pl(C,Do()),du)throw du=!1,C=Ad,Ad=null,C;return Gr&8||bl(),null}function kd(){for(;wr!==null;){var C=wr.alternate;yc||gf===null||(wr.flags&8?Se(wr,gf)&&(yc=!0,Jr()):wr.tag===13&&Lm(C,wr)&&Se(wr,gf)&&(yc=!0,Jr()));var M=wr.flags;M&256&&La(C,wr),!(M&512)||fs||(fs=!0,md(97,function(){return Ls(),null})),wr=wr.nextEffect}}function Ls(){if($f!==90){var C=97<$f?97:$f;return $f=90,fo(C,hp)}return!1}function Yo(C,M){Qf.push(M,C),fs||(fs=!0,md(97,function(){return Ls(),null}))}function tm(C,M){Td.push(M,C),fs||(fs=!0,md(97,function(){return Ls(),null}))}function hp(){if(hu===null)return!1;var C=hu;if(hu=null,Gr&48)throw Error(h(331));var M=Gr;Gr|=32;var z=Td;Td=[];for(var ae=0;ae<z.length;ae+=2){var ce=z[ae],Me=z[ae+1],ot=ce.destroy;if(ce.destroy=void 0,typeof ot=="function")try{ot()}catch(pn){if(Me===null)throw Error(h(330));mu(Me,pn)}}for(z=Qf,Qf=[],ae=0;ae<z.length;ae+=2){ce=z[ae],Me=z[ae+1];try{var yt=ce.create;ce.destroy=yt()}catch(pn){if(Me===null)throw Error(h(330));mu(Me,pn)}}for(yt=C.current.firstEffect;yt!==null;)C=yt.nextEffect,yt.nextEffect=null,yt.flags&8&&(yt.sibling=null,yt.stateNode=null),yt=C;return Gr=M,bl(),!0}function Js(C,M,z){M=Vf(z,M),M=Bm(C,M,1),bs(C,M),M=Xo(),C=Sc(C,1),C!==null&&(El(C,1,M),Pl(C,M))}function mu(C,M){if(C.tag===3)Js(C,C,M);else for(var z=C.return;z!==null;){if(z.tag===3){Js(z,C,M);break}else if(z.tag===1){var ae=z.stateNode;if(typeof z.type.getDerivedStateFromError=="function"||typeof ae.componentDidCatch=="function"&&(ju===null||!ju.has(ae))){C=Vf(M,C);var ce=gh(z,C,1);if(bs(z,ce),ce=Xo(),z=Sc(z,1),z!==null)El(z,1,ce),Pl(z,ce);else if(typeof ae.componentDidCatch=="function"&&(ju===null||!ju.has(ae)))try{ae.componentDidCatch(M,C)}catch{}break}}z=z.return}}function $o(C,M,z){var ae=C.pingCache;ae!==null&&ae.delete(M),M=Xo(),C.pingedLanes|=C.suspendedLanes&z,Ml===C&&(Lo&z)===z&&(Qn===4||Qn===3&&(Lo&62914560)===Lo&&500>Do()-Na?Ri(C,0):vc|=z),Pl(C,M)}function Fo(C,M){var z=C.stateNode;z!==null&&z.delete(M),M=0,M===0&&(M=C.mode,M&2?M&4?(gc===0&&(gc=jc),M=Ss(62914560&~gc),M===0&&(M=4194304)):M=Ks()===99?1:2:M=1),z=Xo(),C=Sc(C,M),C!==null&&(El(C,M,z),Pl(C,z))}var Qo;Qo=function(C,M,z){var ae=M.lanes;if(C!==null)if(C.memoizedProps!==M.pendingProps||Tr.current)la=!0;else if(z&ae)la=!!(C.flags&16384);else{switch(la=!1,M.tag){case 3:ip(M),ch();break;case 5:qs(M);break;case 1:Rr(M.type)&&ti(M);break;case 4:cf(M,M.stateNode.containerInfo);break;case 10:ql(M,M.memoizedProps.value);break;case 13:if(M.memoizedState!==null)return z&M.child.childLanes?Om(C,M,z):(wn(vi,vi.current&1),M=jf(C,M,z),M!==null?M.sibling:null);wn(vi,vi.current&1);break;case 19:if(ae=(z&M.childLanes)!==0,C.flags&64){if(ae)return vh(C,M,z);M.flags|=64}var ce=M.memoizedState;if(ce!==null&&(ce.rendering=null,ce.tail=null,ce.lastEffect=null),wn(vi,vi.current),ae)break;return null;case 23:case 24:return M.lanes=0,hf(C,M,z)}return jf(C,M,z)}else la=!1;switch(M.lanes=0,M.tag){case 2:if(ae=M.type,C!==null&&(C.alternate=null,M.alternate=null,M.flags|=2),C=M.pendingProps,ce=pr(M,tr.current),yo(M,z),ce=uu(null,M,ae,C,ce,z),M.flags|=1,typeof ce=="object"&&ce!==null&&typeof ce.render=="function"&&ce.$$typeof===void 0){if(M.tag=1,M.memoizedState=null,M.updateQueue=null,Rr(ae)){var Me=!0;ti(M)}else Me=!1;M.memoizedState=ce.state!==null&&ce.state!==void 0?ce.state:null,gd(M);var ot=ae.getDerivedStateFromProps;typeof ot=="function"&&lh(M,ae,ot,C),ce.updater=uc,M.stateNode=ce,ce._reactInternals=M,lf(M,ae,C,z),M=qp(null,M,ae,!0,Me,z)}else M.tag=0,Tl(null,M,ce,z),M=M.child;return M;case 16:ce=M.elementType;e:{switch(C!==null&&(C.alternate=null,M.alternate=null,M.flags|=2),C=M.pendingProps,Me=ce._init,ce=Me(ce._payload),M.type=ce,Me=M.tag=eu(ce),C=Ps(ce,C),Me){case 0:M=ph(null,M,ce,C,z);break e;case 1:M=Uc(null,M,ce,C,z);break e;case 11:M=hh(null,M,ce,C,z);break e;case 14:M=Hf(null,M,ce,Ps(ce.type,C),ae,z);break e}throw Error(h(306,ce,""))}return M;case 0:return ae=M.type,ce=M.pendingProps,ce=M.elementType===ae?ce:Ps(ae,ce),ph(C,M,ae,ce,z);case 1:return ae=M.type,ce=M.pendingProps,ce=M.elementType===ae?ce:Ps(ae,ce),Uc(C,M,ae,ce,z);case 3:if(ip(M),ae=M.updateQueue,C===null||ae===null)throw Error(h(282));if(ae=M.pendingProps,ce=M.memoizedState,ce=ce!==null?ce.element:null,So(C,M),lc(M,ae,null,z),ae=M.memoizedState.element,ae===ce)ch(),M=jf(C,M,z);else{if(ce=M.stateNode,(Me=ce.hydrate)&&(Cn?(Ds=xa(M.stateNode.containerInfo),Qa=M,Me=ss=!0):Me=!1),Me){if(Cn&&(C=ce.mutableSourceEagerHydrationData,C!=null))for(ce=0;ce<C.length;ce+=2)Me=C[ce],ot=C[ce+1],Ut?Me._workInProgressVersionPrimary=ot:Me._workInProgressVersionSecondary=ot,Os.push(Me);for(z=cl(M,null,ae,z),M.child=z;z;)z.flags=z.flags&-3|1024,z=z.sibling}else Tl(C,M,ae,z),ch();M=M.child}return M;case 5:return qs(M),C===null&&_d(M),ae=M.type,ce=M.pendingProps,Me=C!==null?C.memoizedProps:null,ot=ce.children,en(ae,ce)?ot=null:Me!==null&&en(ae,Me)&&(M.flags|=16),Uu(C,M),Tl(C,M,ot,z),M.child;case 6:return C===null&&_d(M),null;case 13:return Om(C,M,z);case 4:return cf(M,M.stateNode.containerInfo),ae=M.pendingProps,C===null?M.child=ks(M,null,ae,z):Tl(C,M,ae,z),M.child;case 11:return ae=M.type,ce=M.pendingProps,ce=M.elementType===ae?ce:Ps(ae,ce),hh(C,M,ae,ce,z);case 7:return Tl(C,M,M.pendingProps,z),M.child;case 8:return Tl(C,M,M.pendingProps.children,z),M.child;case 12:return Tl(C,M,M.pendingProps.children,z),M.child;case 10:e:{if(ae=M.type._context,ce=M.pendingProps,ot=M.memoizedProps,Me=ce.value,ql(M,Me),ot!==null){var yt=ot.value;if(Me=Wo(yt,Me)?0:(typeof ae._calculateChangedBits=="function"?ae._calculateChangedBits(yt,Me):1073741823)|0,Me===0){if(ot.children===ce.children&&!Tr.current){M=jf(C,M,z);break e}}else for(yt=M.child,yt!==null&&(yt.return=M);yt!==null;){var pn=yt.dependencies;if(pn!==null){ot=yt.child;for(var qn=pn.firstContext;qn!==null;){if(qn.context===ae&&qn.observedBits&Me){yt.tag===1&&(qn=Is(-1,z&-z),qn.tag=2,bs(yt,qn)),yt.lanes|=z,qn=yt.alternate,qn!==null&&(qn.lanes|=z),wa(yt.return,z),pn.lanes|=z;break}qn=qn.next}}else ot=yt.tag===10&&yt.type===M.type?null:yt.child;if(ot!==null)ot.return=yt;else for(ot=yt;ot!==null;){if(ot===M){ot=null;break}if(yt=ot.sibling,yt!==null){yt.return=ot.return,ot=yt;break}ot=ot.return}yt=ot}}Tl(C,M,ce.children,z),M=M.child}return M;case 9:return ce=M.type,Me=M.pendingProps,ae=Me.children,yo(M,z),ce=_o(ce,Me.unstable_observedBits),ae=ae(ce),M.flags|=1,Tl(C,M,ae,z),M.child;case 14:return ce=M.type,Me=Ps(ce,M.pendingProps),Me=Ps(ce.type,Me),Hf(C,M,ce,Me,ae,z);case 15:return Pv(C,M,M.type,M.pendingProps,ae,z);case 17:return ae=M.type,ce=M.pendingProps,ce=M.elementType===ae?ce:Ps(ae,ce),C!==null&&(C.alternate=null,M.alternate=null,M.flags|=2),M.tag=1,Rr(ae)?(C=!0,ti(M)):C=!1,yo(M,z),km(M,ae,ce),lf(M,ae,ce,z),qp(null,M,ae,!0,C,z);case 19:return vh(C,M,z);case 23:return hf(C,M,z);case 24:return hf(C,M,z)}throw Error(h(156,M.tag))};var vu={current:!1},yf=d.unstable_flushAllWithoutAsserting,Zs=typeof yf=="function";function pp(){if(yf!==void 0)return yf();for(var C=!1;Ls();)C=!0;return C}function Mh(C){try{pp(),vf(function(){pp()?Mh(C):C()})}catch(M){C(M)}}var gu=0,Jo=!1;function el(C,M,z,ae){this.tag=C,this.key=z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ae,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function po(C,M,z,ae){return new el(C,M,z,ae)}function xc(C){return C=C.prototype,!(!C||!C.isReactComponent)}function eu(C){if(typeof C=="function")return xc(C)?1:0;if(C!=null){if(C=C.$$typeof,C===w)return 11;if(C===W)return 14}return 2}function qc(C,M){var z=C.alternate;return z===null?(z=po(C.tag,M,C.key,C.mode),z.elementType=C.elementType,z.type=C.type,z.stateNode=C.stateNode,z.alternate=C,C.alternate=z):(z.pendingProps=M,z.type=C.type,z.flags=0,z.nextEffect=null,z.firstEffect=null,z.lastEffect=null),z.childLanes=C.childLanes,z.lanes=C.lanes,z.child=C.child,z.memoizedProps=C.memoizedProps,z.memoizedState=C.memoizedState,z.updateQueue=C.updateQueue,M=C.dependencies,z.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},z.sibling=C.sibling,z.index=C.index,z.ref=C.ref,z}function wc(C,M,z,ae,ce,Me){var ot=2;if(ae=C,typeof C=="function")xc(C)&&(ot=1);else if(typeof C=="string")ot=5;else e:switch(C){case A:return Vu(z.children,ce,Me,M);case de:ot=8,ce|=16;break;case T:ot=8,ce|=1;break;case R:return C=po(12,z,M,ce|8),C.elementType=R,C.type=R,C.lanes=Me,C;case L:return C=po(13,z,M,ce),C.type=L,C.elementType=L,C.lanes=Me,C;case F:return C=po(19,z,M,ce),C.elementType=F,C.lanes=Me,C;case fe:return mp(z,ce,Me,M);case Z:return C=po(24,z,M,ce),C.elementType=Z,C.lanes=Me,C;default:if(typeof C=="object"&&C!==null)switch(C.$$typeof){case G:ot=10;break e;case j:ot=9;break e;case w:ot=11;break e;case W:ot=14;break e;case U:ot=16,ae=null;break e;case Q:ot=22;break e}throw Error(h(130,C==null?C:typeof C,""))}return M=po(ot,z,M,ce),M.elementType=C,M.type=ae,M.lanes=Me,M}function Vu(C,M,z,ae){return C=po(7,C,ae,M),C.lanes=z,C}function mp(C,M,z,ae){return C=po(23,C,ae,M),C.elementType=fe,C.lanes=z,C}function Xc(C,M,z){return C=po(6,C,null,M),C.lanes=z,C}function Dd(C,M,z){return M=po(4,C.children!==null?C.children:[],C.key,M),M.lanes=z,M.stateNode={containerInfo:C.containerInfo,pendingChildren:null,implementation:C.implementation},M}function Um(C,M,z){this.tag=M,this.containerInfo=C,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Gt,this.pendingContext=this.context=null,this.hydrate=z,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),Cn&&(this.mutableSourceEagerHydrationData=null)}function nm(C){var M=C._reactInternals;if(M===void 0)throw typeof C.render=="function"?Error(h(188)):Error(h(268,Object.keys(C)));return C=st(M),C===null?null:C.stateNode}function Ec(C,M){if(C=C.memoizedState,C!==null&&C.dehydrated!==null){var z=C.retryLane;C.retryLane=z!==0&&z<M?z:M}}function _f(C,M){Ec(C,M),(C=C.alternate)&&Ec(C,M)}function bg(C){return C=st(C),C===null?null:C.stateNode}function zm(){return null}return i.IsThisRendererActing=vu,i.act=function(C){function M(){gu--,Bs.current=z,vu.current=ae}Jo===!1&&(Jo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),gu++;var z=Bs.current,ae=vu.current;Bs.current=!0,vu.current=!0;try{var ce=Rd(C)}catch(Me){throw M(),Me}if(ce!==null&&typeof ce=="object"&&typeof ce.then=="function")return{then:function(Me,ot){ce.then(function(){1<gu||Zs===!0&&z===!0?(M(),Me()):Mh(function(yt){M(),yt?ot(yt):Me()})},function(yt){M(),ot(yt)})}};try{gu!==1||Zs!==!1&&z!==!1||pp(),M()}catch(Me){throw M(),Me}return{then:function(Me){Me()}}},i.attemptContinuousHydration=function(C){if(C.tag===13){var M=Xo();_c(C,67108864,M),_f(C,67108864)}},i.attemptHydrationAtCurrentPriority=function(C){if(C.tag===13){var M=Xo(),z=Gu(C);_c(C,z,M),_f(C,z)}},i.attemptSynchronousHydration=function(C){switch(C.tag){case 3:var M=C.stateNode;if(M.hydrate){var z=Ki(M.pendingLanes);M.expiredLanes|=z&M.pendingLanes,Pl(M,Do()),!(Gr&48)&&(Jl(),bl())}break;case 13:var ae=Xo();Th(function(){return _c(C,1,ae)}),_f(C,4)}},i.attemptUserBlockingHydration=function(C){if(C.tag===13){var M=Xo();_c(C,4,M),_f(C,4)}},i.batchedEventUpdates=function(C,M){var z=Gr;Gr|=2;try{return C(M)}finally{Gr=z,Gr===0&&(Jl(),bl())}},i.batchedUpdates=Rd,i.createComponentSelector=function(C){return{$$typeof:Ed,value:C}},i.createContainer=function(C,M,z){return C=new Um(C,M,z),M=po(3,null,null,M===2?7:M===1?3:0),C.current=M,M.stateNode=C,gd(M),C},i.createHasPsuedoClassSelector=function(C){return{$$typeof:Jp,value:C}},i.createPortal=function(C,M,z){var ae=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:ae==null?null:""+ae,children:C,containerInfo:M,implementation:z}},i.createRoleSelector=function(C){return{$$typeof:_h,value:C}},i.createTestNameSelector=function(C){return{$$typeof:qf,value:C}},i.createTextSelector=function(C){return{$$typeof:up,value:C}},i.deferredUpdates=function(C){return fo(97,C)},i.discreteUpdates=function(C,M,z,ae,ce){var Me=Gr;Gr|=4;try{return fo(98,C.bind(null,M,z,ae,ce))}finally{Gr=Me,Gr===0&&(Jl(),bl())}},i.findAllNodes=Eh,i.findBoundingRects=function(C,M){if(!Be)throw Error(h(363));M=Eh(C,M),C=[];for(var z=0;z<M.length;z++)C.push(Pn(M[z]));for(M=C.length-1;0<M;M--){z=C[M];for(var ae=z.x,ce=ae+z.width,Me=z.y,ot=Me+z.height,yt=M-1;0<=yt;yt--)if(M!==yt){var pn=C[yt],qn=pn.x,ui=qn+pn.width,oi=pn.y,rr=oi+pn.height;if(ae>=qn&&Me>=oi&&ce<=ui&&ot<=rr){C.splice(M,1);break}else if(ae!==qn||z.width!==pn.width||rr<Me||oi>ot){if(!(Me!==oi||z.height!==pn.height||ui<ae||qn>ce)){qn>ae&&(pn.width+=qn-ae,pn.x=ae),ui<ce&&(pn.width=ce-qn),C.splice(M,1);break}}else{oi>Me&&(pn.height+=oi-Me,pn.y=Me),rr<ot&&(pn.height=ot-oi),C.splice(M,1);break}}}return C},i.findHostInstance=nm,i.findHostInstanceWithNoPortals=function(C){return C=_e(C),C===null?null:C.tag===20?C.stateNode.instance:C.stateNode},i.findHostInstanceWithWarning=function(C){return nm(C)},i.flushControlled=function(C){var M=Gr;Gr|=1;try{fo(99,C)}finally{Gr=M,Gr===0&&(Jl(),bl())}},i.flushDiscreteUpdates=function(){!(Gr&49)&&(dp(),Ls())},i.flushPassiveEffects=Ls,i.flushSync=Th,i.focusWithin=function(C,M){if(!Be)throw Error(h(363));for(C=Sh(C),M=Nm(C,M),M=Array.from(M),C=0;C<M.length;){var z=M[C++];if(!Nn(z)){if(z.tag===5&&Zn(z.stateNode))return!0;for(z=z.child;z!==null;)M.push(z),z=z.sibling}}return!1},i.getCurrentUpdateLanePriority=function(){return mi},i.getFindAllNodesFailureDescription=function(C,M){if(!Be)throw Error(h(363));var z=0,ae=[];C=[Sh(C),0];for(var ce=0;ce<C.length;){var Me=C[ce++],ot=C[ce++],yt=M[ot];if((Me.tag!==5||!Nn(Me))&&(xh(Me,yt)&&(ae.push(wh(yt)),ot++,ot>z&&(z=ot)),ot<M.length))for(Me=Me.child;Me!==null;)C.push(Me,ot),Me=Me.sibling}if(z<M.length){for(C=[];z<M.length;z++)C.push(wh(M[z]));return`findAllNodes was able to match part of the selector:
  `+(ae.join(" > ")+`

No matching component was found for:
  `)+C.join(" > ")}return null},i.getPublicRootInstance=function(C){if(C=C.current,!C.child)return null;switch(C.child.tag){case 5:return we(C.child.stateNode);default:return C.child.stateNode}},i.injectIntoDevTools=function(C){if(C={bundleType:C.bundleType,version:C.version,rendererPackageName:C.rendererPackageName,rendererConfig:C.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:bg,findFiberByHostInstance:C.findFiberByHostInstance||zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")C=!1;else{var M=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M.isDisabled&&M.supportsFiber)try{Ni=M.inject(C),Fi=M}catch{}C=!0}return C},i.observeVisibleRects=function(C,M,z,ae){if(!Be)throw Error(h(363));C=Eh(C,M);var ce=Je(C,z,ae).disconnect;return{disconnect:function(){ce()}}},i.registerMutableSourceForHydration=function(C,M){var z=M._getVersion;z=z(M._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[M,z]:C.mutableSourceEagerHydrationData.push(M,z)},i.runWithPriority=function(C,M){var z=mi;try{return mi=C,M()}finally{mi=z}},i.shouldSuspend=function(){return!1},i.unbatchedUpdates=function(C,M){var z=Gr;Gr&=-2,Gr|=8;try{return C(M)}finally{Gr=z,Gr===0&&(Jl(),bl())}},i.updateContainer=function(C,M,z,ae){var ce=M.current,Me=Xo(),ot=Gu(ce);e:if(z){z=z._reactInternals;t:{if(Le(z)!==z||z.tag!==1)throw Error(h(170));var yt=z;do{switch(yt.tag){case 3:yt=yt.stateNode.context;break t;case 1:if(Rr(yt.type)){yt=yt.stateNode.__reactInternalMemoizedMergedChildContext;break t}}yt=yt.return}while(yt!==null);throw Error(h(171))}if(z.tag===1){var pn=z.type;if(Rr(pn)){z=ji(z,pn,yt);break e}}z=yt}else z=er;return M.context===null?M.context=z:M.pendingContext=z,M=Is(Me,ot),M.payload={element:C},ae=ae===void 0?null:ae,ae!==null&&(M.callback=ae),bs(ce,M),_c(ce,ot,Me),ot},i}}}),Qot=Vo({"../../node_modules/react-reconciler/index.js"(t,e){e.exports=$ot()}}),Jot=Vo({"../../node_modules/fast-deep-equal/index.js"(t,e){e.exports=function n(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var o,l,d;if(Array.isArray(r)){if(o=r.length,o!=i.length)return!1;for(l=o;l--!==0;)if(!n(r[l],i[l]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(d=Object.keys(r),o=d.length,o!==Object.keys(i).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(i,d[l]))return!1;for(l=o;l--!==0;){var h=d[l];if(!n(r[h],i[h]))return!1}return!0}return r!==r&&i!==i}}}),Zot=Vo({"../../node_modules/debounce/index.js"(t,e){function n(r,i,o){var l,d,h,v,S;i==null&&(i=100);function x(){var T=Date.now()-v;T<i&&T>=0?l=setTimeout(x,i-T):(l=null,o||(S=r.apply(h,d),h=d=null))}var A=function(){h=this,d=arguments,v=Date.now();var T=o&&!l;return l||(l=setTimeout(x,i)),T&&(S=r.apply(h,d),h=d=null),S};return A.clear=function(){l&&(clearTimeout(l),l=null)},A.flush=function(){l&&(S=r.apply(h,d),h=d=null,clearTimeout(l),l=null)},A}n.debounce=n,e.exports=n}}),est=Vo({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js"(t){var e=YH(),n=_s();function r(ft){for(var kt="https://reactjs.org/docs/error-decoder.html?invariant="+ft,Bt=1;Bt<arguments.length;Bt++)kt+="&args[]="+encodeURIComponent(arguments[Bt]);return"Minified React error #"+ft+"; visit "+kt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=60106,o=60107,l=60108,d=60114,h=60109,v=60110,S=60112,x=60113,A=60120,T=60115,R=60116,G=60121,j=60117,w=60119,L=60129,F=60131;typeof Symbol=="function"&&Symbol.for&&(W=Symbol.for,i=W("react.portal"),o=W("react.fragment"),l=W("react.strict_mode"),d=W("react.profiler"),h=W("react.provider"),v=W("react.context"),S=W("react.forward_ref"),x=W("react.suspense"),A=W("react.suspense_list"),T=W("react.memo"),R=W("react.lazy"),G=W("react.block"),j=W("react.fundamental"),w=W("react.scope"),L=W("react.debug_trace_mode"),F=W("react.legacy_hidden"));var W;function U(ft){if(ft==null)return null;if(typeof ft=="function")return ft.displayName||ft.name||null;if(typeof ft=="string")return ft;switch(ft){case o:return"Fragment";case i:return"Portal";case d:return"Profiler";case l:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof ft=="object")switch(ft.$$typeof){case v:return(ft.displayName||"Context")+".Consumer";case h:return(ft._context.displayName||"Context")+".Provider";case S:var kt=ft.render;return kt=kt.displayName||kt.name||"",ft.displayName||(kt!==""?"ForwardRef("+kt+")":"ForwardRef");case T:return U(ft.type);case G:return U(ft._render);case R:kt=ft._payload,ft=ft._init;try{return U(ft(kt))}catch{}}return null}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de={};function fe(ft,kt){for(var Bt=ft._threadCount|0;Bt<=kt;Bt++)ft[Bt]=ft._currentValue2,ft._threadCount=Bt+1}function Z(ft,kt,Bt,Un){if(Un&&(Un=ft.contextType,typeof Un=="object"&&Un!==null))return fe(Un,Bt),Un[Bt];if(ft=ft.contextTypes){Bt={};for(var Pr in ft)Bt[Pr]=kt[Pr];kt=Bt}else kt=de;return kt}for(var he=new Uint16Array(16),Te=0;15>Te;Te++)he[Te]=Te+1;he[15]=0;var je=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ke=Object.prototype.hasOwnProperty,Le={},Ge={};function ut(ft){return Ke.call(Ge,ft)?!0:Ke.call(Le,ft)?!1:je.test(ft)?Ge[ft]=!0:(Le[ft]=!0,!1)}function st(ft,kt,Bt,Un){if(Bt!==null&&Bt.type===0)return!1;switch(typeof kt){case"function":case"symbol":return!0;case"boolean":return Un?!1:Bt!==null?!Bt.acceptsBooleans:(ft=ft.toLowerCase().slice(0,5),ft!=="data-"&&ft!=="aria-");default:return!1}}function _e(ft,kt,Bt,Un){if(kt===null||typeof kt>"u"||st(ft,kt,Bt,Un))return!0;if(Un)return!1;if(Bt!==null)switch(Bt.type){case 3:return!kt;case 4:return kt===!1;case 5:return isNaN(kt);case 6:return isNaN(kt)||1>kt}return!1}function Se(ft,kt,Bt,Un,Pr,yr,Kn){this.acceptsBooleans=kt===2||kt===3||kt===4,this.attributeName=Un,this.attributeNamespace=Pr,this.mustUseProperty=Bt,this.propertyName=ft,this.type=kt,this.sanitizeURL=yr,this.removeEmptyString=Kn}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ft){we[ft]=new Se(ft,0,!1,ft,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ft){var kt=ft[0];we[kt]=new Se(kt,1,!1,ft[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ft){we[ft]=new Se(ft,2,!1,ft.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ft){we[ft]=new Se(ft,2,!1,ft,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ft){we[ft]=new Se(ft,3,!1,ft.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ft){we[ft]=new Se(ft,3,!0,ft,null,!1,!1)}),["capture","download"].forEach(function(ft){we[ft]=new Se(ft,4,!1,ft,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ft){we[ft]=new Se(ft,6,!1,ft,null,!1,!1)}),["rowSpan","start"].forEach(function(ft){we[ft]=new Se(ft,5,!1,ft.toLowerCase(),null,!1,!1)});var Pe=/[\-:]([a-z])/g;function be(ft){return ft[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ft){var kt=ft.replace(Pe,be);we[kt]=new Se(kt,1,!1,ft,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ft){var kt=ft.replace(Pe,be);we[kt]=new Se(kt,1,!1,ft,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ft){var kt=ft.replace(Pe,be);we[kt]=new Se(kt,1,!1,ft,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ft){we[ft]=new Se(ft,1,!1,ft.toLowerCase(),null,!1,!1)}),we.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ft){we[ft]=new Se(ft,1,!1,ft.toLowerCase(),null,!0,!0)});var Ce=/["'&<>]/;function qe(ft){if(typeof ft=="boolean"||typeof ft=="number")return""+ft;ft=""+ft;var kt=Ce.exec(ft);if(kt){var Bt="",Un,Pr=0;for(Un=kt.index;Un<ft.length;Un++){switch(ft.charCodeAt(Un)){case 34:kt="&quot;";break;case 38:kt="&amp;";break;case 39:kt="&#x27;";break;case 60:kt="&lt;";break;case 62:kt="&gt;";break;default:continue}Pr!==Un&&(Bt+=ft.substring(Pr,Un)),Pr=Un+1,Bt+=kt}ft=Pr!==Un?Bt+ft.substring(Pr,Un):Bt}return ft}function mt(ft,kt){var Bt=we.hasOwnProperty(ft)?we[ft]:null,Un;return(Un=ft!=="style")&&(Un=Bt!==null?Bt.type===0:!(!(2<ft.length)||ft[0]!=="o"&&ft[0]!=="O"||ft[1]!=="n"&&ft[1]!=="N")),Un||_e(ft,kt,Bt,!1)?"":Bt!==null?(ft=Bt.attributeName,Un=Bt.type,Un===3||Un===4&&kt===!0?ft+'=""':(Bt.sanitizeURL&&(kt=""+kt),ft+'="'+(qe(kt)+'"'))):ut(ft)?ft+'="'+(qe(kt)+'"'):""}function We(ft,kt){return ft===kt&&(ft!==0||1/ft===1/kt)||ft!==ft&&kt!==kt}var Mt=typeof Object.is=="function"?Object.is:We,dt=null,en=null,cn=null,sn=!1,$e=!1,Gt=null,Ut=0;function Kt(){if(dt===null)throw Error(r(321));return dt}function Yt(){if(0<Ut)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Cn(){return cn===null?en===null?(sn=!1,en=cn=Yt()):(sn=!0,cn=en):cn.next===null?(sn=!1,cn=cn.next=Yt()):(sn=!0,cn=cn.next),cn}function Dn(ft,kt,Bt,Un){for(;$e;)$e=!1,Ut+=1,cn=null,Bt=ft(kt,Un);return nr(),Bt}function nr(){dt=null,$e=!1,en=null,Ut=0,cn=Gt=null}function dr(ft,kt){return typeof kt=="function"?kt(ft):kt}function Jr(ft,kt,Bt){if(dt=Kt(),cn=Cn(),sn){var Un=cn.queue;if(kt=Un.dispatch,Gt!==null&&(Bt=Gt.get(Un),Bt!==void 0)){Gt.delete(Un),Un=cn.memoizedState;do Un=ft(Un,Bt.action),Bt=Bt.next;while(Bt!==null);return cn.memoizedState=Un,[Un,kt]}return[cn.memoizedState,kt]}return ft=ft===dr?typeof kt=="function"?kt():kt:Bt!==void 0?Bt(kt):kt,cn.memoizedState=ft,ft=cn.queue={last:null,dispatch:null},ft=ft.dispatch=et.bind(null,dt,ft),[cn.memoizedState,ft]}function Hi(ft,kt){if(dt=Kt(),cn=Cn(),kt=kt===void 0?null:kt,cn!==null){var Bt=cn.memoizedState;if(Bt!==null&&kt!==null){var Un=Bt[1];e:if(Un===null)Un=!1;else{for(var Pr=0;Pr<Un.length&&Pr<kt.length;Pr++)if(!Mt(kt[Pr],Un[Pr])){Un=!1;break e}Un=!0}if(Un)return Bt[0]}}return ft=ft(),cn.memoizedState=[ft,kt],ft}function et(ft,kt,Bt){if(!(25>Ut))throw Error(r(301));if(ft===dt)if($e=!0,ft={action:Bt,next:null},Gt===null&&(Gt=new Map),Bt=Gt.get(kt),Bt===void 0)Gt.set(kt,ft);else{for(kt=Bt;kt.next!==null;)kt=kt.next;kt.next=ft}}function Be(){}var Nt=null,Pn={readContext:function(ft){var kt=Nt.threadID;return fe(ft,kt),ft[kt]},useContext:function(ft){Kt();var kt=Nt.threadID;return fe(ft,kt),ft[kt]},useMemo:Hi,useReducer:Jr,useRef:function(ft){dt=Kt(),cn=Cn();var kt=cn.memoizedState;return kt===null?(ft={current:ft},cn.memoizedState=ft):kt},useState:function(ft){return Jr(dr,ft)},useLayoutEffect:function(){},useCallback:function(ft,kt){return Hi(function(){return ft},kt)},useImperativeHandle:Be,useEffect:Be,useDebugValue:Be,useDeferredValue:function(ft){return Kt(),ft},useTransition:function(){return Kt(),[function(ft){ft()},!1]},useOpaqueIdentifier:function(){return(Nt.identifierPrefix||"")+"R:"+(Nt.uniqueID++).toString(36)},useMutableSource:function(ft,kt){return Kt(),kt(ft._source)}},kn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Nn(ft){switch(ft){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var Ar={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Zn=e({menuitem:!0},Ar),Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jt=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(ft){Jt.forEach(function(kt){kt=kt+ft.charAt(0).toUpperCase()+ft.substring(1),Je[kt]=Je[ft]})});var On=/([A-Z])/g,Bn=/^ms-/,Wn=n.Children.toArray,Yn=Q.ReactCurrentDispatcher,Dr={listing:!0,pre:!0,textarea:!0},cr=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ht={},Ot={};function Rt(ft){if(ft==null)return ft;var kt="";return n.Children.forEach(ft,function(Bt){Bt!=null&&(kt+=Bt)}),kt}var ir=Object.prototype.hasOwnProperty,hr={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Li(ft,kt){if(ft===void 0)throw Error(r(152,U(kt)||"Component"))}function Pa(ft,kt,Bt){function Un(Kn,Sr){var $n=Sr.prototype&&Sr.prototype.isReactComponent,oa=Z(Sr,kt,Bt,$n),Ir=[],ja=!1,xa={isMounted:function(){return!1},enqueueForceUpdate:function(){if(Ir===null)return null},enqueueReplaceState:function(It,Dt){ja=!0,Ir=[Dt]},enqueueSetState:function(It,Dt){if(Ir===null)return null;Ir.push(Dt)}};if($n){if($n=new Sr(Kn.props,oa,xa),typeof Sr.getDerivedStateFromProps=="function"){var Ee=Sr.getDerivedStateFromProps.call(null,Kn.props,$n.state);Ee!=null&&($n.state=e({},$n.state,Ee))}}else if(dt={},$n=Sr(Kn.props,oa,xa),$n=Dn(Sr,Kn.props,$n,oa),$n==null||$n.render==null){ft=$n,Li(ft,Sr);return}if($n.props=Kn.props,$n.context=oa,$n.updater=xa,xa=$n.state,xa===void 0&&($n.state=xa=null),typeof $n.UNSAFE_componentWillMount=="function"||typeof $n.componentWillMount=="function")if(typeof $n.componentWillMount=="function"&&typeof Sr.getDerivedStateFromProps!="function"&&$n.componentWillMount(),typeof $n.UNSAFE_componentWillMount=="function"&&typeof Sr.getDerivedStateFromProps!="function"&&$n.UNSAFE_componentWillMount(),Ir.length){xa=Ir;var oe=ja;if(Ir=null,ja=!1,oe&&xa.length===1)$n.state=xa[0];else{Ee=oe?xa[0]:$n.state;var ke=!0;for(oe=oe?1:0;oe<xa.length;oe++){var Ze=xa[oe];Ze=typeof Ze=="function"?Ze.call($n,Ee,Kn.props,oa):Ze,Ze!=null&&(ke?(ke=!1,Ee=e({},Ee,Ze)):e(Ee,Ze))}$n.state=Ee}}else Ir=null;if(ft=$n.render(),Li(ft,Sr),typeof $n.getChildContext=="function"&&(Kn=Sr.childContextTypes,typeof Kn=="object")){var Xe=$n.getChildContext();for(var rt in Xe)if(!(rt in Kn))throw Error(r(108,U(Sr)||"Unknown",rt))}Xe&&(kt=e({},kt,Xe))}for(;n.isValidElement(ft);){var Pr=ft,yr=Pr.type;if(typeof yr!="function")break;Un(Pr,yr)}return{child:ft,context:kt}}var Ra=function(){function ft(Bt,Un,Pr){n.isValidElement(Bt)?Bt.type!==o?Bt=[Bt]:(Bt=Bt.props.children,Bt=n.isValidElement(Bt)?[Bt]:Wn(Bt)):Bt=Wn(Bt),Bt={type:null,domNamespace:kn.html,children:Bt,childIndex:0,context:de,footer:""};var yr=he[0];if(yr===0){var Kn=he;yr=Kn.length;var Sr=2*yr;if(!(65536>=Sr))throw Error(r(304));var $n=new Uint16Array(Sr);for($n.set(Kn),he=$n,he[0]=yr+1,Kn=yr;Kn<Sr-1;Kn++)he[Kn]=Kn+1;he[Sr-1]=0}else he[0]=he[yr];this.threadID=yr,this.stack=[Bt],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=Un,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=Pr&&Pr.identifierPrefix||""}var kt=ft.prototype;return kt.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var Bt=this.threadID;he[Bt]=he[0],he[0]=Bt}},kt.pushProvider=function(Bt){var Un=++this.contextIndex,Pr=Bt.type._context,yr=this.threadID;fe(Pr,yr);var Kn=Pr[yr];this.contextStack[Un]=Pr,this.contextValueStack[Un]=Kn,Pr[yr]=Bt.props.value},kt.popProvider=function(){var Bt=this.contextIndex,Un=this.contextStack[Bt],Pr=this.contextValueStack[Bt];this.contextStack[Bt]=null,this.contextValueStack[Bt]=null,this.contextIndex--,Un[this.threadID]=Pr},kt.clearProviders=function(){for(var Bt=this.contextIndex;0<=Bt;Bt--)this.contextStack[Bt][this.threadID]=this.contextValueStack[Bt]},kt.read=function(Bt){if(this.exhausted)return null;var Un=Nt;Nt=this;var Pr=Yn.current;Yn.current=Pn;try{for(var yr=[""],Kn=!1;yr[0].length<Bt;){if(this.stack.length===0){this.exhausted=!0;var Sr=this.threadID;he[Sr]=he[0],he[0]=Sr;break}var $n=this.stack[this.stack.length-1];if(Kn||$n.childIndex>=$n.children.length){var oa=$n.footer;if(oa!==""&&(this.previousWasTextNode=!1),this.stack.pop(),$n.type==="select")this.currentSelectValue=null;else if($n.type!=null&&$n.type.type!=null&&$n.type.type.$$typeof===h)this.popProvider($n.type);else if($n.type===x){this.suspenseDepth--;var Ir=yr.pop();if(Kn){Kn=!1;var ja=$n.fallbackFrame;if(!ja)throw Error(r(303));this.stack.push(ja),yr[this.suspenseDepth]+="<!--$!-->";continue}else yr[this.suspenseDepth]+=Ir}yr[this.suspenseDepth]+=oa}else{var xa=$n.children[$n.childIndex++],Ee="";try{Ee+=this.render(xa,$n.context,$n.domNamespace)}catch(oe){throw oe!=null&&typeof oe.then=="function"?Error(r(294)):oe}finally{}yr.length<=this.suspenseDepth&&yr.push(""),yr[this.suspenseDepth]+=Ee}}return yr[0]}finally{Yn.current=Pr,Nt=Un,nr()}},kt.render=function(Bt,Un,Pr){if(typeof Bt=="string"||typeof Bt=="number")return Pr=""+Bt,Pr===""?"":this.makeStaticMarkup?qe(Pr):this.previousWasTextNode?"<!-- -->"+qe(Pr):(this.previousWasTextNode=!0,qe(Pr));if(Un=Pa(Bt,Un,this.threadID),Bt=Un.child,Un=Un.context,Bt===null||Bt===!1)return"";if(!n.isValidElement(Bt)){if(Bt!=null&&Bt.$$typeof!=null)throw Pr=Bt.$$typeof,Error(Pr===i?r(257):r(258,Pr.toString()));return Bt=Wn(Bt),this.stack.push({type:null,domNamespace:Pr,children:Bt,childIndex:0,context:Un,footer:""}),""}var yr=Bt.type;if(typeof yr=="string")return this.renderDOM(Bt,Un,Pr);switch(yr){case F:case L:case l:case d:case A:case o:return Bt=Wn(Bt.props.children),this.stack.push({type:null,domNamespace:Pr,children:Bt,childIndex:0,context:Un,footer:""}),"";case x:throw Error(r(294));case w:throw Error(r(343))}if(typeof yr=="object"&&yr!==null)switch(yr.$$typeof){case S:dt={};var Kn=yr.render(Bt.props,Bt.ref);return Kn=Dn(yr.render,Bt.props,Kn,Bt.ref),Kn=Wn(Kn),this.stack.push({type:null,domNamespace:Pr,children:Kn,childIndex:0,context:Un,footer:""}),"";case T:return Bt=[n.createElement(yr.type,e({ref:Bt.ref},Bt.props))],this.stack.push({type:null,domNamespace:Pr,children:Bt,childIndex:0,context:Un,footer:""}),"";case h:return yr=Wn(Bt.props.children),Pr={type:Bt,domNamespace:Pr,children:yr,childIndex:0,context:Un,footer:""},this.pushProvider(Bt),this.stack.push(Pr),"";case v:yr=Bt.type,Kn=Bt.props;var Sr=this.threadID;return fe(yr,Sr),yr=Wn(Kn.children(yr[Sr])),this.stack.push({type:Bt,domNamespace:Pr,children:yr,childIndex:0,context:Un,footer:""}),"";case j:throw Error(r(338));case R:return yr=Bt.type,Kn=yr._init,yr=Kn(yr._payload),Bt=[n.createElement(yr,e({ref:Bt.ref},Bt.props))],this.stack.push({type:null,domNamespace:Pr,children:Bt,childIndex:0,context:Un,footer:""}),""}throw Error(r(130,yr==null?yr:typeof yr,""))},kt.renderDOM=function(Bt,Un,Pr){var yr=Bt.type.toLowerCase();if(!ht.hasOwnProperty(yr)){if(!cr.test(yr))throw Error(r(65,yr));ht[yr]=!0}var Kn=Bt.props;if(yr==="input")Kn=e({type:void 0},Kn,{defaultChecked:void 0,defaultValue:void 0,value:Kn.value!=null?Kn.value:Kn.defaultValue,checked:Kn.checked!=null?Kn.checked:Kn.defaultChecked});else if(yr==="textarea"){var Sr=Kn.value;if(Sr==null){Sr=Kn.defaultValue;var $n=Kn.children;if($n!=null){if(Sr!=null)throw Error(r(92));if(Array.isArray($n)){if(!(1>=$n.length))throw Error(r(93));$n=$n[0]}Sr=""+$n}Sr==null&&(Sr="")}Kn=e({},Kn,{value:void 0,children:""+Sr})}else if(yr==="select")this.currentSelectValue=Kn.value!=null?Kn.value:Kn.defaultValue,Kn=e({},Kn,{value:void 0});else if(yr==="option"){$n=this.currentSelectValue;var oa=Rt(Kn.children);if($n!=null){var Ir=Kn.value!=null?Kn.value+"":oa;if(Sr=!1,Array.isArray($n)){for(var ja=0;ja<$n.length;ja++)if(""+$n[ja]===Ir){Sr=!0;break}}else Sr=""+$n===Ir;Kn=e({selected:void 0,children:void 0},Kn,{selected:Sr,children:oa})}}if(Sr=Kn){if(Zn[yr]&&(Sr.children!=null||Sr.dangerouslySetInnerHTML!=null))throw Error(r(137,yr));if(Sr.dangerouslySetInnerHTML!=null){if(Sr.children!=null)throw Error(r(60));if(!(typeof Sr.dangerouslySetInnerHTML=="object"&&"__html"in Sr.dangerouslySetInnerHTML))throw Error(r(61))}if(Sr.style!=null&&typeof Sr.style!="object")throw Error(r(62))}Sr=Kn,$n=this.makeStaticMarkup,oa=this.stack.length===1,Ir="<"+Bt.type;e:if(yr.indexOf("-")===-1)ja=typeof Sr.is=="string";else switch(yr){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":ja=!1;break e;default:ja=!0}for(Dt in Sr)if(ir.call(Sr,Dt)){var xa=Sr[Dt];if(xa!=null){if(Dt==="style"){var Ee=void 0,oe="",ke="";for(Ee in xa)if(xa.hasOwnProperty(Ee)){var Ze=Ee.indexOf("--")===0,Xe=xa[Ee];if(Xe!=null){if(Ze)var rt=Ee;else if(rt=Ee,Ot.hasOwnProperty(rt))rt=Ot[rt];else{var It=rt.replace(On,"-$1").toLowerCase().replace(Bn,"-ms-");rt=Ot[rt]=It}oe+=ke+rt+":",ke=Ee,Ze=Xe==null||typeof Xe=="boolean"||Xe===""?"":Ze||typeof Xe!="number"||Xe===0||Je.hasOwnProperty(ke)&&Je[ke]?(""+Xe).trim():Xe+"px",oe+=Ze,ke=";"}}xa=oe||null}Ee=null,ja?hr.hasOwnProperty(Dt)||(Ee=Dt,Ee=ut(Ee)&&xa!=null?Ee+'="'+(qe(xa)+'"'):""):Ee=mt(Dt,xa),Ee&&(Ir+=" "+Ee)}}$n||oa&&(Ir+=' data-reactroot=""');var Dt=Ir;Sr="",Ar.hasOwnProperty(yr)?Dt+="/>":(Dt+=">",Sr="</"+Bt.type+">");e:{if($n=Kn.dangerouslySetInnerHTML,$n!=null){if($n.__html!=null){$n=$n.__html;break e}}else if($n=Kn.children,typeof $n=="string"||typeof $n=="number"){$n=qe($n);break e}$n=null}return $n!=null?(Kn=[],Dr.hasOwnProperty(yr)&&$n.charAt(0)===`
`&&(Dt+=`
`),Dt+=$n):Kn=Wn(Kn.children),Bt=Bt.type,Pr=Pr==null||Pr==="http://www.w3.org/1999/xhtml"?Nn(Bt):Pr==="http://www.w3.org/2000/svg"&&Bt==="foreignObject"?"http://www.w3.org/1999/xhtml":Pr,this.stack.push({domNamespace:Pr,type:yr,children:Kn,childIndex:0,context:Un,footer:Sr}),this.previousWasTextNode=!1,Dt},ft}();t.renderToNodeStream=function(){throw Error(r(207))},t.renderToStaticMarkup=function(ft,kt){ft=new Ra(ft,!0,kt);try{return ft.read(1/0)}finally{ft.destroy()}},t.renderToStaticNodeStream=function(){throw Error(r(208))},t.renderToString=function(ft,kt){ft=new Ra(ft,!1,kt);try{return ft.read(1/0)}finally{ft.destroy()}},t.version="17.0.2"}}),tst=Vo({"../../node_modules/react-dom/server.browser.js"(t,e){e.exports=est()}}),nst=Vo({"../../node_modules/react-is/cjs/react-is.production.min.js"(t){var e=60103,n=60106,r=60107,i=60108,o=60114,l=60109,d=60110,h=60112,v=60113,S=60120,x=60115,A=60116,T=60121,R=60122,G=60117,j=60129,w=60131;typeof Symbol=="function"&&Symbol.for&&(L=Symbol.for,e=L("react.element"),n=L("react.portal"),r=L("react.fragment"),i=L("react.strict_mode"),o=L("react.profiler"),l=L("react.provider"),d=L("react.context"),h=L("react.forward_ref"),v=L("react.suspense"),S=L("react.suspense_list"),x=L("react.memo"),A=L("react.lazy"),T=L("react.block"),R=L("react.server.block"),G=L("react.fundamental"),j=L("react.debug_trace_mode"),w=L("react.legacy_hidden"));var L;function F(Le){if(typeof Le=="object"&&Le!==null){var Ge=Le.$$typeof;switch(Ge){case e:switch(Le=Le.type,Le){case r:case o:case i:case v:case S:return Le;default:switch(Le=Le&&Le.$$typeof,Le){case d:case h:case A:case x:case l:return Le;default:return Ge}}case n:return Ge}}}var W=l,U=e,Q=h,de=r,fe=A,Z=x,he=n,Te=o,je=i,Ke=v;t.ContextConsumer=d,t.ContextProvider=W,t.Element=U,t.ForwardRef=Q,t.Fragment=de,t.Lazy=fe,t.Memo=Z,t.Portal=he,t.Profiler=Te,t.StrictMode=je,t.Suspense=Ke,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(Le){return F(Le)===d},t.isContextProvider=function(Le){return F(Le)===l},t.isElement=function(Le){return typeof Le=="object"&&Le!==null&&Le.$$typeof===e},t.isForwardRef=function(Le){return F(Le)===h},t.isFragment=function(Le){return F(Le)===r},t.isLazy=function(Le){return F(Le)===A},t.isMemo=function(Le){return F(Le)===x},t.isPortal=function(Le){return F(Le)===n},t.isProfiler=function(Le){return F(Le)===o},t.isStrictMode=function(Le){return F(Le)===i},t.isSuspense=function(Le){return F(Le)===v},t.isValidElementType=function(Le){return typeof Le=="string"||typeof Le=="function"||Le===r||Le===o||Le===j||Le===i||Le===v||Le===S||Le===w||typeof Le=="object"&&Le!==null&&(Le.$$typeof===A||Le.$$typeof===x||Le.$$typeof===l||Le.$$typeof===d||Le.$$typeof===h||Le.$$typeof===G||Le.$$typeof===T||Le[0]===R)},t.typeOf=F}}),rst=Vo({"../../node_modules/react-is/index.js"(t,e){e.exports=nst()}}),ist=Vo({"../../node_modules/shallowequal/index.js"(t,e){e.exports=function(r,i,o,l){var d=o?o.call(l,r,i):void 0;if(d!==void 0)return!!d;if(r===i)return!0;if(typeof r!="object"||!r||typeof i!="object"||!i)return!1;var h=Object.keys(r),v=Object.keys(i);if(h.length!==v.length)return!1;for(var S=Object.prototype.hasOwnProperty.bind(i),x=0;x<h.length;x++){var A=h[x];if(!S(A))return!1;var T=r[A],R=i[A];if(d=o?o.call(l,T,R,A):void 0,d===!1||d===void 0&&T!==R)return!1}return!0}}});function ast(t){function e(be,Ce,qe,mt,We){for(var Mt=0,dt=0,en=0,cn=0,sn,$e,Gt=0,Ut=0,Kt,Yt=Kt=sn=0,Cn=0,Dn=0,nr=0,dr=0,Jr=qe.length,Hi=Jr-1,et,Be="",Nt="",Pn="",kn="",Nn;Cn<Jr;){if($e=qe.charCodeAt(Cn),Cn===Hi&&dt+cn+en+Mt!==0&&(dt!==0&&($e=dt===47?10:47),cn=en=Mt=0,Jr++,Hi++),dt+cn+en+Mt===0){if(Cn===Hi&&(0<Dn&&(Be=Be.replace(A,"")),0<Be.trim().length)){switch($e){case 32:case 9:case 59:case 13:case 10:break;default:Be+=qe.charAt(Cn)}$e=59}switch($e){case 123:for(Be=Be.trim(),sn=Be.charCodeAt(0),Kt=1,dr=++Cn;Cn<Jr;){switch($e=qe.charCodeAt(Cn)){case 123:Kt++;break;case 125:Kt--;break;case 47:switch($e=qe.charCodeAt(Cn+1)){case 42:case 47:e:{for(Yt=Cn+1;Yt<Hi;++Yt)switch(qe.charCodeAt(Yt)){case 47:if($e===42&&qe.charCodeAt(Yt-1)===42&&Cn+2!==Yt){Cn=Yt+1;break e}break;case 10:if($e===47){Cn=Yt+1;break e}}Cn=Yt}}break;case 91:$e++;case 40:$e++;case 34:case 39:for(;Cn++<Hi&&qe.charCodeAt(Cn)!==$e;);}if(Kt===0)break;Cn++}switch(Kt=qe.substring(dr,Cn),sn===0&&(sn=(Be=Be.replace(x,"").trim()).charCodeAt(0)),sn){case 64:switch(0<Dn&&(Be=Be.replace(A,"")),$e=Be.charCodeAt(1),$e){case 100:case 109:case 115:case 45:Dn=Ce;break;default:Dn=ut}if(Kt=e(Ce,Dn,Kt,$e,We+1),dr=Kt.length,0<_e&&(Dn=n(ut,Be,nr),Nn=d(3,Kt,Dn,Ce,Ke,je,dr,$e,We,mt),Be=Dn.join(""),Nn!==void 0&&(dr=(Kt=Nn.trim()).length)===0&&($e=0,Kt="")),0<dr)switch($e){case 115:Be=Be.replace(Q,l);case 100:case 109:case 45:Kt=Be+"{"+Kt+"}";break;case 107:Be=Be.replace(L,"$1 $2"),Kt=Be+"{"+Kt+"}",Kt=Ge===1||Ge===2&&o("@"+Kt,3)?"@-webkit-"+Kt+"@"+Kt:"@"+Kt;break;default:Kt=Be+Kt,mt===112&&(Kt=(Nt+=Kt,""))}else Kt="";break;default:Kt=e(Ce,n(Ce,Be,nr),Kt,mt,We+1)}Pn+=Kt,Kt=nr=Dn=Yt=sn=0,Be="",$e=qe.charCodeAt(++Cn);break;case 125:case 59:if(Be=(0<Dn?Be.replace(A,""):Be).trim(),1<(dr=Be.length))switch(Yt===0&&(sn=Be.charCodeAt(0),sn===45||96<sn&&123>sn)&&(dr=(Be=Be.replace(" ",":")).length),0<_e&&(Nn=d(1,Be,Ce,be,Ke,je,Nt.length,mt,We,mt))!==void 0&&(dr=(Be=Nn.trim()).length)===0&&(Be="\0\0"),sn=Be.charCodeAt(0),$e=Be.charCodeAt(1),sn){case 0:break;case 64:if($e===105||$e===99){kn+=Be+qe.charAt(Cn);break}default:Be.charCodeAt(dr-1)!==58&&(Nt+=i(Be,sn,$e,Be.charCodeAt(2)))}nr=Dn=Yt=sn=0,Be="",$e=qe.charCodeAt(++Cn)}}switch($e){case 13:case 10:dt===47?dt=0:1+sn===0&&mt!==107&&0<Be.length&&(Dn=1,Be+="\0"),0<_e*we&&d(0,Be,Ce,be,Ke,je,Nt.length,mt,We,mt),je=1,Ke++;break;case 59:case 125:if(dt+cn+en+Mt===0){je++;break}default:switch(je++,et=qe.charAt(Cn),$e){case 9:case 32:if(cn+Mt+dt===0)switch(Gt){case 44:case 58:case 9:case 32:et="";break;default:$e!==32&&(et=" ")}break;case 0:et="\\0";break;case 12:et="\\f";break;case 11:et="\\v";break;case 38:cn+dt+Mt===0&&(Dn=nr=1,et="\f"+et);break;case 108:if(cn+dt+Mt+Le===0&&0<Yt)switch(Cn-Yt){case 2:Gt===112&&qe.charCodeAt(Cn-3)===58&&(Le=Gt);case 8:Ut===111&&(Le=Ut)}break;case 58:cn+dt+Mt===0&&(Yt=Cn);break;case 44:dt+en+cn+Mt===0&&(Dn=1,et+="\r");break;case 34:case 39:dt===0&&(cn=cn===$e?0:cn===0?$e:cn);break;case 91:cn+dt+en===0&&Mt++;break;case 93:cn+dt+en===0&&Mt--;break;case 41:cn+dt+Mt===0&&en--;break;case 40:if(cn+dt+Mt===0){if(sn===0)switch(2*Gt+3*Ut){case 533:break;default:sn=1}en++}break;case 64:dt+en+cn+Mt+Yt+Kt===0&&(Kt=1);break;case 42:case 47:if(!(0<cn+Mt+en))switch(dt){case 0:switch(2*$e+3*qe.charCodeAt(Cn+1)){case 235:dt=47;break;case 220:dr=Cn,dt=42}break;case 42:$e===47&&Gt===42&&dr+2!==Cn&&(qe.charCodeAt(dr+2)===33&&(Nt+=qe.substring(dr,Cn+1)),et="",dt=0)}}dt===0&&(Be+=et)}Ut=Gt,Gt=$e,Cn++}if(dr=Nt.length,0<dr){if(Dn=Ce,0<_e&&(Nn=d(2,Nt,Dn,be,Ke,je,dr,mt,We,mt),Nn!==void 0&&(Nt=Nn).length===0))return kn+Nt+Pn;if(Nt=Dn.join(",")+"{"+Nt+"}",Ge*Le!==0){switch(Ge!==2||o(Nt,2)||(Le=0),Le){case 111:Nt=Nt.replace(W,":-moz-$1")+Nt;break;case 112:Nt=Nt.replace(F,"::-webkit-input-$1")+Nt.replace(F,"::-moz-$1")+Nt.replace(F,":-ms-input-$1")+Nt}Le=0}}return kn+Nt+Pn}function n(be,Ce,qe){var mt=Ce.trim().split(j);Ce=mt;var We=mt.length,Mt=be.length;switch(Mt){case 0:case 1:var dt=0;for(be=Mt===0?"":be[0]+" ";dt<We;++dt)Ce[dt]=r(be,Ce[dt],qe).trim();break;default:var en=dt=0;for(Ce=[];dt<We;++dt)for(var cn=0;cn<Mt;++cn)Ce[en++]=r(be[cn]+" ",mt[dt],qe).trim()}return Ce}function r(be,Ce,qe){var mt=Ce.charCodeAt(0);switch(33>mt&&(mt=(Ce=Ce.trim()).charCodeAt(0)),mt){case 38:return Ce.replace(w,"$1"+be.trim());case 58:return be.trim()+Ce.replace(w,"$1"+be.trim());default:if(0<1*qe&&0<Ce.indexOf("\f"))return Ce.replace(w,(be.charCodeAt(0)===58?"":"$1")+be.trim())}return be+Ce}function i(be,Ce,qe,mt){var We=be+";",Mt=2*Ce+3*qe+4*mt;if(Mt===944){be=We.indexOf(":",9)+1;var dt=We.substring(be,We.length-1).trim();return dt=We.substring(0,be).trim()+dt+";",Ge===1||Ge===2&&o(dt,1)?"-webkit-"+dt+dt:dt}if(Ge===0||Ge===2&&!o(We,1))return We;switch(Mt){case 1015:return We.charCodeAt(10)===97?"-webkit-"+We+We:We;case 951:return We.charCodeAt(3)===116?"-webkit-"+We+We:We;case 963:return We.charCodeAt(5)===110?"-webkit-"+We+We:We;case 1009:if(We.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+We+We;case 978:return"-webkit-"+We+"-moz-"+We+We;case 1019:case 983:return"-webkit-"+We+"-moz-"+We+"-ms-"+We+We;case 883:if(We.charCodeAt(8)===45)return"-webkit-"+We+We;if(0<We.indexOf("image-set(",11))return We.replace(Te,"$1-webkit-$2")+We;break;case 932:if(We.charCodeAt(4)===45)switch(We.charCodeAt(5)){case 103:return"-webkit-box-"+We.replace("-grow","")+"-webkit-"+We+"-ms-"+We.replace("grow","positive")+We;case 115:return"-webkit-"+We+"-ms-"+We.replace("shrink","negative")+We;case 98:return"-webkit-"+We+"-ms-"+We.replace("basis","preferred-size")+We}return"-webkit-"+We+"-ms-"+We+We;case 964:return"-webkit-"+We+"-ms-flex-"+We+We;case 1023:if(We.charCodeAt(8)!==99)break;return dt=We.substring(We.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+dt+"-webkit-"+We+"-ms-flex-pack"+dt+We;case 1005:return R.test(We)?We.replace(T,":-webkit-")+We.replace(T,":-moz-")+We:We;case 1e3:switch(dt=We.substring(13).trim(),Ce=dt.indexOf("-")+1,dt.charCodeAt(0)+dt.charCodeAt(Ce)){case 226:dt=We.replace(U,"tb");break;case 232:dt=We.replace(U,"tb-rl");break;case 220:dt=We.replace(U,"lr");break;default:return We}return"-webkit-"+We+"-ms-"+dt+We;case 1017:if(We.indexOf("sticky",9)===-1)break;case 975:switch(Ce=(We=be).length-10,dt=(We.charCodeAt(Ce)===33?We.substring(0,Ce):We).substring(be.indexOf(":",7)+1).trim(),Mt=dt.charCodeAt(0)+(dt.charCodeAt(7)|0)){case 203:if(111>dt.charCodeAt(8))break;case 115:We=We.replace(dt,"-webkit-"+dt)+";"+We;break;case 207:case 102:We=We.replace(dt,"-webkit-"+(102<Mt?"inline-":"")+"box")+";"+We.replace(dt,"-webkit-"+dt)+";"+We.replace(dt,"-ms-"+dt+"box")+";"+We}return We+";";case 938:if(We.charCodeAt(5)===45)switch(We.charCodeAt(6)){case 105:return dt=We.replace("-items",""),"-webkit-"+We+"-webkit-box-"+dt+"-ms-flex-"+dt+We;case 115:return"-webkit-"+We+"-ms-flex-item-"+We.replace(fe,"")+We;default:return"-webkit-"+We+"-ms-flex-line-pack"+We.replace("align-content","").replace(fe,"")+We}break;case 973:case 989:if(We.charCodeAt(3)!==45||We.charCodeAt(4)===122)break;case 931:case 953:if(he.test(be)===!0)return(dt=be.substring(be.indexOf(":")+1)).charCodeAt(0)===115?i(be.replace("stretch","fill-available"),Ce,qe,mt).replace(":fill-available",":stretch"):We.replace(dt,"-webkit-"+dt)+We.replace(dt,"-moz-"+dt.replace("fill-",""))+We;break;case 962:if(We="-webkit-"+We+(We.charCodeAt(5)===102?"-ms-"+We:"")+We,qe+mt===211&&We.charCodeAt(13)===105&&0<We.indexOf("transform",10))return We.substring(0,We.indexOf(";",27)+1).replace(G,"$1-webkit-$2")+We}return We}function o(be,Ce){var qe=be.indexOf(Ce===1?":":"{"),mt=be.substring(0,Ce!==3?qe:10);return qe=be.substring(qe+1,be.length-1),Se(Ce!==2?mt:mt.replace(Z,"$1"),qe,Ce)}function l(be,Ce){var qe=i(Ce,Ce.charCodeAt(0),Ce.charCodeAt(1),Ce.charCodeAt(2));return qe!==Ce+";"?qe.replace(de," or ($1)").substring(4):"("+Ce+")"}function d(be,Ce,qe,mt,We,Mt,dt,en,cn,sn){for(var $e=0,Gt=Ce,Ut;$e<_e;++$e)switch(Ut=st[$e].call(S,be,Gt,qe,mt,We,Mt,dt,en,cn,sn)){case void 0:case!1:case!0:case null:break;default:Gt=Ut}if(Gt!==Ce)return Gt}function h(be){switch(be){case void 0:case null:_e=st.length=0;break;default:if(typeof be=="function")st[_e++]=be;else if(typeof be=="object")for(var Ce=0,qe=be.length;Ce<qe;++Ce)h(be[Ce]);else we=!!be|0}return h}function v(be){return be=be.prefix,be!==void 0&&(Se=null,be?typeof be!="function"?Ge=1:(Ge=2,Se=be):Ge=0),v}function S(be,Ce){var qe=be;if(33>qe.charCodeAt(0)&&(qe=qe.trim()),Pe=qe,qe=[Pe],0<_e){var mt=d(-1,Ce,qe,qe,Ke,je,0,0,0,0);mt!==void 0&&typeof mt=="string"&&(Ce=mt)}var We=e(ut,qe,Ce,0,0);return 0<_e&&(mt=d(-2,We,qe,qe,Ke,je,We.length,0,0,0),mt!==void 0&&(We=mt)),Pe="",Le=0,je=Ke=1,We}var x=/^\0+/g,A=/[\0\r\f]/g,T=/: */g,R=/zoo|gra/,G=/([,: ])(transform)/g,j=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,L=/@(k\w+)\s*(\S*)\s*/,F=/::(place)/g,W=/:(read-only)/g,U=/[svh]\w+-[tblr]{2}/,Q=/\(\s*(.*)\s*\)/g,de=/([\s\S]*?);/g,fe=/-self|flex-/g,Z=/[^]*?(:[rp][el]a[\w-]+)[^]*/,he=/stretch|:\s*\w+\-(?:conte|avail)/,Te=/([^-])(image-set\()/,je=1,Ke=1,Le=0,Ge=1,ut=[],st=[],_e=0,Se=null,we=0,Pe="";return S.use=h,S.set=v,t!==void 0&&v(t),S}var nIe,ost=YZ({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){nIe=ast}}),vEe,rIe,sst=YZ({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){vEe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rIe=vEe}}),lst=Vo({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js"(t){Object.defineProperty(t,"__esModule",{value:!0});function e(n){var r=Object.create(null);return function(i){return r[i]===void 0&&(r[i]=n(i)),r[i]}}t.default=e}}),ust=Vo({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(t,e){e.exports=lst()}}),cst=Vo({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ust();function n(l){return l&&l.__esModule?l:{default:l}}var r=n(e),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=r.default(function(l){return i.test(l)||l.charCodeAt(0)===111&&l.charCodeAt(1)===110&&l.charCodeAt(2)<91});t.default=o}}),fst=Vo({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(t,e){e.exports=cst()}}),dst=Vo({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(t){var e=typeof Symbol=="function"&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,h=e?Symbol.for("react.context"):60110,v=e?Symbol.for("react.async_mode"):60111,S=e?Symbol.for("react.concurrent_mode"):60111,x=e?Symbol.for("react.forward_ref"):60112,A=e?Symbol.for("react.suspense"):60113,T=e?Symbol.for("react.suspense_list"):60120,R=e?Symbol.for("react.memo"):60115,G=e?Symbol.for("react.lazy"):60116,j=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,L=e?Symbol.for("react.responder"):60118,F=e?Symbol.for("react.scope"):60119;function W(Q){if(typeof Q=="object"&&Q!==null){var de=Q.$$typeof;switch(de){case n:switch(Q=Q.type,Q){case v:case S:case i:case l:case o:case A:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case h:case x:case G:case R:case d:return Q;default:return de}}case r:return de}}}function U(Q){return W(Q)===S}t.AsyncMode=v,t.ConcurrentMode=S,t.ContextConsumer=h,t.ContextProvider=d,t.Element=n,t.ForwardRef=x,t.Fragment=i,t.Lazy=G,t.Memo=R,t.Portal=r,t.Profiler=l,t.StrictMode=o,t.Suspense=A,t.isAsyncMode=function(Q){return U(Q)||W(Q)===v},t.isConcurrentMode=U,t.isContextConsumer=function(Q){return W(Q)===h},t.isContextProvider=function(Q){return W(Q)===d},t.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n},t.isForwardRef=function(Q){return W(Q)===x},t.isFragment=function(Q){return W(Q)===i},t.isLazy=function(Q){return W(Q)===G},t.isMemo=function(Q){return W(Q)===R},t.isPortal=function(Q){return W(Q)===r},t.isProfiler=function(Q){return W(Q)===l},t.isStrictMode=function(Q){return W(Q)===o},t.isSuspense=function(Q){return W(Q)===A},t.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===i||Q===S||Q===l||Q===o||Q===A||Q===T||typeof Q=="object"&&Q!==null&&(Q.$$typeof===G||Q.$$typeof===R||Q.$$typeof===d||Q.$$typeof===h||Q.$$typeof===x||Q.$$typeof===w||Q.$$typeof===L||Q.$$typeof===F||Q.$$typeof===j)},t.typeOf=W}}),hst=Vo({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(t,e){e.exports=dst()}}),pst=Vo({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(t,e){var n=hst(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};d[n.ForwardRef]=o,d[n.Memo]=l;function h(j){return n.isMemo(j)?l:d[j.$$typeof]||r}var v=Object.defineProperty,S=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,A=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,R=Object.prototype;function G(j,w,L){if(typeof w!="string"){if(R){var F=T(w);F&&F!==R&&G(j,F,L)}var W=S(w);x&&(W=W.concat(x(w)));for(var U=h(j),Q=h(w),de=0;de<W.length;++de){var fe=W[de];if(!i[fe]&&!(L&&L[fe])&&!(Q&&Q[fe])&&!(U&&U[fe])){var Z=A(w,fe);try{v(j,fe,Z)}catch{}}}}return j}e.exports=G}}),iIe={};Vot(iIe,{ServerStyleSheet:()=>MIe,StyleSheetConsumer:()=>yIe,StyleSheetContext:()=>BO,StyleSheetManager:()=>JZ,ThemeConsumer:()=>AIe,ThemeContext:()=>w1,ThemeProvider:()=>vst,__PRIVATE__:()=>IIe,createGlobalStyle:()=>uIe,css:()=>QH,default:()=>Eg,isStyledComponent:()=>$H,keyframes:()=>cIe,useTheme:()=>RIe,version:()=>dIe,withTheme:()=>PIe});function pv(){return(pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function QM(t){return typeof t=="function"}function uQ(t){return t.displayName||t.name||"Component"}function $H(t){return t&&typeof t.styledComponentId=="string"}function c0(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function zX(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=hQ(e%52)+n;return(hQ(e%52)+n).replace(pIe,"$1-$2")}function gEe(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(QM(n)&&!$H(n))return!1}return!0}function aIe(t){var e,n,r,i,o=t===void 0?x1:t,l=o.options,d=l===void 0?x1:l,h=o.plugins,v=h===void 0?OO:h,S=new nIe(d),x=[],A=function(G){function j(w){if(w)try{G(w+"}")}catch{}}return function(w,L,F,W,U,Q,de,fe,Z,he){switch(w){case 1:if(Z===0&&L.charCodeAt(0)===64)return G(L+";"),"";break;case 2:if(fe===0)return L+"/*|*/";break;case 3:switch(fe){case 102:case 112:return G(F[0]+L),"";default:return L+(he===0?"/*|*/":"")}case-2:L.split("/*|*/}").forEach(j)}}}(function(G){x.push(G)}),T=function(G,j,w){return j===0&&gIe.indexOf(w[n.length])!==-1||w.match(i)?G:"."+e};function R(G,j,w,L){L===void 0&&(L="&");var F=G.replace(vIe,""),W=j&&w?w+" "+j+" { "+F+" }":F;return e=L,n=j,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),S(w||!j?"":j,W)}return S.use([].concat(v,[function(G,j,w){G===2&&w.length&&w[0].lastIndexOf(n)>0&&(w[0]=w[0].replace(r,T))},A,function(G){if(G===-2){var j=x;return x=[],j}}])),R.hash=v.length?v.reduce(function(G,j){return j.name||c0(15),rb(G,j.name)},5381).toString():"",R}function QZ(){return(0,Gs.useContext)(BO)||pQ}function oIe(){return(0,Gs.useContext)(X4)||Z3}function JZ(t){var e=(0,Gs.useState)(t.stylisPlugins),n=e[0],r=e[1],i=QZ(),o=(0,Gs.useMemo)(function(){var d=i;return t.sheet?d=t.sheet:t.target&&(d=d.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(d=d.reconstructWithOptions({useCSSOMInjection:!1})),d},[t.disableCSSOMInjection,t.sheet,t.target]),l=(0,Gs.useMemo)(function(){return aIe({options:{prefix:!t.disableVendorPrefixes},plugins:n})},[t.disableVendorPrefixes,n]);return(0,Gs.useEffect)(function(){(0,fIe.default)(n,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]),Gs.default.createElement(BO.Provider,{value:o},Gs.default.createElement(X4.Provider,{value:l},t.children))}function yEe(t){return _Ie.test(t)?t.replace(SIe,wIe).replace(xIe,"-ms-"):t}function wb(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],l=0,d=t.length;l<d;l+=1)(i=wb(t[l],e,n,r))!==""&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}if(mQ(t))return"";if($H(t))return"."+t.styledComponentId;if(QM(t)){if(typeof(v=t)!="function"||v.prototype&&v.prototype.isReactComponent||!e)return t;var h=t(e);return wb(h,e,n,r)}var v;return t instanceof ZZ?n?(t.inject(n,r),t.getName(r)):t:q4(t)?function S(x,A){var T,R,G=[];for(var j in x)x.hasOwnProperty(j)&&!mQ(x[j])&&(Array.isArray(x[j])&&x[j].isCss||QM(x[j])?G.push(yEe(j)+":",x[j],";"):q4(x[j])?G.push.apply(G,S(x[j],j)):G.push(yEe(j)+": "+(T=j,(R=x[j])==null||typeof R=="boolean"||R===""?"":typeof R!="number"||R===0||T in rIe?String(R).trim():R+"px")+";"));return A?[A+" {"].concat(G,["}"]):G}(t):t.toString()}function QH(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return QM(t)||q4(t)?vQ(wb(dQ(OO,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:vQ(wb(dQ(t,n)))}function HX(t){return t.replace(EIe,"-").replace(bIe,"")}function b3(t){return typeof t=="string"&&!0}function mst(t,e,n){var r=t[n];$4(e)&&$4(r)?sIe(r,e):t[n]=e}function sIe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var l=o[i];if($4(l))for(var d in l)CIe(d)&&mst(t,l[d],d)}return t}function vst(t){var e=(0,Gs.useContext)(w1),n=(0,Gs.useMemo)(function(){return function(r,i){if(!r)return c0(14);if(QM(r)){var o=r(i);return o}return Array.isArray(r)||typeof r!="object"?c0(8):i?pv({},i,{},r):r}(t.theme,e)},[t.theme,e]);return t.children?Gs.default.createElement(w1.Provider,{value:n},t.children):null}function lIe(t,e,n){var r=$H(t),i=!b3(t),o=e.attrs,l=o===void 0?OO:o,d=e.componentId,h=d===void 0?function(L,F){var W=typeof L!="string"?"sc":HX(L);e4[W]=(e4[W]||0)+1;var U=W+"-"+JH("5.3.5"+W+e4[W]);return F?F+"-"+U:U}(e.displayName,e.parentComponentId):d,v=e.displayName,S=v===void 0?function(L){return b3(L)?"styled."+L:"Styled("+uQ(L)+")"}(t):v,x=e.displayName&&e.componentId?HX(e.displayName)+"-"+e.componentId:e.componentId||h,A=r&&t.attrs?Array.prototype.concat(t.attrs,l).filter(Boolean):l,T=e.shouldForwardProp;r&&t.shouldForwardProp&&(T=e.shouldForwardProp?function(L,F,W){return t.shouldForwardProp(L,F,W)&&e.shouldForwardProp(L,F,W)}:t.shouldForwardProp);var R,G=new mIe(n,x,r?t.componentStyle:void 0),j=G.isStatic&&l.length===0,w=function(L,F){return function(W,U,Q,de){var fe=W.attrs,Z=W.componentStyle,he=W.defaultProps,Te=W.foldedComponentIds,je=W.shouldForwardProp,Ke=W.styledComponentId,Le=W.target,Ge=function(mt,We,Mt){mt===void 0&&(mt=x1);var dt=pv({},We,{theme:mt}),en={};return Mt.forEach(function(cn){var sn,$e,Gt,Ut=cn;for(sn in QM(Ut)&&(Ut=Ut(dt)),Ut)dt[sn]=en[sn]=sn==="className"?($e=en[sn],Gt=Ut[sn],$e&&Gt?$e+" "+Gt:$e||Gt):Ut[sn]}),[dt,en]}(Y4(U,(0,Gs.useContext)(w1),he)||x1,U,fe),ut=Ge[0],st=Ge[1],_e=function(mt,We,Mt,dt){var en=QZ(),cn=oIe(),sn=We?mt.generateAndInjectStyles(x1,en,cn):mt.generateAndInjectStyles(Mt,en,cn);return sn}(Z,de,ut),Se=Q,we=st.$as||U.$as||st.as||U.as||Le,Pe=b3(we),be=st!==U?pv({},U,{},st):U,Ce={};for(var qe in be)qe[0]!=="$"&&qe!=="as"&&(qe==="forwardedAs"?Ce.as=be[qe]:(je?je(qe,cQ.default,we):!Pe||(0,cQ.default)(qe))&&(Ce[qe]=be[qe]));return U.style&&st.style!==U.style&&(Ce.style=pv({},U.style,{},st.style)),Ce.className=Array.prototype.concat(Te,Ke,_e!==Ke?_e:null,U.className,st.className).filter(Boolean).join(" "),Ce.ref=Se,(0,Gs.createElement)(we,Ce)}(R,L,F,j)};return w.displayName=S,(R=Gs.default.forwardRef(w)).attrs=A,R.componentStyle=G,R.displayName=S,R.shouldForwardProp=T,R.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):OO,R.styledComponentId=x,R.target=r?t.target:t,R.withComponent=function(L){var F=e.componentId,W=function(Q,de){if(Q==null)return{};var fe,Z,he={},Te=Object.keys(Q);for(Z=0;Z<Te.length;Z++)fe=Te[Z],de.indexOf(fe)>=0||(he[fe]=Q[fe]);return he}(e,["componentId"]),U=F&&F+"-"+(b3(L)?L:HX(uQ(L)));return lIe(L,pv({},W,{attrs:A,componentId:U}),n)},Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(L){this._foldedDefaultProps=r?sIe({},t.defaultProps,L):L}}),R.toString=function(){return"."+R.styledComponentId},i&&(0,fQ.default)(R,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),R}function uIe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=QH.apply(void 0,[t].concat(n)),o="sc-global-"+JH(JSON.stringify(i)),l=new TIe(i,o);function d(v){var S=QZ(),x=oIe(),A=(0,Gs.useContext)(w1),T=(0,Gs.useRef)(S.allocateGSInstance(o)).current;return S.server&&h(T,v,S,A,x),(0,Gs.useLayoutEffect)(function(){if(!S.server)return h(T,v,S,A,x),function(){return l.removeStyles(T,S)}},[T,v,S,A,x]),null}function h(v,S,x,A,T){if(l.isStatic)l.renderStyles(v,hIe,x,T);else{var R=pv({},S,{theme:Y4(S,A,d.defaultProps)});l.renderStyles(v,R,x,T)}}return Gs.default.memo(d)}function cIe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=QH.apply(void 0,[t].concat(n)).join(""),o=JH(i);return new ZZ(o,i)}var jX,Gs,fIe,cQ,fQ,dQ,q4,OO,x1,f1,dIe,C3,_Ee,hIe,SEe,yD,_D,WT,SD,xEe,wEe,EEe,bEe,CEe,AEe,A3,GX,TEe,MEe,PEe,VX,REe,XE,pIe,hQ,rb,WX,IEe,mIe,vIe,gIe,BO,yIe,X4,pQ,Z3,ZZ,_Ie,SIe,xIe,wIe,mQ,vQ,Y4,EIe,bIe,JH,$4,CIe,w1,AIe,e4,T3,TIe,MIe,PIe,RIe,IIe,Eg,e2=YZ({"../../node_modules/styled-components/dist/styled-components.browser.esm.js"(){jX=pa(rst()),Gs=pa(_s()),fIe=pa(ist()),ost(),sst(),cQ=pa(fst()),fQ=pa(pst()),dQ=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},q4=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!(0,jX.typeOf)(t)},OO=Object.freeze([]),x1=Object.freeze({}),f1=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",dIe="5.3.5",C3=typeof window<"u"&&"HTMLElement"in window,_Ee=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),hIe={},SEe=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,l=o;n>=l;)(l<<=1)<0&&c0(16,""+n);this.groupSizes=new Uint32Array(l),this.groupSizes.set(i),this.length=l;for(var d=o;d<l;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(n+1),v=0,S=r.length;v<S;v++)this.tag.insertRule(h,r[v])&&(this.groupSizes[n]++,h++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),o=i+r;this.groupSizes[n]=0;for(var l=i;l<o;l++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],o=this.indexOfGroup(n),l=o+i,d=o;d<l;d++)r+=this.tag.getRule(d)+`/*!sc*/
`;return r},t}(),yD=new Map,_D=new Map,WT=1,SD=function(t){if(yD.has(t))return yD.get(t);for(;_D.has(WT);)WT++;var e=WT++;return yD.set(t,e),_D.set(e,t),e},xEe=function(t){return _D.get(t)},wEe=function(t,e){e>=WT&&(WT=e+1),yD.set(t,e),_D.set(e,t)},EEe="style["+f1+'][data-styled-version="5.3.5"]',bEe=new RegExp("^"+f1+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),CEe=function(t,e,n){for(var r,i=n.split(","),o=0,l=i.length;o<l;o++)(r=i[o])&&t.registerName(e,r)},AEe=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,o=n.length;i<o;i++){var l=n[i].trim();if(l){var d=l.match(bEe);if(d){var h=0|parseInt(d[1],10),v=d[2];h!==0&&(wEe(v,h),CEe(t,v,d[3]),t.getTag().insertRules(h,r)),r.length=0}else r.push(l)}}},A3=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},GX=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(d){for(var h=d.childNodes,v=h.length;v>=0;v--){var S=h[v];if(S&&S.nodeType===1&&S.hasAttribute(f1))return S}}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(f1,"active"),r.setAttribute("data-styled-version","5.3.5");var l=A3();return l&&r.setAttribute("nonce",l),n.insertBefore(r,o),r},TEe=function(){function t(n){var r=this.element=GX(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,l=0,d=o.length;l<d;l++){var h=o[l];if(h.ownerNode===i)return h}c0(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),MEe=function(){function t(n){var r=this.element=GX(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),o=this.nodes[n];return this.element.insertBefore(i,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),PEe=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),VX=C3,REe={isServer:!C3,useCSSOMInjection:!_Ee},XE=function(){function t(n,r,i){n===void 0&&(n=x1),r===void 0&&(r={}),this.options=pv({},REe,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&C3&&VX&&(VX=!1,function(o){for(var l=document.querySelectorAll(EEe),d=0,h=l.length;d<h;d++){var v=l[d];v&&v.getAttribute(f1)!=="active"&&(AEe(o,v),v.parentNode&&v.parentNode.removeChild(v))}}(this))}t.registerId=function(n){return SD(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(pv({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,o=r.useCSSOMInjection,l=r.target,n=i?new PEe(l):o?new TEe(l):new MEe(l),new SEe(n)));var n,r,i,o,l},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(SD(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(SD(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(SD(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,o="",l=0;l<i;l++){var d=xEe(l);if(d!==void 0){var h=n.names.get(d),v=r.getGroup(l);if(h&&v&&h.size){var S=f1+".g"+l+'[id="'+d+'"]',x="";h!==void 0&&h.forEach(function(A){A.length>0&&(x+=A+",")}),o+=""+v+S+'{content:"'+x+`"}/*!sc*/
`}}}return o}(this)},t}(),pIe=/(a)(d)/gi,hQ=function(t){return String.fromCharCode(t+(t>25?39:97))},rb=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},WX=function(t){return rb(5381,t)},IEe=WX("5.3.5"),mIe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&gEe(e),this.componentId=n,this.baseHash=rb(IEe,n),this.baseStyle=r,XE.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var l=wb(this.rules,e,n,r).join(""),d=zX(rb(this.baseHash,l)>>>0);if(!n.hasNameForId(i,d)){var h=r(l,"."+d,void 0,i);n.insertRules(i,d,h)}o.push(d),this.staticRulesId=d}else{for(var v=this.rules.length,S=rb(this.baseHash,r.hash),x="",A=0;A<v;A++){var T=this.rules[A];if(typeof T=="string")x+=T;else if(T){var R=wb(T,e,n,r),G=Array.isArray(R)?R.join(""):R;S=rb(S,G+A),x+=G}}if(x){var j=zX(S>>>0);if(!n.hasNameForId(i,j)){var w=r(x,"."+j,void 0,i);n.insertRules(i,j,w)}o.push(j)}}return o.join(" ")},t}(),vIe=/^\s*\/\/.*$/gm,gIe=[":","[",".","#"],BO=Gs.default.createContext(),yIe=BO.Consumer,X4=Gs.default.createContext(),pQ=(X4.Consumer,new XE),Z3=aIe(),ZZ=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Z3);var l=r.name+o.hash;i.hasNameForId(r.id,l)||i.insertRules(r.id,l,o(r.rules,l,"@keyframes"))},this.toString=function(){return c0(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=Z3),this.name+e.hash},t}(),_Ie=/([A-Z])/,SIe=/([A-Z])/g,xIe=/^ms-/,wIe=function(t){return"-"+t.toLowerCase()},mQ=function(t){return t==null||t===!1||t===""},vQ=function(t){return Array.isArray(t)&&(t.isCss=!0),t},Y4=function(t,e,n){return n===void 0&&(n=x1),t.theme!==n.theme&&t.theme||e||n.theme},EIe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,bIe=/(^-|-$)/g,JH=function(t){return zX(WX(t)>>>0)},$4=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},CIe=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"},w1=Gs.default.createContext(),AIe=w1.Consumer,e4={},T3=function(t){return function e(n,r,i){if(i===void 0&&(i=x1),!(0,jX.isValidElementType)(r))return c0(1,String(r));var o=function(){return n(r,i,QH.apply(void 0,arguments))};return o.withConfig=function(l){return e(n,r,pv({},i,{},l))},o.attrs=function(l){return e(n,r,pv({},i,{attrs:Array.prototype.concat(i.attrs,l).filter(Boolean)}))},o}(lIe,t)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){T3[t]=T3(t)}),TIe=function(){function t(n,r){this.rules=n,this.componentId=r,this.isStatic=gEe(n),XE.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(n,r,i,o){var l=o(wb(this.rules,r,i,o).join(""),""),d=this.componentId+n;i.insertRules(d,d,l)},e.removeStyles=function(n,r){r.clearRules(this.componentId+n)},e.renderStyles=function(n,r,i,o){n>2&&XE.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,o)},t}(),MIe=function(){function t(){var n=this;this._emitSheetCSS=function(){var r=n.instance.toString();if(!r)return"";var i=A3();return"<style "+[i&&'nonce="'+i+'"',f1+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return n.sealed?c0(2):n._emitSheetCSS()},this.getStyleElement=function(){var r;if(n.sealed)return c0(2);var i=((r={})[f1]="",r["data-styled-version"]="5.3.5",r.dangerouslySetInnerHTML={__html:n.instance.toString()},r),o=A3();return o&&(i.nonce=o),[Gs.default.createElement("style",pv({},i,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new XE({isServer:!0}),this.sealed=!1}var e=t.prototype;return e.collectStyles=function(n){return this.sealed?c0(2):Gs.default.createElement(JZ,{sheet:this.instance},n)},e.interleaveWithNodeStream=function(n){return c0(3)},t}(),PIe=function(t){var e=Gs.default.forwardRef(function(n,r){var i=(0,Gs.useContext)(w1),o=t.defaultProps,l=Y4(n,i,o);return Gs.default.createElement(t,pv({},n,{theme:l,ref:r}))});return(0,fQ.default)(e,t),e.displayName="WithTheme("+uQ(t)+")",e},RIe=function(){return(0,Gs.useContext)(w1)},IIe={StyleSheet:XE,masterSheet:pQ},Eg=T3}}),gst=Vo({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(t){var e=_s(),n=YH(),r=$Z();function i(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(i(227));var o=new Set,l={};function d(p,y){h(p,y),h(p+"Capture",y)}function h(p,y){for(l[p]=y,p=0;p<y.length;p++)o.add(y[p])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x=Object.prototype.hasOwnProperty,A={},T={};function R(p){return x.call(T,p)?!0:x.call(A,p)?!1:S.test(p)?T[p]=!0:(A[p]=!0,!1)}function G(p,y,k,X){if(k!==null&&k.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return X?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function j(p,y,k,X){if(y===null||typeof y>"u"||G(p,y,k,X))return!0;if(X)return!1;if(k!==null)switch(k.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function w(p,y,k,X,se,Ae,Ue){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=X,this.attributeNamespace=se,this.mustUseProperty=k,this.propertyName=p,this.type=y,this.sanitizeURL=Ae,this.removeEmptyString=Ue}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){L[p]=new w(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];L[y]=new w(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){L[p]=new w(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){L[p]=new w(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){L[p]=new w(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){L[p]=new w(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){L[p]=new w(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){L[p]=new w(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){L[p]=new w(p,5,!1,p.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function W(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(F,W);L[y]=new w(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(F,W);L[y]=new w(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(F,W);L[y]=new w(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){L[p]=new w(p,1,!1,p.toLowerCase(),null,!1,!1)}),L.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){L[p]=new w(p,1,!1,p.toLowerCase(),null,!0,!0)});function U(p,y,k,X){var se=L.hasOwnProperty(y)?L[y]:null,Ae=se!==null?se.type===0:X?!1:!(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N");Ae||(j(y,k,se,X)&&(k=null),X||se===null?R(y)&&(k===null?p.removeAttribute(y):p.setAttribute(y,""+k)):se.mustUseProperty?p[se.propertyName]=k===null?se.type===3?!1:"":k:(y=se.attributeName,X=se.attributeNamespace,k===null?p.removeAttribute(y):(se=se.type,k=se===3||se===4&&k===!0?"":""+k,X?p.setAttributeNS(X,y,k):p.setAttribute(y,k))))}var Q=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=60103,fe=60106,Z=60107,he=60108,Te=60114,je=60109,Ke=60110,Le=60112,Ge=60113,ut=60120,st=60115,_e=60116,Se=60121,we=60128,Pe=60129,be=60130,Ce=60131;typeof Symbol=="function"&&Symbol.for&&(qe=Symbol.for,de=qe("react.element"),fe=qe("react.portal"),Z=qe("react.fragment"),he=qe("react.strict_mode"),Te=qe("react.profiler"),je=qe("react.provider"),Ke=qe("react.context"),Le=qe("react.forward_ref"),Ge=qe("react.suspense"),ut=qe("react.suspense_list"),st=qe("react.memo"),_e=qe("react.lazy"),Se=qe("react.block"),qe("react.scope"),we=qe("react.opaque.id"),Pe=qe("react.debug_trace_mode"),be=qe("react.offscreen"),Ce=qe("react.legacy_hidden"));var qe,mt=typeof Symbol=="function"&&Symbol.iterator;function We(p){return p===null||typeof p!="object"?null:(p=mt&&p[mt]||p["@@iterator"],typeof p=="function"?p:null)}var Mt;function dt(p){if(Mt===void 0)try{throw Error()}catch(k){var y=k.stack.trim().match(/\n( *(at )?)/);Mt=y&&y[1]||""}return`
`+Mt+p}var en=!1;function cn(p,y){if(!p||en)return"";en=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(pt){var X=pt}Reflect.construct(p,[],y)}else{try{y.call()}catch(pt){X=pt}p.call(y.prototype)}else{try{throw Error()}catch(pt){X=pt}p()}}catch(pt){if(pt&&X&&typeof pt.stack=="string"){for(var se=pt.stack.split(`
`),Ae=X.stack.split(`
`),Ue=se.length-1,tt=Ae.length-1;1<=Ue&&0<=tt&&se[Ue]!==Ae[tt];)tt--;for(;1<=Ue&&0<=tt;Ue--,tt--)if(se[Ue]!==Ae[tt]){if(Ue!==1||tt!==1)do if(Ue--,tt--,0>tt||se[Ue]!==Ae[tt])return`
`+se[Ue].replace(" at new "," at ");while(1<=Ue&&0<=tt);break}}}finally{en=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?dt(p):""}function sn(p){switch(p.tag){case 5:return dt(p.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return p=cn(p.type,!1),p;case 11:return p=cn(p.type.render,!1),p;case 22:return p=cn(p.type._render,!1),p;case 1:return p=cn(p.type,!0),p;default:return""}}function $e(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case Z:return"Fragment";case fe:return"Portal";case Te:return"Profiler";case he:return"StrictMode";case Ge:return"Suspense";case ut:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case Ke:return(p.displayName||"Context")+".Consumer";case je:return(p._context.displayName||"Context")+".Provider";case Le:var y=p.render;return y=y.displayName||y.name||"",p.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case st:return $e(p.type);case Se:return $e(p._render);case _e:y=p._payload,p=p._init;try{return $e(p(y))}catch{}}return null}function Gt(p){switch(typeof p){case"boolean":case"number":case"object":case"string":case"undefined":return p;default:return""}}function Ut(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Kt(p){var y=Ut(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),X=""+p[y];if(!p.hasOwnProperty(y)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var se=k.get,Ae=k.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return se.call(this)},set:function(Ue){X=""+Ue,Ae.call(this,Ue)}}),Object.defineProperty(p,y,{enumerable:k.enumerable}),{getValue:function(){return X},setValue:function(Ue){X=""+Ue},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Yt(p){p._valueTracker||(p._valueTracker=Kt(p))}function Cn(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var k=y.getValue(),X="";return p&&(X=Ut(p)?p.checked?"true":"false":p.value),p=X,p!==k?(y.setValue(p),!0):!1}function Dn(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function nr(p,y){var k=y.checked;return n({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function dr(p,y){var k=y.defaultValue==null?"":y.defaultValue,X=y.checked!=null?y.checked:y.defaultChecked;k=Gt(y.value!=null?y.value:k),p._wrapperState={initialChecked:X,initialValue:k,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function Jr(p,y){y=y.checked,y!=null&&U(p,"checked",y,!1)}function Hi(p,y){Jr(p,y);var k=Gt(y.value),X=y.type;if(k!=null)X==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(X==="submit"||X==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?Be(p,y.type,k):y.hasOwnProperty("defaultValue")&&Be(p,y.type,Gt(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function et(p,y,k){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var X=y.type;if(!(X!=="submit"&&X!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,k||y===p.value||(p.value=y),p.defaultValue=y}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function Be(p,y,k){(y!=="number"||Dn(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}function Nt(p){var y="";return e.Children.forEach(p,function(k){k!=null&&(y+=k)}),y}function Pn(p,y){return p=n({children:void 0},y),(y=Nt(y.children))&&(p.children=y),p}function kn(p,y,k,X){if(p=p.options,y){y={};for(var se=0;se<k.length;se++)y["$"+k[se]]=!0;for(k=0;k<p.length;k++)se=y.hasOwnProperty("$"+p[k].value),p[k].selected!==se&&(p[k].selected=se),se&&X&&(p[k].defaultSelected=!0)}else{for(k=""+Gt(k),y=null,se=0;se<p.length;se++){if(p[se].value===k){p[se].selected=!0,X&&(p[se].defaultSelected=!0);return}y!==null||p[se].disabled||(y=p[se])}y!==null&&(y.selected=!0)}}function Nn(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(i(91));return n({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ar(p,y){var k=y.value;if(k==null){if(k=y.children,y=y.defaultValue,k!=null){if(y!=null)throw Error(i(92));if(Array.isArray(k)){if(!(1>=k.length))throw Error(i(93));k=k[0]}y=k}y==null&&(y=""),k=y}p._wrapperState={initialValue:Gt(k)}}function Zn(p,y){var k=Gt(y.value),X=Gt(y.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),y.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),X!=null&&(p.defaultValue=""+X)}function Je(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}var Jt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function On(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bn(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?On(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Wn,Yn=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,k,X,se){MSApp.execUnsafeLocalFunction(function(){return p(y,k,X,se)})}:p}(function(p,y){if(p.namespaceURI!==Jt.svg||"innerHTML"in p)p.innerHTML=y;else{for(Wn=Wn||document.createElement("div"),Wn.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=Wn.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function Dr(p,y){if(y){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=y;return}}p.textContent=y}var cr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ht=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(p){ht.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),cr[y]=cr[p]})});function Ot(p,y,k){return y==null||typeof y=="boolean"||y===""?"":k||typeof y!="number"||y===0||cr.hasOwnProperty(p)&&cr[p]?(""+y).trim():y+"px"}function Rt(p,y){p=p.style;for(var k in y)if(y.hasOwnProperty(k)){var X=k.indexOf("--")===0,se=Ot(k,y[k],X);k==="float"&&(k="cssFloat"),X?p.setProperty(k,se):p[k]=se}}var ir=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(p,y){if(y){if(ir[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(i(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(i(60));if(!(typeof y.dangerouslySetInnerHTML=="object"&&"__html"in y.dangerouslySetInnerHTML))throw Error(i(61))}if(y.style!=null&&typeof y.style!="object")throw Error(i(62))}}function Li(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pa(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Ra=null,ft=null,kt=null;function Bt(p){if(p=sp(p)){if(typeof Ra!="function")throw Error(i(280));var y=p.stateNode;y&&(y=lp(y),Ra(p.stateNode,p.type,y))}}function Un(p){ft?kt?kt.push(p):kt=[p]:ft=p}function Pr(){if(ft){var p=ft,y=kt;if(kt=ft=null,Bt(p),y)for(p=0;p<y.length;p++)Bt(y[p])}}function yr(p,y){return p(y)}function Kn(p,y,k,X,se){return p(y,k,X,se)}function Sr(){}var $n=yr,oa=!1,Ir=!1;function ja(){(ft!==null||kt!==null)&&(Sr(),Pr())}function xa(p,y,k){if(Ir)return p(y,k);Ir=!0;try{return $n(p,y,k)}finally{Ir=!1,ja()}}function Ee(p,y){var k=p.stateNode;if(k===null)return null;var X=lp(k);if(X===null)return null;k=X[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(X=!X.disabled)||(p=p.type,X=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!X;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(i(231,y,typeof k));return k}var oe=!1;if(v)try{ke={},Object.defineProperty(ke,"passive",{get:function(){oe=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch{oe=!1}var ke;function Ze(p,y,k,X,se,Ae,Ue,tt,pt){var on=Array.prototype.slice.call(arguments,3);try{y.apply(k,on)}catch(zr){this.onError(zr)}}var Xe=!1,rt=null,It=!1,Dt=null,ln={onError:function(p){Xe=!0,rt=p}};function dn(p,y,k,X,se,Ae,Ue,tt,pt){Xe=!1,rt=null,Ze.apply(ln,arguments)}function _n(p,y,k,X,se,Ae,Ue,tt,pt){if(dn.apply(this,arguments),Xe){if(Xe){var on=rt;Xe=!1,rt=null}else throw Error(i(198));It||(It=!0,Dt=on)}}function $t(p){var y=p,k=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,y.flags&1026&&(k=y.return),p=y.return;while(p)}return y.tag===3?k:null}function Rn(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function wn(p){if($t(p)!==p)throw Error(i(188))}function er(p){var y=p.alternate;if(!y){if(y=$t(p),y===null)throw Error(i(188));return y!==p?null:p}for(var k=p,X=y;;){var se=k.return;if(se===null)break;var Ae=se.alternate;if(Ae===null){if(X=se.return,X!==null){k=X;continue}break}if(se.child===Ae.child){for(Ae=se.child;Ae;){if(Ae===k)return wn(se),p;if(Ae===X)return wn(se),y;Ae=Ae.sibling}throw Error(i(188))}if(k.return!==X.return)k=se,X=Ae;else{for(var Ue=!1,tt=se.child;tt;){if(tt===k){Ue=!0,k=se,X=Ae;break}if(tt===X){Ue=!0,X=se,k=Ae;break}tt=tt.sibling}if(!Ue){for(tt=Ae.child;tt;){if(tt===k){Ue=!0,k=Ae,X=se;break}if(tt===X){Ue=!0,X=Ae,k=se;break}tt=tt.sibling}if(!Ue)throw Error(i(189))}}if(k.alternate!==X)throw Error(i(190))}if(k.tag!==3)throw Error(i(188));return k.stateNode.current===k?p:y}function tr(p){if(p=er(p),!p)return null;for(var y=p;;){if(y.tag===5||y.tag===6)return y;if(y.child)y.child.return=y,y=y.child;else{if(y===p)break;for(;!y.sibling;){if(!y.return||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}}return null}function Tr(p,y){for(var k=p.alternate;y!==null;){if(y===p||y===k)return!0;y=y.return}return!1}var Wr,pr,Rr,Or,pi=!1,ji=[],ti=null,ki=null,Ni=null,Fi=new Map,no=new Map,mi=[],yi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(p,y,k,X,se){return{blockedOn:p,domEventName:y,eventSystemFlags:k|16,nativeEvent:se,targetContainers:[X]}}function ca(p,y){switch(p){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Fi.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(y.pointerId)}}function Da(p,y,k,X,se,Ae){return p===null||p.nativeEvent!==Ae?(p=Ki(y,k,X,se,Ae),y!==null&&(y=sp(y),y!==null&&pr(y)),p):(p.eventSystemFlags|=X,y=p.targetContainers,se!==null&&y.indexOf(se)===-1&&y.push(se),p)}function co(p,y,k,X,se){switch(y){case"focusin":return ti=Da(ti,p,y,k,X,se),!0;case"dragenter":return ki=Da(ki,p,y,k,X,se),!0;case"mouseover":return Ni=Da(Ni,p,y,k,X,se),!0;case"pointerover":var Ae=se.pointerId;return Fi.set(Ae,Da(Fi.get(Ae)||null,p,y,k,X,se)),!0;case"gotpointercapture":return Ae=se.pointerId,no.set(Ae,Da(no.get(Ae)||null,p,y,k,X,se)),!0}return!1}function ko(p){var y=wd(p.target);if(y!==null){var k=$t(y);if(k!==null){if(y=k.tag,y===13){if(y=Rn(k),y!==null){p.blockedOn=y,Or(p.lanePriority,function(){r.unstable_runWithPriority(p.priority,function(){Rr(k)})});return}}else if(y===3&&k.stateNode.hydrate){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function ll(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var k=Ps(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(k!==null)return y=sp(k),y!==null&&pr(y),p.blockedOn=k,!1;y.shift()}return!0}function Ss(p,y,k){ll(p)&&k.delete(y)}function ul(){for(pi=!1;0<ji.length;){var p=ji[0];if(p.blockedOn!==null){p=sp(p.blockedOn),p!==null&&Wr(p);break}for(var y=p.targetContainers;0<y.length;){var k=Ps(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(k!==null){p.blockedOn=k;break}y.shift()}p.blockedOn===null&&ji.shift()}ti!==null&&ll(ti)&&(ti=null),ki!==null&&ll(ki)&&(ki=null),Ni!==null&&ll(Ni)&&(Ni=null),Fi.forEach(Ss),no.forEach(Ss)}function El(p,y){p.blockedOn===y&&(p.blockedOn=null,pi||(pi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ul)))}function ou(p){function y(se){return El(se,p)}if(0<ji.length){El(ji[0],p);for(var k=1;k<ji.length;k++){var X=ji[k];X.blockedOn===p&&(X.blockedOn=null)}}for(ti!==null&&El(ti,p),ki!==null&&El(ki,p),Ni!==null&&El(Ni,p),Fi.forEach(y),no.forEach(y),k=0;k<mi.length;k++)X=mi[k],X.blockedOn===p&&(X.blockedOn=null);for(;0<mi.length&&(k=mi[0],k.blockedOn===null);)ko(k),k.blockedOn===null&&mi.shift()}function Gl(p,y){var k={};return k[p.toLowerCase()]=y.toLowerCase(),k["Webkit"+p]="webkit"+y,k["Moz"+p]="moz"+y,k}var Bc={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Qh={},of={};v&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Iu(p){if(Qh[p])return Qh[p];if(!Bc[p])return p;var y=Bc[p],k;for(k in y)if(y.hasOwnProperty(k)&&k in of)return Qh[p]=y[k];return p}var Jh=Iu("animationend"),xs=Iu("animationiteration"),Pi=Iu("animationstart"),hd=Iu("transitionend"),oh=new Map,Lc=new Map,Vp=["abort","abort",Jh,"animationEnd",xs,"animationIteration",Pi,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",hd,"transitionEnd","waiting","waiting"];function Zh(p,y){for(var k=0;k<p.length;k+=2){var X=p[k],se=p[k+1];se="on"+(se[0].toUpperCase()+se.slice(1)),Lc.set(X,y),oh.set(X,se),d(se,[X])}}var ws=r.unstable_now;ws();var Ga=8;function Vl(p){if(1&p)return Ga=15,1;if(2&p)return Ga=14,2;if(4&p)return Ga=13,4;var y=24&p;return y!==0?(Ga=12,y):p&32?(Ga=11,32):(y=192&p,y!==0?(Ga=10,y):p&256?(Ga=9,256):(y=3584&p,y!==0?(Ga=8,y):p&4096?(Ga=7,4096):(y=4186112&p,y!==0?(Ga=6,y):(y=62914560&p,y!==0?(Ga=5,y):p&67108864?(Ga=4,67108864):p&134217728?(Ga=3,134217728):(y=805306368&p,y!==0?(Ga=2,y):1073741824&p?(Ga=1,1073741824):(Ga=8,p))))))}function pd(p){switch(p){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sf(p){switch(p){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,p))}}function su(p,y){var k=p.pendingLanes;if(k===0)return Ga=0;var X=0,se=0,Ae=p.expiredLanes,Ue=p.suspendedLanes,tt=p.pingedLanes;if(Ae!==0)X=Ae,se=Ga=15;else if(Ae=k&134217727,Ae!==0){var pt=Ae&~Ue;pt!==0?(X=Vl(pt),se=Ga):(tt&=Ae,tt!==0&&(X=Vl(tt),se=Ga))}else Ae=k&~Ue,Ae!==0?(X=Vl(Ae),se=Ga):tt!==0&&(X=Vl(tt),se=Ga);if(X===0)return 0;if(X=31-fo(X),X=k&((0>X?0:1<<X)<<1)-1,y!==0&&y!==X&&!(y&Ue)){if(Vl(y),se<=Ga)return y;Ga=se}if(y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=X;0<y;)k=31-fo(y),se=1<<k,X|=p[k],y&=~se;return X}function Wl(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function sh(p,y){switch(p){case 15:return 1;case 14:return 2;case 12:return p=Do(24&~y),p===0?sh(10,y):p;case 10:return p=Do(192&~y),p===0?sh(8,y):p;case 8:return p=Do(3584&~y),p===0&&(p=Do(4186112&~y),p===0&&(p=512)),p;case 2:return y=Do(805306368&~y),y===0&&(y=268435456),y}throw Error(i(358,p))}function Do(p){return p&-p}function Ks(p){for(var y=[],k=0;31>k;k++)y.push(p);return y}function Oo(p,y,k){p.pendingLanes|=y;var X=y-1;p.suspendedLanes&=X,p.pingedLanes&=X,p=p.eventTimes,y=31-fo(y),p[y]=k}var fo=Math.clz32?Math.clz32:Im,md=Math.log,bl=Math.LN2;function Im(p){return p===0?32:31-(md(p)/bl|0)|0}var oc=r.unstable_UserBlockingPriority,Tv=r.unstable_runWithPriority,Wo=!0;function Nc(p,y,k,X){oa||Sr();var se=vd,Ae=oa;oa=!0;try{Kn(se,p,y,k,X)}finally{(oa=Ae)||ja()}}function Es(p,y,k,X){Tv(oc,vd.bind(null,p,y,k,X))}function vd(p,y,k,X){if(Wo){var se;if((se=(y&4)===0)&&0<ji.length&&-1<yi.indexOf(p))p=Ki(null,p,y,k,X),ji.push(p);else{var Ae=Ps(p,y,k,X);if(Ae===null)se&&ca(p,X);else{if(se){if(-1<yi.indexOf(p)){p=Ki(Ae,p,y,k,X),ji.push(p);return}if(co(Ae,p,y,k,X))return;ca(p,X)}hf(p,y,X,null,k)}}}}function Ps(p,y,k,X){var se=Pa(X);if(se=wd(se),se!==null){var Ae=$t(se);if(Ae===null)se=null;else{var Ue=Ae.tag;if(Ue===13){if(se=Rn(Ae),se!==null)return se;se=null}else if(Ue===3){if(Ae.stateNode.hydrate)return Ae.tag===3?Ae.stateNode.containerInfo:null;se=null}else Ae!==se&&(se=null)}}return hf(p,y,X,se,k),null}var Rs=null,sc=null,Kl=null;function Nf(){if(Kl)return Kl;var p,y=sc,k=y.length,X,se="value"in Rs?Rs.value:Rs.textContent,Ae=se.length;for(p=0;p<k&&y[p]===se[p];p++);var Ue=k-p;for(X=1;X<=Ue&&y[k-X]===se[Ae-X];X++);return Kl=se.slice(p,1<X?1-X:void 0)}function ku(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function ql(){return!0}function Xl(){return!1}function wa(p){function y(k,X,se,Ae,Ue){this._reactName=k,this._targetInst=se,this.type=X,this.nativeEvent=Ae,this.target=Ue,this.currentTarget=null;for(var tt in p)p.hasOwnProperty(tt)&&(k=p[tt],this[tt]=k?k(Ae):Ae[tt]);return this.isDefaultPrevented=(Ae.defaultPrevented!=null?Ae.defaultPrevented:Ae.returnValue===!1)?ql:Xl,this.isPropagationStopped=Xl,this}return n(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),y}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=wa(yo),Cl=n({},yo,{view:0,detail:0}),gd=wa(Cl),So,Is,bs,Ff=n({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==bs&&(bs&&p.type==="mousemove"?(So=p.screenX-bs.screenX,Is=p.screenY-bs.screenY):Is=So=0,bs=p),So)},movementY:function(p){return"movementY"in p?p.movementY:Is}}),lc=wa(Ff),Fc=n({},Ff,{dataTransfer:0}),yd=wa(Fc),lh=n({},Cl,{relatedTarget:0}),uc=wa(lh),Wp=n({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),km=wa(Wp),Uf=n({},yo,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),lf=wa(Uf),Du=n({},yo,{data:0}),os=wa(Du),uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=ks[p])?!!y[p]:!1}function fl(){return cl}var Bo=n({},Cl,{key:function(p){if(p.key){var y=uf[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=ku(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?uh[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(p){return p.type==="keypress"?ku(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?ku(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),dl=wa(Bo),$a=n({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=wa($a),cf=n({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),ff=wa(cf),qs=n({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xs=wa(qs),vi=n({},Ff,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Ou=wa(vi),Qa=[9,13,27,32],Ds=v&&"CompositionEvent"in window,ss=null;v&&"documentMode"in document&&(ss=document.documentMode);var Oa=v&&"TextEvent"in window&&!ss,ep=v&&(!Ds||ss&&8<ss&&11>=ss),_d=String.fromCharCode(32),Bu=!1;function cc(p,y){switch(p){case"keyup":return Qa.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Os=!1;function zf(p,y){switch(p){case"compositionend":return ch(y);case"keypress":return y.which!==32?null:(Bu=!0,_d);case"textInput":return p=y.data,p===_d&&Bu?null:p;default:return null}}function fh(p,y){if(Os)return p==="compositionend"||!Ds&&cc(p,y)?(p=Nf(),Kl=sc=Rs=null,Os=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return ep&&y.locale!=="ko"?null:y.data;default:return null}}var Al={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!Al[p.type]:y==="textarea"}function Ja(p,y,k,X){Un(X),y=ph(y,"onChange"),0<y.length&&(k=new _o("onChange","change",null,k,X),p.push({event:k,listeners:y}))}var ro=null,ga=null;function Lu(p){rp(p,0)}function To(p){var y=Vf(p);if(Cn(y))return p}function xo(p,y){if(p==="change")return y}var Yl=!1;v&&(v?(dc="oninput"in document,dc||(Nu=document.createElement("div"),Nu.setAttribute("oninput","return;"),dc=typeof Nu.oninput=="function"),uu=dc):uu=!1,Yl=uu&&(!document.documentMode||9<document.documentMode));var uu,dc,Nu;function sa(){ro&&(ro.detachEvent("onpropertychange",hc),ga=ro=null)}function hc(p){if(p.propertyName==="value"&&To(ga)){var y=[];if(Ja(y,ga,p,Pa(p)),p=Lu,oa)p(y);else{oa=!0;try{yr(p,y)}finally{oa=!1,ja()}}}}function df(p,y,k){p==="focusin"?(sa(),ro=y,ga=k,ro.attachEvent("onpropertychange",hc)):p==="focusout"&&sa()}function tp(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return To(ga)}function np(p,y){if(p==="click")return To(y)}function $l(p,y){if(p==="input"||p==="change")return To(y)}function cu(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var Ai=typeof Object.is=="function"?Object.is:cu,Ys=Object.prototype.hasOwnProperty;function Ba(p,y){if(Ai(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var k=Object.keys(p),X=Object.keys(y);if(k.length!==X.length)return!1;for(X=0;X<k.length;X++)if(!Ys.call(y,k[X])||!Ai(p[k[X]],y[k[X]]))return!1;return!0}function xe(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ye(p,y){var k=xe(p);p=0;for(var X;k;){if(k.nodeType===3){if(X=p+k.textContent.length,p<=y&&X>=y)return{node:k,offset:y-p};p=X}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=xe(k)}}function vt(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?vt(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function nn(){for(var p=window,y=Dn();y instanceof p.HTMLIFrameElement;){try{var k=typeof y.contentWindow.location.href=="string"}catch{k=!1}if(k)p=y.contentWindow;else break;y=Dn(p.document)}return y}function Er(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}var Ti=v&&"documentMode"in document&&11>=document.documentMode,Ko=null,Fu=null,$s=null,ls=!1;function pc(p,y,k){var X=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;ls||Ko==null||Ko!==Dn(X)||(X=Ko,"selectionStart"in X&&Er(X)?X={start:X.selectionStart,end:X.selectionEnd}:(X=(X.ownerDocument&&X.ownerDocument.defaultView||window).getSelection(),X={anchorNode:X.anchorNode,anchorOffset:X.anchorOffset,focusNode:X.focusNode,focusOffset:X.focusOffset}),$s&&Ba($s,X)||($s=X,X=ph(Fu,"onSelect"),0<X.length&&(y=new _o("onSelect","select",null,y,k),p.push({event:y,listeners:X}),y.target=Ko)))}Zh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Zh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Zh(Vp,2);for(var dh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sd=0;Sd<dh.length;Sd++)Lc.set(dh[Sd],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kp));function Mv(p,y,k){var X=p.type||"unknown-event";p.currentTarget=k,_n(X,y,void 0,p),p.currentTarget=null}function rp(p,y){y=(y&4)!==0;for(var k=0;k<p.length;k++){var X=p[k],se=X.event;X=X.listeners;e:{var Ae=void 0;if(y)for(var Ue=X.length-1;0<=Ue;Ue--){var tt=X[Ue],pt=tt.instance,on=tt.currentTarget;if(tt=tt.listener,pt!==Ae&&se.isPropagationStopped())break e;Mv(se,tt,on),Ae=pt}else for(Ue=0;Ue<X.length;Ue++){if(tt=X[Ue],pt=tt.instance,on=tt.currentTarget,tt=tt.listener,pt!==Ae&&se.isPropagationStopped())break e;Mv(se,tt,on),Ae=pt}}}if(It)throw p=Dt,It=!1,Dt=null,p}function la(p,y){var k=io(y),X=p+"__bubble";k.has(X)||(Pv(y,p,2,!1),k.add(X))}var Tl="_reactListening"+Math.random().toString(36).slice(2);function hh(p){p[Tl]||(p[Tl]=!0,o.forEach(function(y){Dm.has(y)||Hf(y,!1,p,null),Hf(y,!0,p,null)}))}function Hf(p,y,k,X){var se=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,Ae=k;if(p==="selectionchange"&&k.nodeType!==9&&(Ae=k.ownerDocument),X!==null&&!y&&Dm.has(p)){if(p!=="scroll")return;se|=2,Ae=X}var Ue=io(Ae),tt=p+"__"+(y?"capture":"bubble");Ue.has(tt)||(y&&(se|=4),Pv(Ae,p,se,y),Ue.add(tt))}function Pv(p,y,k,X){var se=Lc.get(y);switch(se===void 0?2:se){case 0:se=Nc;break;case 1:se=Es;break;default:se=vd}k=se.bind(null,y,k,p),se=void 0,!oe||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(se=!0),X?se!==void 0?p.addEventListener(y,k,{capture:!0,passive:se}):p.addEventListener(y,k,!0):se!==void 0?p.addEventListener(y,k,{passive:se}):p.addEventListener(y,k,!1)}function hf(p,y,k,X,se){var Ae=X;if(!(y&1)&&!(y&2)&&X!==null)e:for(;;){if(X===null)return;var Ue=X.tag;if(Ue===3||Ue===4){var tt=X.stateNode.containerInfo;if(tt===se||tt.nodeType===8&&tt.parentNode===se)break;if(Ue===4)for(Ue=X.return;Ue!==null;){var pt=Ue.tag;if((pt===3||pt===4)&&(pt=Ue.stateNode.containerInfo,pt===se||pt.nodeType===8&&pt.parentNode===se))return;Ue=Ue.return}for(;tt!==null;){if(Ue=wd(tt),Ue===null)return;if(pt=Ue.tag,pt===5||pt===6){X=Ae=Ue;continue e}tt=tt.parentNode}}X=X.return}xa(function(){var on=Ae,zr=Pa(k),Gi=[];e:{var zn=oh.get(p);if(zn!==void 0){var fi=_o,$i=p;switch(p){case"keypress":if(ku(k)===0)break e;case"keydown":case"keyup":fi=dl;break;case"focusin":$i="focus",fi=uc;break;case"focusout":$i="blur",fi=uc;break;case"beforeblur":case"afterblur":fi=uc;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fi=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fi=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fi=ff;break;case Jh:case xs:case Pi:fi=km;break;case hd:fi=Xs;break;case"scroll":fi=gd;break;case"wheel":fi=Ou;break;case"copy":case"cut":case"paste":fi=lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fi=lu}var Mi=(y&4)!==0,zt=!Mi&&p==="scroll",Et=Mi?zn!==null?zn+"Capture":null:zn;Mi=[];for(var Lt=on,Sn;Lt!==null;){Sn=Lt;var Mn=Sn.stateNode;if(Sn.tag===5&&Mn!==null&&(Sn=Mn,Et!==null&&(Mn=Ee(Lt,Et),Mn!=null&&Mi.push(Uu(Lt,Mn,Sn)))),zt)break;Lt=Lt.return}0<Mi.length&&(zn=new fi(zn,$i,null,k,zr),Gi.push({event:zn,listeners:Mi}))}}if(!(y&7)){e:{if(zn=p==="mouseover"||p==="pointerover",fi=p==="mouseout"||p==="pointerout",zn&&!(y&16)&&($i=k.relatedTarget||k.fromElement)&&(wd($i)||$i[Gf]))break e;if((fi||zn)&&(zn=zr.window===zr?zr:(zn=zr.ownerDocument)?zn.defaultView||zn.parentWindow:window,fi?($i=k.relatedTarget||k.toElement,fi=on,$i=$i?wd($i):null,$i!==null&&(zt=$t($i),$i!==zt||$i.tag!==5&&$i.tag!==6)&&($i=null)):(fi=null,$i=on),fi!==$i)){if(Mi=lc,Mn="onMouseLeave",Et="onMouseEnter",Lt="mouse",(p==="pointerout"||p==="pointerover")&&(Mi=lu,Mn="onPointerLeave",Et="onPointerEnter",Lt="pointer"),zt=fi==null?zn:Vf(fi),Sn=$i==null?zn:Vf($i),zn=new Mi(Mn,Lt+"leave",fi,k,zr),zn.target=zt,zn.relatedTarget=Sn,Mn=null,wd(zr)===on&&(Mi=new Mi(Et,Lt+"enter",$i,k,zr),Mi.target=Sn,Mi.relatedTarget=zt,Mn=Mi),zt=Mn,fi&&$i)t:{for(Mi=fi,Et=$i,Lt=0,Sn=Mi;Sn;Sn=Uc(Sn))Lt++;for(Sn=0,Mn=Et;Mn;Mn=Uc(Mn))Sn++;for(;0<Lt-Sn;)Mi=Uc(Mi),Lt--;for(;0<Sn-Lt;)Et=Uc(Et),Sn--;for(;Lt--;){if(Mi===Et||Et!==null&&Mi===Et.alternate)break t;Mi=Uc(Mi),Et=Uc(Et)}Mi=null}else Mi=null;fi!==null&&qp(Gi,zn,fi,Mi,!1),$i!==null&&zt!==null&&qp(Gi,zt,$i,Mi,!0)}}e:{if(zn=on?Vf(on):window,fi=zn.nodeName&&zn.nodeName.toLowerCase(),fi==="select"||fi==="input"&&zn.type==="file")var Vi=xo;else if(fc(zn))if(Yl)Vi=$l;else{Vi=tp;var Kr=df}else(fi=zn.nodeName)&&fi.toLowerCase()==="input"&&(zn.type==="checkbox"||zn.type==="radio")&&(Vi=np);if(Vi&&(Vi=Vi(p,on))){Ja(Gi,Vi,k,zr);break e}Kr&&Kr(p,zn,on),p==="focusout"&&(Kr=zn._wrapperState)&&Kr.controlled&&zn.type==="number"&&Be(zn,"number",zn.value)}switch(Kr=on?Vf(on):window,p){case"focusin":(fc(Kr)||Kr.contentEditable==="true")&&(Ko=Kr,Fu=on,$s=null);break;case"focusout":$s=Fu=Ko=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,pc(Gi,k,zr);break;case"selectionchange":if(Ti)break;case"keydown":case"keyup":pc(Gi,k,zr)}var na;if(Ds)e:{switch(p){case"compositionstart":var ba="onCompositionStart";break e;case"compositionend":ba="onCompositionEnd";break e;case"compositionupdate":ba="onCompositionUpdate";break e}ba=void 0}else Os?cc(p,k)&&(ba="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(ba="onCompositionStart");ba&&(ep&&k.locale!=="ko"&&(Os||ba!=="onCompositionStart"?ba==="onCompositionEnd"&&Os&&(na=Nf()):(Rs=zr,sc="value"in Rs?Rs.value:Rs.textContent,Os=!0)),Kr=ph(on,ba),0<Kr.length&&(ba=new os(ba,p,null,k,zr),Gi.push({event:ba,listeners:Kr}),na?ba.data=na:(na=ch(k),na!==null&&(ba.data=na)))),(na=Oa?zf(p,k):fh(p,k))&&(on=ph(on,"onBeforeInput"),0<on.length&&(zr=new os("onBeforeInput","beforeinput",null,k,zr),Gi.push({event:zr,listeners:on}),zr.data=na))}rp(Gi,y)})}function Uu(p,y,k){return{instance:p,listener:y,currentTarget:k}}function ph(p,y){for(var k=y+"Capture",X=[];p!==null;){var se=p,Ae=se.stateNode;se.tag===5&&Ae!==null&&(se=Ae,Ae=Ee(p,k),Ae!=null&&X.unshift(Uu(p,Ae,se)),Ae=Ee(p,y),Ae!=null&&X.push(Uu(p,Ae,se))),p=p.return}return X}function Uc(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function qp(p,y,k,X,se){for(var Ae=y._reactName,Ue=[];k!==null&&k!==X;){var tt=k,pt=tt.alternate,on=tt.stateNode;if(pt!==null&&pt===X)break;tt.tag===5&&on!==null&&(tt=on,se?(pt=Ee(k,Ae),pt!=null&&Ue.unshift(Uu(k,pt,tt))):se||(pt=Ee(k,Ae),pt!=null&&Ue.push(Uu(k,pt,tt)))),k=k.return}Ue.length!==0&&p.push({event:y,listeners:Ue})}function ip(){}var ap=null,Om=null;function op(p,y){switch(p){case"button":case"input":case"select":case"textarea":return!!y.autoFocus}return!1}function Xp(p,y){return p==="textarea"||p==="option"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var Rv=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0;function mh(p){p.nodeType===1?p.textContent="":p.nodeType===9&&(p=p.body,p!=null&&(p.textContent=""))}function vh(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break}return p}function jf(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(y===0)return p;y--}else k==="/$"&&y++}p=p.previousSibling}return null}var zu=0;function xd(p){return{$$typeof:we,toString:p,valueOf:p}}var pf=Math.random().toString(36).slice(2),zc="__reactFiber$"+pf,Hu="__reactProps$"+pf,Gf="__reactContainer$"+pf,Yp="__reactEvents$"+pf;function wd(p){var y=p[zc];if(y)return y;for(var k=p.parentNode;k;){if(y=k[Gf]||k[zc]){if(k=y.alternate,y.child!==null||k!==null&&k.child!==null)for(p=jf(p);p!==null;){if(k=p[zc])return k;p=jf(p)}return y}p=k,k=p.parentNode}return null}function sp(p){return p=p[zc]||p[Gf],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Vf(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(i(33))}function lp(p){return p[Hu]||null}function io(p){var y=p[Yp];return y===void 0&&(y=p[Yp]=new Set),y}var Bm=[],gh=-1;function Wf(p){return{current:p}}function ho(p){0>gh||(p.current=Bm[gh],Bm[gh]=null,gh--)}function La(p,y){gh++,Bm[gh]=p.current,p.current=y}var fu={},us=Wf(fu),Cs=Wf(!1),mc=fu;function Hc(p,y){var k=p.type.contextTypes;if(!k)return fu;var X=p.stateNode;if(X&&X.__reactInternalMemoizedUnmaskedChildContext===y)return X.__reactInternalMemoizedMaskedChildContext;var se={},Ae;for(Ae in k)se[Ae]=y[Ae];return X&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=se),se}function hl(p){return p=p.childContextTypes,p!=null}function Kf(){ho(Cs),ho(us)}function cs(p,y,k){if(us.current!==fu)throw Error(i(168));La(us,y),La(Cs,k)}function $p(p,y,k){var X=p.stateNode;if(p=y.childContextTypes,typeof X.getChildContext!="function")return k;X=X.getChildContext();for(var se in X)if(!(se in p))throw Error(i(108,$e(y)||"Unknown",se));return n({},k,X)}function Qp(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||fu,mc=us.current,La(us,p),La(Cs,Cs.current),!0}function Ql(p,y,k){var X=p.stateNode;if(!X)throw Error(i(169));k?(p=$p(p,y,mc),X.__reactInternalMemoizedMergedChildContext=p,ho(Cs),ho(us),La(us,p)):ho(Cs),La(Cs,k)}var Qs=null,mf=null,yh=r.unstable_runWithPriority,Lm=r.unstable_scheduleCallback,Ed=r.unstable_cancelCallback,Jp=r.unstable_shouldYield,_h=r.unstable_requestPaint,qf=r.unstable_now,up=r.unstable_getCurrentPriorityLevel,bd=r.unstable_ImmediatePriority,Sh=r.unstable_UserBlockingPriority,xh=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Nm=r.unstable_IdlePriority,Eh={},Zp=_h!==void 0?_h:function(){},vf=null,bh=null,Cd=!1,cp=qf(),Bs=1e4>cp?qf:function(){return qf()-cp};function Gr(){switch(up()){case bd:return 99;case Sh:return 98;case xh:return 97;case wh:return 96;case Nm:return 95;default:throw Error(i(332))}}function Ml(p){switch(p){case 99:return bd;case 98:return Sh;case 97:return xh;case 96:return wh;case 95:return Nm;default:throw Error(i(332))}}function wo(p,y){return p=Ml(p),yh(p,y)}function Lo(p,y,k){return p=Ml(p),Lm(p,y,k)}function qo(){if(bh!==null){var p=bh;bh=null,Ed(p)}Fm()}function Fm(){if(!Cd&&vf!==null){Cd=!0;var p=0;try{var y=vf;wo(99,function(){for(;p<y.length;p++){var k=y[p];do k=k(!0);while(k!==null)}}),vf=null}catch(k){throw vf!==null&&(vf=vf.slice(p+1)),Lm(bd,qo),k}finally{Cd=!1}}}var Qn=Q.ReactCurrentBatchConfig;function pl(p,y){if(p&&p.defaultProps){y=n({},y),p=p.defaultProps;for(var k in p)y[k]===void 0&&(y[k]=p[k]);return y}return y}var jc=Wf(null),Xf=null,Gc=null,vc=null;function Yf(){vc=Gc=Xf=null}function Na(p){var y=jc.current;ho(jc),p.type._context._currentValue=y}function em(p,y){for(;p!==null;){var k=p.alternate;if((p.childLanes&y)===y){if(k===null||(k.childLanes&y)===y)break;k.childLanes|=y}else p.childLanes|=y,k!==null&&(k.childLanes|=y);p=p.return}}function Jl(p,y){Xf=p,vc=Gc=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&y&&(oi=!0),p.firstContext=null)}function wr(p,y){if(vc!==p&&y!==!1&&y!==0)if((typeof y!="number"||y===1073741823)&&(vc=p,y=1073741823),y={context:p,observedBits:y,next:null},Gc===null){if(Xf===null)throw Error(i(308));Gc=y,Xf.dependencies={lanes:0,firstContext:y,responders:null}}else Gc=Gc.next=y;return p._currentValue}var du=!1;function Ad(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ju(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function fs(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function hu(p,y){if(p=p.updateQueue,p!==null){p=p.shared;var k=p.pending;k===null?y.next=y:(y.next=k.next,k.next=y),p.pending=y}}function $f(p,y){var k=p.updateQueue,X=p.alternate;if(X!==null&&(X=X.updateQueue,k===X)){var se=null,Ae=null;if(k=k.firstBaseUpdate,k!==null){do{var Ue={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};Ae===null?se=Ae=Ue:Ae=Ae.next=Ue,k=k.next}while(k!==null);Ae===null?se=Ae=y:Ae=Ae.next=y}else se=Ae=y;k={baseState:X.baseState,firstBaseUpdate:se,lastBaseUpdate:Ae,shared:X.shared,effects:X.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=y:p.next=y,k.lastBaseUpdate=y}function Qf(p,y,k,X){var se=p.updateQueue;du=!1;var Ae=se.firstBaseUpdate,Ue=se.lastBaseUpdate,tt=se.shared.pending;if(tt!==null){se.shared.pending=null;var pt=tt,on=pt.next;pt.next=null,Ue===null?Ae=on:Ue.next=on,Ue=pt;var zr=p.alternate;if(zr!==null){zr=zr.updateQueue;var Gi=zr.lastBaseUpdate;Gi!==Ue&&(Gi===null?zr.firstBaseUpdate=on:Gi.next=on,zr.lastBaseUpdate=pt)}}if(Ae!==null){Gi=se.baseState,Ue=0,zr=on=pt=null;do{tt=Ae.lane;var zn=Ae.eventTime;if((X&tt)===tt){zr!==null&&(zr=zr.next={eventTime:zn,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var fi=p,$i=Ae;switch(tt=y,zn=k,$i.tag){case 1:if(fi=$i.payload,typeof fi=="function"){Gi=fi.call(zn,Gi,tt);break e}Gi=fi;break e;case 3:fi.flags=fi.flags&-4097|64;case 0:if(fi=$i.payload,tt=typeof fi=="function"?fi.call(zn,Gi,tt):fi,tt==null)break e;Gi=n({},Gi,tt);break e;case 2:du=!0}}Ae.callback!==null&&(p.flags|=32,tt=se.effects,tt===null?se.effects=[Ae]:tt.push(Ae))}else zn={eventTime:zn,lane:tt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},zr===null?(on=zr=zn,pt=Gi):zr=zr.next=zn,Ue|=tt;if(Ae=Ae.next,Ae===null){if(tt=se.shared.pending,tt===null)break;Ae=tt.next,tt.next=null,se.lastBaseUpdate=tt,se.shared.pending=null}}while(1);zr===null&&(pt=Gi),se.baseState=pt,se.firstBaseUpdate=on,se.lastBaseUpdate=zr,Hm|=Ue,p.lanes=Ue,p.memoizedState=Gi}}function Td(p,y,k){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var X=p[y],se=X.callback;if(se!==null){if(X.callback=null,X=k,typeof se!="function")throw Error(i(191,se));se.call(X)}}}var Vc=new e.Component().refs;function Wc(p,y,k,X){y=p.memoizedState,k=k(X,y),k=k==null?y:n({},y,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var Ch={isMounted:function(p){return(p=p._reactInternals)?$t(p)===p:!1},enqueueSetState:function(p,y,k){p=p._reactInternals;var X=Zf(),se=Gm(p),Ae=fs(X,se);Ae.payload=y,k!=null&&(Ae.callback=k),hu(p,Ae),Vm(p,se,X)},enqueueReplaceState:function(p,y,k){p=p._reactInternals;var X=Zf(),se=Gm(p),Ae=fs(X,se);Ae.tag=1,Ae.payload=y,k!=null&&(Ae.callback=k),hu(p,Ae),Vm(p,se,X)},enqueueForceUpdate:function(p,y){p=p._reactInternals;var k=Zf(),X=Gm(p),se=fs(k,X);se.tag=2,y!=null&&(se.callback=y),hu(p,se),Vm(p,X,k)}};function Md(p,y,k,X,se,Ae,Ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(X,Ae,Ue):y.prototype&&y.prototype.isPureReactComponent?!Ba(k,X)||!Ba(se,Ae):!0}function gc(p,y,k){var X=!1,se=fu,Ae=y.contextType;return typeof Ae=="object"&&Ae!==null?Ae=wr(Ae):(se=hl(y)?mc:us.current,X=y.contextTypes,Ae=(X=X!=null)?Hc(p,se):fu),y=new y(k,Ae),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ch,p.stateNode=y,y._reactInternals=p,X&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=se,p.__reactInternalMemoizedMaskedChildContext=Ae),y}function fp(p,y,k,X){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(k,X),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(k,X),y.state!==p&&Ch.enqueueReplaceState(y,y.state,null)}function gf(p,y,k,X){var se=p.stateNode;se.props=k,se.state=p.memoizedState,se.refs=Vc,Ad(p);var Ae=y.contextType;typeof Ae=="object"&&Ae!==null?se.context=wr(Ae):(Ae=hl(y)?mc:us.current,se.context=Hc(p,Ae)),Qf(p,k,se,X),se.state=p.memoizedState,Ae=y.getDerivedStateFromProps,typeof Ae=="function"&&(Wc(p,y,Ae,k),se.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof se.getSnapshotBeforeUpdate=="function"||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(y=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),y!==se.state&&Ch.enqueueReplaceState(se,se.state,null),Qf(p,k,se,X),se.state=p.memoizedState),typeof se.componentDidMount=="function"&&(p.flags|=4)}var yc=Array.isArray;function Xo(p,y,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(i(309));var X=k.stateNode}if(!X)throw Error(i(147,p));var se=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===se?y.ref:(y=function(Ae){var Ue=X.refs;Ue===Vc&&(Ue=X.refs={}),Ae===null?delete Ue[se]:Ue[se]=Ae},y._stringRef=se,y)}if(typeof p!="string")throw Error(i(284));if(!k._owner)throw Error(i(290,p))}return p}function Gu(p,y){if(p.type!=="textarea")throw Error(i(31,Object.prototype.toString.call(y)==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":y))}function _c(p){function y(zt,Et){if(p){var Lt=zt.lastEffect;Lt!==null?(Lt.nextEffect=Et,zt.lastEffect=Et):zt.firstEffect=zt.lastEffect=Et,Et.nextEffect=null,Et.flags=8}}function k(zt,Et){if(!p)return null;for(;Et!==null;)y(zt,Et),Et=Et.sibling;return null}function X(zt,Et){for(zt=new Map;Et!==null;)Et.key!==null?zt.set(Et.key,Et):zt.set(Et.index,Et),Et=Et.sibling;return zt}function se(zt,Et){return zt=vp(zt,Et),zt.index=0,zt.sibling=null,zt}function Ae(zt,Et,Lt){return zt.index=Lt,p?(Lt=zt.alternate,Lt!==null?(Lt=Lt.index,Lt<Et?(zt.flags=2,Et):Lt):(zt.flags=2,Et)):Et}function Ue(zt){return p&&zt.alternate===null&&(zt.flags=2),zt}function tt(zt,Et,Lt,Sn){return Et===null||Et.tag!==6?(Et=sw(Lt,zt.mode,Sn),Et.return=zt,Et):(Et=se(Et,Lt),Et.return=zt,Et)}function pt(zt,Et,Lt,Sn){return Et!==null&&Et.elementType===Lt.type?(Sn=se(Et,Lt.props),Sn.ref=Xo(zt,Et,Lt),Sn.return=zt,Sn):(Sn=Jy(Lt.type,Lt.key,Lt.props,null,zt.mode,Sn),Sn.ref=Xo(zt,Et,Lt),Sn.return=zt,Sn)}function on(zt,Et,Lt,Sn){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==Lt.containerInfo||Et.stateNode.implementation!==Lt.implementation?(Et=Dv(Lt,zt.mode,Sn),Et.return=zt,Et):(Et=se(Et,Lt.children||[]),Et.return=zt,Et)}function zr(zt,Et,Lt,Sn,Mn){return Et===null||Et.tag!==7?(Et=Ig(Lt,zt.mode,Sn,Mn),Et.return=zt,Et):(Et=se(Et,Lt),Et.return=zt,Et)}function Gi(zt,Et,Lt){if(typeof Et=="string"||typeof Et=="number")return Et=sw(""+Et,zt.mode,Lt),Et.return=zt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case de:return Lt=Jy(Et.type,Et.key,Et.props,null,zt.mode,Lt),Lt.ref=Xo(zt,null,Et),Lt.return=zt,Lt;case fe:return Et=Dv(Et,zt.mode,Lt),Et.return=zt,Et}if(yc(Et)||We(Et))return Et=Ig(Et,zt.mode,Lt,null),Et.return=zt,Et;Gu(zt,Et)}return null}function zn(zt,Et,Lt,Sn){var Mn=Et!==null?Et.key:null;if(typeof Lt=="string"||typeof Lt=="number")return Mn!==null?null:tt(zt,Et,""+Lt,Sn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case de:return Lt.key===Mn?Lt.type===Z?zr(zt,Et,Lt.props.children,Sn,Mn):pt(zt,Et,Lt,Sn):null;case fe:return Lt.key===Mn?on(zt,Et,Lt,Sn):null}if(yc(Lt)||We(Lt))return Mn!==null?null:zr(zt,Et,Lt,Sn,null);Gu(zt,Lt)}return null}function fi(zt,Et,Lt,Sn,Mn){if(typeof Sn=="string"||typeof Sn=="number")return zt=zt.get(Lt)||null,tt(Et,zt,""+Sn,Mn);if(typeof Sn=="object"&&Sn!==null){switch(Sn.$$typeof){case de:return zt=zt.get(Sn.key===null?Lt:Sn.key)||null,Sn.type===Z?zr(Et,zt,Sn.props.children,Mn,Sn.key):pt(Et,zt,Sn,Mn);case fe:return zt=zt.get(Sn.key===null?Lt:Sn.key)||null,on(Et,zt,Sn,Mn)}if(yc(Sn)||We(Sn))return zt=zt.get(Lt)||null,zr(Et,zt,Sn,Mn,null);Gu(Et,Sn)}return null}function $i(zt,Et,Lt,Sn){for(var Mn=null,Vi=null,Kr=Et,na=Et=0,ba=null;Kr!==null&&na<Lt.length;na++){Kr.index>na?(ba=Kr,Kr=null):ba=Kr.sibling;var fa=zn(zt,Kr,Lt[na],Sn);if(fa===null){Kr===null&&(Kr=ba);break}p&&Kr&&fa.alternate===null&&y(zt,Kr),Et=Ae(fa,Et,na),Vi===null?Mn=fa:Vi.sibling=fa,Vi=fa,Kr=ba}if(na===Lt.length)return k(zt,Kr),Mn;if(Kr===null){for(;na<Lt.length;na++)Kr=Gi(zt,Lt[na],Sn),Kr!==null&&(Et=Ae(Kr,Et,na),Vi===null?Mn=Kr:Vi.sibling=Kr,Vi=Kr);return Mn}for(Kr=X(zt,Kr);na<Lt.length;na++)ba=fi(Kr,zt,na,Lt[na],Sn),ba!==null&&(p&&ba.alternate!==null&&Kr.delete(ba.key===null?na:ba.key),Et=Ae(ba,Et,na),Vi===null?Mn=ba:Vi.sibling=ba,Vi=ba);return p&&Kr.forEach(function(Ov){return y(zt,Ov)}),Mn}function Mi(zt,Et,Lt,Sn){var Mn=We(Lt);if(typeof Mn!="function")throw Error(i(150));if(Lt=Mn.call(Lt),Lt==null)throw Error(i(151));for(var Vi=Mn=null,Kr=Et,na=Et=0,ba=null,fa=Lt.next();Kr!==null&&!fa.done;na++,fa=Lt.next()){Kr.index>na?(ba=Kr,Kr=null):ba=Kr.sibling;var Ov=zn(zt,Kr,fa.value,Sn);if(Ov===null){Kr===null&&(Kr=ba);break}p&&Kr&&Ov.alternate===null&&y(zt,Kr),Et=Ae(Ov,Et,na),Vi===null?Mn=Ov:Vi.sibling=Ov,Vi=Ov,Kr=ba}if(fa.done)return k(zt,Kr),Mn;if(Kr===null){for(;!fa.done;na++,fa=Lt.next())fa=Gi(zt,fa.value,Sn),fa!==null&&(Et=Ae(fa,Et,na),Vi===null?Mn=fa:Vi.sibling=fa,Vi=fa);return Mn}for(Kr=X(zt,Kr);!fa.done;na++,fa=Lt.next())fa=fi(Kr,zt,na,fa.value,Sn),fa!==null&&(p&&fa.alternate!==null&&Kr.delete(fa.key===null?na:fa.key),Et=Ae(fa,Et,na),Vi===null?Mn=fa:Vi.sibling=fa,Vi=fa);return p&&Kr.forEach(function(uw){return y(zt,uw)}),Mn}return function(zt,Et,Lt,Sn){var Mn=typeof Lt=="object"&&Lt!==null&&Lt.type===Z&&Lt.key===null;Mn&&(Lt=Lt.props.children);var Vi=typeof Lt=="object"&&Lt!==null;if(Vi)switch(Lt.$$typeof){case de:e:{for(Vi=Lt.key,Mn=Et;Mn!==null;){if(Mn.key===Vi){switch(Mn.tag){case 7:if(Lt.type===Z){k(zt,Mn.sibling),Et=se(Mn,Lt.props.children),Et.return=zt,zt=Et;break e}break;default:if(Mn.elementType===Lt.type){k(zt,Mn.sibling),Et=se(Mn,Lt.props),Et.ref=Xo(zt,Mn,Lt),Et.return=zt,zt=Et;break e}}k(zt,Mn);break}else y(zt,Mn);Mn=Mn.sibling}Lt.type===Z?(Et=Ig(Lt.props.children,zt.mode,Sn,Lt.key),Et.return=zt,zt=Et):(Sn=Jy(Lt.type,Lt.key,Lt.props,null,zt.mode,Sn),Sn.ref=Xo(zt,Et,Lt),Sn.return=zt,zt=Sn)}return Ue(zt);case fe:e:{for(Mn=Lt.key;Et!==null;){if(Et.key===Mn)if(Et.tag===4&&Et.stateNode.containerInfo===Lt.containerInfo&&Et.stateNode.implementation===Lt.implementation){k(zt,Et.sibling),Et=se(Et,Lt.children||[]),Et.return=zt,zt=Et;break e}else{k(zt,Et);break}else y(zt,Et);Et=Et.sibling}Et=Dv(Lt,zt.mode,Sn),Et.return=zt,zt=Et}return Ue(zt)}if(typeof Lt=="string"||typeof Lt=="number")return Lt=""+Lt,Et!==null&&Et.tag===6?(k(zt,Et.sibling),Et=se(Et,Lt),Et.return=zt,zt=Et):(k(zt,Et),Et=sw(Lt,zt.mode,Sn),Et.return=zt,zt=Et),Ue(zt);if(yc(Lt))return $i(zt,Et,Lt,Sn);if(We(Lt))return Mi(zt,Et,Lt,Sn);if(Vi&&Gu(zt,Lt),typeof Lt>"u"&&!Mn)switch(zt.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,$e(zt.type)||"Component"))}return k(zt,Et)}}var Sc=_c(!0),Pl=_c(!1),Pd={},ml=Wf(Pd),Ah=Wf(Pd),dp=Wf(Pd);function Rd(p){if(p===Pd)throw Error(i(174));return p}function Th(p,y){switch(La(dp,y),La(Ah,p),La(ml,Pd),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:Bn(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=Bn(y,p)}ho(ml),La(ml,y)}function Kc(){ho(ml),ho(Ah),ho(dp)}function Mo(p){Rd(dp.current);var y=Rd(ml.current),k=Bn(y,p.type);y!==k&&(La(Ah,p),La(ml,k))}function Ri(p){Ah.current===p&&(ho(ml),ho(Ah))}var Di=Wf(0);function Eo(p){for(var y=p;y!==null;){if(y.tag===13){var k=y.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&64)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var Za=null,As=null,Zl=!1;function No(p,y){var k=kh(5,null,null,0);k.elementType="DELETED",k.type="DELETED",k.stateNode=y,k.return=p,k.flags=8,p.lastEffect!==null?(p.lastEffect.nextEffect=k,p.lastEffect=k):p.firstEffect=p.lastEffect=k}function Id(p,y){switch(p.tag){case 5:var k=p.type;return y=y.nodeType!==1||k.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,!0):!1;case 13:return!1;default:return!1}}function pu(p){if(Zl){var y=As;if(y){var k=y;if(!Id(p,y)){if(y=vh(k.nextSibling),!y||!Id(p,y)){p.flags=p.flags&-1025|2,Zl=!1,Za=p;return}No(Za,k)}Za=p,As=vh(y.firstChild)}else p.flags=p.flags&-1025|2,Zl=!1,Za=p}}function Jf(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Za=p}function kd(p){if(p!==Za)return!1;if(!Zl)return Jf(p),Zl=!0,!1;var y=p.type;if(p.tag!==5||y!=="head"&&y!=="body"&&!Xp(y,p.memoizedProps))for(y=As;y;)No(p,y),y=vh(y.nextSibling);if(Jf(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(y===0){As=vh(p.nextSibling);break e}y--}else k!=="$"&&k!=="$!"&&k!=="$?"||y++}p=p.nextSibling}As=null}}else As=Za?vh(p.stateNode.nextSibling):null;return!0}function Ls(){As=Za=null,Zl=!1}var Yo=[];function tm(){for(var p=0;p<Yo.length;p++)Yo[p]._workInProgressVersionPrimary=null;Yo.length=0}var hp=Q.ReactCurrentDispatcher,Js=Q.ReactCurrentBatchConfig,mu=0,$o=null,Fo=null,Qo=null,vu=!1,yf=!1;function Zs(){throw Error(i(321))}function pp(p,y){if(y===null)return!1;for(var k=0;k<y.length&&k<p.length;k++)if(!Ai(p[k],y[k]))return!1;return!0}function Mh(p,y,k,X,se,Ae){if(mu=Ae,$o=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,hp.current=p===null||p.memoizedState===null?yt:pn,p=k(X,se),yf){Ae=0;do{if(yf=!1,!(25>Ae))throw Error(i(301));Ae+=1,Qo=Fo=null,y.updateQueue=null,hp.current=qn,p=k(X,se)}while(yf)}if(hp.current=ot,y=Fo!==null&&Fo.next!==null,mu=0,Qo=Fo=$o=null,vu=!1,y)throw Error(i(300));return p}function gu(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qo===null?$o.memoizedState=Qo=p:Qo=Qo.next=p,Qo}function Jo(){if(Fo===null){var p=$o.alternate;p=p!==null?p.memoizedState:null}else p=Fo.next;var y=Qo===null?$o.memoizedState:Qo.next;if(y!==null)Qo=y,Fo=p;else{if(p===null)throw Error(i(310));Fo=p,p={memoizedState:Fo.memoizedState,baseState:Fo.baseState,baseQueue:Fo.baseQueue,queue:Fo.queue,next:null},Qo===null?$o.memoizedState=Qo=p:Qo=Qo.next=p}return Qo}function el(p,y){return typeof y=="function"?y(p):y}function po(p){var y=Jo(),k=y.queue;if(k===null)throw Error(i(311));k.lastRenderedReducer=p;var X=Fo,se=X.baseQueue,Ae=k.pending;if(Ae!==null){if(se!==null){var Ue=se.next;se.next=Ae.next,Ae.next=Ue}X.baseQueue=se=Ae,k.pending=null}if(se!==null){se=se.next,X=X.baseState;var tt=Ue=Ae=null,pt=se;do{var on=pt.lane;if((mu&on)===on)tt!==null&&(tt=tt.next={lane:0,action:pt.action,eagerReducer:pt.eagerReducer,eagerState:pt.eagerState,next:null}),X=pt.eagerReducer===p?pt.eagerState:p(X,pt.action);else{var zr={lane:on,action:pt.action,eagerReducer:pt.eagerReducer,eagerState:pt.eagerState,next:null};tt===null?(Ue=tt=zr,Ae=X):tt=tt.next=zr,$o.lanes|=on,Hm|=on}pt=pt.next}while(pt!==null&&pt!==se);tt===null?Ae=X:tt.next=Ue,Ai(X,y.memoizedState)||(oi=!0),y.memoizedState=X,y.baseState=Ae,y.baseQueue=tt,k.lastRenderedState=X}return[y.memoizedState,k.dispatch]}function xc(p){var y=Jo(),k=y.queue;if(k===null)throw Error(i(311));k.lastRenderedReducer=p;var X=k.dispatch,se=k.pending,Ae=y.memoizedState;if(se!==null){k.pending=null;var Ue=se=se.next;do Ae=p(Ae,Ue.action),Ue=Ue.next;while(Ue!==se);Ai(Ae,y.memoizedState)||(oi=!0),y.memoizedState=Ae,y.baseQueue===null&&(y.baseState=Ae),k.lastRenderedState=Ae}return[Ae,X]}function eu(p,y,k){var X=y._getVersion;X=X(y._source);var se=y._workInProgressVersionPrimary;if(se!==null?p=se===X:(p=p.mutableReadLanes,(p=(mu&p)===p)&&(y._workInProgressVersionPrimary=X,Yo.push(y))),p)return k(y._source);throw Yo.push(y),Error(i(350))}function qc(p,y,k,X){var se=Wu;if(se===null)throw Error(i(349));var Ae=y._getVersion,Ue=Ae(y._source),tt=hp.current,pt=tt.useState(function(){return eu(se,y,k)}),on=pt[1],zr=pt[0];pt=Qo;var Gi=p.memoizedState,zn=Gi.refs,fi=zn.getSnapshot,$i=Gi.source;Gi=Gi.subscribe;var Mi=$o;return p.memoizedState={refs:zn,source:y,subscribe:X},tt.useEffect(function(){zn.getSnapshot=k,zn.setSnapshot=on;var zt=Ae(y._source);if(!Ai(Ue,zt)){zt=k(y._source),Ai(zr,zt)||(on(zt),zt=Gm(Mi),se.mutableReadLanes|=zt&se.pendingLanes),zt=se.mutableReadLanes,se.entangledLanes|=zt;for(var Et=se.entanglements,Lt=zt;0<Lt;){var Sn=31-fo(Lt),Mn=1<<Sn;Et[Sn]|=zt,Lt&=~Mn}}},[k,y,X]),tt.useEffect(function(){return X(y._source,function(){var zt=zn.getSnapshot,Et=zn.setSnapshot;try{Et(zt(y._source));var Lt=Gm(Mi);se.mutableReadLanes|=Lt&se.pendingLanes}catch(Sn){Et(function(){throw Sn})}})},[y,X]),Ai(fi,k)&&Ai($i,y)&&Ai(Gi,X)||(p={pending:null,dispatch:null,lastRenderedReducer:el,lastRenderedState:zr},p.dispatch=on=Me.bind(null,$o,p),pt.queue=p,pt.baseQueue=null,zr=eu(se,y,k),pt.memoizedState=pt.baseState=zr),zr}function wc(p,y,k){var X=Jo();return qc(X,p,y,k)}function Vu(p){var y=gu();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p=y.queue={pending:null,dispatch:null,lastRenderedReducer:el,lastRenderedState:p},p=p.dispatch=Me.bind(null,$o,p),[y.memoizedState,p]}function mp(p,y,k,X){return p={tag:p,create:y,destroy:k,deps:X,next:null},y=$o.updateQueue,y===null?(y={lastEffect:null},$o.updateQueue=y,y.lastEffect=p.next=p):(k=y.lastEffect,k===null?y.lastEffect=p.next=p:(X=k.next,k.next=p,p.next=X,y.lastEffect=p)),p}function Xc(p){var y=gu();return p={current:p},y.memoizedState=p}function Dd(){return Jo().memoizedState}function Um(p,y,k,X){var se=gu();$o.flags|=p,se.memoizedState=mp(1|y,k,void 0,X===void 0?null:X)}function nm(p,y,k,X){var se=Jo();X=X===void 0?null:X;var Ae=void 0;if(Fo!==null){var Ue=Fo.memoizedState;if(Ae=Ue.destroy,X!==null&&pp(X,Ue.deps)){mp(y,k,Ae,X);return}}$o.flags|=p,se.memoizedState=mp(1|y,k,Ae,X)}function Ec(p,y){return Um(516,4,p,y)}function _f(p,y){return nm(516,4,p,y)}function bg(p,y){return nm(4,2,p,y)}function zm(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function C(p,y,k){return k=k!=null?k.concat([p]):null,nm(4,2,zm.bind(null,y,p),k)}function M(){}function z(p,y){var k=Jo();y=y===void 0?null:y;var X=k.memoizedState;return X!==null&&y!==null&&pp(y,X[1])?X[0]:(k.memoizedState=[p,y],p)}function ae(p,y){var k=Jo();y=y===void 0?null:y;var X=k.memoizedState;return X!==null&&y!==null&&pp(y,X[1])?X[0]:(p=p(),k.memoizedState=[p,y],p)}function ce(p,y){var k=Gr();wo(98>k?98:k,function(){p(!0)}),wo(97<k?97:k,function(){var X=Js.transition;Js.transition=1;try{p(!1),y()}finally{Js.transition=X}})}function Me(p,y,k){var X=Zf(),se=Gm(p),Ae={lane:se,action:k,eagerReducer:null,eagerState:null,next:null},Ue=y.pending;if(Ue===null?Ae.next=Ae:(Ae.next=Ue.next,Ue.next=Ae),y.pending=Ae,Ue=p.alternate,p===$o||Ue!==null&&Ue===$o)yf=vu=!0;else{if(p.lanes===0&&(Ue===null||Ue.lanes===0)&&(Ue=y.lastRenderedReducer,Ue!==null))try{var tt=y.lastRenderedState,pt=Ue(tt,k);if(Ae.eagerReducer=Ue,Ae.eagerState=pt,Ai(pt,tt))return}catch{}finally{}Vm(p,se,X)}}var ot={readContext:wr,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useOpaqueIdentifier:Zs,unstable_isNewReconciler:!1},yt={readContext:wr,useCallback:function(p,y){return gu().memoizedState=[p,y===void 0?null:y],p},useContext:wr,useEffect:Ec,useImperativeHandle:function(p,y,k){return k=k!=null?k.concat([p]):null,Um(4,2,zm.bind(null,y,p),k)},useLayoutEffect:function(p,y){return Um(4,2,p,y)},useMemo:function(p,y){var k=gu();return y=y===void 0?null:y,p=p(),k.memoizedState=[p,y],p},useReducer:function(p,y,k){var X=gu();return y=k!==void 0?k(y):y,X.memoizedState=X.baseState=y,p=X.queue={pending:null,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},p=p.dispatch=Me.bind(null,$o,p),[X.memoizedState,p]},useRef:Xc,useState:Vu,useDebugValue:M,useDeferredValue:function(p){var y=Vu(p),k=y[0],X=y[1];return Ec(function(){var se=Js.transition;Js.transition=1;try{X(p)}finally{Js.transition=se}},[p]),k},useTransition:function(){var p=Vu(!1),y=p[0];return p=ce.bind(null,p[1]),Xc(p),[p,y]},useMutableSource:function(p,y,k){var X=gu();return X.memoizedState={refs:{getSnapshot:y,setSnapshot:null},source:p,subscribe:k},qc(X,p,y,k)},useOpaqueIdentifier:function(){if(Zl){var p=!1,y=xd(function(){throw p||(p=!0,k("r:"+(zu++).toString(36))),Error(i(355))}),k=Vu(y)[1];return!($o.mode&2)&&($o.flags|=516,mp(5,function(){k("r:"+(zu++).toString(36))},void 0,null)),y}return y="r:"+(zu++).toString(36),Vu(y),y},unstable_isNewReconciler:!1},pn={readContext:wr,useCallback:z,useContext:wr,useEffect:_f,useImperativeHandle:C,useLayoutEffect:bg,useMemo:ae,useReducer:po,useRef:Dd,useState:function(){return po(el)},useDebugValue:M,useDeferredValue:function(p){var y=po(el),k=y[0],X=y[1];return _f(function(){var se=Js.transition;Js.transition=1;try{X(p)}finally{Js.transition=se}},[p]),k},useTransition:function(){var p=po(el)[0];return[Dd().current,p]},useMutableSource:wc,useOpaqueIdentifier:function(){return po(el)[0]},unstable_isNewReconciler:!1},qn={readContext:wr,useCallback:z,useContext:wr,useEffect:_f,useImperativeHandle:C,useLayoutEffect:bg,useMemo:ae,useReducer:xc,useRef:Dd,useState:function(){return xc(el)},useDebugValue:M,useDeferredValue:function(p){var y=xc(el),k=y[0],X=y[1];return _f(function(){var se=Js.transition;Js.transition=1;try{X(p)}finally{Js.transition=se}},[p]),k},useTransition:function(){var p=xc(el)[0];return[Dd().current,p]},useMutableSource:wc,useOpaqueIdentifier:function(){return xc(el)[0]},unstable_isNewReconciler:!1},ui=Q.ReactCurrentOwner,oi=!1;function rr(p,y,k,X){y.child=p===null?Pl(y,null,k,X):Sc(y,p.child,k,X)}function Fa(p,y,k,X,se){k=k.render;var Ae=y.ref;return Jl(y,se),X=Mh(p,y,k,X,Ae,se),p!==null&&!oi?(y.updateQueue=p.updateQueue,y.flags&=-517,p.lanes&=~se,Ph(p,y,se)):(y.flags|=1,rr(p,y,X,se),y.child)}function eo(p,y,k,X,se,Ae){if(p===null){var Ue=k.type;return typeof Ue=="function"&&!X1(Ue)&&Ue.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(y.tag=15,y.type=Ue,yu(p,y,Ue,X,se,Ae)):(p=Jy(k.type,null,X,y,y.mode,Ae),p.ref=y.ref,p.return=y,y.child=p)}return Ue=p.child,!(se&Ae)&&(se=Ue.memoizedProps,k=k.compare,k=k!==null?k:Ba,k(se,X)&&p.ref===y.ref)?Ph(p,y,Ae):(y.flags|=1,p=vp(Ue,X),p.ref=y.ref,p.return=y,y.child=p)}function yu(p,y,k,X,se,Ae){if(p!==null&&Ba(p.memoizedProps,X)&&p.ref===y.ref)if(oi=!1,(Ae&se)!==0)p.flags&16384&&(oi=!0);else return y.lanes=p.lanes,Ph(p,y,Ae);return hn(p,y,k,X,Ae)}function Ht(p,y,k){var X=y.pendingProps,se=X.children,Ae=p!==null?p.memoizedState:null;if(X.mode==="hidden"||X.mode==="unstable-defer-without-hiding")if(!(y.mode&4))y.memoizedState={baseLanes:0},I0(y,k);else if(k&1073741824)y.memoizedState={baseLanes:0},I0(y,Ae!==null?Ae.baseLanes:k);else return p=Ae!==null?Ae.baseLanes|k:k,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p},I0(y,p),null;else Ae!==null?(X=Ae.baseLanes|k,y.memoizedState=null):X=k,I0(y,X);return rr(p,y,se,k),y.child}function wt(p,y){var k=y.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(y.flags|=128)}function hn(p,y,k,X,se){var Ae=hl(k)?mc:us.current;return Ae=Hc(y,Ae),Jl(y,se),k=Mh(p,y,k,X,Ae,se),p!==null&&!oi?(y.updateQueue=p.updateQueue,y.flags&=-517,p.lanes&=~se,Ph(p,y,se)):(y.flags|=1,rr(p,y,k,se),y.child)}function Cr(p,y,k,X,se){if(hl(k)){var Ae=!0;Qp(y)}else Ae=!1;if(Jl(y,se),y.stateNode===null)p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2),gc(y,k,X),gf(y,k,X,se),X=!0;else if(p===null){var Ue=y.stateNode,tt=y.memoizedProps;Ue.props=tt;var pt=Ue.context,on=k.contextType;typeof on=="object"&&on!==null?on=wr(on):(on=hl(k)?mc:us.current,on=Hc(y,on));var zr=k.getDerivedStateFromProps,Gi=typeof zr=="function"||typeof Ue.getSnapshotBeforeUpdate=="function";Gi||typeof Ue.UNSAFE_componentWillReceiveProps!="function"&&typeof Ue.componentWillReceiveProps!="function"||(tt!==X||pt!==on)&&fp(y,Ue,X,on),du=!1;var zn=y.memoizedState;Ue.state=zn,Qf(y,X,Ue,se),pt=y.memoizedState,tt!==X||zn!==pt||Cs.current||du?(typeof zr=="function"&&(Wc(y,k,zr,X),pt=y.memoizedState),(tt=du||Md(y,k,tt,X,zn,pt,on))?(Gi||typeof Ue.UNSAFE_componentWillMount!="function"&&typeof Ue.componentWillMount!="function"||(typeof Ue.componentWillMount=="function"&&Ue.componentWillMount(),typeof Ue.UNSAFE_componentWillMount=="function"&&Ue.UNSAFE_componentWillMount()),typeof Ue.componentDidMount=="function"&&(y.flags|=4)):(typeof Ue.componentDidMount=="function"&&(y.flags|=4),y.memoizedProps=X,y.memoizedState=pt),Ue.props=X,Ue.state=pt,Ue.context=on,X=tt):(typeof Ue.componentDidMount=="function"&&(y.flags|=4),X=!1)}else{Ue=y.stateNode,ju(p,y),tt=y.memoizedProps,on=y.type===y.elementType?tt:pl(y.type,tt),Ue.props=on,Gi=y.pendingProps,zn=Ue.context,pt=k.contextType,typeof pt=="object"&&pt!==null?pt=wr(pt):(pt=hl(k)?mc:us.current,pt=Hc(y,pt));var fi=k.getDerivedStateFromProps;(zr=typeof fi=="function"||typeof Ue.getSnapshotBeforeUpdate=="function")||typeof Ue.UNSAFE_componentWillReceiveProps!="function"&&typeof Ue.componentWillReceiveProps!="function"||(tt!==Gi||zn!==pt)&&fp(y,Ue,X,pt),du=!1,zn=y.memoizedState,Ue.state=zn,Qf(y,X,Ue,se);var $i=y.memoizedState;tt!==Gi||zn!==$i||Cs.current||du?(typeof fi=="function"&&(Wc(y,k,fi,X),$i=y.memoizedState),(on=du||Md(y,k,on,X,zn,$i,pt))?(zr||typeof Ue.UNSAFE_componentWillUpdate!="function"&&typeof Ue.componentWillUpdate!="function"||(typeof Ue.componentWillUpdate=="function"&&Ue.componentWillUpdate(X,$i,pt),typeof Ue.UNSAFE_componentWillUpdate=="function"&&Ue.UNSAFE_componentWillUpdate(X,$i,pt)),typeof Ue.componentDidUpdate=="function"&&(y.flags|=4),typeof Ue.getSnapshotBeforeUpdate=="function"&&(y.flags|=256)):(typeof Ue.componentDidUpdate!="function"||tt===p.memoizedProps&&zn===p.memoizedState||(y.flags|=4),typeof Ue.getSnapshotBeforeUpdate!="function"||tt===p.memoizedProps&&zn===p.memoizedState||(y.flags|=256),y.memoizedProps=X,y.memoizedState=$i),Ue.props=X,Ue.state=$i,Ue.context=pt,X=on):(typeof Ue.componentDidUpdate!="function"||tt===p.memoizedProps&&zn===p.memoizedState||(y.flags|=4),typeof Ue.getSnapshotBeforeUpdate!="function"||tt===p.memoizedProps&&zn===p.memoizedState||(y.flags|=256),X=!1)}return Xr(p,y,k,X,Ae,se)}function Xr(p,y,k,X,se,Ae){wt(p,y);var Ue=(y.flags&64)!==0;if(!X&&!Ue)return se&&Ql(y,k,!1),Ph(p,y,Ae);X=y.stateNode,ui.current=y;var tt=Ue&&typeof k.getDerivedStateFromError!="function"?null:X.render();return y.flags|=1,p!==null&&Ue?(y.child=Sc(y,p.child,null,Ae),y.child=Sc(y,null,tt,Ae)):rr(p,y,tt,Ae),y.memoizedState=X.state,se&&Ql(y,k,!0),y.child}function Wa(p){var y=p.stateNode;y.pendingContext?cs(p,y.pendingContext,y.pendingContext!==y.context):y.context&&cs(p,y.context,!1),Th(p,y.containerInfo)}var ci={dehydrated:null,retryLane:0};function Ea(p,y,k){var X=y.pendingProps,se=Di.current,Ae=!1,Ue;return(Ue=(y.flags&64)!==0)||(Ue=p!==null&&p.memoizedState===null?!1:(se&2)!==0),Ue?(Ae=!0,y.flags&=-65):p!==null&&p.memoizedState===null||X.fallback===void 0||X.unstable_avoidThisFallback===!0||(se|=1),La(Di,se&1),p===null?(X.fallback!==void 0&&pu(y),p=X.children,se=X.fallback,Ae?(p=Zo(y,p,se,k),y.child.memoizedState={baseLanes:k},y.memoizedState=ci,p):typeof X.unstable_expectedLoadTime=="number"?(p=Zo(y,p,se,k),y.child.memoizedState={baseLanes:k},y.memoizedState=ci,y.lanes=33554432,p):(k=ow({mode:"visible",children:p},y.mode,k,null),k.return=y,y.child=k)):p.memoizedState!==null?Ae?(X=Yc(p,y,X.children,X.fallback,k),Ae=y.child,se=p.child.memoizedState,Ae.memoizedState=se===null?{baseLanes:k}:{baseLanes:se.baseLanes|k},Ae.childLanes=p.childLanes&~k,y.memoizedState=ci,X):(k=ta(p,y,X.children,k),y.memoizedState=null,k):Ae?(X=Yc(p,y,X.children,X.fallback,k),Ae=y.child,se=p.child.memoizedState,Ae.memoizedState=se===null?{baseLanes:k}:{baseLanes:se.baseLanes|k},Ae.childLanes=p.childLanes&~k,y.memoizedState=ci,X):(k=ta(p,y,X.children,k),y.memoizedState=null,k)}function Zo(p,y,k,X){var se=p.mode,Ae=p.child;return y={mode:"hidden",children:y},!(se&2)&&Ae!==null?(Ae.childLanes=0,Ae.pendingProps=y):Ae=ow(y,se,0,null),k=Ig(k,se,X,null),Ae.return=p,k.return=p,Ae.sibling=k,p.child=Ae,k}function ta(p,y,k,X){var se=p.child;return p=se.sibling,k=vp(se,{mode:"visible",children:k}),!(y.mode&2)&&(k.lanes=X),k.return=y,k.sibling=null,p!==null&&(p.nextEffect=null,p.flags=8,y.firstEffect=y.lastEffect=p),y.child=k}function Yc(p,y,k,X,se){var Ae=y.mode,Ue=p.child;p=Ue.sibling;var tt={mode:"hidden",children:k};return!(Ae&2)&&y.child!==Ue?(k=y.child,k.childLanes=0,k.pendingProps=tt,Ue=k.lastEffect,Ue!==null?(y.firstEffect=k.firstEffect,y.lastEffect=Ue,Ue.nextEffect=null):y.firstEffect=y.lastEffect=null):k=vp(Ue,tt),p!==null?X=vp(p,X):(X=Ig(X,Ae,se,null),X.flags|=2),X.return=y,k.return=y,k.sibling=X,y.child=k,X}function Cg(p,y){p.lanes|=y;var k=p.alternate;k!==null&&(k.lanes|=y),em(p.return,y)}function Ag(p,y,k,X,se,Ae){var Ue=p.memoizedState;Ue===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:X,tail:k,tailMode:se,lastEffect:Ae}:(Ue.isBackwards=y,Ue.rendering=null,Ue.renderingStartTime=0,Ue.last=X,Ue.tail=k,Ue.tailMode=se,Ue.lastEffect=Ae)}function jy(p,y,k){var X=y.pendingProps,se=X.revealOrder,Ae=X.tail;if(rr(p,y,X.children,k),X=Di.current,X&2)X=X&1|2,y.flags|=64;else{if(p!==null&&p.flags&64)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Cg(p,k);else if(p.tag===19)Cg(p,k);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}X&=1}if(La(Di,X),!(y.mode&2))y.memoizedState=null;else switch(se){case"forwards":for(k=y.child,se=null;k!==null;)p=k.alternate,p!==null&&Eo(p)===null&&(se=k),k=k.sibling;k=se,k===null?(se=y.child,y.child=null):(se=k.sibling,k.sibling=null),Ag(y,!1,se,k,Ae,y.lastEffect);break;case"backwards":for(k=null,se=y.child,y.child=null;se!==null;){if(p=se.alternate,p!==null&&Eo(p)===null){y.child=se;break}p=se.sibling,se.sibling=k,k=se,se=p}Ag(y,!0,k,null,Ae,y.lastEffect);break;case"together":Ag(y,!1,null,null,void 0,y.lastEffect);break;default:y.memoizedState=null}return y.child}function Ph(p,y,k){if(p!==null&&(y.dependencies=p.dependencies),Hm|=y.lanes,k&y.childLanes){if(p!==null&&y.child!==p.child)throw Error(i(153));if(y.child!==null){for(p=y.child,k=vp(p,p.pendingProps),y.child=k,k.return=y;p.sibling!==null;)p=p.sibling,k=k.sibling=vp(p,p.pendingProps),k.return=y;k.sibling=null}return y.child}return null}var Tg,Gy,U1,_;Tg=function(p,y){for(var k=y.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},Gy=function(){},U1=function(p,y,k,X){var se=p.memoizedProps;if(se!==X){p=y.stateNode,Rd(ml.current);var Ae=null;switch(k){case"input":se=nr(p,se),X=nr(p,X),Ae=[];break;case"option":se=Pn(p,se),X=Pn(p,X),Ae=[];break;case"select":se=n({},se,{value:void 0}),X=n({},X,{value:void 0}),Ae=[];break;case"textarea":se=Nn(p,se),X=Nn(p,X),Ae=[];break;default:typeof se.onClick!="function"&&typeof X.onClick=="function"&&(p.onclick=ip)}hr(k,X);var Ue;k=null;for(on in se)if(!X.hasOwnProperty(on)&&se.hasOwnProperty(on)&&se[on]!=null)if(on==="style"){var tt=se[on];for(Ue in tt)tt.hasOwnProperty(Ue)&&(k||(k={}),k[Ue]="")}else on!=="dangerouslySetInnerHTML"&&on!=="children"&&on!=="suppressContentEditableWarning"&&on!=="suppressHydrationWarning"&&on!=="autoFocus"&&(l.hasOwnProperty(on)?Ae||(Ae=[]):(Ae=Ae||[]).push(on,null));for(on in X){var pt=X[on];if(tt=se!=null?se[on]:void 0,X.hasOwnProperty(on)&&pt!==tt&&(pt!=null||tt!=null))if(on==="style")if(tt){for(Ue in tt)!tt.hasOwnProperty(Ue)||pt&&pt.hasOwnProperty(Ue)||(k||(k={}),k[Ue]="");for(Ue in pt)pt.hasOwnProperty(Ue)&&tt[Ue]!==pt[Ue]&&(k||(k={}),k[Ue]=pt[Ue])}else k||(Ae||(Ae=[]),Ae.push(on,k)),k=pt;else on==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,tt=tt?tt.__html:void 0,pt!=null&&tt!==pt&&(Ae=Ae||[]).push(on,pt)):on==="children"?typeof pt!="string"&&typeof pt!="number"||(Ae=Ae||[]).push(on,""+pt):on!=="suppressContentEditableWarning"&&on!=="suppressHydrationWarning"&&(l.hasOwnProperty(on)?(pt!=null&&on==="onScroll"&&la("scroll",p),Ae||tt===pt||(Ae=[])):typeof pt=="object"&&pt!==null&&pt.$$typeof===we?pt.toString():(Ae=Ae||[]).push(on,pt))}k&&(Ae=Ae||[]).push("style",k);var on=Ae;(y.updateQueue=on)&&(y.flags|=4)}},_=function(p,y,k,X){k!==X&&(y.flags|=4)};function E(p,y){if(!Zl)switch(p.tailMode){case"hidden":y=p.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var X=null;k!==null;)k.alternate!==null&&(X=k),k=k.sibling;X===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:X.sibling=null}}function H(p,y,k){var X=y.pendingProps;switch(y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hl(y.type)&&Kf(),null;case 3:return Kc(),ho(Cs),ho(us),tm(),X=y.stateNode,X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),(p===null||p.child===null)&&(kd(y)?y.flags|=4:X.hydrate||(y.flags|=256)),Gy(y),null;case 5:Ri(y);var se=Rd(dp.current);if(k=y.type,p!==null&&y.stateNode!=null)U1(p,y,k,X,se),p.ref!==y.ref&&(y.flags|=128);else{if(!X){if(y.stateNode===null)throw Error(i(166));return null}if(p=Rd(ml.current),kd(y)){X=y.stateNode,k=y.type;var Ae=y.memoizedProps;switch(X[zc]=y,X[Hu]=Ae,k){case"dialog":la("cancel",X),la("close",X);break;case"iframe":case"object":case"embed":la("load",X);break;case"video":case"audio":for(p=0;p<Kp.length;p++)la(Kp[p],X);break;case"source":la("error",X);break;case"img":case"image":case"link":la("error",X),la("load",X);break;case"details":la("toggle",X);break;case"input":dr(X,Ae),la("invalid",X);break;case"select":X._wrapperState={wasMultiple:!!Ae.multiple},la("invalid",X);break;case"textarea":Ar(X,Ae),la("invalid",X)}hr(k,Ae),p=null;for(var Ue in Ae)Ae.hasOwnProperty(Ue)&&(se=Ae[Ue],Ue==="children"?typeof se=="string"?X.textContent!==se&&(p=["children",se]):typeof se=="number"&&X.textContent!==""+se&&(p=["children",""+se]):l.hasOwnProperty(Ue)&&se!=null&&Ue==="onScroll"&&la("scroll",X));switch(k){case"input":Yt(X),et(X,Ae,!0);break;case"textarea":Yt(X),Je(X);break;case"select":case"option":break;default:typeof Ae.onClick=="function"&&(X.onclick=ip)}X=p,y.updateQueue=X,X!==null&&(y.flags|=4)}else{switch(Ue=se.nodeType===9?se:se.ownerDocument,p===Jt.html&&(p=On(k)),p===Jt.html?k==="script"?(p=Ue.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof X.is=="string"?p=Ue.createElement(k,{is:X.is}):(p=Ue.createElement(k),k==="select"&&(Ue=p,X.multiple?Ue.multiple=!0:X.size&&(Ue.size=X.size))):p=Ue.createElementNS(p,k),p[zc]=y,p[Hu]=X,Tg(p,y,!1,!1),y.stateNode=p,Ue=Li(k,X),k){case"dialog":la("cancel",p),la("close",p),se=X;break;case"iframe":case"object":case"embed":la("load",p),se=X;break;case"video":case"audio":for(se=0;se<Kp.length;se++)la(Kp[se],p);se=X;break;case"source":la("error",p),se=X;break;case"img":case"image":case"link":la("error",p),la("load",p),se=X;break;case"details":la("toggle",p),se=X;break;case"input":dr(p,X),se=nr(p,X),la("invalid",p);break;case"option":se=Pn(p,X);break;case"select":p._wrapperState={wasMultiple:!!X.multiple},se=n({},X,{value:void 0}),la("invalid",p);break;case"textarea":Ar(p,X),se=Nn(p,X),la("invalid",p);break;default:se=X}hr(k,se);var tt=se;for(Ae in tt)if(tt.hasOwnProperty(Ae)){var pt=tt[Ae];Ae==="style"?Rt(p,pt):Ae==="dangerouslySetInnerHTML"?(pt=pt?pt.__html:void 0,pt!=null&&Yn(p,pt)):Ae==="children"?typeof pt=="string"?(k!=="textarea"||pt!=="")&&Dr(p,pt):typeof pt=="number"&&Dr(p,""+pt):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(l.hasOwnProperty(Ae)?pt!=null&&Ae==="onScroll"&&la("scroll",p):pt!=null&&U(p,Ae,pt,Ue))}switch(k){case"input":Yt(p),et(p,X,!1);break;case"textarea":Yt(p),Je(p);break;case"option":X.value!=null&&p.setAttribute("value",""+Gt(X.value));break;case"select":p.multiple=!!X.multiple,Ae=X.value,Ae!=null?kn(p,!!X.multiple,Ae,!1):X.defaultValue!=null&&kn(p,!!X.multiple,X.defaultValue,!0);break;default:typeof se.onClick=="function"&&(p.onclick=ip)}op(k,X)&&(y.flags|=4)}y.ref!==null&&(y.flags|=128)}return null;case 6:if(p&&y.stateNode!=null)_(p,y,p.memoizedProps,X);else{if(typeof X!="string"&&y.stateNode===null)throw Error(i(166));k=Rd(dp.current),Rd(ml.current),kd(y)?(X=y.stateNode,k=y.memoizedProps,X[zc]=y,X.nodeValue!==k&&(y.flags|=4)):(X=(k.nodeType===9?k:k.ownerDocument).createTextNode(X),X[zc]=y,y.stateNode=X)}return null;case 13:return ho(Di),X=y.memoizedState,y.flags&64?(y.lanes=k,y):(X=X!==null,k=!1,p===null?y.memoizedProps.fallback!==void 0&&kd(y):k=p.memoizedState!==null,X&&!k&&y.mode&2&&(p===null&&y.memoizedProps.unstable_avoidThisFallback!==!0||Di.current&1?Su===0&&(Su=3):((Su===0||Su===3)&&(Su=4),Wu===null||!(Hm&134217727)&&!(A0&134217727)||R0(Wu,Rl))),(X||k)&&(y.flags|=4),null);case 4:return Kc(),Gy(y),p===null&&hh(y.stateNode.containerInfo),null;case 10:return Na(y),null;case 17:return hl(y.type)&&Kf(),null;case 19:if(ho(Di),X=y.memoizedState,X===null)return null;if(Ae=(y.flags&64)!==0,Ue=X.rendering,Ue===null)if(Ae)E(X,!1);else{if(Su!==0||p!==null&&p.flags&64)for(p=y.child;p!==null;){if(Ue=Eo(p),Ue!==null){for(y.flags|=64,E(X,!1),Ae=Ue.updateQueue,Ae!==null&&(y.updateQueue=Ae,y.flags|=4),X.lastEffect===null&&(y.firstEffect=null),y.lastEffect=X.lastEffect,X=k,k=y.child;k!==null;)Ae=k,p=X,Ae.flags&=2,Ae.nextEffect=null,Ae.firstEffect=null,Ae.lastEffect=null,Ue=Ae.alternate,Ue===null?(Ae.childLanes=0,Ae.lanes=p,Ae.child=null,Ae.memoizedProps=null,Ae.memoizedState=null,Ae.updateQueue=null,Ae.dependencies=null,Ae.stateNode=null):(Ae.childLanes=Ue.childLanes,Ae.lanes=Ue.lanes,Ae.child=Ue.child,Ae.memoizedProps=Ue.memoizedProps,Ae.memoizedState=Ue.memoizedState,Ae.updateQueue=Ue.updateQueue,Ae.type=Ue.type,p=Ue.dependencies,Ae.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return La(Di,Di.current&1|2),y.child}p=p.sibling}X.tail!==null&&Bs()>Wy&&(y.flags|=64,Ae=!0,E(X,!1),y.lanes=33554432)}else{if(!Ae)if(p=Eo(Ue),p!==null){if(y.flags|=64,Ae=!0,k=p.updateQueue,k!==null&&(y.updateQueue=k,y.flags|=4),E(X,!0),X.tail===null&&X.tailMode==="hidden"&&!Ue.alternate&&!Zl)return y=y.lastEffect=X.lastEffect,y!==null&&(y.nextEffect=null),null}else 2*Bs()-X.renderingStartTime>Wy&&k!==1073741824&&(y.flags|=64,Ae=!0,E(X,!1),y.lanes=33554432);X.isBackwards?(Ue.sibling=y.child,y.child=Ue):(k=X.last,k!==null?k.sibling=Ue:y.child=Ue,X.last=Ue)}return X.tail!==null?(k=X.tail,X.rendering=k,X.tail=k.sibling,X.lastEffect=y.lastEffect,X.renderingStartTime=Bs(),k.sibling=null,y=Di.current,La(Di,Ae?y&1|2:y&1),k):null;case 23:case 24:return nw(),p!==null&&p.memoizedState!==null!=(y.memoizedState!==null)&&X.mode!=="unstable-defer-without-hiding"&&(y.flags|=4),null}throw Error(i(156,y.tag))}function Y(p){switch(p.tag){case 1:hl(p.type)&&Kf();var y=p.flags;return y&4096?(p.flags=y&-4097|64,p):null;case 3:if(Kc(),ho(Cs),ho(us),tm(),y=p.flags,y&64)throw Error(i(285));return p.flags=y&-4097|64,p;case 5:return Ri(p),null;case 13:return ho(Di),y=p.flags,y&4096?(p.flags=y&-4097|64,p):null;case 19:return ho(Di),null;case 4:return Kc(),null;case 10:return Na(p),null;case 23:case 24:return nw(),null;default:return null}}function ie(p,y){try{var k="",X=y;do k+=sn(X),X=X.return;while(X);var se=k}catch(Ae){se=`
Error generating stack: `+Ae.message+`
`+Ae.stack}return{value:p,source:y,stack:se}}function ve(p,y){try{console.error(y.value)}catch(k){setTimeout(function(){throw k})}}var at=typeof WeakMap=="function"?WeakMap:Map;function bt(p,y,k){k=fs(-1,k),k.tag=3,k.payload={element:null};var X=y.value;return k.callback=function(){T0||(T0=!0,j1=X),ve(p,y)},k}function mn(p,y,k){k=fs(-1,k),k.tag=3;var X=p.type.getDerivedStateFromError;if(typeof X=="function"){var se=y.value;k.payload=function(){return ve(p,y),X(se)}}var Ae=p.stateNode;return Ae!==null&&typeof Ae.componentDidCatch=="function"&&(k.callback=function(){typeof X!="function"&&(rm===null?rm=new Set([this]):rm.add(this),ve(p,y));var Ue=y.stack;this.componentDidCatch(y.value,{componentStack:Ue!==null?Ue:""})}),k}var ar=typeof WeakSet=="function"?WeakSet:Set;function Ur(p){var y=p.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(k){Km(p,k)}else y.current=null}function qi(p,y){switch(y.tag){case 0:case 11:case 15:case 22:return;case 1:if(y.flags&256&&p!==null){var k=p.memoizedProps,X=p.memoizedState;p=y.stateNode,y=p.getSnapshotBeforeUpdate(y.elementType===y.type?k:pl(y.type,k),X),p.__reactInternalSnapshotBeforeUpdate=y}return;case 3:y.flags&256&&mh(y.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(i(163))}function _i(p,y,k){switch(k.tag){case 0:case 11:case 15:case 22:if(y=k.updateQueue,y=y!==null?y.lastEffect:null,y!==null){p=y=y.next;do{if((p.tag&3)===3){var X=p.create;p.destroy=X()}p=p.next}while(p!==y)}if(y=k.updateQueue,y=y!==null?y.lastEffect:null,y!==null){p=y=y.next;do{var se=p;X=se.next,se=se.tag,se&4&&se&1&&(kv(k,p),$b(k,p)),p=X}while(p!==y)}return;case 1:p=k.stateNode,k.flags&4&&(y===null?p.componentDidMount():(X=k.elementType===k.type?y.memoizedProps:pl(k.type,y.memoizedProps),p.componentDidUpdate(X,y.memoizedState,p.__reactInternalSnapshotBeforeUpdate))),y=k.updateQueue,y!==null&&Td(k,y,p);return;case 3:if(y=k.updateQueue,y!==null){if(p=null,k.child!==null)switch(k.child.tag){case 5:p=k.child.stateNode;break;case 1:p=k.child.stateNode}Td(k,y,p)}return;case 5:p=k.stateNode,y===null&&k.flags&4&&op(k.type,k.memoizedProps)&&p.focus();return;case 6:return;case 4:return;case 12:return;case 13:k.memoizedState===null&&(k=k.alternate,k!==null&&(k=k.memoizedState,k!==null&&(k=k.dehydrated,k!==null&&ou(k))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ao(p,y){for(var k=p;;){if(k.tag===5){var X=k.stateNode;if(y)X=X.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{X=k.stateNode;var se=k.memoizedProps.style;se=se!=null&&se.hasOwnProperty("display")?se.display:null,X.style.display=Ot("display",se)}}else if(k.tag===6)k.stateNode.nodeValue=y?"":k.memoizedProps;else if((k.tag!==23&&k.tag!==24||k.memoizedState===null||k===p)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===p)break;for(;k.sibling===null;){if(k.return===null||k.return===p)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function Zr(p,y){if(mf&&typeof mf.onCommitFiberUnmount=="function")try{mf.onCommitFiberUnmount(Qs,y)}catch{}switch(y.tag){case 0:case 11:case 14:case 15:case 22:if(p=y.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var k=p=p.next;do{var X=k,se=X.destroy;if(X=X.tag,se!==void 0)if(X&4)kv(y,k);else{X=y;try{se()}catch(Ae){Km(X,Ae)}}k=k.next}while(k!==p)}break;case 1:if(Ur(y),p=y.stateNode,typeof p.componentWillUnmount=="function")try{p.props=y.memoizedProps,p.state=y.memoizedState,p.componentWillUnmount()}catch(Ae){Km(y,Ae)}break;case 5:Ur(y);break;case 4:Mr(p,y)}}function _u(p){p.alternate=null,p.child=null,p.dependencies=null,p.firstEffect=null,p.lastEffect=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.return=null,p.updateQueue=null}function bc(p){return p.tag===5||p.tag===3||p.tag===4}function qt(p){e:{for(var y=p.return;y!==null;){if(bc(y))break e;y=y.return}throw Error(i(160))}var k=y;switch(y=k.stateNode,k.tag){case 5:var X=!1;break;case 3:y=y.containerInfo,X=!0;break;case 4:y=y.containerInfo,X=!0;break;default:throw Error(i(161))}k.flags&16&&(Dr(y,""),k.flags&=-17);e:t:for(k=p;;){for(;k.sibling===null;){if(k.return===null||bc(k.return)){k=null;break e}k=k.return}for(k.sibling.return=k.return,k=k.sibling;k.tag!==5&&k.tag!==6&&k.tag!==18;){if(k.flags&2||k.child===null||k.tag===4)continue t;k.child.return=k,k=k.child}if(!(k.flags&2)){k=k.stateNode;break e}}X?Pt(p,k,y):rn(p,k,y)}function Pt(p,y,k){var X=p.tag,se=X===5||X===6;if(se)p=se?p.stateNode:p.stateNode.instance,y?k.nodeType===8?k.parentNode.insertBefore(p,y):k.insertBefore(p,y):(k.nodeType===8?(y=k.parentNode,y.insertBefore(p,k)):(y=k,y.appendChild(p)),k=k._reactRootContainer,k!=null||y.onclick!==null||(y.onclick=ip));else if(X!==4&&(p=p.child,p!==null))for(Pt(p,y,k),p=p.sibling;p!==null;)Pt(p,y,k),p=p.sibling}function rn(p,y,k){var X=p.tag,se=X===5||X===6;if(se)p=se?p.stateNode:p.stateNode.instance,y?k.insertBefore(p,y):k.appendChild(p);else if(X!==4&&(p=p.child,p!==null))for(rn(p,y,k),p=p.sibling;p!==null;)rn(p,y,k),p=p.sibling}function Mr(p,y){for(var k=y,X=!1,se,Ae;;){if(!X){X=k.return;e:for(;;){if(X===null)throw Error(i(160));switch(se=X.stateNode,X.tag){case 5:Ae=!1;break e;case 3:se=se.containerInfo,Ae=!0;break e;case 4:se=se.containerInfo,Ae=!0;break e}X=X.return}X=!0}if(k.tag===5||k.tag===6){e:for(var Ue=p,tt=k,pt=tt;;)if(Zr(Ue,pt),pt.child!==null&&pt.tag!==4)pt.child.return=pt,pt=pt.child;else{if(pt===tt)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===tt)break e;pt=pt.return}pt.sibling.return=pt.return,pt=pt.sibling}Ae?(Ue=se,tt=k.stateNode,Ue.nodeType===8?Ue.parentNode.removeChild(tt):Ue.removeChild(tt)):se.removeChild(k.stateNode)}else if(k.tag===4){if(k.child!==null){se=k.stateNode.containerInfo,Ae=!0,k.child.return=k,k=k.child;continue}}else if(Zr(p,k),k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return,k.tag===4&&(X=!1)}k.sibling.return=k.return,k=k.sibling}}function ni(p,y){switch(y.tag){case 0:case 11:case 14:case 15:case 22:var k=y.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var X=k=k.next;do(X.tag&3)===3&&(p=X.destroy,X.destroy=void 0,p!==void 0&&p()),X=X.next;while(X!==k)}return;case 1:return;case 5:if(k=y.stateNode,k!=null){X=y.memoizedProps;var se=p!==null?p.memoizedProps:X;p=y.type;var Ae=y.updateQueue;if(y.updateQueue=null,Ae!==null){for(k[Hu]=X,p==="input"&&X.type==="radio"&&X.name!=null&&Jr(k,X),Li(p,se),y=Li(p,X),se=0;se<Ae.length;se+=2){var Ue=Ae[se],tt=Ae[se+1];Ue==="style"?Rt(k,tt):Ue==="dangerouslySetInnerHTML"?Yn(k,tt):Ue==="children"?Dr(k,tt):U(k,Ue,tt,y)}switch(p){case"input":Hi(k,X);break;case"textarea":Zn(k,X);break;case"select":p=k._wrapperState.wasMultiple,k._wrapperState.wasMultiple=!!X.multiple,Ae=X.value,Ae!=null?kn(k,!!X.multiple,Ae,!1):p!==!!X.multiple&&(X.defaultValue!=null?kn(k,!!X.multiple,X.defaultValue,!0):kn(k,!!X.multiple,X.multiple?[]:"",!1))}}}return;case 6:if(y.stateNode===null)throw Error(i(162));y.stateNode.nodeValue=y.memoizedProps;return;case 3:k=y.stateNode,k.hydrate&&(k.hydrate=!1,ou(k.containerInfo));return;case 12:return;case 13:y.memoizedState!==null&&(Jx=Bs(),ao(y.child,!0)),Xi(y);return;case 19:Xi(y);return;case 17:return;case 23:case 24:ao(y,y.memoizedState!==null);return}throw Error(i(163))}function Xi(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new ar),y.forEach(function(X){var se=yP.bind(null,p,X);k.has(X)||(k.add(X),X.then(se,se))})}}function Yi(p,y){return p!==null&&(p=p.memoizedState,p===null||p.dehydrated!==null)?(y=y.memoizedState,y!==null&&y.dehydrated===null):!1}var Ka=Math.ceil,ds=Q.ReactCurrentDispatcher,ya=Q.ReactCurrentOwner,Si=0,Wu=null,Ns=null,Rl=0,Mg=0,C0=Wf(0),Su=0,z1=null,Rh=0,Hm=0,A0=0,Vy=0,H1=null,Jx=0,Wy=1/0;function Pg(){Wy=Bs()+500}var Qr=null,T0=!1,j1=null,rm=null,jm=!1,M0=null,Ky=90,Zx=[],G1=[],im=null,P0=0,qy=null,Xy=-1,am=0,Rg=0,Iv=null,V1=!1;function Zf(){return Si&48?Bs():Xy!==-1?Xy:Xy=Bs()}function Gm(p){if(p=p.mode,!(p&2))return 1;if(!(p&4))return Gr()===99?1:2;if(am===0&&(am=Rh),Qn.transition!==0){Rg!==0&&(Rg=H1!==null?H1.pendingLanes:0),p=am;var y=4186112&~Rg;return y&=-y,y===0&&(p=4186112&~p,y=p&-p,y===0&&(y=8192)),y}return p=Gr(),Si&4&&p===98?p=sh(12,am):(p=pd(p),p=sh(p,am)),p}function Vm(p,y,k){if(50<P0)throw P0=0,qy=null,Error(i(185));if(p=W1(p,y),p===null)return null;Oo(p,y,k),p===Wu&&(A0|=y,Su===4&&R0(p,Rl));var X=Gr();y===1?Si&8&&!(Si&48)?tw(p):(Ih(p,k),Si===0&&(Pg(),qo())):(!(Si&4)||X!==98&&X!==99||(im===null?im=new Set([p]):im.add(p)),Ih(p,k)),H1=p}function W1(p,y){p.lanes|=y;var k=p.alternate;for(k!==null&&(k.lanes|=y),k=p,p=p.return;p!==null;)p.childLanes|=y,k=p.alternate,k!==null&&(k.childLanes|=y),k=p,p=p.return;return k.tag===3?k.stateNode:null}function Ih(p,y){for(var k=p.callbackNode,X=p.suspendedLanes,se=p.pingedLanes,Ae=p.expirationTimes,Ue=p.pendingLanes;0<Ue;){var tt=31-fo(Ue),pt=1<<tt,on=Ae[tt];if(on===-1){if(!(pt&X)||pt&se){on=y,Vl(pt);var zr=Ga;Ae[tt]=10<=zr?on+250:6<=zr?on+5e3:-1}}else on<=y&&(p.expiredLanes|=pt);Ue&=~pt}if(X=su(p,p===Wu?Rl:0),y=Ga,X===0)k!==null&&(k!==Eh&&Ed(k),p.callbackNode=null,p.callbackPriority=0);else{if(k!==null){if(p.callbackPriority===y)return;k!==Eh&&Ed(k)}y===15?(k=tw.bind(null,p),vf===null?(vf=[k],bh=Lm(bd,Fm)):vf.push(k),k=Eh):y===14?k=Lo(99,tw.bind(null,p)):(k=sf(y),k=Lo(k,ew.bind(null,p))),p.callbackPriority=y,p.callbackNode=k}}function ew(p){if(Xy=-1,Rg=am=0,Si&48)throw Error(i(327));var y=p.callbackNode;if(om()&&p.callbackNode!==y)return null;var k=su(p,p===Wu?Rl:0);if(k===0)return null;var X=k,se=Si;Si|=16;var Ae=Kb();(Wu!==p||Rl!==X)&&(Pg(),k0(p,X));do try{gP();break}catch(tt){K1(p,tt)}while(1);if(Yf(),ds.current=Ae,Si=se,Ns!==null?X=0:(Wu=null,Rl=0,X=Su),Rh&A0)k0(p,0);else if(X!==0){if(X===2&&(Si|=64,p.hydrate&&(p.hydrate=!1,mh(p.containerInfo)),k=Wl(p),k!==0&&(X=$y(p,k))),X===1)throw y=z1,k0(p,0),R0(p,k),Ih(p,Bs()),y;switch(p.finishedWork=p.current.alternate,p.finishedLanes=k,X){case 0:case 1:throw Error(i(345));case 2:Wm(p);break;case 3:if(R0(p,k),(k&62914560)===k&&(X=Jx+500-Bs(),10<X)){if(su(p,0)!==0)break;if(se=p.suspendedLanes,(se&k)!==k){Zf(),p.pingedLanes|=p.suspendedLanes&se;break}p.timeoutHandle=Rv(Wm.bind(null,p),X);break}Wm(p);break;case 4:if(R0(p,k),(k&4186112)===k)break;for(X=p.eventTimes,se=-1;0<k;){var Ue=31-fo(k);Ae=1<<Ue,Ue=X[Ue],Ue>se&&(se=Ue),k&=~Ae}if(k=se,k=Bs()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*Ka(k/1960))-k,10<k){p.timeoutHandle=Rv(Wm.bind(null,p),k);break}Wm(p);break;case 5:Wm(p);break;default:throw Error(i(329))}}return Ih(p,Bs()),p.callbackNode===y?ew.bind(null,p):null}function R0(p,y){for(y&=~Vy,y&=~A0,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var k=31-fo(y),X=1<<k;p[k]=-1,y&=~X}}function tw(p){if(Si&48)throw Error(i(327));if(om(),p===Wu&&p.expiredLanes&Rl){var y=Rl,k=$y(p,y);Rh&A0&&(y=su(p,y),k=$y(p,y))}else y=su(p,0),k=$y(p,y);if(p.tag!==0&&k===2&&(Si|=64,p.hydrate&&(p.hydrate=!1,mh(p.containerInfo)),y=Wl(p),y!==0&&(k=$y(p,y))),k===1)throw k=z1,k0(p,0),R0(p,y),Ih(p,Bs()),k;return p.finishedWork=p.current.alternate,p.finishedLanes=y,Wm(p),Ih(p,Bs()),null}function tl(){if(im!==null){var p=im;im=null,p.forEach(function(y){y.expiredLanes|=24&y.pendingLanes,Ih(y,Bs())})}qo()}function Yy(p,y){var k=Si;Si|=1;try{return p(y)}finally{Si=k,Si===0&&(Pg(),qo())}}function Wb(p,y){var k=Si;Si&=-2,Si|=8;try{return p(y)}finally{Si=k,Si===0&&(Pg(),qo())}}function I0(p,y){La(C0,Mg),Mg|=y,Rh|=y}function nw(){Mg=C0.current,ho(C0)}function k0(p,y){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,b0(k)),Ns!==null)for(k=Ns.return;k!==null;){var X=k;switch(X.tag){case 1:X=X.type.childContextTypes,X!=null&&Kf();break;case 3:Kc(),ho(Cs),ho(us),tm();break;case 5:Ri(X);break;case 4:Kc();break;case 13:ho(Di);break;case 19:ho(Di);break;case 10:Na(X);break;case 23:case 24:nw()}k=k.return}Wu=p,Ns=vp(p.current,null),Rl=Mg=Rh=y,Su=0,z1=null,Vy=A0=Hm=0}function K1(p,y){do{var k=Ns;try{if(Yf(),hp.current=ot,vu){for(var X=$o.memoizedState;X!==null;){var se=X.queue;se!==null&&(se.pending=null),X=X.next}vu=!1}if(mu=0,Qo=Fo=$o=null,yf=!1,ya.current=null,k===null||k.return===null){Su=1,z1=y,Ns=null;break}e:{var Ae=p,Ue=k.return,tt=k,pt=y;if(y=Rl,tt.flags|=2048,tt.firstEffect=tt.lastEffect=null,pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var on=pt;if(!(tt.mode&2)){var zr=tt.alternate;zr?(tt.updateQueue=zr.updateQueue,tt.memoizedState=zr.memoizedState,tt.lanes=zr.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var Gi=(Di.current&1)!==0,zn=Ue;do{var fi;if(fi=zn.tag===13){var $i=zn.memoizedState;if($i!==null)fi=$i.dehydrated!==null;else{var Mi=zn.memoizedProps;fi=Mi.fallback===void 0?!1:Mi.unstable_avoidThisFallback!==!0?!0:!Gi}}if(fi){var zt=zn.updateQueue;if(zt===null){var Et=new Set;Et.add(on),zn.updateQueue=Et}else zt.add(on);if(!(zn.mode&2)){if(zn.flags|=64,tt.flags|=16384,tt.flags&=-2981,tt.tag===1)if(tt.alternate===null)tt.tag=17;else{var Lt=fs(-1,1);Lt.tag=2,hu(tt,Lt)}tt.lanes|=1;break e}pt=void 0,tt=y;var Sn=Ae.pingCache;if(Sn===null?(Sn=Ae.pingCache=new at,pt=new Set,Sn.set(on,pt)):(pt=Sn.get(on),pt===void 0&&(pt=new Set,Sn.set(on,pt))),!pt.has(tt)){pt.add(tt);var Mn=Qb.bind(null,Ae,on,tt);on.then(Mn,Mn)}zn.flags|=4096,zn.lanes=y;break e}zn=zn.return}while(zn!==null);pt=Error(($e(tt.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Su!==5&&(Su=2),pt=ie(pt,tt),zn=Ue;do{switch(zn.tag){case 3:Ae=pt,zn.flags|=4096,y&=-y,zn.lanes|=y;var Vi=bt(zn,Ae,y);$f(zn,Vi);break e;case 1:Ae=pt;var Kr=zn.type,na=zn.stateNode;if(!(zn.flags&64)&&(typeof Kr.getDerivedStateFromError=="function"||na!==null&&typeof na.componentDidCatch=="function"&&(rm===null||!rm.has(na)))){zn.flags|=4096,y&=-y,zn.lanes|=y;var ba=mn(zn,Ae,y);$f(zn,ba);break e}}zn=zn.return}while(zn!==null)}rw(k)}catch(fa){y=fa,Ns===k&&k!==null&&(Ns=k=k.return);continue}break}while(1)}function Kb(){var p=ds.current;return ds.current=ot,p===null?ot:p}function $y(p,y){var k=Si;Si|=16;var X=Kb();Wu===p&&Rl===y||k0(p,y);do try{qb();break}catch(se){K1(p,se)}while(1);if(Yf(),Si=k,ds.current=X,Ns!==null)throw Error(i(261));return Wu=null,Rl=0,Su}function qb(){for(;Ns!==null;)Xb(Ns)}function gP(){for(;Ns!==null&&!Jp();)Xb(Ns)}function Xb(p){var y=Jb(p.alternate,p,Mg);p.memoizedProps=p.pendingProps,y===null?rw(p):Ns=y,ya.current=null}function rw(p){var y=p;do{var k=y.alternate;if(p=y.return,y.flags&2048){if(k=Y(y),k!==null){k.flags&=2047,Ns=k;return}p!==null&&(p.firstEffect=p.lastEffect=null,p.flags|=2048)}else{if(k=H(k,y,Mg),k!==null){Ns=k;return}if(k=y,k.tag!==24&&k.tag!==23||k.memoizedState===null||Mg&1073741824||!(k.mode&4)){for(var X=0,se=k.child;se!==null;)X|=se.lanes|se.childLanes,se=se.sibling;k.childLanes=X}p!==null&&!(p.flags&2048)&&(p.firstEffect===null&&(p.firstEffect=y.firstEffect),y.lastEffect!==null&&(p.lastEffect!==null&&(p.lastEffect.nextEffect=y.firstEffect),p.lastEffect=y.lastEffect),1<y.flags&&(p.lastEffect!==null?p.lastEffect.nextEffect=y:p.firstEffect=y,p.lastEffect=y))}if(y=y.sibling,y!==null){Ns=y;return}Ns=y=p}while(y!==null);Su===0&&(Su=5)}function Wm(p){var y=Gr();return wo(99,iw.bind(null,p,y)),null}function iw(p,y){do om();while(M0!==null);if(Si&48)throw Error(i(327));var k=p.finishedWork;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(i(177));p.callbackNode=null;var X=k.lanes|k.childLanes,se=X,Ae=p.pendingLanes&~se;p.pendingLanes=se,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=se,p.mutableReadLanes&=se,p.entangledLanes&=se,se=p.entanglements;for(var Ue=p.eventTimes,tt=p.expirationTimes;0<Ae;){var pt=31-fo(Ae),on=1<<pt;se[pt]=0,Ue[pt]=-1,tt[pt]=-1,Ae&=~on}if(im!==null&&!(X&24)&&im.has(p)&&im.delete(p),p===Wu&&(Ns=Wu=null,Rl=0),1<k.flags?k.lastEffect!==null?(k.lastEffect.nextEffect=k,X=k.firstEffect):X=k:X=k.firstEffect,X!==null){if(se=Si,Si|=32,ya.current=null,ap=Wo,Ue=nn(),Er(Ue)){if("selectionStart"in Ue)tt={start:Ue.selectionStart,end:Ue.selectionEnd};else e:if(tt=(tt=Ue.ownerDocument)&&tt.defaultView||window,(on=tt.getSelection&&tt.getSelection())&&on.rangeCount!==0){tt=on.anchorNode,Ae=on.anchorOffset,pt=on.focusNode,on=on.focusOffset;try{tt.nodeType,pt.nodeType}catch{tt=null;break e}var zr=0,Gi=-1,zn=-1,fi=0,$i=0,Mi=Ue,zt=null;t:for(;;){for(var Et;Mi!==tt||Ae!==0&&Mi.nodeType!==3||(Gi=zr+Ae),Mi!==pt||on!==0&&Mi.nodeType!==3||(zn=zr+on),Mi.nodeType===3&&(zr+=Mi.nodeValue.length),(Et=Mi.firstChild)!==null;)zt=Mi,Mi=Et;for(;;){if(Mi===Ue)break t;if(zt===tt&&++fi===Ae&&(Gi=zr),zt===pt&&++$i===on&&(zn=zr),(Et=Mi.nextSibling)!==null)break;Mi=zt,zt=Mi.parentNode}Mi=Et}tt=Gi===-1||zn===-1?null:{start:Gi,end:zn}}else tt=null;tt=tt||{start:0,end:0}}else tt=null;Om={focusedElem:Ue,selectionRange:tt},Wo=!1,Iv=null,V1=!1,Qr=X;do try{Yb()}catch(fa){if(Qr===null)throw Error(i(330));Km(Qr,fa),Qr=Qr.nextEffect}while(Qr!==null);Iv=null,Qr=X;do try{for(Ue=p;Qr!==null;){var Lt=Qr.flags;if(Lt&16&&Dr(Qr.stateNode,""),Lt&128){var Sn=Qr.alternate;if(Sn!==null){var Mn=Sn.ref;Mn!==null&&(typeof Mn=="function"?Mn(null):Mn.current=null)}}switch(Lt&1038){case 2:qt(Qr),Qr.flags&=-3;break;case 6:qt(Qr),Qr.flags&=-3,ni(Qr.alternate,Qr);break;case 1024:Qr.flags&=-1025;break;case 1028:Qr.flags&=-1025,ni(Qr.alternate,Qr);break;case 4:ni(Qr.alternate,Qr);break;case 8:tt=Qr,Mr(Ue,tt);var Vi=tt.alternate;_u(tt),Vi!==null&&_u(Vi)}Qr=Qr.nextEffect}}catch(fa){if(Qr===null)throw Error(i(330));Km(Qr,fa),Qr=Qr.nextEffect}while(Qr!==null);if(Mn=Om,Sn=nn(),Lt=Mn.focusedElem,Ue=Mn.selectionRange,Sn!==Lt&&Lt&&Lt.ownerDocument&&vt(Lt.ownerDocument.documentElement,Lt)){for(Ue!==null&&Er(Lt)&&(Sn=Ue.start,Mn=Ue.end,Mn===void 0&&(Mn=Sn),"selectionStart"in Lt?(Lt.selectionStart=Sn,Lt.selectionEnd=Math.min(Mn,Lt.value.length)):(Mn=(Sn=Lt.ownerDocument||document)&&Sn.defaultView||window,Mn.getSelection&&(Mn=Mn.getSelection(),tt=Lt.textContent.length,Vi=Math.min(Ue.start,tt),Ue=Ue.end===void 0?Vi:Math.min(Ue.end,tt),!Mn.extend&&Vi>Ue&&(tt=Ue,Ue=Vi,Vi=tt),tt=Ye(Lt,Vi),Ae=Ye(Lt,Ue),tt&&Ae&&(Mn.rangeCount!==1||Mn.anchorNode!==tt.node||Mn.anchorOffset!==tt.offset||Mn.focusNode!==Ae.node||Mn.focusOffset!==Ae.offset)&&(Sn=Sn.createRange(),Sn.setStart(tt.node,tt.offset),Mn.removeAllRanges(),Vi>Ue?(Mn.addRange(Sn),Mn.extend(Ae.node,Ae.offset)):(Sn.setEnd(Ae.node,Ae.offset),Mn.addRange(Sn)))))),Sn=[],Mn=Lt;Mn=Mn.parentNode;)Mn.nodeType===1&&Sn.push({element:Mn,left:Mn.scrollLeft,top:Mn.scrollTop});for(typeof Lt.focus=="function"&&Lt.focus(),Lt=0;Lt<Sn.length;Lt++)Mn=Sn[Lt],Mn.element.scrollLeft=Mn.left,Mn.element.scrollTop=Mn.top}Wo=!!ap,Om=ap=null,p.current=k,Qr=X;do try{for(Lt=p;Qr!==null;){var Kr=Qr.flags;if(Kr&36&&_i(Lt,Qr.alternate,Qr),Kr&128){Sn=void 0;var na=Qr.ref;if(na!==null){var ba=Qr.stateNode;switch(Qr.tag){case 5:Sn=ba;break;default:Sn=ba}typeof na=="function"?na(Sn):na.current=Sn}}Qr=Qr.nextEffect}}catch(fa){if(Qr===null)throw Error(i(330));Km(Qr,fa),Qr=Qr.nextEffect}while(Qr!==null);Qr=null,Zp(),Si=se}else p.current=k;if(jm)jm=!1,M0=p,Ky=y;else for(Qr=X;Qr!==null;)y=Qr.nextEffect,Qr.nextEffect=null,Qr.flags&8&&(Kr=Qr,Kr.sibling=null,Kr.stateNode=null),Qr=y;if(X=p.pendingLanes,X===0&&(rm=null),X===1?p===qy?P0++:(P0=0,qy=p):P0=0,k=k.stateNode,mf&&typeof mf.onCommitFiberRoot=="function")try{mf.onCommitFiberRoot(Qs,k,void 0,(k.current.flags&64)===64)}catch{}if(Ih(p,Bs()),T0)throw T0=!1,p=j1,j1=null,p;return Si&8||qo(),null}function Yb(){for(;Qr!==null;){var p=Qr.alternate;V1||Iv===null||(Qr.flags&8?Tr(Qr,Iv)&&(V1=!0):Qr.tag===13&&Yi(p,Qr)&&Tr(Qr,Iv)&&(V1=!0));var y=Qr.flags;y&256&&qi(p,Qr),!(y&512)||jm||(jm=!0,Lo(97,function(){return om(),null})),Qr=Qr.nextEffect}}function om(){if(Ky!==90){var p=97<Ky?97:Ky;return Ky=90,wo(p,Qy)}return!1}function $b(p,y){Zx.push(y,p),jm||(jm=!0,Lo(97,function(){return om(),null}))}function kv(p,y){G1.push(y,p),jm||(jm=!0,Lo(97,function(){return om(),null}))}function Qy(){if(M0===null)return!1;var p=M0;if(M0=null,Si&48)throw Error(i(331));var y=Si;Si|=32;var k=G1;G1=[];for(var X=0;X<k.length;X+=2){var se=k[X],Ae=k[X+1],Ue=se.destroy;if(se.destroy=void 0,typeof Ue=="function")try{Ue()}catch(pt){if(Ae===null)throw Error(i(330));Km(Ae,pt)}}for(k=Zx,Zx=[],X=0;X<k.length;X+=2){se=k[X],Ae=k[X+1];try{var tt=se.create;se.destroy=tt()}catch(pt){if(Ae===null)throw Error(i(330));Km(Ae,pt)}}for(tt=p.current.firstEffect;tt!==null;)p=tt.nextEffect,tt.nextEffect=null,tt.flags&8&&(tt.sibling=null,tt.stateNode=null),tt=p;return Si=y,qo(),!0}function q1(p,y,k){y=ie(k,y),y=bt(p,y,1),hu(p,y),y=Zf(),p=W1(p,1),p!==null&&(Oo(p,1,y),Ih(p,y))}function Km(p,y){if(p.tag===3)q1(p,p,y);else for(var k=p.return;k!==null;){if(k.tag===3){q1(k,p,y);break}else if(k.tag===1){var X=k.stateNode;if(typeof k.type.getDerivedStateFromError=="function"||typeof X.componentDidCatch=="function"&&(rm===null||!rm.has(X))){p=ie(y,p);var se=mn(k,p,1);if(hu(k,se),se=Zf(),k=W1(k,1),k!==null)Oo(k,1,se),Ih(k,se);else if(typeof X.componentDidCatch=="function"&&(rm===null||!rm.has(X)))try{X.componentDidCatch(y,p)}catch{}break}}k=k.return}}function Qb(p,y,k){var X=p.pingCache;X!==null&&X.delete(y),y=Zf(),p.pingedLanes|=p.suspendedLanes&k,Wu===p&&(Rl&k)===k&&(Su===4||Su===3&&(Rl&62914560)===Rl&&500>Bs()-Jx?k0(p,0):Vy|=k),Ih(p,y)}function yP(p,y){var k=p.stateNode;k!==null&&k.delete(y),y=0,y===0&&(y=p.mode,y&2?y&4?(am===0&&(am=Rh),y=Do(62914560&~am),y===0&&(y=4194304)):y=Gr()===99?1:2:y=1),k=Zf(),p=W1(p,y),p!==null&&(Oo(p,y,k),Ih(p,k))}var Jb;Jb=function(p,y,k){var X=y.lanes;if(p!==null)if(p.memoizedProps!==y.pendingProps||Cs.current)oi=!0;else if(k&X)oi=!!(p.flags&16384);else{switch(oi=!1,y.tag){case 3:Wa(y),Ls();break;case 5:Mo(y);break;case 1:hl(y.type)&&Qp(y);break;case 4:Th(y,y.stateNode.containerInfo);break;case 10:X=y.memoizedProps.value;var se=y.type._context;La(jc,se._currentValue),se._currentValue=X;break;case 13:if(y.memoizedState!==null)return k&y.child.childLanes?Ea(p,y,k):(La(Di,Di.current&1),y=Ph(p,y,k),y!==null?y.sibling:null);La(Di,Di.current&1);break;case 19:if(X=(k&y.childLanes)!==0,p.flags&64){if(X)return jy(p,y,k);y.flags|=64}if(se=y.memoizedState,se!==null&&(se.rendering=null,se.tail=null,se.lastEffect=null),La(Di,Di.current),X)break;return null;case 23:case 24:return y.lanes=0,Ht(p,y,k)}return Ph(p,y,k)}else oi=!1;switch(y.lanes=0,y.tag){case 2:if(X=y.type,p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2),p=y.pendingProps,se=Hc(y,us.current),Jl(y,k),se=Mh(null,y,X,p,se,k),y.flags|=1,typeof se=="object"&&se!==null&&typeof se.render=="function"&&se.$$typeof===void 0){if(y.tag=1,y.memoizedState=null,y.updateQueue=null,hl(X)){var Ae=!0;Qp(y)}else Ae=!1;y.memoizedState=se.state!==null&&se.state!==void 0?se.state:null,Ad(y);var Ue=X.getDerivedStateFromProps;typeof Ue=="function"&&Wc(y,X,Ue,p),se.updater=Ch,y.stateNode=se,se._reactInternals=y,gf(y,X,p,k),y=Xr(null,y,X,!0,Ae,k)}else y.tag=0,rr(null,y,se,k),y=y.child;return y;case 16:se=y.elementType;e:{switch(p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2),p=y.pendingProps,Ae=se._init,se=Ae(se._payload),y.type=se,Ae=y.tag=Zb(se),p=pl(se,p),Ae){case 0:y=hn(null,y,se,p,k);break e;case 1:y=Cr(null,y,se,p,k);break e;case 11:y=Fa(null,y,se,p,k);break e;case 14:y=eo(null,y,se,pl(se.type,p),X,k);break e}throw Error(i(306,se,""))}return y;case 0:return X=y.type,se=y.pendingProps,se=y.elementType===X?se:pl(X,se),hn(p,y,X,se,k);case 1:return X=y.type,se=y.pendingProps,se=y.elementType===X?se:pl(X,se),Cr(p,y,X,se,k);case 3:if(Wa(y),X=y.updateQueue,p===null||X===null)throw Error(i(282));if(X=y.pendingProps,se=y.memoizedState,se=se!==null?se.element:null,ju(p,y),Qf(y,X,null,k),X=y.memoizedState.element,X===se)Ls(),y=Ph(p,y,k);else{if(se=y.stateNode,(Ae=se.hydrate)&&(As=vh(y.stateNode.containerInfo.firstChild),Za=y,Ae=Zl=!0),Ae){if(p=se.mutableSourceEagerHydrationData,p!=null)for(se=0;se<p.length;se+=2)Ae=p[se],Ae._workInProgressVersionPrimary=p[se+1],Yo.push(Ae);for(k=Pl(y,null,X,k),y.child=k;k;)k.flags=k.flags&-3|1024,k=k.sibling}else rr(p,y,X,k),Ls();y=y.child}return y;case 5:return Mo(y),p===null&&pu(y),X=y.type,se=y.pendingProps,Ae=p!==null?p.memoizedProps:null,Ue=se.children,Xp(X,se)?Ue=null:Ae!==null&&Xp(X,Ae)&&(y.flags|=16),wt(p,y),rr(p,y,Ue,k),y.child;case 6:return p===null&&pu(y),null;case 13:return Ea(p,y,k);case 4:return Th(y,y.stateNode.containerInfo),X=y.pendingProps,p===null?y.child=Sc(y,null,X,k):rr(p,y,X,k),y.child;case 11:return X=y.type,se=y.pendingProps,se=y.elementType===X?se:pl(X,se),Fa(p,y,X,se,k);case 7:return rr(p,y,y.pendingProps,k),y.child;case 8:return rr(p,y,y.pendingProps.children,k),y.child;case 12:return rr(p,y,y.pendingProps.children,k),y.child;case 10:e:{X=y.type._context,se=y.pendingProps,Ue=y.memoizedProps,Ae=se.value;var tt=y.type._context;if(La(jc,tt._currentValue),tt._currentValue=Ae,Ue!==null)if(tt=Ue.value,Ae=Ai(tt,Ae)?0:(typeof X._calculateChangedBits=="function"?X._calculateChangedBits(tt,Ae):1073741823)|0,Ae===0){if(Ue.children===se.children&&!Cs.current){y=Ph(p,y,k);break e}}else for(tt=y.child,tt!==null&&(tt.return=y);tt!==null;){var pt=tt.dependencies;if(pt!==null){Ue=tt.child;for(var on=pt.firstContext;on!==null;){if(on.context===X&&on.observedBits&Ae){tt.tag===1&&(on=fs(-1,k&-k),on.tag=2,hu(tt,on)),tt.lanes|=k,on=tt.alternate,on!==null&&(on.lanes|=k),em(tt.return,k),pt.lanes|=k;break}on=on.next}}else Ue=tt.tag===10&&tt.type===y.type?null:tt.child;if(Ue!==null)Ue.return=tt;else for(Ue=tt;Ue!==null;){if(Ue===y){Ue=null;break}if(tt=Ue.sibling,tt!==null){tt.return=Ue.return,Ue=tt;break}Ue=Ue.return}tt=Ue}rr(p,y,se.children,k),y=y.child}return y;case 9:return se=y.type,Ae=y.pendingProps,X=Ae.children,Jl(y,k),se=wr(se,Ae.unstable_observedBits),X=X(se),y.flags|=1,rr(p,y,X,k),y.child;case 14:return se=y.type,Ae=pl(se,y.pendingProps),Ae=pl(se.type,Ae),eo(p,y,se,Ae,X,k);case 15:return yu(p,y,y.type,y.pendingProps,X,k);case 17:return X=y.type,se=y.pendingProps,se=y.elementType===X?se:pl(X,se),p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2),y.tag=1,hl(X)?(p=!0,Qp(y)):p=!1,Jl(y,k),gc(y,X,se),gf(y,X,se,k),Xr(null,y,X,!0,p,k);case 19:return jy(p,y,k);case 23:return Ht(p,y,k);case 24:return Ht(p,y,k)}throw Error(i(156,y.tag))};function aw(p,y,k,X){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kh(p,y,k,X){return new aw(p,y,k,X)}function X1(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Zb(p){if(typeof p=="function")return X1(p)?1:0;if(p!=null){if(p=p.$$typeof,p===Le)return 11;if(p===st)return 14}return 2}function vp(p,y){var k=p.alternate;return k===null?(k=kh(p.tag,y,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=y,k.type=p.type,k.flags=0,k.nextEffect=null,k.firstEffect=null,k.lastEffect=null),k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,y=p.dependencies,k.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function Jy(p,y,k,X,se,Ae){var Ue=2;if(X=p,typeof p=="function")X1(p)&&(Ue=1);else if(typeof p=="string")Ue=5;else e:switch(p){case Z:return Ig(k.children,se,Ae,y);case Pe:Ue=8,se|=16;break;case he:Ue=8,se|=1;break;case Te:return p=kh(12,k,y,se|8),p.elementType=Te,p.type=Te,p.lanes=Ae,p;case Ge:return p=kh(13,k,y,se),p.type=Ge,p.elementType=Ge,p.lanes=Ae,p;case ut:return p=kh(19,k,y,se),p.elementType=ut,p.lanes=Ae,p;case be:return ow(k,se,Ae,y);case Ce:return p=kh(24,k,y,se),p.elementType=Ce,p.lanes=Ae,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case je:Ue=10;break e;case Ke:Ue=9;break e;case Le:Ue=11;break e;case st:Ue=14;break e;case _e:Ue=16,X=null;break e;case Se:Ue=22;break e}throw Error(i(130,p==null?p:typeof p,""))}return y=kh(Ue,k,y,se),y.elementType=p,y.type=X,y.lanes=Ae,y}function Ig(p,y,k,X){return p=kh(7,p,X,y),p.lanes=k,p}function ow(p,y,k,X){return p=kh(23,p,X,y),p.elementType=be,p.lanes=k,p}function sw(p,y,k){return p=kh(6,p,null,y),p.lanes=k,p}function Dv(p,y,k){return y=kh(4,p.children!==null?p.children:[],p.key,y),y.lanes=k,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function _P(p,y,k){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=k,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.mutableSourceEagerHydrationData=null}function SP(p,y,k){var X=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:X==null?null:""+X,children:p,containerInfo:y,implementation:k}}function qm(p,y,k,X){var se=y.current,Ae=Zf(),Ue=Gm(se);e:if(k){k=k._reactInternals;t:{if($t(k)!==k||k.tag!==1)throw Error(i(170));var tt=k;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break t;case 1:if(hl(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break t}}tt=tt.return}while(tt!==null);throw Error(i(171))}if(k.tag===1){var pt=k.type;if(hl(pt)){k=$p(k,pt,tt);break e}}k=tt}else k=fu;return y.context===null?y.context=k:y.pendingContext=k,y=fs(Ae,Ue),y.payload={element:p},X=X===void 0?null:X,X!==null&&(y.callback=X),hu(se,y),Vm(se,Ue,Ae),Ue}function Zy(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function lw(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<y?k:y}}function D0(p,y){lw(p,y),(p=p.alternate)&&lw(p,y)}function hs(){return null}function e_(p,y,k){var X=k!=null&&k.hydrationOptions!=null&&k.hydrationOptions.mutableSources||null;if(k=new _P(p,y,k!=null&&k.hydrate===!0),y=kh(3,null,null,y===2?7:y===1?3:0),k.current=y,y.stateNode=k,Ad(y),p[Gf]=k.current,hh(p.nodeType===8?p.parentNode:p),X)for(p=0;p<X.length;p++){y=X[p];var se=y._getVersion;se=se(y._source),k.mutableSourceEagerHydrationData==null?k.mutableSourceEagerHydrationData=[y,se]:k.mutableSourceEagerHydrationData.push(y,se)}this._internalRoot=k}e_.prototype.render=function(p){qm(p,this._internalRoot,null,null)},e_.prototype.unmount=function(){var p=this._internalRoot,y=p.containerInfo;qm(null,p,null,function(){y[Gf]=null})};function Xm(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function O0(p,y){if(y||(y=p?p.nodeType===9?p.documentElement:p.firstChild:null,y=!(!y||y.nodeType!==1||!y.hasAttribute("data-reactroot"))),!y)for(var k;k=p.lastChild;)p.removeChild(k);return new e_(p,0,y?{hydrate:!0}:void 0)}function B0(p,y,k,X,se){var Ae=k._reactRootContainer;if(Ae){var Ue=Ae._internalRoot;if(typeof se=="function"){var tt=se;se=function(){var on=Zy(Ue);tt.call(on)}}qm(y,Ue,p,se)}else{if(Ae=k._reactRootContainer=O0(k,X),Ue=Ae._internalRoot,typeof se=="function"){var pt=se;se=function(){var on=Zy(Ue);pt.call(on)}}Wb(function(){qm(y,Ue,p,se)})}return Zy(Ue)}Wr=function(p){if(p.tag===13){var y=Zf();Vm(p,4,y),D0(p,4)}},pr=function(p){if(p.tag===13){var y=Zf();Vm(p,67108864,y),D0(p,67108864)}},Rr=function(p){if(p.tag===13){var y=Zf(),k=Gm(p);Vm(p,k,y),D0(p,k)}},Or=function(p,y){return y()},Ra=function(p,y,k){switch(y){case"input":if(Hi(p,k),y=k.name,k.type==="radio"&&y!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<k.length;y++){var X=k[y];if(X!==p&&X.form===p.form){var se=lp(X);if(!se)throw Error(i(90));Cn(X),Hi(X,se)}}}break;case"textarea":Zn(p,k);break;case"select":y=k.value,y!=null&&kn(p,!!k.multiple,y,!1)}},yr=Yy,Kn=function(p,y,k,X,se){var Ae=Si;Si|=4;try{return wo(98,p.bind(null,y,k,X,se))}finally{Si=Ae,Si===0&&(Pg(),qo())}},Sr=function(){!(Si&49)&&(tl(),om())},$n=function(p,y){var k=Si;Si|=2;try{return p(y)}finally{Si=k,Si===0&&(Pg(),qo())}};function tu(p,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xm(y))throw Error(i(200));return SP(p,y,null,k)}var ed={Events:[sp,Vf,lp,Un,Pr,om,{current:!1}]},Od={findFiberByHostInstance:wd,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},es={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=tr(p),p===null?null:p.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||hs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Sf.isDisabled&&Sf.supportsFiber))try{Qs=Sf.inject(es),mf=Sf}catch{}var Sf;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=tu,t.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(i(188)):Error(i(268,Object.keys(p)));return p=tr(y),p=p===null?null:p.stateNode,p},t.flushSync=function(p,y){var k=Si;if(k&48)return p(y);Si|=1;try{if(p)return wo(99,p.bind(null,y))}finally{Si=k,qo()}},t.hydrate=function(p,y,k){if(!Xm(y))throw Error(i(200));return B0(null,p,y,!0,k)},t.render=function(p,y,k){if(!Xm(y))throw Error(i(200));return B0(null,p,y,!1,k)},t.unmountComponentAtNode=function(p){if(!Xm(p))throw Error(i(40));return p._reactRootContainer?(Wb(function(){B0(null,null,p,!1,function(){p._reactRootContainer=null,p[Gf]=null})}),!0):!1},t.unstable_batchedUpdates=Yy,t.unstable_createPortal=function(p,y){return tu(p,y,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(p,y,k,X){if(!Xm(k))throw Error(i(200));if(p==null||p._reactInternals===void 0)throw Error(i(38));return B0(p,y,k,!1,X)},t.version="17.0.2"}}),ZH=Vo({"../../node_modules/react-dom/index.js"(t,e){function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}n(),e.exports=gst()}}),yst=Vo({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(t,e){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n}}),_st=Vo({"../../node_modules/prop-types/factoryWithThrowingShims.js"(t,e){var n=yst();function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function o(h,v,S,x,A,T){if(T!==n){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}o.isRequired=o;function l(){return o}var d={array:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:i,resetWarningCache:r};return d.PropTypes=d,d}}}),Sst=Vo({"../../node_modules/prop-types/index.js"(t,e){e.exports=_st()()}}),xst=Vo({"../../node_modules/react-shadow/styled-components.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var e=_s(),n=tst(),r=(e2(),iIe),i=ZH(),o=Sst();function l(je){return je&&typeof je=="object"&&"default"in je?je:{default:je}}var d=l(e),h=l(o),v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S(je,Ke){return je(Ke={exports:{}},Ke.exports),Ke.exports}var x=S(function(je){(function(Ke){var Le=function(dt,en,cn){if(!we(en)||be(en)||Ce(en)||qe(en)||Se(en))return en;var sn,$e=0,Gt=0;if(Pe(en))for(sn=[],Gt=en.length;$e<Gt;$e++)sn.push(Le(dt,en[$e],cn));else for(var Ut in sn={},en)Object.prototype.hasOwnProperty.call(en,Ut)&&(sn[dt(Ut,cn)]=Le(dt,en[Ut],cn));return sn},Ge=function(dt){return mt(dt)?dt:(dt=dt.replace(/[\-_\s]+(.)?/g,function(en,cn){return cn?cn.toUpperCase():""})).substr(0,1).toLowerCase()+dt.substr(1)},ut=function(dt){var en=Ge(dt);return en.substr(0,1).toUpperCase()+en.substr(1)},st=function(dt,en){return function(cn,sn){var $e=(sn=sn||{}).separator||"_",Gt=sn.split||/(?=[A-Z])/;return cn.split(Gt).join($e)}(dt,en).toLowerCase()},_e=Object.prototype.toString,Se=function(dt){return typeof dt=="function"},we=function(dt){return dt===Object(dt)},Pe=function(dt){return _e.call(dt)=="[object Array]"},be=function(dt){return _e.call(dt)=="[object Date]"},Ce=function(dt){return _e.call(dt)=="[object RegExp]"},qe=function(dt){return _e.call(dt)=="[object Boolean]"},mt=function(dt){return(dt-=0)==dt},We=function(dt,en){var cn=en&&"process"in en?en.process:en;return typeof cn!="function"?dt:function(sn,$e){return cn(sn,dt,$e)}},Mt={camelize:Ge,decamelize:st,pascalize:ut,depascalize:st,camelizeKeys:function(dt,en){return Le(We(Ge,en),dt)},decamelizeKeys:function(dt,en){return Le(We(st,en),dt,en)},pascalizeKeys:function(dt,en){return Le(We(ut,en),dt)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};je.exports?je.exports=Mt:Ke.humps=Mt})(v)}).decamelize,A=S(function(je){function Ke(){return je.exports=Ke=Object.assign||function(Le){for(var Ge=1;Ge<arguments.length;Ge++){var ut=arguments[Ge];for(var st in ut)Object.prototype.hasOwnProperty.call(ut,st)&&(Le[st]=ut[st])}return Le},Ke.apply(this,arguments)}je.exports=Ke}),T=function(je){if(Array.isArray(je))return je},R=function(je,Ke){if(typeof Symbol<"u"&&Symbol.iterator in Object(je)){var Le=[],Ge=!0,ut=!1,st=void 0;try{for(var _e,Se=je[Symbol.iterator]();!(Ge=(_e=Se.next()).done)&&(Le.push(_e.value),!Ke||Le.length!==Ke);Ge=!0);}catch(we){ut=!0,st=we}finally{try{Ge||Se.return==null||Se.return()}finally{if(ut)throw st}}return Le}},G=function(je,Ke){(Ke==null||Ke>je.length)&&(Ke=je.length);for(var Le=0,Ge=new Array(Ke);Le<Ke;Le++)Ge[Le]=je[Le];return Ge},j=function(je,Ke){if(je){if(typeof je=="string")return G(je,Ke);var Le=Object.prototype.toString.call(je).slice(8,-1);return Le==="Object"&&je.constructor&&(Le=je.constructor.name),Le==="Map"||Le==="Set"?Array.from(je):Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le)?G(je,Ke):void 0}},w=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},L=function(je,Ke){return T(je)||R(je,Ke)||j(je,Ke)||w()},F=function(je,Ke){if(je==null)return{};var Le,Ge,ut={},st=Object.keys(je);for(Ge=0;Ge<st.length;Ge++)Le=st[Ge],Ke.indexOf(Le)>=0||(ut[Le]=je[Le]);return ut},W=function(je,Ke){if(je==null)return{};var Le,Ge,ut=F(je,Ke);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(je);for(Ge=0;Ge<st.length;Ge++)Le=st[Ge],Ke.indexOf(Le)>=0||Object.prototype.propertyIsEnumerable.call(je,Le)&&(ut[Le]=je[Le])}return ut},U=e.createContext(null);function Q(je){var Ke=je.root,Le=je.children;return i.createPortal(Le,Ke)}function de(je){var Ke=e.forwardRef(function(Le,Ge){var ut,st,_e=Le.mode,Se=Le.delegatesFocus,we=Le.styleSheets,Pe=Le.ssr,be=Le.children,Ce=W(Le,["mode","delegatesFocus","styleSheets","ssr","children"]),qe=(ut=Ge,st=e.useRef(ut&&ut.current),e.useEffect(function(){ut&&(ut.current=st.current)},[ut]),st),mt=e.useState(null),We=L(mt,2),Mt=We[0],dt=We[1],en="node_".concat(_e).concat(Se);return e.useEffect(function(){if(qe.current)try{if(typeof Ge=="function"&&Ge(qe.current),Pe){var cn=qe.current.shadowRoot;return void dt(cn)}var sn=qe.current.attachShadow({mode:_e,delegatesFocus:Se});we.length>0&&(sn.adoptedStyleSheets=we),dt(sn)}catch($e){(function(Gt){var Ut=Gt.error,Kt=Gt.styleSheets,Yt=Gt.root;switch(Ut.name){case"NotSupportedError":Kt.length>0&&(Yt.adoptedStyleSheets=Kt);break;default:throw Ut}})({error:$e,styleSheets:we,root:Mt})}},[Ge,qe,we]),d.default.createElement(d.default.Fragment,null,d.default.createElement(je.tag,A({key:en,ref:qe},Ce),(Mt||Pe)&&d.default.createElement(U.Provider,{value:Mt},Pe?d.default.createElement("template",{shadowroot:"open"},je.render({root:Mt,ssr:Pe,children:be})):d.default.createElement(Q,{root:Mt},je.render({root:Mt,ssr:Pe,children:be})))))});return Ke.propTypes={mode:h.default.oneOf(["open","closed"]),delegatesFocus:h.default.bool,styleSheets:h.default.arrayOf(h.default.instanceOf(globalThis.CSSStyleSheet)),ssr:h.default.bool,children:h.default.node},Ke.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},Ke}Q.propTypes={root:h.default.object.isRequired,children:h.default.node},Q.defaultProps={children:null};var fe=new Map;function Z(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"core",Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Ge){return Ge.children};return new Proxy(je,{get:function(Ge,ut){var st=x(ut,{separator:"-"}),_e="".concat(Ke,"-").concat(st);return fe.has(_e)||fe.set(_e,de({tag:st,render:Le})),fe.get(_e)}})}function he(je){var Ke=new r.ServerStyleSheet;return n.renderToString(d.default.createElement(r.StyleSheetManager,{sheet:Ke.instance},d.default.createElement(d.default.Fragment,null,je))),Ke.getStyleElement()}Z();var Te=Z({},"styled-components",function(je){var Ke=je.root,Le=je.ssr,Ge=je.children;return Le?d.default.createElement(d.default.Fragment,null,he(Ge),Ge):d.default.createElement(r.StyleSheetManager,{target:Ke},d.default.createElement(d.default.Fragment,null,Ge))});t.default=Te,t.getStyleSheets=he}}),wst=Vo({"../../node_modules/queue-microtask/index.js"(t,e){var n;e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):r=>(n||(n=Promise.resolve())).then(r).catch(i=>setTimeout(()=>{throw i},0))}}),vM=pa(_s()),ec=pa(_s()),tc=pa(_s()),Est=pa(tIe()),bst=pa(gB()),Cst=pa(Qot()),KX=pa($Z());pa(Jot());function Ast(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kIe=Ast,p1=pa(_s()),kEe=pa(Zot());function Tst({debounce:t,scroll:e,polyfill:n}={debounce:0,scroll:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=(0,p1.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,p1.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),d=t?typeof t=="number"?t:t.scroll:null,h=t?typeof t=="number"?t:t.resize:null,v=(0,p1.useRef)(!1);(0,p1.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));const[S,x,A]=(0,p1.useMemo)(()=>{const j=()=>{if(!l.current.element)return;const{left:w,top:L,width:F,height:W,bottom:U,right:Q,x:de,y:fe}=l.current.element.getBoundingClientRect(),Z={left:w,top:L,width:F,height:W,bottom:U,right:Q,x:de,y:fe};Object.freeze(Z),v.current&&!Ist(l.current.lastBounds,Z)&&o(l.current.lastBounds=Z)};return[j,h?(0,kEe.debounce)(j,h):j,d?(0,kEe.debounce)(j,d):j]},[o,d,h]);function T(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(j=>j.removeEventListener("scroll",A,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function R(){l.current.element&&(l.current.resizeObserver=new r(A),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(j=>j.addEventListener("scroll",A,{capture:!0,passive:!0})))}const G=j=>{!j||j===l.current.element||(T(),l.current.element=j,l.current.scrollContainers=DIe(j),R())};return Pst(A,!!e),Mst(x),(0,p1.useEffect)(()=>{T(),R()},[e,A,x]),(0,p1.useEffect)(()=>T,[]),[G,i,S]}function Mst(t){(0,p1.useEffect)(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Pst(t,e){(0,p1.useEffect)(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function DIe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...DIe(t.parentElement)]}var Rst=["x","y","top","bottom","left","right","width","height"],Ist=(t,e)=>Rst.every(n=>t[n]===e[n]),t2=Tst,rs={obj:t=>t===Object(t)&&!rs.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e){if(typeof t!=typeof e||!!t!=!!e)return!1;if(rs.str(t)||rs.num(t)||rs.obj(t))return t===e;if(rs.arr(t)&&t==e)return!0;let n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return rs.und(n)?t===e:!0}};function qX(t){return(t.eventObject||t.object).uuid+"/"+t.index}function kst(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)})}function Dst(t){const e=new Ve;function n(x){var A;const T=t.getState(),{raycaster:R,mouse:G,camera:j,size:w}=T,{offsetX:L,offsetY:F}=(A=R.computeOffsets==null?void 0:R.computeOffsets(x,T))!=null?A:x,{width:W,height:U}=w;G.set(L/W*2-1,-(F/U)*2+1),R.setFromCamera(G,j)}function r(x){const{internal:A}=t.getState(),T=x.offsetX-A.initialClick[0],R=x.offsetY-A.initialClick[1];return Math.round(Math.sqrt(T*T+R*R))}function i(x){return x.filter(A=>["Move","Over","Enter","Out","Leave"].some(T=>{var R;return(R=A.__r3f.handlers)==null?void 0:R["onPointer"+T]}))}function o(x){const A=t.getState(),{raycaster:T,internal:R}=A;if(!T.enabled)return[];const G=new Set,j=[],w=x?x(R.interaction):R.interaction;let L=T.intersectObjects(w,!0).filter(W=>{const U=qX(W);return G.has(U)?!1:(G.add(U),!0)});T.filter&&(L=T.filter(L,A));for(const W of L){let U=W.object;for(;U;){var F;((F=U.__r3f)==null?void 0:F.handlers)&&j.push(Zd(Ao({},W),{eventObject:U})),U=U.parent}}return j}function l(x,A){const{internal:T}=t.getState();return"pointerId"in A&&T.capturedMap.has(A.pointerId)&&x.push(...T.capturedMap.get(A.pointerId).values()),x}function d(x,A,T){const{raycaster:R,mouse:G,camera:j,internal:w}=t.getState();if(x.length){const L=e.set(G.x,G.y,0).unproject(j),F=A.type==="click"?r(A):0,W=Q=>A.target.releasePointerCapture(Q),U={stopped:!1};for(const Q of x){const de=Te=>{var je,Ke;return(je=(Ke=w.capturedMap.get(Te))==null?void 0:Ke.has(Q.eventObject))!=null?je:!1},fe=Te=>{w.capturedMap.has(Te)?w.capturedMap.get(Te).set(Q.eventObject,Q):w.capturedMap.set(Te,new Map([[Q.eventObject,Q]])),A.target.setPointerCapture(Te)};let Z={};for(let Te in Object.getPrototypeOf(A)){let je=A[Te];typeof je!="function"&&(Z[Te]=je)}let he=Zd(Ao(Ao({},Q),Z),{spaceX:G.x,spaceY:G.y,intersections:x,stopped:U.stopped,delta:F,unprojectedPoint:L,ray:R.ray,camera:j,stopPropagation:()=>{const Te="pointerId"in A&&w.capturedMap.get(A.pointerId);if((!Te||Te.has(Q.eventObject))&&(he.stopped=U.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(je=>je.eventObject===Q.eventObject))){const je=x.slice(0,x.indexOf(Q));h([...je,Q])}},target:{hasPointerCapture:de,setPointerCapture:fe,releasePointerCapture:W},currentTarget:{hasPointerCapture:de,setPointerCapture:fe,releasePointerCapture:W},sourceEvent:A,nativeEvent:A});if(T(he),U.stopped===!0)break}}return x}function h(x){const{internal:A}=t.getState();Array.from(A.hovered.values()).forEach(T=>{if(!x.length||!x.find(R=>R.object===T.object&&R.index===T.index)){const G=T.eventObject.__r3f.handlers;if(A.hovered.delete(qX(T)),G){const j=Zd(Ao({},T),{intersections:x||[]});G.onPointerOut==null||G.onPointerOut(j),G.onPointerLeave==null||G.onPointerLeave(j)}}})}const v=x=>{switch(x){case"onPointerLeave":case"onPointerCancel":return()=>h([]);case"onLostPointerCapture":return A=>{"pointerId"in A&&t.getState().internal.capturedMap.delete(A.pointerId),h([])}}return A=>{const{onPointerMissed:T,internal:R}=t.getState();n(A);const G=x==="onPointerMove",w=l(o(G?i:void 0),A);G&&h(w),d(w,A,L=>{const F=L.eventObject,W=F.__r3f.handlers;if(W)if(G){if(W.onPointerOver||W.onPointerEnter||W.onPointerOut||W.onPointerLeave){const U=qX(L),Q=R.hovered.get(U);Q?Q.stopped&&L.stopPropagation():(R.hovered.set(U,L),W.onPointerOver==null||W.onPointerOver(L),W.onPointerEnter==null||W.onPointerEnter(L))}W.onPointerMove==null||W.onPointerMove(L)}else{const U=W==null?void 0:W[x];U&&(x!=="onClick"&&x!=="onContextMenu"&&x!=="onDoubleClick"||R.initialHits.includes(F))&&(U(L),S(A,R.interaction.filter(Q=>Q!==F)))}}),x==="onPointerDown"&&(R.initialClick=[A.offsetX,A.offsetY],R.initialHits=w.map(L=>L.eventObject)),(x==="onClick"||x==="onContextMenu"||x==="onDoubleClick")&&!w.length&&r(A)<=2&&(S(A,R.interaction),T&&T(A))}};function S(x,A){A.forEach(T=>{var R;return(R=T.__r3f.handlers)==null||R.onPointerMissed==null?void 0:R.onPointerMissed(x)})}return{handlePointer:v}}var Q4=t=>t&&!!t.getState,XX=(t,e)=>{var n,r;return{root:Q4(t)?t:(n=(r=t.__r3f)==null?void 0:r.root)!=null?n:e.__r3f.root,container:Q4(t)?t.getState().scene:t}},DEe="__default",YX={},OEe=["children","key","ref"],Ost={};function J4(t,e){const n=t;return(e!=null&&e.instance||!n.__r3f)&&(n.__r3f=Ao({root:null,memoizedProps:{},objects:[]},e)),t}function Bst(t){function e(x,A,T={},R=!1){var G,j,w;const L=(G=x==null?void 0:x.__r3f)!=null?G:{},F=L.root,W=(j=F==null||F.getState==null?void 0:F.getState())!=null?j:{},U=[],Q=[],de={};let fe=0;Object.entries(A).forEach(([Le,Ge])=>{OEe.indexOf(Le)===-1&&(de[Le]=Ge)}),L.memoizedProps&&L.memoizedProps.args&&(de.args=L.memoizedProps.args),L.memoizedProps&&L.memoizedProps.attach&&(de.attach=L.memoizedProps.attach),x.__r3f&&(x.__r3f.memoizedProps=de);let Z=Object.keys(A);for(fe=0;fe<Z.length;fe++)rs.equ(A[Z[fe]],T[Z[fe]])&&U.push(Z[fe]),rs.fun(A[Z[fe]])&&/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Z[fe])&&Q.push(Z[fe]);const he=[];if(R)for(Z=Object.keys(T),fe=0;fe<Z.length;fe++)A.hasOwnProperty(Z[fe])||he.push(Z[fe]);const Te=[...U,...OEe];(w=x.__r3f)!=null&&w.instance&&Te.push("object");const je=Ao({},A);for(Z=Object.keys(je),fe=0;fe<Z.length;fe++)Te.indexOf(Z[fe])>-1&&delete je[Z[fe]];const Ke=Object.entries(je);for(fe=0;fe<he.length;fe++)he[fe]!=="children"&&Ke.unshift([he[fe],DEe+"remove"]);if(Ke.length>0){if(Ke.forEach(([Le,Ge])=>{if(!Q.includes(Le)){let ut=x,st=ut[Le];if(Le.includes("-")){const _e=Le.split("-");if(st=_e.reduce((Se,we)=>Se[we],x),!(st&&st.set)){const[Se,...we]=_e.reverse();ut=we.reverse().reduce((Pe,be)=>Pe[be],x),Le=Se}}if(Ge===DEe+"remove")if(st&&st.constructor)Ge=new st.constructor(de.args);else if(ut.constructor){const _e=new ut.constructor(ut.__r3f.memoizedProps.args);Ge=_e[st],_e.dispose&&_e.dispose()}else Ge=0;if(st&&st.set&&(st.copy||st instanceof By)){if(Array.isArray(Ge))st.fromArray?st.fromArray(Ge):st.set(...Ge);else if(st.copy&&Ge&&Ge.constructor&&st.constructor.name===Ge.constructor.name)st.copy(Ge);else if(Ge!==void 0){const _e=st instanceof ur;!_e&&st.setScalar?st.setScalar(Ge):st instanceof By&&Ge instanceof By?st.mask=Ge.mask:st.set(Ge),!W.linear&&_e&&st.convertSRGBToLinear()}}else ut[Le]=Ge,!W.linear&&ut[Le]instanceof Ws&&(ut[Le].encoding=gg);n(x)}}),R&&F&&x.raycast&&L.handlers){L.handlers=void 0;const Le=W.internal.interaction.indexOf(x);Le>-1&&W.internal.interaction.splice(Le,1)}Q.length&&(R&&F&&x.raycast&&W.internal.interaction.push(x),L.handlers=Q.reduce((Le,Ge)=>Zd(Ao({},Le),{[Ge]:A[Ge]}),{})),x.parent&&r(x)}}function n(x){var A,T;const R=(A=x.__r3f)==null||(T=A.root)==null||T.getState==null?void 0:T.getState();R&&R.internal.frames===0&&R.invalidate()}function r(x){x.onUpdate==null||x.onUpdate(x)}function i(x,A,T,R,G){var j=A,{args:w=[]}=j,L=v0(j,["args"]);let F=`${x[0].toUpperCase()}${x.slice(1)}`,W;if(!Q4(T)&&G){const U=Q=>Q.return?U(Q.return):Q.stateNode&&Q.stateNode.containerInfo;T=U(G)}if(!T||!Q4(T))throw`No valid root for ${F}!`;if(x==="primitive"){if(L.object===void 0)throw"Primitives without 'object' are invalid!";const U=L.object;W=J4(U,{root:T,instance:!0})}else{const U=Ost[F]||OMe[F];if(!U)throw`${F} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;const Q=rs.arr(w);W=J4(Q?new U(...w):new U(w),{root:T,memoizedProps:{args:Q&&w.length===0?null:w}})}return"attachFns"in L||(F.endsWith("Geometry")?L=Ao({attach:"geometry"},L):F.endsWith("Material")&&(L=Ao({attach:"material"},L))),e(W,L,{}),W}function o(x,A){let T=!1;if(A){if(A.attachArray)rs.arr(x[A.attachArray])||(x[A.attachArray]=[]),x[A.attachArray].push(A);else if(A.attachObject)rs.obj(x[A.attachObject[0]])||(x[A.attachObject[0]]={}),x[A.attachObject[0]][A.attachObject[1]]=A;else if(A.attach&&!rs.fun(A.attach))x[A.attach]=A;else if(rs.arr(A.attachFns)){const[R]=A.attachFns;rs.str(R)&&rs.fun(x[R])?x[R](A):rs.fun(R)&&R(A,x)}else A.isObject3D&&(x.add(A),T=!0);T||(x.__r3f.objects.push(A),A.parent=x),r(A),n(A)}}function l(x,A,T){let R=!1;if(A){if(A.attachArray){const G=x[A.attachArray];rs.arr(G)||(x[A.attachArray]=[]),G.splice(G.indexOf(T),0,A)}else{if(A.attachObject||A.attach&&!rs.fun(A.attach))return o(x,A);if(A.isObject3D){A.parent=x,A.dispatchEvent({type:"added"});const G=x.children.filter(w=>w!==A),j=G.indexOf(T);x.children=[...G.slice(0,j),A,...G.slice(j)],R=!0}}R||(x.__r3f.objects.push(A),A.parent=x),r(A),n(A)}}function d(x,A,T=!1){x&&[...x].forEach(R=>h(A,R,T))}function h(x,A,T){if(A){var R;if(x.__r3f.objects){const F=x.__r3f.objects.length;x.__r3f.objects=x.__r3f.objects.filter(U=>U!==A),x.__r3f.objects.length<F&&(A.parent=null)}if(A.attachArray)x[A.attachArray]=x[A.attachArray].filter(F=>F!==A);else if(A.attachObject)delete x[A.attachObject[0]][A.attachObject[1]];else if(A.attach&&!rs.fun(A.attach))x[A.attach]=null;else if(rs.arr(A.attachFns)){const[,F]=A.attachFns;rs.str(F)&&rs.fun(x[F])?x[F](A):rs.fun(F)&&F(A,x)}else if(A.isObject3D){var G;x.remove(A),(G=A.__r3f)!=null&&G.root&&kst(A.__r3f.root,A)}const w=(R=A.__r3f)==null?void 0:R.instance,L=T===void 0?A.dispose!==null&&!w:T;if(!w){var j;d((j=A.__r3f)==null?void 0:j.objects,A,L),d(A.children,A,L)}A.__r3f&&(delete A.__r3f.root,delete A.__r3f.objects,delete A.__r3f.handlers,delete A.__r3f.memoizedProps,w||delete A.__r3f),L&&A.dispose&&A.type!=="Scene"&&(0,KX.unstable_runWithPriority)(KX.unstable_IdlePriority,()=>A.dispose()),n(x)}}function v(x,A,T,R){const G=x.parent;if(!G)return;const j=i(A,T,x.__r3f.root);x.children&&(x.children.forEach(w=>o(j,w)),x.children=[]),x.__r3f.objects.forEach(w=>o(j,w)),x.__r3f.objects=[],h(G,x),o(G,j),[R,R.alternate].forEach(w=>{w!==null&&(w.stateNode=j,w.ref&&(typeof w.ref=="function"?w.ref(j):w.ref.current=j))})}return{reconciler:(0,Cst.default)({now:KX.unstable_now,createInstance:i,removeChild:h,appendChild:o,appendInitialChild:o,insertBefore:l,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:rs.fun(setTimeout)?setTimeout:void 0,cancelTimeout:rs.fun(clearTimeout)?clearTimeout:void 0,setTimeout:rs.fun(setTimeout)?setTimeout:void 0,clearTimeout:rs.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(x,A)=>{const{container:T,root:R}=XX(x,A);T.__r3f.root=R,o(T,A)},removeChildFromContainer:(x,A)=>{const{container:T}=XX(x,A);h(T,A)},insertInContainerBefore:(x,A,T)=>{const{container:R}=XX(x,A);l(R,A,T)},commitUpdate(x,A,T,R,G,j){if(x.__r3f.instance&&G.object&&G.object!==x)v(x,T,G,j);else{const w=G,{args:L=[]}=w,F=v0(w,["args"]),W=R,{args:U=[]}=W,Q=v0(W,["args"]);L.some((fe,Z)=>rs.obj(fe)?Object.entries(fe).some(([he,Te])=>Te!==U[Z][he]):fe!==U[Z])?v(x,T,G,j):e(x,F,Q,!0)}},hideInstance(x){x.isObject3D&&(x.visible=!1,n(x))},unhideInstance(x,A){(x.isObject3D&&A.visible==null||A.visible)&&(x.visible=!0,n(x))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(x){return x},getRootHostContext(x){return YX},getChildHostContext(x){return YX},createTextInstance(){},finalizeInitialChildren(x){return!!x.__r3f.handlers},commitMount(x){x.raycast&&x.__r3f.handlers&&x.__r3f.root.getState().internal.interaction.push(x)},prepareUpdate(){return YX},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(...x){},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:e}}var Lst=t=>t&&!!t.render,BEe=t=>t&&t.isOrthographicCamera,n2=tc.createContext(null),Nst=(t,e,n,r)=>{const{gl:i,size:o,shadows:l=!1,linear:d=!1,flat:h=!1,vr:v=!1,orthographic:S=!1,frameloop:x="always",dpr:A=1,performance:T,clock:R=new NH,raycaster:G,camera:j,onPointerMissed:w}=r;l&&(i.shadowMap.enabled=!0,typeof l=="object"?Object.assign(i.shadowMap,l):i.shadowMap.type=bM),d||(h||(i.toneMapping=_H),i.outputEncoding=gg),x==="never"&&(R.stop(),R.elapsedTime=0);const L=(0,Est.default)((W,U)=>{const Q=new cB,de=G||{},{params:fe}=de,Z=v0(de,["params"]);t(Q,Zd(Ao({enabled:!0},Z),{params:Ao(Ao({},Q.params),fe)}),{});const he=j instanceof Fx,Te=he?j:S?new yg(0,0,0,0,.1,1e3):new ys(75,0,.1,1e3);he||(Te.position.z=5,j&&t(Te,j,{}),Te.lookAt(0,0,0));function je(Se){return Array.isArray(Se)?Math.min(Math.max(Se[0],window.devicePixelRatio),Se[1]):Se}const Ke=je(A),Le=new Ve,Ge=new Ve;function ut(Se=U().camera,we=Ge,Pe=U().size){const{width:be,height:Ce}=Pe,qe=be/Ce,mt=Se.getWorldPosition(Le).distanceTo(we);if(BEe(Se))return{width:be/Se.zoom,height:Ce/Se.zoom,factor:1,distance:mt,aspect:qe};{const We=Se.fov*Math.PI/180,Mt=2*Math.tan(We/2)*mt,dt=Mt*(be/Ce);return{width:dt,height:Mt,factor:be/dt,distance:mt,aspect:qe}}}let st;const _e=Se=>W(we=>({performance:Zd(Ao({},we.performance),{current:Se})}));return{gl:i,set:W,get:U,invalidate:()=>e(U()),advance:(Se,we)=>n(Se,we,U()),linear:d,flat:h,scene:J4(new Ux),camera:Te,controls:null,raycaster:Q,clock:R,mouse:new vn,vr:v,frameloop:x,onPointerMissed:w,performance:Zd(Ao({current:1,min:.5,max:1,debounce:200},T),{regress:()=>{const Se=U();st&&clearTimeout(st),Se.performance.current!==Se.performance.min&&_e(Se.performance.min),st=setTimeout(()=>_e(U().performance.max),Se.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:Ke,dpr:Ke,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:ut},setSize:(Se,we)=>{const Pe={width:Se,height:we};W(be=>({size:Pe,viewport:Ao(Ao({},be.viewport),ut(Te,Ge,Pe))}))},setDpr:Se=>W(we=>({viewport:Zd(Ao({},we.viewport),{dpr:je(Se)})})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Se,we=0)=>(W(({internal:Pe})=>({internal:Zd(Ao({},Pe),{priority:Pe.priority+(we>0?1:0),subscribers:[...Pe.subscribers,{ref:Se,priority:we}].sort((be,Ce)=>be.priority-Ce.priority)})})),()=>{W(({internal:Pe})=>({internal:Zd(Ao({},Pe),{priority:Pe.priority-(we>0?1:0),subscribers:Pe.subscribers.filter(be=>be.ref!==Se)})}))})}}});L.subscribe(()=>{const{camera:W,size:U,viewport:Q,internal:de}=L.getState();de.lastProps.camera instanceof Fx||(BEe(W)?(W.left=U.width/-2,W.right=U.width/2,W.top=U.height/2,W.bottom=U.height/-2):W.aspect=U.width/U.height,W.updateProjectionMatrix(),W.updateMatrixWorld()),i.setPixelRatio(Q.dpr),i.setSize(U.width,U.height)},W=>[W.viewport.dpr,W.size],bst.default);const F=L.getState();return o&&F.setSize(o.width,o.height),L.subscribe(W=>e(W)),L},vx,LEe=[],NEe=[],Fst=[];function xD(t,e){for(vx=0;vx<t.length;vx++)t[vx](e)}function $X(t,e){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(n=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),vx=0;vx<e.internal.subscribers.length;vx++)e.internal.subscribers[vx].ref.current(e,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ust(t){let e=!1,n;function r(l){if(e=!0,n=0,xD(LEe,l),t.forEach(d=>{const h=d.store.getState();h.internal.active&&(h.frameloop==="always"||h.internal.frames>0)&&(n+=$X(l,h))}),xD(NEe,l),n>0)return requestAnimationFrame(r);xD(Fst,l),e=!1}function i(l){if(!l)return t.forEach(d=>i(d.store.getState()));l.vr||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function o(l,d=!0,h){d&&xD(LEe,l),h?$X(l,h):t.forEach(v=>$X(l,v.store.getState())),d&&xD(NEe,l)}return{loop:r,invalidate:i,advance:o}}function zst(t){const{handlePointer:e}=Dst(t),n={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(n).reduce((r,i)=>Zd(Ao({},r),{[i]:e(i)}),{}),connect:r=>{var i;const{set:o,events:l}=t.getState();l.disconnect==null||l.disconnect(),o(d=>({events:Zd(Ao({},d.events),{connected:r})})),Object.entries((i=l==null?void 0:l.handlers)!=null?i:[]).forEach(([d,h])=>{const[v,S]=n[d];r.addEventListener(v,h,{passive:S})})},disconnect:()=>{const{set:r,events:i}=t.getState();if(i.connected){var o;Object.entries((o=i.handlers)!=null?o:[]).forEach(([l,d])=>{if(i&&i.connected instanceof HTMLElement){const[h]=n[l];i.connected.removeEventListener(h,d)}}),r(l=>({events:Zd(Ao({},l.events),{connected:!1})}))}}}}var gQ=typeof window<"u"?tc.useLayoutEffect:tc.useEffect;function Hst({set:t}){return gQ(()=>(t(new Promise(()=>null)),()=>t(!1)),[]),null}var OIe=class extends tc.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}};OIe.getDerivedStateFromError=()=>({error:!0});var jst=tc.forwardRef(function(e,n){var r=e,{children:i,fallback:o,tabIndex:l,resize:d,id:h,style:v,className:S,events:x}=r,A=v0(r,["children","fallback","tabIndex","resize","id","style","className","events"]);const[T,R]=t2(Ao({scroll:!0,debounce:{scroll:50,resize:0}},d)),G=tc.useRef(null),[j,w]=tc.useState(!1),[L,F]=tc.useState(!1);if(j)throw j;if(L)throw L;return gQ(()=>{R.width>0&&R.height>0&&Wst(tc.createElement(OIe,{set:F},tc.createElement(tc.Suspense,{fallback:tc.createElement(Hst,{set:w})},i)),G.current,Zd(Ao({},A),{size:R,events:x||zst}))},[R,i]),gQ(()=>{const W=G.current;return()=>BIe(W)},[]),tc.createElement("div",{ref:T,id:h,className:S,tabIndex:l,style:Ao({position:"relative",width:"100%",height:"100%",overflow:"hidden"},v)},tc.createElement("canvas",{ref:kIe([G,n]),style:{display:"block"}},o))});function Tf(t=n=>n,e){const n=tc.useContext(n2);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n(t,e)}function r2(t,e=0){const{subscribe:n}=tc.useContext(n2).getState().internal,r=tc.useRef(t);return tc.useLayoutEffect(()=>void(r.current=t),[t]),tc.useLayoutEffect(()=>{const i=n(r,e);return()=>i()},[e,n]),null}var LO=new Map,FEe=["legacy","blocking","concurrent"],{invalidate:t4,advance:UEe}=Ust(LO),{reconciler:NO,applyProps:Gst}=Bst(),Vst=(t,e)=>Lst(t)?t:new TH(Ao({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},t));function Wst(t,e,n={}){var r=n,{gl:i,size:o,mode:l=FEe[1],events:d,onCreated:h}=r,v=v0(r,["gl","size","mode","events","onCreated"]),S;if(!o){var x,A,T,R;o={width:(x=(A=e.parentElement)==null?void 0:A.clientWidth)!=null?x:0,height:(T=(R=e.parentElement)==null?void 0:R.clientHeight)!=null?T:0}}let G=LO.get(e),j=G==null?void 0:G.fiber,w=G==null?void 0:G.store,L=(S=w)==null?void 0:S.getState();if(j&&L){const F=L.internal.lastProps;v.dpr!==void 0&&!rs.equ(F.dpr,v.dpr)&&L.setDpr(v.dpr),rs.equ(F.size,o)||L.setSize(o.width,o.height),v.linear!==F.linear&&(BIe(e),j=void 0)}if(!j){const F=Vst(i,e);v.vr&&(F.xr.enabled=!0,F.setAnimationLoop(U=>UEe(U,!0))),w=Nst(Gst,t4,UEe,Ao({gl:F,size:o},v));const W=w.getState();j=NO.createContainer(w,FEe.indexOf(l),!1,null),LO.set(e,{fiber:j,store:w}),d&&W.set({events:d(w)})}if(w&&j)return NO.updateContainer(tc.createElement(Kst,{store:w,element:t,onCreated:h,target:e}),j,null,()=>{}),w;throw"Error creating root!"}function Kst({store:t,element:e,onCreated:n,target:r}){return tc.useEffect(()=>{const i=t.getState();i.set(o=>({internal:Zd(Ao({},o.internal),{active:!0})})),i.events.connect==null||i.events.connect(r),n&&n(i)},[]),tc.createElement(n2.Provider,{value:t},e)}function BIe(t,e){const n=LO.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),NO.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var o,l,d;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(d=i.gl)==null||d.forceContextLoss==null||d.forceContextLoss(),qst(i),LO.delete(t),e&&e(t)},500)})}}function qst(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const r in t){var e,n;(e=(n=r).dispose)==null||e.call(n),delete t[r]}}NO.act;var Xst=rs.fun(Symbol)&&Symbol.for,Yst=Xst?Symbol.for("react.portal"):60106;function $st(t,e,n,r=null){return{$$typeof:Yst,key:r==null?null:""+r,children:t,containerInfo:J4(e),implementation:n}}NO.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});var yQ=pa(gB()),Qst=pa(xst()),cv=pa(_s()),Op=pa(_s());function FO(){return FO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FO.apply(this,arguments)}var $d=pa(_s()),QX=pa(ZH()),yB=new Ve,i2=new Ve,Jst=new Ve;function Zst(t,e,n){const r=yB.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,o=n.height/2;return[r.x*i+i,-(r.y*o)+o]}function elt(t,e){const n=yB.setFromMatrixPosition(t.matrixWorld),r=i2.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),o=e.getWorldDirection(Jst);return i.angleTo(o)>Math.PI/2}function tlt(t,e,n,r){const i=yB.setFromMatrixPosition(t.matrixWorld),o=i.clone();o.project(e),n.setFromCamera(o,e);const l=n.intersectObjects(r,!0);if(l.length){const d=l[0].distance;return i.distanceTo(n.ray.origin)<d}else return!0}function nlt(t,e){if(e instanceof yg)return e.zoom;if(e instanceof ys){const n=yB.setFromMatrixPosition(t.matrixWorld),r=i2.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}else return 1}function rlt(t,e,n){if(e instanceof ys||e instanceof yg){const r=yB.setFromMatrixPosition(t.matrixWorld),i=i2.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),l=(n[1]-n[0])/(e.far-e.near),d=n[1]-l*e.far;return Math.round(l*o+d)}}var _Q=t=>Math.abs(t)<1e-10?0:t;function LIe(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=_Q(e[i]*t.elements[i])+(i!==15?",":")");return n+r}var ilt=(t=>e=>LIe(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),alt=(t=>(e,n)=>LIe(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]),olt=$d.forwardRef((t,e)=>{var n=t,{children:r,eps:i=.001,style:o,className:l,prepend:d,center:h,fullscreen:v,portal:S,distanceFactor:x,sprite:A=!1,transform:T=!1,occlude:R,onOcclude:G,zIndexRange:j=[16777271,0],calculatePosition:w=Zst,as:L="div"}=n,F=v0(n,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as"]),W;const U=Tf(({gl:we})=>we),Q=Tf(({camera:we})=>we),de=Tf(({scene:we})=>we),fe=Tf(({size:we})=>we),Z=Tf(({raycaster:we})=>we),[he]=$d.useState(()=>document.createElement(L)),Te=$d.useRef(null),je=$d.useRef(0),Ke=$d.useRef([0,0]),Le=$d.useRef(null),Ge=$d.useRef(null),ut=(W=S==null?void 0:S.current)!==null&&W!==void 0?W:U.domElement.parentNode;$d.useEffect(()=>{if(Te.current){if(de.updateMatrixWorld(),T)he.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const we=w(Te.current,Q,fe);he.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${we[0]}px,${we[1]}px,0);transform-origin:0 0;`}return ut&&(d?ut.prepend(he):ut.appendChild(he)),()=>{ut&&ut.removeChild(he),QX.unmountComponentAtNode(he)}}},[ut,T]);const st=$d.useMemo(()=>T?{position:"absolute",top:0,left:0,width:fe.width,height:fe.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Ao(Ao({position:"absolute",transform:h?"translate3d(-50%,-50%,0)":"none"},v&&{top:-fe.height/2,left:-fe.width/2,width:fe.width,height:fe.height}),o),[o,h,v,fe,T]),_e=$d.useMemo(()=>({position:"absolute",pointerEvents:"auto"}),[]);$d.useLayoutEffect(()=>{T?QX.render($d.createElement("div",{ref:Le,style:st},$d.createElement("div",{ref:Ge,style:_e},$d.createElement("div",{ref:e,className:l,style:o,children:r}))),he):QX.render($d.createElement("div",{ref:e,style:st,className:l,children:r}),he)});const Se=$d.useRef(!0);return r2(()=>{if(Te.current){Q.updateMatrixWorld(),Te.current.updateWorldMatrix(!0,!1);const we=T?Ke.current:w(Te.current,Q,fe);if(T||Math.abs(je.current-Q.zoom)>i||Math.abs(Ke.current[0]-we[0])>i||Math.abs(Ke.current[1]-we[1])>i){const Pe=elt(Te.current,Q);let be=!1;typeof R=="boolean"?R===!0&&(be=[de]):Array.isArray(R)&&(be=R.map(qe=>qe.current));const Ce=Se.current;if(be){const qe=tlt(Te.current,Q,Z,be);Se.current=qe&&!Pe}else Se.current=!Pe;if(Ce!==Se.current&&(G?G(!Se.current):he.style.display=Se.current?"block":"none"),he.style.zIndex=`${rlt(Te.current,Q,j)}`,T){const[qe,mt]=[fe.width/2,fe.height/2],We=Q.projectionMatrix.elements[5]*mt,{isOrthographicCamera:Mt,top:dt,left:en,bottom:cn,right:sn}=Q,$e=ilt(Q.matrixWorldInverse),Gt=Mt?`scale(${We})translate(${_Q(-(sn+en)/2)}px,${_Q((dt+cn)/2)}px)`:`translateZ(${We}px)`;let Ut=Te.current.matrixWorld;A&&(Ut=Q.matrixWorldInverse.clone().transpose().copyPosition(Ut).scale(Te.current.scale),Ut.elements[3]=Ut.elements[7]=Ut.elements[11]=0,Ut.elements[15]=1),he.style.width=fe.width+"px",he.style.height=fe.height+"px",he.style.perspective=Mt?"":`${We}px`,Le.current&&Ge.current&&(Le.current.style.transform=`${Gt}${$e}translate(${qe}px,${mt}px)`,Ge.current.style.transform=alt(Ut,1/((x||10)/400)))}else{const qe=x===void 0?1:nlt(Te.current,Q)*x;he.style.transform=`translate3d(${we[0]}px,${we[1]}px,0) scale(${qe})`}Ke.current=we,je.current=Q.zoom}}}),$d.createElement("group",FO({},F,{ref:Te}))}),JX=pa(_s());function slt(t){const e=t+"BufferGeometry";return JX.forwardRef((n,r)=>{var i=n,{args:o,children:l}=i,d=v0(i,["args","children"]);return JX.createElement("mesh",FO({ref:r},d),JX.createElement(e,{attach:"geometry",args:o}),l)})}var llt=slt("sphere");function En(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ult=class extends Ya{constructor(t,e){super(),En(this,"isTransformControls",!0),En(this,"visible",!1),En(this,"domElement",void 0),En(this,"raycaster",new cB),En(this,"gizmo",void 0),En(this,"plane",void 0),En(this,"tempVector",new Ve),En(this,"tempVector2",new Ve),En(this,"tempQuaternion",new to),En(this,"unit",{X:new Ve(1,0,0),Y:new Ve(0,1,0),Z:new Ve(0,0,1)}),En(this,"pointStart",new Ve),En(this,"pointEnd",new Ve),En(this,"offset",new Ve),En(this,"rotationAxis",new Ve),En(this,"startNorm",new Ve),En(this,"endNorm",new Ve),En(this,"rotationAngle",0),En(this,"cameraPosition",new Ve),En(this,"cameraQuaternion",new to),En(this,"cameraScale",new Ve),En(this,"parentPosition",new Ve),En(this,"parentQuaternion",new to),En(this,"parentQuaternionInv",new to),En(this,"parentScale",new Ve),En(this,"worldPositionStart",new Ve),En(this,"worldQuaternionStart",new to),En(this,"worldScaleStart",new Ve),En(this,"worldPosition",new Ve),En(this,"worldQuaternion",new to),En(this,"worldQuaternionInv",new to),En(this,"worldScale",new Ve),En(this,"eye",new Ve),En(this,"positionStart",new Ve),En(this,"quaternionStart",new to),En(this,"scaleStart",new Ve),En(this,"camera",void 0),En(this,"object",void 0),En(this,"enabled",!0),En(this,"axis",null),En(this,"mode","translate"),En(this,"translationSnap",null),En(this,"rotationSnap",null),En(this,"scaleSnap",null),En(this,"space","world"),En(this,"size",1),En(this,"dragging",!1),En(this,"showX",!0),En(this,"showY",!0),En(this,"showZ",!0),En(this,"changeEvent",{type:"change"}),En(this,"mouseDownEvent",{type:"mouseDown"}),En(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),En(this,"objectChangeEvent",{type:"objectChange"}),En(this,"intersectObjectWithRay",(r,i,o)=>{const l=i.intersectObject(r,!0);for(let d=0;d<l.length;d++)if(l[d].object.visible||o)return l[d];return!1}),En(this,"attach",r=>(this.object=r,this.visible=!0,this)),En(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),En(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),En(this,"pointerHover",r=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(r,this.camera);const i=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);i?this.axis=i.object.name:this.axis=null}),En(this,"pointerDown",r=>{if(!(this.object===void 0||this.dragging===!0||r.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(r,this.camera);const i=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(i){let o=this.space;if(this.mode==="scale"?o="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(o="world"),o==="local"&&this.mode==="rotate"){const l=this.rotationSnap;this.axis==="X"&&l&&(this.object.rotation.x=Math.round(this.object.rotation.x/l)*l),this.axis==="Y"&&l&&(this.object.rotation.y=Math.round(this.object.rotation.y/l)*l),this.axis==="Z"&&l&&(this.object.rotation.z=Math.round(this.object.rotation.z/l)*l)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(i.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.type=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),En(this,"pointerMove",r=>{const i=this.axis,o=this.mode,l=this.object;let d=this.space;if(o==="scale"?d="local":(i==="E"||i==="XYZE"||i==="XYZ")&&(d="world"),l===void 0||i===null||this.dragging===!1||r.button!==-1)return;this.raycaster.setFromCamera(r,this.camera);const h=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(h){if(this.pointEnd.copy(h.point).sub(this.worldPositionStart),o==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),d==="local"&&i!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),i.indexOf("X")===-1&&(this.offset.x=0),i.indexOf("Y")===-1&&(this.offset.y=0),i.indexOf("Z")===-1&&(this.offset.z=0),d==="local"&&i!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),l.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(d==="local"&&(l.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),i.search("X")!==-1&&(l.position.x=Math.round(l.position.x/this.translationSnap)*this.translationSnap),i.search("Y")!==-1&&(l.position.y=Math.round(l.position.y/this.translationSnap)*this.translationSnap),i.search("Z")!==-1&&(l.position.z=Math.round(l.position.z/this.translationSnap)*this.translationSnap),l.position.applyQuaternion(this.quaternionStart)),d==="world"&&(l.parent&&l.position.add(this.tempVector.setFromMatrixPosition(l.parent.matrixWorld)),i.search("X")!==-1&&(l.position.x=Math.round(l.position.x/this.translationSnap)*this.translationSnap),i.search("Y")!==-1&&(l.position.y=Math.round(l.position.y/this.translationSnap)*this.translationSnap),i.search("Z")!==-1&&(l.position.z=Math.round(l.position.z/this.translationSnap)*this.translationSnap),l.parent&&l.position.sub(this.tempVector.setFromMatrixPosition(l.parent.matrixWorld))));else if(o==="scale"){if(i.search("XYZ")!==-1){let v=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(v*=-1),this.tempVector2.set(v,v,v)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),i.search("X")===-1&&(this.tempVector2.x=1),i.search("Y")===-1&&(this.tempVector2.y=1),i.search("Z")===-1&&(this.tempVector2.z=1);l.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(i.search("X")!==-1&&(this.object.scale.x=Math.round(l.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),i.search("Y")!==-1&&(l.scale.y=Math.round(l.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),i.search("Z")!==-1&&(l.scale.z=Math.round(l.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(o==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);const v=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));i==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):i==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*v):(i==="X"||i==="Y"||i==="Z")&&(this.rotationAxis.copy(this.unit[i]),this.tempVector.copy(this.unit[i]),d==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*v),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),d==="local"&&i!=="E"&&i!=="XYZE"?(l.quaternion.copy(this.quaternionStart),l.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),l.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),l.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),En(this,"pointerUp",r=>{r.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),En(this,"getPointer",r=>{var i;if(this.domElement&&(i=this.domElement.ownerDocument)!==null&&i!==void 0&&i.pointerLockElement)return{x:0,y:0,button:r.button};{var o;const l=r.changedTouches?r.changedTouches[0]:r,d=(o=this.domElement)===null||o===void 0?void 0:o.getBoundingClientRect();return{x:(l.clientX-d.left)/d.width*2-1,y:-(l.clientY-d.top)/d.height*2+1,button:r.button}}}),En(this,"onPointerHover",r=>{if(this.enabled)switch(r.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(r));break}}),En(this,"onPointerDown",r=>{var i;this.enabled&&(this.domElement.style.touchAction="none",(i=this.domElement.ownerDocument)===null||i===void 0||i.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(r)),this.pointerDown(this.getPointer(r)))}),En(this,"onPointerMove",r=>{this.enabled&&this.pointerMove(this.getPointer(r))}),En(this,"onPointerUp",r=>{var i;this.enabled&&(this.domElement.style.touchAction="",(i=this.domElement.ownerDocument)===null||i===void 0||i.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(r)))}),En(this,"getMode",()=>this.mode),En(this,"setMode",r=>{this.mode=r}),En(this,"setTranslationSnap",r=>{this.translationSnap=r}),En(this,"setRotationSnap",r=>{this.rotationSnap=r}),En(this,"setScaleSnap",r=>{this.scaleSnap=r}),En(this,"setSize",r=>{this.size=r}),En(this,"setSpace",r=>{this.space=r}),En(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),En(this,"dispose",()=>{var r,i;this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointermove",this.onPointerHover),(r=this.domElement.ownerDocument)===null||r===void 0||r.removeEventListener("pointermove",this.onPointerMove),(i=this.domElement.ownerDocument)===null||i===void 0||i.removeEventListener("pointerup",this.onPointerUp),this.traverse(o=>{const l=o;l.geometry&&l.geometry.dispose(),l.material&&l.material.dispose()})}),e===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),this.domElement=document),this.domElement=e,this.camera=t,this.gizmo=new clt,this.add(this.gizmo),this.plane=new flt,this.add(this.plane);const n=(r,i)=>{let o=i;Object.defineProperty(this,r,{get:function(){return o!==void 0?o:i},set:function(l){o!==l&&(o=l,this.plane[r]=l,this.gizmo[r]=l,this.dispatchEvent({type:r+"-changed",value:l}),this.dispatchEvent(this.changeEvent))}}),this[r]=i,this.plane[r]=i,this.gizmo[r]=i};n("camera",this.camera),n("object",this.object),n("enabled",this.enabled),n("axis",this.axis),n("mode",this.mode),n("translationSnap",this.translationSnap),n("rotationSnap",this.rotationSnap),n("scaleSnap",this.scaleSnap),n("space",this.space),n("size",this.size),n("dragging",this.dragging),n("showX",this.showX),n("showY",this.showY),n("showZ",this.showZ),n("worldPosition",this.worldPosition),n("worldPositionStart",this.worldPositionStart),n("worldQuaternion",this.worldQuaternion),n("worldQuaternionStart",this.worldQuaternionStart),n("cameraPosition",this.cameraPosition),n("cameraQuaternion",this.cameraQuaternion),n("pointStart",this.pointStart),n("pointEnd",this.pointEnd),n("rotationAxis",this.rotationAxis),n("rotationAngle",this.rotationAngle),n("eye",this.eye),e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}},clt=class extends Ya{constructor(){super(),En(this,"isTransformControlsGizmo",!0),En(this,"type","TransformControlsGizmo"),En(this,"tempVector",new Ve(0,0,0)),En(this,"tempEuler",new Lb),En(this,"alignVector",new Ve(0,1,0)),En(this,"zeroVector",new Ve(0,0,0)),En(this,"lookAtMatrix",new ea),En(this,"tempQuaternion",new to),En(this,"tempQuaternion2",new to),En(this,"identityQuaternion",new to),En(this,"unitX",new Ve(1,0,0)),En(this,"unitY",new Ve(0,1,0)),En(this,"unitZ",new Ve(0,0,1)),En(this,"gizmo",void 0),En(this,"picker",void 0),En(this,"helper",void 0),En(this,"rotationAxis",new Ve),En(this,"cameraPosition",new Ve),En(this,"worldPositionStart",new Ve),En(this,"worldQuaternionStart",new to),En(this,"worldPosition",new Ve),En(this,"worldQuaternion",new to),En(this,"eye",new Ve),En(this,"camera",null),En(this,"enabled",!0),En(this,"axis",null),En(this,"mode","translate"),En(this,"space","world"),En(this,"size",1),En(this,"dragging",!1),En(this,"showX",!0),En(this,"showY",!0),En(this,"showZ",!0),En(this,"updateMatrixWorld",()=>{let Se=this.space;this.mode==="scale"&&(Se="local");const we=Se==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let Pe=[];Pe=Pe.concat(this.picker[this.mode].children),Pe=Pe.concat(this.gizmo[this.mode].children),Pe=Pe.concat(this.helper[this.mode].children);for(let be=0;be<Pe.length;be++){const Ce=Pe[be];Ce.visible=!0,Ce.rotation.set(0,0,0),Ce.position.copy(this.worldPosition);let qe;if(this.camera.isOrthographicCamera?qe=(this.camera.top-this.camera.bottom)/this.camera.zoom:qe=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),Ce.scale.set(1,1,1).multiplyScalar(qe*this.size/7),Ce.tag==="helper"){Ce.visible=!1,Ce.name==="AXIS"?(Ce.position.copy(this.worldPositionStart),Ce.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),Ce.quaternion.copy(we).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(we).dot(this.eye))>.9&&(Ce.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),Ce.quaternion.copy(we).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(we).dot(this.eye))>.9&&(Ce.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),Ce.quaternion.copy(we).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(we).dot(this.eye))>.9&&(Ce.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),Ce.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),Ce.quaternion.multiply(this.tempQuaternion),Ce.visible=this.dragging),this.axis==="E"&&(Ce.visible=!1)):Ce.name==="START"?(Ce.position.copy(this.worldPositionStart),Ce.visible=this.dragging):Ce.name==="END"?(Ce.position.copy(this.worldPosition),Ce.visible=this.dragging):Ce.name==="DELTA"?(Ce.position.copy(this.worldPositionStart),Ce.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),Ce.scale.copy(this.tempVector),Ce.visible=this.dragging):(Ce.quaternion.copy(we),this.dragging?Ce.position.copy(this.worldPositionStart):Ce.position.copy(this.worldPosition),this.axis&&(Ce.visible=this.axis.search(Ce.name)!==-1));continue}Ce.quaternion.copy(we),this.mode==="translate"||this.mode==="scale"?((Ce.name==="X"||Ce.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(we).dot(this.eye))>.99&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),(Ce.name==="Y"||Ce.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(we).dot(this.eye))>.99&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),(Ce.name==="Z"||Ce.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(we).dot(this.eye))>.99&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),Ce.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(we).dot(this.eye))<.2&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),Ce.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(we).dot(this.eye))<.2&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),Ce.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(we).dot(this.eye))<.2&&(Ce.scale.set(1e-10,1e-10,1e-10),Ce.visible=!1),Ce.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(we).dot(this.eye)<0?Ce.tag==="fwd"?Ce.visible=!1:Ce.scale.x*=-1:Ce.tag==="bwd"&&(Ce.visible=!1)),Ce.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(we).dot(this.eye)<0?Ce.tag==="fwd"?Ce.visible=!1:Ce.scale.y*=-1:Ce.tag==="bwd"&&(Ce.visible=!1)),Ce.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(we).dot(this.eye)<0?Ce.tag==="fwd"?Ce.visible=!1:Ce.scale.z*=-1:Ce.tag==="bwd"&&(Ce.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(we),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(we).invert()),Ce.name.search("E")!==-1&&Ce.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),Ce.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),Ce.quaternion.copy(this.tempQuaternion)),Ce.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),Ce.quaternion.copy(this.tempQuaternion)),Ce.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),Ce.quaternion.copy(this.tempQuaternion))),Ce.visible=Ce.visible&&(Ce.name.indexOf("X")===-1||this.showX),Ce.visible=Ce.visible&&(Ce.name.indexOf("Y")===-1||this.showY),Ce.visible=Ce.visible&&(Ce.name.indexOf("Z")===-1||this.showZ),Ce.visible=Ce.visible&&(Ce.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),Ce.material.tempOpacity=Ce.material.tempOpacity||Ce.material.opacity,Ce.material.tempColor=Ce.material.tempColor||Ce.material.color.clone(),Ce.material.color.copy(Ce.material.tempColor),Ce.material.opacity=Ce.material.tempOpacity,this.enabled?this.axis&&(Ce.name===this.axis?(Ce.material.opacity=1,Ce.material.color.lerp(new ur(1,1,1),.5)):this.axis.split("").some(function(mt){return Ce.name===mt})?(Ce.material.opacity=1,Ce.material.color.lerp(new ur(1,1,1),.5)):(Ce.material.opacity*=.25,Ce.material.color.lerp(new ur(1,1,1),.5))):(Ce.material.opacity*=.5,Ce.material.color.lerp(new ur(1,1,1),.5))}super.updateMatrixWorld()});const t=new th({depthTest:!1,depthWrite:!1,transparent:!0,side:Mf,fog:!1,toneMapped:!1}),e=new ah({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=t.clone();n.opacity=.15;const r=t.clone();r.opacity=.33;const i=t.clone();i.color.set(16711680);const o=t.clone();o.color.set(65280);const l=t.clone();l.color.set(255);const d=t.clone();d.opacity=.25;const h=d.clone();h.color.set(16776960);const v=d.clone();v.color.set(65535);const S=d.clone();S.color.set(16711935),t.clone().color.set(16776960);const A=e.clone();A.color.set(16711680);const T=e.clone();T.color.set(65280);const R=e.clone();R.color.set(255);const G=e.clone();G.color.set(65535);const j=e.clone();j.color.set(16711935);const w=e.clone();w.color.set(16776960);const L=e.clone();L.color.set(7895160);const F=w.clone();F.opacity=.25;const W=new ld(0,.05,.2,12,1,!1),U=new Fp(.125,.125,.125),Q=new da;Q.setAttribute("position",new li([0,0,0,1,0,0],3));const de=(Se,we)=>{const Pe=new da,be=[];for(let Ce=0;Ce<=64*we;++Ce)be.push(0,Math.cos(Ce/32*Math.PI)*Se,Math.sin(Ce/32*Math.PI)*Se);return Pe.setAttribute("position",new li(be,3)),Pe},fe=()=>{const Se=new da;return Se.setAttribute("position",new li([0,0,0,1,1,1],3)),Se},Z={X:[[new Yr(W,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Yr(W,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Ua(Q,A)]],Y:[[new Yr(W,o),[0,1,0],null,null,"fwd"],[new Yr(W,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Ua(Q,T),null,[0,0,Math.PI/2]]],Z:[[new Yr(W,l),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Yr(W,l),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Ua(Q,R),null,[0,-Math.PI/2,0]]],XYZ:[[new Yr(new dv(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new Yr(new hv(.295,.295),h.clone()),[.15,.15,0]],[new Ua(Q,w),[.18,.3,0],null,[.125,1,1]],[new Ua(Q,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Yr(new hv(.295,.295),v.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Ua(Q,G),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Ua(Q,G),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Yr(new hv(.295,.295),S.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Ua(Q,j),[.18,0,.3],null,[.125,1,1]],[new Ua(Q,j),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},he={X:[[new Yr(new ld(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Yr(new ld(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new Yr(new ld(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Yr(new dv(.2,0),n)]],XY:[[new Yr(new hv(.4,.4),n),[.2,.2,0]]],YZ:[[new Yr(new hv(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Yr(new hv(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},Te={START:[[new Yr(new dv(.01,2),r),null,null,null,"helper"]],END:[[new Yr(new dv(.01,2),r),null,null,null,"helper"]],DELTA:[[new Ua(fe(),r),null,null,null,"helper"]],X:[[new Ua(Q,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ua(Q,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ua(Q,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},je={X:[[new Ua(de(1,.5),A)],[new Yr(new dv(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new Ua(de(1,.5),T),null,[0,0,-Math.PI/2]],[new Yr(new dv(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new Ua(de(1,.5),R),null,[0,Math.PI/2,0]],[new Yr(new dv(.04,0),l),[.99,0,0],null,[1,3,1]]],E:[[new Ua(de(1.25,1),F),null,[0,Math.PI/2,0]],[new Yr(new ld(.03,0,.15,4,1,!1),F),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Yr(new ld(.03,0,.15,4,1,!1),F),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Yr(new ld(.03,0,.15,4,1,!1),F),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Yr(new ld(.03,0,.15,4,1,!1),F),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Ua(de(1,1),L),null,[0,Math.PI/2,0]]]},Ke={AXIS:[[new Ua(Q,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},Le={X:[[new Yr(new _1(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Yr(new _1(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Yr(new _1(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Yr(new _1(1.25,.1,2,24),n)]],XYZE:[[new Yr(new Nb(.7,10,8),n)]]},Ge={X:[[new Yr(U,i),[.8,0,0],[0,0,-Math.PI/2]],[new Ua(Q,A),null,null,[.8,1,1]]],Y:[[new Yr(U,o),[0,.8,0]],[new Ua(Q,T),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Yr(U,l),[0,0,.8],[Math.PI/2,0,0]],[new Ua(Q,R),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Yr(U,h),[.85,.85,0],null,[2,2,.2]],[new Ua(Q,w),[.855,.98,0],null,[.125,1,1]],[new Ua(Q,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Yr(U,v),[0,.85,.85],null,[.2,2,2]],[new Ua(Q,G),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Ua(Q,G),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Yr(U,S),[.85,0,.85],null,[2,.2,2]],[new Ua(Q,j),[.855,0,.98],null,[.125,1,1]],[new Ua(Q,j),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Yr(new Fp(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new Yr(new Fp(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new Yr(new Fp(.125,.125,.125),d.clone()),[0,0,1.1]]]},ut={X:[[new Yr(new ld(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Yr(new ld(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new Yr(new ld(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Yr(U,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Yr(U,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Yr(U,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Yr(new Fp(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new Yr(new Fp(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new Yr(new Fp(.2,.2,.2),n),[0,0,1.1]]]},st={X:[[new Ua(Q,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ua(Q,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ua(Q,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},_e=Se=>{const we=new Ya;for(let Pe in Se)for(let be=Se[Pe].length;be--;){const Ce=Se[Pe][be][0].clone(),qe=Se[Pe][be][1],mt=Se[Pe][be][2],We=Se[Pe][be][3],Mt=Se[Pe][be][4];Ce.name=Pe,Ce.tag=Mt,qe&&Ce.position.set(qe[0],qe[1],qe[2]),mt&&Ce.rotation.set(mt[0],mt[1],mt[2]),We&&Ce.scale.set(We[0],We[1],We[2]),Ce.updateMatrix();const dt=Ce.geometry.clone();dt.applyMatrix4(Ce.matrix),Ce.geometry=dt,Ce.renderOrder=1/0,Ce.position.set(0,0,0),Ce.rotation.set(0,0,0),Ce.scale.set(1,1,1),we.add(Ce)}return we};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=_e(Z)),this.add(this.gizmo.rotate=_e(je)),this.add(this.gizmo.scale=_e(Ge)),this.add(this.picker.translate=_e(he)),this.add(this.picker.rotate=_e(Le)),this.add(this.picker.scale=_e(ut)),this.add(this.helper.translate=_e(Te)),this.add(this.helper.rotate=_e(Ke)),this.add(this.helper.scale=_e(st)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}},flt=class extends Yr{constructor(){super(new hv(1e5,1e5,2,2),new th({visible:!1,wireframe:!0,side:Mf,transparent:!0,opacity:.1,toneMapped:!1})),En(this,"isTransformControlsPlane",!0),En(this,"type","TransformControlsPlane"),En(this,"unitX",new Ve(1,0,0)),En(this,"unitY",new Ve(0,1,0)),En(this,"unitZ",new Ve(0,0,1)),En(this,"tempVector",new Ve),En(this,"dirVector",new Ve),En(this,"alignVector",new Ve),En(this,"tempMatrix",new ea),En(this,"identityQuaternion",new to),En(this,"cameraQuaternion",new to),En(this,"worldPosition",new Ve),En(this,"worldQuaternion",new to),En(this,"eye",new Ve),En(this,"axis",null),En(this,"mode","translate"),En(this,"space","world"),En(this,"updateMatrixWorld",()=>{let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),this.unitX.set(1,0,0).applyQuaternion(t==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(t==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(t==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}},wD=pa(_s()),dlt=wD.forwardRef((t,e)=>{var n=t,{makeDefault:r,manual:i}=n,o=v0(n,["makeDefault","manual"]);const l=Tf(({set:S})=>S),d=Tf(({camera:S})=>S),h=Tf(({size:S})=>S),v=wD.useRef();return wD.useLayoutEffect(()=>{const{current:S}=v;S&&!i&&(S.aspect=h.width/h.height,S.updateProjectionMatrix())},[h,o]),wD.useLayoutEffect(()=>{if(r&&v.current){const S=d;return l(()=>({camera:v.current})),()=>l(()=>({camera:S}))}},[d,v,r,l]),wD.createElement("perspectiveCamera",FO({ref:kIe([v,e])},o))}),hlt=pa(gB()),ZX=pa(_s());function NIe(){const[t,e]=(0,ZX.useState)(void 0),n=(0,ZX.useRef)(t);return n.current=t,(0,ZX.useLayoutEffect)(()=>{const r=i=>{const o=i.find(l=>l.type==="Theatre_SheetObject_PublicAPI"&&V4.has(l));e(o?GRe(o.address):void 0)};return r(Am.selection),Am.onSelectionChange(r)},[]),t}var plt=typeof global=="object"&&global&&global.Object===Object&&global,FIe=plt,mlt=typeof self=="object"&&self&&self.Object===Object&&self,vlt=FIe||mlt||Function("return this")(),F1=vlt,glt=F1.Symbol,Vx=glt,UIe=Object.prototype,ylt=UIe.hasOwnProperty,_lt=UIe.toString,ED=Vx?Vx.toStringTag:void 0;function Slt(t){var e=ylt.call(t,ED),n=t[ED];try{t[ED]=void 0;var r=!0}catch{}var i=_lt.call(t);return r&&(e?t[ED]=n:delete t[ED]),i}var xlt=Slt,wlt=Object.prototype,Elt=wlt.toString;function blt(t){return Elt.call(t)}var Clt=blt,Alt="[object Null]",Tlt="[object Undefined]",zEe=Vx?Vx.toStringTag:void 0;function Mlt(t){return t==null?t===void 0?Tlt:Alt:zEe&&zEe in Object(t)?xlt(t):Clt(t)}var fP=Mlt;function Plt(t){return t!=null&&typeof t=="object"}var JM=Plt,Rlt="[object Symbol]";function Ilt(t){return typeof t=="symbol"||JM(t)&&fP(t)==Rlt}var ej=Ilt;function klt(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Dlt=klt,Olt=Array.isArray,B1=Olt,Blt=1/0,HEe=Vx?Vx.prototype:void 0,jEe=HEe?HEe.toString:void 0;function zIe(t){if(typeof t=="string")return t;if(B1(t))return Dlt(t,zIe)+"";if(ej(t))return jEe?jEe.call(t):"";var e=t+"";return e=="0"&&1/t==-Blt?"-0":e}var Llt=zIe,Nlt=/\s/;function Flt(t){for(var e=t.length;e--&&Nlt.test(t.charAt(e)););return e}var Ult=Flt,zlt=/^\s+/;function Hlt(t){return t&&t.slice(0,Ult(t)+1).replace(zlt,"")}var jlt=Hlt;function Glt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var UO=Glt,GEe=0/0,Vlt=/^[-+]0x[0-9a-f]+$/i,Wlt=/^0b[01]+$/i,Klt=/^0o[0-7]+$/i,qlt=parseInt;function Xlt(t){if(typeof t=="number")return t;if(ej(t))return GEe;if(UO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=UO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jlt(t);var n=Wlt.test(t);return n||Klt.test(t)?qlt(t.slice(2),n?2:8):Vlt.test(t)?GEe:+t}var Ylt=Xlt,VEe=1/0,$lt=17976931348623157e292;function Qlt(t){if(!t)return t===0?t:0;if(t=Ylt(t),t===VEe||t===-VEe){var e=t<0?-1:1;return e*$lt}return t===t?t:0}var Jlt=Qlt;function Zlt(t){var e=Jlt(t),n=e%1;return e===e?n?e-n:e:0}var eut=Zlt;function tut(t){return t}var nut=tut,rut="[object AsyncFunction]",iut="[object Function]",aut="[object GeneratorFunction]",out="[object Proxy]";function sut(t){if(!UO(t))return!1;var e=fP(t);return e==iut||e==aut||e==rut||e==out}var HIe=sut,lut=F1["__core-js_shared__"],eY=lut,WEe=function(){var t=/[^.]+$/.exec(eY&&eY.keys&&eY.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function uut(t){return!!WEe&&WEe in t}var cut=uut,fut=Function.prototype,dut=fut.toString;function hut(t){if(t!=null){try{return dut.call(t)}catch{}try{return t+""}catch{}}return""}var Vb=hut,put=/[\\^$.*+?()[\]{}|]/g,mut=/^\[object .+?Constructor\]$/,vut=Function.prototype,gut=Object.prototype,yut=vut.toString,_ut=gut.hasOwnProperty,Sut=RegExp("^"+yut.call(_ut).replace(put,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xut(t){if(!UO(t)||cut(t))return!1;var e=HIe(t)?Sut:mut;return e.test(Vb(t))}var wut=xut;function Eut(t,e){return t==null?void 0:t[e]}var but=Eut;function Cut(t,e){var n=but(t,e);return wut(n)?n:void 0}var dP=Cut,Aut=dP(F1,"WeakMap"),SQ=Aut;function Tut(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Mut=Tut,Put=9007199254740991,Rut=/^(?:0|[1-9]\d*)$/;function Iut(t,e){var n=typeof t;return e=e??Put,!!e&&(n=="number"||n!="symbol"&&Rut.test(t))&&t>-1&&t%1==0&&t<e}var jIe=Iut;function kut(t,e){return t===e||t!==t&&e!==e}var GIe=kut,Dut=9007199254740991;function Out(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dut}var a2=Out;function But(t){return t!=null&&a2(t.length)&&!HIe(t)}var Lut=But,Nut=Object.prototype;function Fut(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nut;return t===n}var Uut=Fut;function zut(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Hut=zut,jut="[object Arguments]";function Gut(t){return JM(t)&&fP(t)==jut}var KEe=Gut,VIe=Object.prototype,Vut=VIe.hasOwnProperty,Wut=VIe.propertyIsEnumerable,Kut=KEe(function(){return arguments}())?KEe:function(t){return JM(t)&&Vut.call(t,"callee")&&!Wut.call(t,"callee")},WIe=Kut;function qut(){return!1}var Xut=qut,KIe=typeof E1=="object"&&E1&&!E1.nodeType&&E1,qEe=KIe&&typeof b1=="object"&&b1&&!b1.nodeType&&b1,Yut=qEe&&qEe.exports===KIe,XEe=Yut?F1.Buffer:void 0,$ut=XEe?XEe.isBuffer:void 0,Qut=$ut||Xut,xQ=Qut,Jut="[object Arguments]",Zut="[object Array]",ect="[object Boolean]",tct="[object Date]",nct="[object Error]",rct="[object Function]",ict="[object Map]",act="[object Number]",oct="[object Object]",sct="[object RegExp]",lct="[object Set]",uct="[object String]",cct="[object WeakMap]",fct="[object ArrayBuffer]",dct="[object DataView]",hct="[object Float32Array]",pct="[object Float64Array]",mct="[object Int8Array]",vct="[object Int16Array]",gct="[object Int32Array]",yct="[object Uint8Array]",_ct="[object Uint8ClampedArray]",Sct="[object Uint16Array]",xct="[object Uint32Array]",Fl={};Fl[hct]=Fl[pct]=Fl[mct]=Fl[vct]=Fl[gct]=Fl[yct]=Fl[_ct]=Fl[Sct]=Fl[xct]=!0;Fl[Jut]=Fl[Zut]=Fl[fct]=Fl[ect]=Fl[dct]=Fl[tct]=Fl[nct]=Fl[rct]=Fl[ict]=Fl[act]=Fl[oct]=Fl[sct]=Fl[lct]=Fl[uct]=Fl[cct]=!1;function wct(t){return JM(t)&&a2(t.length)&&!!Fl[fP(t)]}var Ect=wct;function bct(t){return function(e){return t(e)}}var Cct=bct,qIe=typeof E1=="object"&&E1&&!E1.nodeType&&E1,JD=qIe&&typeof b1=="object"&&b1&&!b1.nodeType&&b1,Act=JD&&JD.exports===qIe,tY=Act&&FIe.process,Tct=function(){try{var t=JD&&JD.require&&JD.require("util").types;return t||tY&&tY.binding&&tY.binding("util")}catch{}}(),YEe=Tct,$Ee=YEe&&YEe.isTypedArray,Mct=$Ee?Cct($Ee):Ect,XIe=Mct,Pct=Object.prototype,Rct=Pct.hasOwnProperty;function Ict(t,e){var n=B1(t),r=!n&&WIe(t),i=!n&&!r&&xQ(t),o=!n&&!r&&!i&&XIe(t),l=n||r||i||o,d=l?Hut(t.length,String):[],h=d.length;for(var v in t)(e||Rct.call(t,v))&&!(l&&(v=="length"||i&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||jIe(v,h)))&&d.push(v);return d}var kct=Ict;function Dct(t,e){return function(n){return t(e(n))}}var Oct=Dct,Bct=Oct(Object.keys,Object),Lct=Bct,Nct=Object.prototype,Fct=Nct.hasOwnProperty;function Uct(t){if(!Uut(t))return Lct(t);var e=[];for(var n in Object(t))Fct.call(t,n)&&n!="constructor"&&e.push(n);return e}var zct=Uct;function Hct(t){return Lut(t)?kct(t):zct(t)}var YIe=Hct,jct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gct=/^\w*$/;function Vct(t,e){if(B1(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ej(t)?!0:Gct.test(t)||!jct.test(t)||e!=null&&t in Object(e)}var o2=Vct,Wct=dP(Object,"create"),zO=Wct;function Kct(){this.__data__=zO?zO(null):{},this.size=0}var qct=Kct;function Xct(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Yct=Xct,$ct="__lodash_hash_undefined__",Qct=Object.prototype,Jct=Qct.hasOwnProperty;function Zct(t){var e=this.__data__;if(zO){var n=e[t];return n===$ct?void 0:n}return Jct.call(e,t)?e[t]:void 0}var eft=Zct,tft=Object.prototype,nft=tft.hasOwnProperty;function rft(t){var e=this.__data__;return zO?e[t]!==void 0:nft.call(e,t)}var ift=rft,aft="__lodash_hash_undefined__";function oft(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zO&&e===void 0?aft:e,this}var sft=oft;function hP(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hP.prototype.clear=qct;hP.prototype.delete=Yct;hP.prototype.get=eft;hP.prototype.has=ift;hP.prototype.set=sft;var QEe=hP;function lft(){this.__data__=[],this.size=0}var uft=lft;function cft(t,e){for(var n=t.length;n--;)if(GIe(t[n][0],e))return n;return-1}var tj=cft,fft=Array.prototype,dft=fft.splice;function hft(t){var e=this.__data__,n=tj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dft.call(e,n,1),--this.size,!0}var pft=hft;function mft(t){var e=this.__data__,n=tj(e,t);return n<0?void 0:e[n][1]}var vft=mft;function gft(t){return tj(this.__data__,t)>-1}var yft=gft;function _ft(t,e){var n=this.__data__,r=tj(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Sft=_ft;function pP(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pP.prototype.clear=uft;pP.prototype.delete=pft;pP.prototype.get=vft;pP.prototype.has=yft;pP.prototype.set=Sft;var nj=pP,xft=dP(F1,"Map"),HO=xft;function wft(){this.size=0,this.__data__={hash:new QEe,map:new(HO||nj),string:new QEe}}var Eft=wft;function bft(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Cft=bft;function Aft(t,e){var n=t.__data__;return Cft(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rj=Aft;function Tft(t){var e=rj(this,t).delete(t);return this.size-=e?1:0,e}var Mft=Tft;function Pft(t){return rj(this,t).get(t)}var Rft=Pft;function Ift(t){return rj(this,t).has(t)}var kft=Ift;function Dft(t,e){var n=rj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Oft=Dft;function mP(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mP.prototype.clear=Eft;mP.prototype.delete=Mft;mP.prototype.get=Rft;mP.prototype.has=kft;mP.prototype.set=Oft;var ij=mP,Bft="Expected a function";function s2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bft);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var l=t.apply(this,r);return n.cache=o.set(i,l)||o,l};return n.cache=new(s2.Cache||ij),n}s2.Cache=ij;var Lft=s2,Nft=500;function Fft(t){var e=Lft(t,function(r){return n.size===Nft&&n.clear(),r}),n=e.cache;return e}var Uft=Fft,zft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hft=/\\(\\)?/g,jft=Uft(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zft,function(n,r,i,o){e.push(i?o.replace(Hft,"$1"):r||n)}),e}),Gft=jft;function Vft(t){return t==null?"":Llt(t)}var Wft=Vft;function Kft(t,e){return B1(t)?t:o2(t,e)?[t]:Gft(Wft(t))}var $Ie=Kft,qft=1/0;function Xft(t){if(typeof t=="string"||ej(t))return t;var e=t+"";return e=="0"&&1/t==-qft?"-0":e}var aj=Xft;function Yft(t,e){e=$Ie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[aj(e[n++])];return n&&n==r?t:void 0}var QIe=Yft;function $ft(t,e,n){var r=t==null?void 0:QIe(t,e);return r===void 0?n:r}var Qft=$ft;function Jft(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Zft=Jft;function edt(){this.__data__=new nj,this.size=0}var tdt=edt;function ndt(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rdt=ndt;function idt(t){return this.__data__.get(t)}var adt=idt;function odt(t){return this.__data__.has(t)}var sdt=odt,ldt=200;function udt(t,e){var n=this.__data__;if(n instanceof nj){var r=n.__data__;if(!HO||r.length<ldt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ij(r)}return n.set(t,e),this.size=n.size,this}var cdt=udt;function vP(t){var e=this.__data__=new nj(t);this.size=e.size}vP.prototype.clear=tdt;vP.prototype.delete=rdt;vP.prototype.get=adt;vP.prototype.has=sdt;vP.prototype.set=cdt;var n4=vP;function fdt(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var l=t[n];e(l,n,t)&&(o[i++]=l)}return o}var ddt=fdt;function hdt(){return[]}var pdt=hdt,mdt=Object.prototype,vdt=mdt.propertyIsEnumerable,JEe=Object.getOwnPropertySymbols,gdt=JEe?function(t){return t==null?[]:(t=Object(t),ddt(JEe(t),function(e){return vdt.call(t,e)}))}:pdt,ydt=gdt;function _dt(t,e,n){var r=e(t);return B1(t)?r:Zft(r,n(t))}var Sdt=_dt;function xdt(t){return Sdt(t,YIe,ydt)}var ZEe=xdt,wdt=dP(F1,"DataView"),wQ=wdt,Edt=dP(F1,"Promise"),EQ=Edt,bdt=dP(F1,"Set"),bQ=bdt,ebe="[object Map]",Cdt="[object Object]",tbe="[object Promise]",nbe="[object Set]",rbe="[object WeakMap]",ibe="[object DataView]",Adt=Vb(wQ),Tdt=Vb(HO),Mdt=Vb(EQ),Pdt=Vb(bQ),Rdt=Vb(SQ),ib=fP;(wQ&&ib(new wQ(new ArrayBuffer(1)))!=ibe||HO&&ib(new HO)!=ebe||EQ&&ib(EQ.resolve())!=tbe||bQ&&ib(new bQ)!=nbe||SQ&&ib(new SQ)!=rbe)&&(ib=function(t){var e=fP(t),n=e==Cdt?t.constructor:void 0,r=n?Vb(n):"";if(r)switch(r){case Adt:return ibe;case Tdt:return ebe;case Mdt:return tbe;case Pdt:return nbe;case Rdt:return rbe}return e});var abe=ib,Idt=F1.Uint8Array,obe=Idt,kdt="__lodash_hash_undefined__";function Ddt(t){return this.__data__.set(t,kdt),this}var Odt=Ddt;function Bdt(t){return this.__data__.has(t)}var Ldt=Bdt;function Z4(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ij;++e<n;)this.add(t[e])}Z4.prototype.add=Z4.prototype.push=Odt;Z4.prototype.has=Ldt;var Ndt=Z4;function Fdt(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Udt=Fdt;function zdt(t,e){return t.has(e)}var Hdt=zdt,jdt=1,Gdt=2;function Vdt(t,e,n,r,i,o){var l=n&jdt,d=t.length,h=e.length;if(d!=h&&!(l&&h>d))return!1;var v=o.get(t),S=o.get(e);if(v&&S)return v==e&&S==t;var x=-1,A=!0,T=n&Gdt?new Ndt:void 0;for(o.set(t,e),o.set(e,t);++x<d;){var R=t[x],G=e[x];if(r)var j=l?r(G,R,x,e,t,o):r(R,G,x,t,e,o);if(j!==void 0){if(j)continue;A=!1;break}if(T){if(!Udt(e,function(w,L){if(!Hdt(T,L)&&(R===w||i(R,w,n,r,o)))return T.push(L)})){A=!1;break}}else if(!(R===G||i(R,G,n,r,o))){A=!1;break}}return o.delete(t),o.delete(e),A}var JIe=Vdt;function Wdt(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Kdt=Wdt;function qdt(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Xdt=qdt,Ydt=1,$dt=2,Qdt="[object Boolean]",Jdt="[object Date]",Zdt="[object Error]",eht="[object Map]",tht="[object Number]",nht="[object RegExp]",rht="[object Set]",iht="[object String]",aht="[object Symbol]",oht="[object ArrayBuffer]",sht="[object DataView]",sbe=Vx?Vx.prototype:void 0,nY=sbe?sbe.valueOf:void 0;function lht(t,e,n,r,i,o,l){switch(n){case sht:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oht:return!(t.byteLength!=e.byteLength||!o(new obe(t),new obe(e)));case Qdt:case Jdt:case tht:return GIe(+t,+e);case Zdt:return t.name==e.name&&t.message==e.message;case nht:case iht:return t==e+"";case eht:var d=Kdt;case rht:var h=r&Ydt;if(d||(d=Xdt),t.size!=e.size&&!h)return!1;var v=l.get(t);if(v)return v==e;r|=$dt,l.set(t,e);var S=JIe(d(t),d(e),r,i,o,l);return l.delete(t),S;case aht:if(nY)return nY.call(t)==nY.call(e)}return!1}var uht=lht,cht=1,fht=Object.prototype,dht=fht.hasOwnProperty;function hht(t,e,n,r,i,o){var l=n&cht,d=ZEe(t),h=d.length,v=ZEe(e),S=v.length;if(h!=S&&!l)return!1;for(var x=h;x--;){var A=d[x];if(!(l?A in e:dht.call(e,A)))return!1}var T=o.get(t),R=o.get(e);if(T&&R)return T==e&&R==t;var G=!0;o.set(t,e),o.set(e,t);for(var j=l;++x<h;){A=d[x];var w=t[A],L=e[A];if(r)var F=l?r(L,w,A,e,t,o):r(w,L,A,t,e,o);if(!(F===void 0?w===L||i(w,L,n,r,o):F)){G=!1;break}j||(j=A=="constructor")}if(G&&!j){var W=t.constructor,U=e.constructor;W!=U&&"constructor"in t&&"constructor"in e&&!(typeof W=="function"&&W instanceof W&&typeof U=="function"&&U instanceof U)&&(G=!1)}return o.delete(t),o.delete(e),G}var pht=hht,mht=1,lbe="[object Arguments]",ube="[object Array]",M3="[object Object]",vht=Object.prototype,cbe=vht.hasOwnProperty;function ght(t,e,n,r,i,o){var l=B1(t),d=B1(e),h=l?ube:abe(t),v=d?ube:abe(e);h=h==lbe?M3:h,v=v==lbe?M3:v;var S=h==M3,x=v==M3,A=h==v;if(A&&xQ(t)){if(!xQ(e))return!1;l=!0,S=!1}if(A&&!S)return o||(o=new n4),l||XIe(t)?JIe(t,e,n,r,i,o):uht(t,e,h,n,r,i,o);if(!(n&mht)){var T=S&&cbe.call(t,"__wrapped__"),R=x&&cbe.call(e,"__wrapped__");if(T||R){var G=T?t.value():t,j=R?e.value():e;return o||(o=new n4),i(G,j,n,r,o)}}return A?(o||(o=new n4),pht(t,e,n,r,i,o)):!1}var yht=ght;function ZIe(t,e,n,r,i){return t===e?!0:t==null||e==null||!JM(t)&&!JM(e)?t!==t&&e!==e:yht(t,e,n,r,ZIe,i)}var eke=ZIe,_ht=1,Sht=2;function xht(t,e,n,r){var i=n.length,o=i,l=!r;if(t==null)return!o;for(t=Object(t);i--;){var d=n[i];if(l&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++i<o;){d=n[i];var h=d[0],v=t[h],S=d[1];if(l&&d[2]){if(v===void 0&&!(h in t))return!1}else{var x=new n4;if(r)var A=r(v,S,h,t,e,x);if(!(A===void 0?eke(S,v,_ht|Sht,r,x):A))return!1}}return!0}var wht=xht;function Eht(t){return t===t&&!UO(t)}var tke=Eht;function bht(t){for(var e=YIe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tke(i)]}return e}var Cht=bht;function Aht(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nke=Aht;function Tht(t){var e=Cht(t);return e.length==1&&e[0][2]?nke(e[0][0],e[0][1]):function(n){return n===t||wht(n,t,e)}}var Mht=Tht;function Pht(t,e){return t!=null&&e in Object(t)}var Rht=Pht;function Iht(t,e,n){e=$Ie(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var l=aj(e[r]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&a2(i)&&jIe(l,i)&&(B1(t)||WIe(t)))}var kht=Iht;function Dht(t,e){return t!=null&&kht(t,e,Rht)}var Oht=Dht,Bht=1,Lht=2;function Nht(t,e){return o2(t)&&tke(e)?nke(aj(t),e):function(n){var r=Qft(n,t);return r===void 0&&r===e?Oht(n,t):eke(e,r,Bht|Lht)}}var Fht=Nht;function Uht(t){return function(e){return e==null?void 0:e[t]}}var zht=Uht;function Hht(t){return function(e){return QIe(e,t)}}var jht=Hht;function Ght(t){return o2(t)?zht(aj(t)):jht(t)}var Vht=Ght;function Wht(t){return typeof t=="function"?t:t==null?nut:typeof t=="object"?B1(t)?Fht(t[0],t[1]):Mht(t):Vht(t)}var Kht=Wht,qht=Math.max;function Xht(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:eut(n);return i<0&&(i=qht(r+i,0)),Mut(t,Kht(e),i)}var rke=Xht,Yht=pa(wst()),Eb=pa(_s()),$ht=pa(ZH());function Qht(t){const[,e]=(0,Eb.useState)(0);return(0,Eb.useCallback)(()=>{e(r=>r+1)},[])}function Jht(t,e,n){const r=(0,Eb.useCallback)(t,e),i=(0,Eb.useRef)(null);i.current?i.current.set(r):i.current=new Ln.Box(r);const o=(0,Eb.useMemo)(()=>Ln.prism(()=>i.current.derivation.getValue()()),[]);return npt(o)}var Px=(t,e)=>Jht(()=>Ln.val(t),[t]),fbe=0,Ty=[],jO=new Set,rY=!1,Zht=t=>{ept(t),tpt()},ept=t=>{if(!jO.has(t))if(jO.add(t),Ty.length===0)Ty.push(t);else{const e=rke(Ty,n=>n.order>=t.order);e===-1?Ty.push(t):Ty[e].order>t.order&&Ty.splice(e,0,t)}},dbe=t=>{if(!jO.has(t))return;jO.delete(t);const e=rke(Ty,n=>n===t);Ty.splice(e,1)};function tpt(){rY||(rY=!0,(0,Yht.default)(()=>{(0,$ht.unstable_batchedUpdates)(function(){for(;Ty.length>0;){const e=Ty.shift();jO.delete(e);let n;try{n=e.der.getValue()}catch(r){console.error("A `der.getValue()` in `useDerivation(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(r),e.runUpdate();continue}n!==e.lastValue&&(e.lastValue=n,e.runUpdate())}},1),rY=!1}))}function npt(t,e){const n=Qht(),r=(0,Eb.useRef)(void 0);r.current||(fbe++,r.current={order:fbe,runUpdate:()=>{r.current.unmounted||n()},der:t,lastValue:void 0,unmounted:!1,queueUpdate:()=>{Zht(r.current)},untap:t.changesWithoutValues().tap(()=>{r.current.queueUpdate()})}),(0,Eb.useLayoutEffect)(()=>function(){r.current.unmounted=!0,r.current.untap(),dbe(r.current)},[]),dbe(r.current);const i=r.current.der.getValue();return r.current.lastValue=i,i}var iY=void 0,aY=void 0,rpt={viewport:is.types.compound({showAxes:is.types.boolean(!0,{label:"Axes"}),showGrid:is.types.boolean(!0,{label:"Grid"}),showOverlayIcons:is.types.boolean(!1,{label:"Overlay Icons"}),shading:is.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:is.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"}),lighting:is.types.stringLiteral("physical",{physical:"Physical",legacy:"Legacy"},{as:"menu",label:"Lighting"})},{label:"Viewport Config"}),transformControls:is.types.compound({mode:is.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:is.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function ike(){return iY||(iY=Am.getStudioProject().sheet("R3F UI")),iY}function Rx(){return aY||(aY=ike().object("Editor",rpt)||null),aY}var ZD=pa(_s()),hbe=pa(_s()),ake={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pbe=hbe.default.createContext&&hbe.default.createContext(ake),Ix=function(){return Ix=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ix.apply(this,arguments)},ipt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function oke(t){return t&&t.map(function(e,n){return ZD.default.createElement(e.tag,Ix({key:n},e.attr),oke(e.child))})}function Qx(t){return function(e){return ZD.default.createElement(apt,Ix({attr:Ix({},t.attr)},e),oke(t.child))}}function apt(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,l=ipt(t,["attr","size","title"]),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),ZD.default.createElement("svg",Ix({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Ix(Ix({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&ZD.default.createElement("title",null,o),t.children)};return pbe!==void 0?ZD.default.createElement(pbe.Consumer,null,function(n){return e(n)}):e(ake)}function opt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(t)}function spt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(t)}function lpt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(t)}function upt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(t)}function cpt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(t)}function fpt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(t)}function dpt(t){return Qx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(t)}var YE=pa(_s()),hpt={collection:YE.default.createElement(opt,null),cube:YE.default.createElement(upt,null),lightBulb:YE.default.createElement(cpt,null),spotLight:YE.default.createElement(fpt,null),sun:YE.default.createElement(dpt,null),camera:YE.default.createElement(spt,null),cloud:YE.default.createElement(lpt,null)},ppt=hpt,gM=pa(_s()),ske=(0,gM.createContext)(!1),mpt=({children:t})=>{const e=(0,gM.useRef)(!1),[n,r]=(0,gM.useState)(!1);return(0,gM.useEffect)(()=>{document.addEventListener("mousedown",()=>e.current=!0),document.addEventListener("mousemove",()=>{e.current&&r(!0)}),document.addEventListener("mouseup",()=>{e.current=!1,r(!1)})},[]),gM.default.createElement(ske.Provider,{value:n},t)},vpt=()=>(0,gM.useContext)(ske),gpt=pa(tIe()),ypt=(0,gpt.default)(kb),kx=ypt,_pt=({storeKey:t,object:e})=>{var n;const r=Rx(),[i,o]=kx(R=>[R.setSnapshotProxyObject,R.editables],hlt.default),l=vpt(),d=o[t],h=NIe(),v=(n=Px(r==null?void 0:r.props.viewport.showOverlayIcons))!=null?n:!1;(0,Op.useEffect)(()=>(i(e,t),()=>i(null,t)),[t,e,i]),(0,Op.useLayoutEffect)(()=>{const R=e.visible;return d!=null&&d.visibleOnlyInEditor&&(e.visible=!0),()=>{e.visible=R}},[d==null?void 0:d.visibleOnlyInEditor,e.visible]);const[S,x]=(0,Op.useState)(!1),A=Tf(R=>R.scene),T=(0,Op.useMemo)(()=>{var R,G;return(G=d==null?void 0:(R=d.objectConfig).createHelper)==null?void 0:G.call(R,e)},[e]);return(0,Op.useEffect)(()=>{if(T!=null)return(h===t||S)&&(A.add(T),t4()),()=>{A.remove(T),t4()}},[h,S,T,A]),r2(()=>{T!=null&&T.update&&T.update()}),(0,Op.useEffect)(()=>{l&&x(!1)},[l]),(0,Op.useEffect)(()=>{if(!d)return;const R=d.sheetObject,G=d.objectConfig,j=L=>{var F;Object.entries(G.props).forEach(([W,U])=>U.apply(L[W],e)),(F=G.updateObject)==null||F.call(G,e),t4()};j(R.value);const w=R.onValuesChange(j);return()=>{w()}},[d]),d?Op.default.createElement(Op.default.Fragment,null,Op.default.createElement("group",{onClick:R=>{if(R.delta<2){R.stopPropagation();const G=kx.getState().editables[t].sheetObject;G?Am.setSelection([G]):console.log("no Theatre.js object for",t)}},onPointerOver:l?void 0:R=>{R.stopPropagation(),x(!0)},onPointerOut:l?void 0:R=>{R.stopPropagation(),x(!1)}},Op.default.createElement("primitive",{object:e},(v||d.objectConfig.dimensionless&&h!==t)&&Op.default.createElement(olt,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:S?.3:1}},Op.default.createElement("div",null,ppt[d.objectConfig.icon])),d.objectConfig.dimensionless&&Op.default.createElement(llt,{args:[2,4,2],onClick:R=>{if(R.delta<2){R.stopPropagation();const G=kx.getState().editables[t].sheetObject;G?Am.setSelection([G]):console.log("no Theatre.js object for",t)}},userData:{helper:!0}},Op.default.createElement("meshBasicMaterial",{visible:!1}))))):null},Spt=_pt,ix=pa(_s()),xpt=(0,ix.forwardRef)((t,e)=>{var n=t,{children:r,object:i,orbitControlsRef:o,onObjectChange:l,onDraggingChange:d}=n,h=v0(n,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]);const{camera:v,gl:S,invalidate:x}=Tf(),A=(0,ix.useMemo)(()=>new ult(v,S.domElement),[v,S.domElement]);return(0,ix.useLayoutEffect)(()=>(A.attach(i),()=>void A.detach()),[i,A]),(0,ix.useEffect)(()=>{var T;return(T=A==null?void 0:A.addEventListener)==null||T.call(A,"change",x),()=>{var R;return(R=A==null?void 0:A.removeEventListener)==null?void 0:R.call(A,"change",x)}},[A,x]),(0,ix.useEffect)(()=>{const T=R=>{o&&o.current&&(o.current.enabled=!R.value)};return A&&A.addEventListener("dragging-changed",T),()=>{A.removeEventListener("dragging-changed",T)}},[A,o]),(0,ix.useEffect)(()=>(l&&A.addEventListener("objectChange",l),()=>{l&&A.removeEventListener("objectChange",l)}),[l,A]),(0,ix.useEffect)(()=>(d&&A.addEventListener("dragging-changed",d),()=>{d&&A.removeEventListener("dragging-changed",d)}),[A,d]),ix.default.createElement("primitive",Ao({dispose:null,object:A,ref:e},h))}),wpt=xpt,Ept=pa(gB()),bpt=({orbitControlsRef:t})=>{var e,n,r;const i=(0,cv.useRef)(!1),o=Rx(),[l,d]=kx(W=>[W.sceneSnapshot,W.editables],Ept.default),h=(e=Px(o==null?void 0:o.props.transformControls.mode))!=null?e:"translate",v=(n=Px(o==null?void 0:o.props.transformControls.space))!=null?n:"world",S=(r=Px(o==null?void 0:o.props.viewport.shading))!=null?r:"rendered",x=(0,cv.useMemo)(()=>l==null?void 0:l.clone(),[l]),[A,T]=(0,cv.useState)({});(0,cv.useLayoutEffect)(()=>{if(!x)return;const W={};x.traverse(U=>{if(U.userData.__editable){const Q=U.userData.__storeKey;W[Q]||!d[Q]?U.parent.remove(U):W[Q]={portal:$st(cv.default.createElement(Spt,{storeKey:Q,object:U}),U.parent),object:U,editable:d[Q]}}}),T(W)},[t,x]);const R=NIe(),G=R&&A[R],j=R?d[R]:void 0,[w,L]=(0,cv.useState)({});(0,cv.useLayoutEffect)(()=>{if(!x)return;const W={};return x.traverse(U=>{const Q=U;Q.isMesh&&!Q.userData.helper&&(W[Q.id]=Q.material)}),L(W),()=>{}},[x]),(0,cv.useLayoutEffect)(()=>{x&&x.traverse(W=>{const U=W;if(U.isMesh&&!U.userData.helper){let Q;switch(S){case"wireframe":U.material=new th({wireframe:!0,color:"black"});break;case"flat":if(!w[U.id])return;Q=new th,w[U.id].hasOwnProperty("color")&&(Q.color=w[U.id].color),w[U.id].hasOwnProperty("map")&&(Q.map=w[U.id].map),w[U.id].hasOwnProperty("vertexColors")&&(Q.vertexColors=w[U.id].vertexColors),U.material=Q;break;case"solid":if(!w[U.id])return;Q=new ZJ,w[U.id].hasOwnProperty("color")&&(Q.color=w[U.id].color),w[U.id].hasOwnProperty("map")&&(Q.map=w[U.id].map),w[U.id].hasOwnProperty("vertexColors")&&(Q.vertexColors=w[U.id].vertexColors),U.material=Q;break;case"rendered":U.material=w[U.id]}}})},[S,w,x]);const F=(0,cv.useRef)(void 0);return x?cv.default.createElement(cv.default.Fragment,null,cv.default.createElement("primitive",{object:x}),R&&G&&j&&j.objectConfig.useTransformControls&&cv.default.createElement(wpt,{mode:h,space:v,orbitControlsRef:t,object:G.object,onObjectChange:()=>{const W=G.editable.sheetObject,U=G.object;F.current.capture(({set:Q})=>{h==="translate"&&Q(W.props.position,Zd(Ao({},W.value.position),{x:U.position.x,y:U.position.y,z:U.position.z})),h==="rotate"&&Q(W.props.rotation,Zd(Ao({},W.value.rotation),{x:U.rotation.x,y:U.rotation.y,z:U.rotation.z})),h==="scale"&&Q(W.props.scale,{x:U.scale.x,y:U.scale.y,z:U.scale.z})})},onDraggingChange:W=>(W.value?F.current=Am.scrub():F.current.commit(),i.current=W.value)}),Object.values(A).map(W=>W.portal)):null},Cpt=bpt;e2();var Apt=pa(_s()),P3=pa(_s()),mbe=(t,e)=>(t%e+e)%e,Tpt=class extends Cv{constructor(t,e){super(),Sa(this,"object"),Sa(this,"domElement"),Sa(this,"enabled",!0),Sa(this,"target",new Ve),Sa(this,"minDistance",0),Sa(this,"maxDistance",1/0),Sa(this,"minZoom",0),Sa(this,"maxZoom",1/0),Sa(this,"minPolarAngle",0),Sa(this,"maxPolarAngle",Math.PI),Sa(this,"minAzimuthAngle",-1/0),Sa(this,"maxAzimuthAngle",1/0),Sa(this,"enableDamping",!1),Sa(this,"dampingFactor",.05),Sa(this,"enableZoom",!0),Sa(this,"zoomSpeed",1),Sa(this,"enableRotate",!0),Sa(this,"rotateSpeed",1),Sa(this,"enablePan",!0),Sa(this,"panSpeed",1),Sa(this,"screenSpacePanning",!0),Sa(this,"keyPanSpeed",7),Sa(this,"autoRotate",!1),Sa(this,"autoRotateSpeed",2),Sa(this,"reverseOrbit",!1),Sa(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Sa(this,"mouseButtons",{LEFT:JE.ROTATE,MIDDLE:JE.DOLLY,RIGHT:JE.PAN}),Sa(this,"touches",{ONE:ZE.ROTATE,TWO:ZE.DOLLY_PAN}),Sa(this,"target0"),Sa(this,"position0"),Sa(this,"zoom0"),Sa(this,"_domElementKeyEvents",null),Sa(this,"getPolarAngle"),Sa(this,"getAzimuthalAngle"),Sa(this,"setPolarAngle"),Sa(this,"setAzimuthalAngle"),Sa(this,"getDistance"),Sa(this,"listenToKeyEvents"),Sa(this,"saveState"),Sa(this,"reset"),Sa(this,"update"),Sa(this,"connect"),Sa(this,"dispose"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof ys?this.object.zoom:1,this.getPolarAngle=()=>v.phi,this.getAzimuthalAngle=()=>v.theta,this.setPolarAngle=Je=>{let Jt=mbe(Je,2*Math.PI),On=v.phi;On<0&&(On+=2*Math.PI),Jt<0&&(Jt+=2*Math.PI);let Bn=Math.abs(Jt-On);2*Math.PI-Bn<Bn&&(Jt<On?Jt+=2*Math.PI:On+=2*Math.PI),S.phi=Jt-On,n.update()},this.setAzimuthalAngle=Je=>{let Jt=mbe(Je,2*Math.PI),On=v.theta;On<0&&(On+=2*Math.PI),Jt<0&&(Jt+=2*Math.PI);let Bn=Math.abs(Jt-On);2*Math.PI-Bn<Bn&&(Jt<On?Jt+=2*Math.PI:On+=2*Math.PI),S.theta=Jt-On,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=Je=>{Je.addEventListener("keydown",et),this._domElementKeyEvents=Je},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof ys?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof ys&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(r),n.update(),d=l.NONE},this.update=(()=>{const Je=new Ve,Jt=new to().setFromUnitVectors(t.up,new Ve(0,1,0)),On=Jt.clone().invert(),Bn=new Ve,Wn=new to,Yn=2*Math.PI;return function(){const cr=n.object.position;Je.copy(cr).sub(n.target),Je.applyQuaternion(Jt),v.setFromVector3(Je),n.autoRotate&&d===l.NONE&&Te(Z()),n.enableDamping?(v.theta+=S.theta*n.dampingFactor,v.phi+=S.phi*n.dampingFactor):(v.theta+=S.theta,v.phi+=S.phi);let ht=n.minAzimuthAngle,Ot=n.maxAzimuthAngle;return isFinite(ht)&&isFinite(Ot)&&(ht<-Math.PI?ht+=Yn:ht>Math.PI&&(ht-=Yn),Ot<-Math.PI?Ot+=Yn:Ot>Math.PI&&(Ot-=Yn),ht<=Ot?v.theta=Math.max(ht,Math.min(Ot,v.theta)):v.theta=v.theta>(ht+Ot)/2?Math.max(ht,v.theta):Math.min(Ot,v.theta)),v.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,v.phi)),v.makeSafe(),v.radius*=x,v.radius=Math.max(n.minDistance,Math.min(n.maxDistance,v.radius)),n.enableDamping===!0?n.target.addScaledVector(A,n.dampingFactor):n.target.add(A),Je.setFromSpherical(v),Je.applyQuaternion(On),cr.copy(n.target).add(Je),n.object.lookAt(n.target),n.enableDamping===!0?(S.theta*=1-n.dampingFactor,S.phi*=1-n.dampingFactor,A.multiplyScalar(1-n.dampingFactor)):(S.set(0,0,0),A.set(0,0,0)),x=1,T||Bn.distanceToSquared(n.object.position)>h||8*(1-Wn.dot(n.object.quaternion))>h?(n.dispatchEvent(r),Bn.copy(n.object.position),Wn.copy(n.object.quaternion),T=!1,!0):!1}})(),this.connect=Je=>{Je===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=Je,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Pn),n.domElement.addEventListener("pointerdown",Yt),n.domElement.addEventListener("pointercancel",nr),n.domElement.addEventListener("wheel",Hi)},this.dispose=()=>{var Je,Jt,On,Bn,Wn,Yn;(Je=n.domElement)==null||Je.removeEventListener("contextmenu",Pn),(Jt=n.domElement)==null||Jt.removeEventListener("pointerdown",Yt),(On=n.domElement)==null||On.removeEventListener("pointercancel",nr),(Bn=n.domElement)==null||Bn.removeEventListener("wheel",Hi),(Wn=n.domElement)==null||Wn.ownerDocument.removeEventListener("pointermove",Cn),(Yn=n.domElement)==null||Yn.ownerDocument.removeEventListener("pointerup",Dn),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",et)};const n=this,r={type:"change"},i={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=l.NONE;const h=1e-6,v=new k4,S=new k4;let x=1;const A=new Ve;let T=!1;const R=new vn,G=new vn,j=new vn,w=new vn,L=new vn,F=new vn,W=new vn,U=new vn,Q=new vn,de=[],fe={};function Z(){return 2*Math.PI/60/60*n.autoRotateSpeed}function he(){return Math.pow(.95,n.zoomSpeed)}function Te(Je){n.reverseOrbit?S.theta+=Je:S.theta-=Je}function je(Je){n.reverseOrbit?S.phi+=Je:S.phi-=Je}const Ke=(()=>{const Je=new Ve;return function(On,Bn){Je.setFromMatrixColumn(Bn,0),Je.multiplyScalar(-On),A.add(Je)}})(),Le=(()=>{const Je=new Ve;return function(On,Bn){n.screenSpacePanning===!0?Je.setFromMatrixColumn(Bn,1):(Je.setFromMatrixColumn(Bn,0),Je.crossVectors(n.object.up,Je)),Je.multiplyScalar(On),A.add(Je)}})(),Ge=(()=>{const Je=new Ve;return function(On,Bn){const Wn=n.domElement;if(Wn&&n.object instanceof ys&&n.object.isPerspectiveCamera){const Yn=n.object.position;Je.copy(Yn).sub(n.target);let Dr=Je.length();Dr*=Math.tan(n.object.fov/2*Math.PI/180),Ke(2*On*Dr/Wn.clientHeight,n.object.matrix),Le(2*Bn*Dr/Wn.clientHeight,n.object.matrix)}else Wn&&n.object instanceof yg&&n.object.isOrthographicCamera?(Ke(On*(n.object.right-n.object.left)/n.object.zoom/Wn.clientWidth,n.object.matrix),Le(Bn*(n.object.top-n.object.bottom)/n.object.zoom/Wn.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function ut(Je){n.object instanceof ys&&n.object.isPerspectiveCamera?x/=Je:n.object instanceof yg&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*Je)),n.object.updateProjectionMatrix(),T=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function st(Je){n.object instanceof ys&&n.object.isPerspectiveCamera?x*=Je:n.object instanceof yg&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/Je)),n.object.updateProjectionMatrix(),T=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _e(Je){R.set(Je.clientX,Je.clientY)}function Se(Je){W.set(Je.clientX,Je.clientY)}function we(Je){w.set(Je.clientX,Je.clientY)}function Pe(Je){G.set(Je.clientX,Je.clientY),j.subVectors(G,R).multiplyScalar(n.rotateSpeed);const Jt=n.domElement;Jt&&(Te(2*Math.PI*j.x/Jt.clientHeight),je(2*Math.PI*j.y/Jt.clientHeight)),R.copy(G),n.update()}function be(Je){U.set(Je.clientX,Je.clientY),Q.subVectors(U,W),Q.y>0?ut(he()):Q.y<0&&st(he()),W.copy(U),n.update()}function Ce(Je){L.set(Je.clientX,Je.clientY),F.subVectors(L,w).multiplyScalar(n.panSpeed),Ge(F.x,F.y),w.copy(L),n.update()}function qe(Je){Je.deltaY<0?st(he()):Je.deltaY>0&&ut(he()),n.update()}function mt(Je){let Jt=!1;switch(Je.code){case n.keys.UP:Ge(0,n.keyPanSpeed),Jt=!0;break;case n.keys.BOTTOM:Ge(0,-n.keyPanSpeed),Jt=!0;break;case n.keys.LEFT:Ge(n.keyPanSpeed,0),Jt=!0;break;case n.keys.RIGHT:Ge(-n.keyPanSpeed,0),Jt=!0;break}Jt&&(Je.preventDefault(),n.update())}function We(){if(de.length==1)R.set(de[0].pageX,de[0].pageY);else{const Je=.5*(de[0].pageX+de[1].pageX),Jt=.5*(de[0].pageY+de[1].pageY);R.set(Je,Jt)}}function Mt(){if(de.length==1)w.set(de[0].pageX,de[0].pageY);else{const Je=.5*(de[0].pageX+de[1].pageX),Jt=.5*(de[0].pageY+de[1].pageY);w.set(Je,Jt)}}function dt(){const Je=de[0].pageX-de[1].pageX,Jt=de[0].pageY-de[1].pageY,On=Math.sqrt(Je*Je+Jt*Jt);W.set(0,On)}function en(){n.enableZoom&&dt(),n.enablePan&&Mt()}function cn(){n.enableZoom&&dt(),n.enableRotate&&We()}function sn(Je){if(de.length==1)G.set(Je.pageX,Je.pageY);else{const On=Zn(Je),Bn=.5*(Je.pageX+On.x),Wn=.5*(Je.pageY+On.y);G.set(Bn,Wn)}j.subVectors(G,R).multiplyScalar(n.rotateSpeed);const Jt=n.domElement;Jt&&(Te(2*Math.PI*j.x/Jt.clientHeight),je(2*Math.PI*j.y/Jt.clientHeight)),R.copy(G)}function $e(Je){if(de.length==1)L.set(Je.pageX,Je.pageY);else{const Jt=Zn(Je),On=.5*(Je.pageX+Jt.x),Bn=.5*(Je.pageY+Jt.y);L.set(On,Bn)}F.subVectors(L,w).multiplyScalar(n.panSpeed),Ge(F.x,F.y),w.copy(L)}function Gt(Je){const Jt=Zn(Je),On=Je.pageX-Jt.x,Bn=Je.pageY-Jt.y,Wn=Math.sqrt(On*On+Bn*Bn);U.set(0,Wn),Q.set(0,Math.pow(U.y/W.y,n.zoomSpeed)),ut(Q.y),W.copy(U)}function Ut(Je){n.enableZoom&&Gt(Je),n.enablePan&&$e(Je)}function Kt(Je){n.enableZoom&&Gt(Je),n.enableRotate&&sn(Je)}function Yt(Je){var Jt,On;n.enabled!==!1&&(de.length===0&&((Jt=n.domElement)==null||Jt.ownerDocument.addEventListener("pointermove",Cn),(On=n.domElement)==null||On.ownerDocument.addEventListener("pointerup",Dn)),kn(Je),Je.pointerType==="touch"?Be(Je):dr(Je))}function Cn(Je){n.enabled!==!1&&(Je.pointerType==="touch"?Nt(Je):Jr(Je))}function Dn(Je){var Jt,On,Bn;Nn(Je),de.length===0&&((Jt=n.domElement)==null||Jt.releasePointerCapture(Je.pointerId),(On=n.domElement)==null||On.ownerDocument.removeEventListener("pointermove",Cn),(Bn=n.domElement)==null||Bn.ownerDocument.removeEventListener("pointerup",Dn)),n.dispatchEvent(o),d=l.NONE}function nr(Je){Nn(Je)}function dr(Je){let Jt;switch(Je.button){case 0:Jt=n.mouseButtons.LEFT;break;case 1:Jt=n.mouseButtons.MIDDLE;break;case 2:Jt=n.mouseButtons.RIGHT;break;default:Jt=-1}switch(Jt){case JE.DOLLY:if(n.enableZoom===!1)return;Se(Je),d=l.DOLLY;break;case JE.ROTATE:if(Je.ctrlKey||Je.metaKey||Je.shiftKey){if(n.enablePan===!1)return;we(Je),d=l.PAN}else if(Je.altKey){if(n.enableRotate===!1)return;_e(Je),d=l.ROTATE}break;case JE.PAN:if(Je.ctrlKey||Je.metaKey||Je.shiftKey){if(n.enableRotate===!1)return;_e(Je),d=l.ROTATE}else{if(n.enablePan===!1)return;we(Je),d=l.PAN}break;default:d=l.NONE}d!==l.NONE&&n.dispatchEvent(i)}function Jr(Je){if(n.enabled!==!1)switch(d){case l.ROTATE:if(n.enableRotate===!1)return;Pe(Je);break;case l.DOLLY:if(n.enableZoom===!1)return;be(Je);break;case l.PAN:if(n.enablePan===!1)return;Ce(Je);break}}function Hi(Je){n.enabled===!1||n.enableZoom===!1||d!==l.NONE&&d!==l.ROTATE||(Je.preventDefault(),n.dispatchEvent(i),qe(Je),n.dispatchEvent(o))}function et(Je){n.enabled===!1||n.enablePan===!1||mt(Je)}function Be(Je){switch(Ar(Je),de.length){case 1:switch(n.touches.ONE){case ZE.ROTATE:if(n.enableRotate===!1)return;We(),d=l.TOUCH_ROTATE;break;case ZE.PAN:if(n.enablePan===!1)return;Mt(),d=l.TOUCH_PAN;break;default:d=l.NONE}break;case 2:switch(n.touches.TWO){case ZE.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;en(),d=l.TOUCH_DOLLY_PAN;break;case ZE.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;cn(),d=l.TOUCH_DOLLY_ROTATE;break;default:d=l.NONE}break;default:d=l.NONE}d!==l.NONE&&n.dispatchEvent(i)}function Nt(Je){switch(Ar(Je),d){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;sn(Je),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;$e(Je),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ut(Je),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Kt(Je),n.update();break;default:d=l.NONE}}function Pn(Je){n.enabled!==!1&&Je.preventDefault()}function kn(Je){de.push(Je)}function Nn(Je){delete fe[Je.pointerId];for(let Jt=0;Jt<de.length;Jt++)if(de[Jt].pointerId==Je.pointerId){de.splice(Jt,1);return}}function Ar(Je){let Jt=fe[Je.pointerId];Jt===void 0&&(Jt=new vn,fe[Je.pointerId]=Jt),Jt.set(Je.pageX,Je.pageY)}function Zn(Je){const Jt=Je.pointerId===de[0].pointerId?de[1]:de[0];return fe[Jt.pointerId]}e!==void 0&&this.connect(e),this.update()}},Mpt=(0,P3.forwardRef)((t,e)=>{var n=t,{makeDefault:r,camera:i,regress:o,domElement:l,enableDamping:d=!0,onChange:h,onStart:v,onEnd:S}=n,x=v0(n,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const A=Tf(({invalidate:Q})=>Q),T=Tf(({camera:Q})=>Q),R=Tf(({gl:Q})=>Q),G=Tf(({events:Q})=>Q),j=Tf(({set:Q})=>Q),w=Tf(({get:Q})=>Q),L=Tf(({performance:Q})=>Q),F=i||T,W=l||(typeof G.connected!="boolean"?G.connected:R.domElement),U=(0,P3.useMemo)(()=>new Tpt(F),[F]);return r2(()=>{U.enabled&&U.update()}),(0,P3.useEffect)(()=>{const Q=de=>{A(),o&&L.regress(),h&&h(de)};return U.connect(W),U.addEventListener("change",Q),v&&U.addEventListener("start",v),S&&U.addEventListener("end",S),()=>{U.removeEventListener("change",Q),v&&U.removeEventListener("start",v),S&&U.removeEventListener("end",S),U.dispose()}},[W,h,v,S,o,U,A]),(0,P3.useEffect)(()=>{if(r){const Q=w().controls;return j({controls:U}),()=>j({controls:Q})}},[r,U]),Apt.createElement("primitive",Ao({ref:e,object:U,enableDamping:d},x))}),eH=pa(_s()),R3=pa(_s()),vbe=pa(_s());function gbe(t){const e=(0,vbe.useMemo)(()=>{let i=t;return{get current(){return i},set current(o){i=o,r(o)}}},[]),[n,r]=(0,vbe.useState)(()=>t);return[e,n]}var Ppt={transform:{position:{x:is.types.number(10),y:is.types.number(10),z:is.types.number(0)},target:{x:is.types.number(0),y:is.types.number(0),z:is.types.number(0)}},lens:{zoom:is.types.number(1,{range:[1e-4,10]}),fov:is.types.number(50,{range:[1,1e3]}),near:is.types.number(.1,{range:[0,1/0]}),far:is.types.number(2e3,{range:[0,1/0]}),focus:is.types.number(10,{range:[0,1/0]}),filmGauge:is.types.number(35,{range:[0,1/0]}),filmOffset:is.types.number(0,{range:[0,1/0]})}};function Rpt(t,e){const[n,r]=gbe(null),[i,o]=gbe(void 0),l=(0,eH.useRef)(null);return(0,eH.useLayoutEffect)(()=>{l.current||(l.current=t.object(`Editor Camera ${e}`,Ppt))},[e]),Dpt(o,r,l),kpt(o,r,l),[R3.default.createElement(R3.default.Fragment,null,R3.default.createElement(dlt,{makeDefault:!0,ref:i,position:[0,102,0]}),R3.default.createElement(Mpt,{makeDefault:!0,ref:n,camera:o,enableDamping:!1})),n]}var Ipt=200;function kpt(t,e,n){(0,eH.useLayoutEffect)(()=>{if(!t||e==null)return;let r;const i=()=>{var h;if(r){clearTimeout((h=r.scheduledCommit)==null?void 0:h.timer);const v=r;r.scheduledCommit={timer:setTimeout(()=>{v===r&&(r.scrub.commit(),r=void 0)},Ipt)}}},o=()=>{var h;r?clearTimeout((h=r.scheduledCommit)==null?void 0:h.timer):r={scrub:Am.scrub()}},l=()=>{i()},d=()=>{if(!r)return;const h=t.position,v={x:h.x,y:h.y,z:h.z},S=e.target,x={x:S.x,y:S.y,z:S.z},A={position:v,target:x};r.scrub.capture(({set:T})=>{T(n.current.props.transform,A)})};return e.addEventListener("start",o),e.addEventListener("end",l),e.addEventListener("change",d),()=>{e.removeEventListener("start",o),e.removeEventListener("end",l),e.removeEventListener("change",d),r&&(r.scrub.discard(),r=void 0)}},[t,e])}function Dpt(t,e,n){const r=Tf(({invalidate:i})=>i);(0,eH.useLayoutEffect)(()=>{if(!t||e===null)return;const i=n.current,o=d=>{const{position:h,target:v}=d.transform;t.zoom=d.lens.zoom,t.fov=d.lens.fov,t.near=d.lens.near,t.far=d.lens.far,t.focus=d.lens.focus,t.filmGauge=d.lens.filmGauge,t.filmOffset=d.lens.filmOffset,t.position.set(h.x,h.y,h.z),t.updateProjectionMatrix(),e.target.set(v.x,v.y,v.z),e.update(),r()},l=i.onValuesChange(o);return o(i.value),l},[t,e,n,r])}var Opt=class extends Yr{constructor({divisions:t=10,scale:e=.1,color:n=new ur("white"),distance:r=8e3,subgridOpacity:i=.05,gridOpacity:o=.15}={}){const l=new DMe(2,2,1,1),d=new Oc({glslVersion:P4,side:Mf,uniforms:{uScale:{value:e},uDivisions:{value:t},uColor:{value:n},uDistance:{value:r},uSubgridOpacity:{value:i},uGridOpacity:{value:o}},transparent:!0,vertexShader:`
          out vec3 worldPosition;
          uniform float uDistance;

          void main() {
              // Scale the plane by the drawing distance
              worldPosition = position.xzy * uDistance;
              worldPosition.xz += cameraPosition.xz;

              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
          }
      `,fragmentShader:`
          out vec4 fragColor;
          in vec3 worldPosition;

          uniform float uDivisions;
          uniform float uScale;
          uniform vec3 uColor;
          uniform float uDistance;
          uniform float uSubgridOpacity;
          uniform float uGridOpacity;

          float getGrid(float gapSize) {
              vec2 worldPositionByDivision = worldPosition.xz / gapSize;

              // Inverted, 0 where line, >1 where there's no line
              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing
              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both
              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,
              // otherwise only one side of the line will be anti-aliased
              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;
              float gridLine = min(grid.x, grid.y);

              // Uninvert and clamp
              return 1.0 - min(gridLine, 1.0);
          }

          void main() {
              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);
              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);

              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.
              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.
              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));
              float gridPower = subGridPower * uDivisions;

              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third
              float nextGridPower = gridPower * uDivisions;

              // 1 where grid, 0 where no grid
              float subgrid = getGrid(subGridPower * uScale);
              float grid = getGrid(gridPower * uScale);
              float nextGrid = getGrid(nextGridPower * uScale);

              // Where we are between the introduction of the current grid power and when we switch to the next grid power
              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);

              // The last x percentage of the current step over which we want to fade
              float fadeRange = 0.3;

              // We calculate the fade percentage from the step percentage and the fade range
              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;

              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff
              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);

              // Shade the subgrid
              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);

              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers
              float fadeCoefficient = 0.5;

              // Shade the grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);

              // Shade the next grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);

              if (fragColor.a <= 0.0) discard;
          }
      `,extensions:{derivatives:!0}});super(l,d),this.frustumCulled=!1}},Bpt=pa(_s()),by=pa(_s()),Lpt=pa(gB());e2();function Npt(t){return Qx({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(t)}var Fpt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII=",Upt=Eg.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: auto;
  cursor: pointer;
  overflow: hidden;
  border-radius: ${({minimized:t})=>t?"2px":"4px"};
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
`,zpt=Eg.canvas`
  display: block;
  width: ${({width:t,height:e})=>t>e?"auto":"100%"};
  height: ${({width:t,height:e})=>e>t?"auto":"100%"};
`,Hpt=cIe`
  0% { transform: translate(0,0) }
  10% { transform: translate(-5%,-5%) }
  20% { transform: translate(-10%,5%) }
  30% { transform: translate(5%,-10%) }
  40% { transform: translate(-5%,15%) }
  50% { transform: translate(-10%,5%) }
  60% { transform: translate(15%,0) }
  70% { transform: translate(0,10%) }
  80% { transform: translate(-15%,0) }
  90% { transform: translate(10%,5%) }
  100% { transform: translate(5%,0) }
`,jpt=Eg.div`
  position: relative;
  display: flex;
  width: 200px;
  height: 120px;
  padding: 18px;

  ::before {
    content: '';
    position: absolute;
    z-index: -1;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: #2f2f2f url(${Fpt}) repeat 0 0;
    animation: ${Hpt} 0.2s infinite;
  }
`,Gpt=Eg.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  text-align: center;
  opacity: 0.8;
`,Vpt=({maxHeight:t,maxWidth:e,minimized:n,onToggleMinified:r})=>{var i,o;const l=(0,by.useRef)(null),[d]=kx(R=>[R.gl],Lpt.default),[h,{width:v,height:S}]=t2(),x=(o=(i=d==null?void 0:d.getContextAttributes())==null?void 0:i.preserveDrawingBuffer)!=null?o:!1;(0,by.useLayoutEffect)(()=>{d&&h(d==null?void 0:d.domElement)},[d,h]);const[A,T]=(0,Bpt.useMemo)(()=>{if(!d)return[0,0];const R=v/(S||Number.EPSILON)||Number.EPSILON,G=Math.min(R*t,e),j=G/R;return[G,j]},[d,e,t,v,S]);return(0,by.useEffect)(()=>{let R;const G=j=>()=>{if(R=requestAnimationFrame(G(j)),!j.domElement||!x){cancelAnimationFrame(R);return}const w=l.current.getContext("2d");w.imageSmoothingQuality="high",w.fillStyle="white",w.fillRect(0,0,A,T),w.drawImage(j.domElement,0,0,A,T)};return d&&G(d)(),()=>{cancelAnimationFrame(R)}},[d,A,T,x]),by.default.createElement(Upt,{minimized:n,onClick:r,style:{width:n?32:x?`${A}px`:"auto",height:n?32:x?`${T}px`:"auto"}},x?by.default.createElement(zpt,{ref:l,width:A,height:T}):by.default.createElement(jpt,null,by.default.createElement(Gpt,null,by.default.createElement(Npt,{size:"3em"}),by.default.createElement("code",null,"Please set ",by.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},Wpt=Vpt,Kpt=uIe`
  :host {
    contain: strict;
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`,qpt=({snapshotEditorSheet:t,paneId:e})=>{var n,r,i;const[o,l,d]=Tf(j=>[j.gl,j.scene,j.camera],yQ.default),[h,v]=Rpt(t,e),S=Rx(),x=(n=Px(S==null?void 0:S.props.viewport.lighting))!=null?n:"physical";(0,vM.useEffect)(()=>{o&&l&&d&&(o.physicallyCorrectLights=x==="physical",o.compile(l,d))},[o,x,l,d]);const A=kx(j=>j.helpersRoot,yQ.default),T=(r=Px(S==null?void 0:S.props.viewport.showGrid))!=null?r:!0,R=(i=Px(S==null?void 0:S.props.viewport.showAxes))!=null?i:!0,G=(0,vM.useMemo)(()=>new Opt,[]);return ec.default.createElement(mpt,null,T&&ec.default.createElement("primitive",{object:G}),R&&ec.default.createElement("axesHelper",{args:[500]}),h,ec.default.createElement("primitive",{object:A}),ec.default.createElement(Cpt,{orbitControlsRef:v}),ec.default.createElement("color",{attach:"background",args:[.24,.24,.24]}))},Xpt=Eg.div`
  tab-size: 4;
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  margin: 0;

  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
`,Ypt=Eg.div`
  position: relative;
  z-index: 0;
  height: 100%;
  overflow: hidden;
`,$pt=Eg.div`
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
`,Qpt=Eg.div`
  position: absolute;
  left: 12px;
  top: 12px;
  pointer-events: auto;
`,Jpt=Eg.div`
  position: absolute;
  right: 12px;
  top: 12px;
  justify-content: center;
`,Zpt=Eg.div`
  position: absolute;
  margin: auto;
  left: 0;
  right: 0;
  width: 300px;
  top: 12px;
  padding: 16px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);

  backdrop-filter: blur(14px);
  background: rgba(40, 43, 47, 0.8);

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(40, 43, 47, 0.95);
  }
`,emt=t=>{var e,n;const r=ike(),i=t.paneId,o=Rx(),[l,d]=t2(),[h,v]=kx(R=>[R.sceneSnapshot,R.createSnapshot],yQ.default);(0,vM.useLayoutEffect)(()=>{v()},[]);const S=(0,vM.useCallback)(()=>{const R=Am.selection.find(G=>V4.has(G));R&&Am.setSelection([R.sheet])},[]),[x,A]=(0,vM.useState)();if((0,vM.useEffect)(()=>{if(x)return Am.ui.renderToolset("snapshot-editor",x)},[x]),!o)return ec.default.createElement(ec.default.Fragment,null);const T=(n=Px((e=Rx())==null?void 0:e.props.viewport.referenceWindow))!=null?n:"minimized";return ec.default.createElement(Qst.default.div,{style:{overflow:"hidden"}},ec.default.createElement(JZ,{disableVendorPrefixes:!0},ec.default.createElement(ec.default.Fragment,null,ec.default.createElement(Kpt,null),ec.default.createElement(Xpt,null,ec.default.createElement($pt,null,ec.default.createElement(Qpt,{ref:A}),T!=="hidden"&&ec.default.createElement(Jpt,null,ec.default.createElement(Wpt,{maxHeight:Math.min(d.height*.3,150),maxWidth:Math.min(d.width*.3,250),minimized:T==="minimized",onToggleMinified:()=>{Am.transaction(({set:R})=>{R(Rx().props.viewport.referenceWindow,T==="minimized"?"maximized":"minimized")})}})),!h&&ec.default.createElement(Zpt,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),ec.default.createElement(Ypt,{ref:l},ec.default.createElement(jst,{onCreated:({gl:R})=>{R.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:S},ec.default.createElement(qpt,{snapshotEditorSheet:r,paneId:i})))))))},tmt=emt,ybe=pa(ZH()),nmt=pa(_s()),rmt='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',imt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>',amt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>',omt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>',smt='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',_be='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',lmt='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>',umt='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>',cmt='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>',fmt={id:"@theatre/r3f",toolbars:{global(t,e){const n=Ln.prism(()=>(Rx(),[{type:"Icon",title:"Create Snapshot",svgSource:rmt,onClick:()=>{e.createPane("snapshot")}}]));return n.tapImmediate(Ln.Ticker.raf,()=>{t(n.getValue())})},"snapshot-editor":(t,e)=>{const{createSnapshot:n}=kx.getState(),r=Ln.prism(()=>{var i,o,l;const d=Rx(),h=(i=Ln.val(d==null?void 0:d.props.transformControls.mode))!=null?i:"translate",v=(o=Ln.val(d==null?void 0:d.props.transformControls.space))!=null?o:"world",S=(l=Ln.val(d==null?void 0:d.props.viewport.shading))!=null?l:"rendered";return[{type:"Icon",onClick:n,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:h,onChange:x=>e.transaction(({set:A})=>A(d.props.transformControls.mode,x)),options:[{value:"translate",label:"Tool: Translate",svgSource:imt},{value:"rotate",label:"Tool: Rotate",svgSource:amt},{value:"scale",label:"Tool: Scale",svgSource:omt}]},{type:"Switch",value:v,onChange:x=>e.transaction(({set:A})=>{A(d.props.transformControls.space,x)}),options:[{value:"world",label:"Space: World",svgSource:smt},{value:"local",label:"Space: Local",svgSource:_be}]},{type:"Switch",value:S,onChange:x=>e.transaction(({set:A})=>{A(d.props.viewport.shading,x)}),options:[{value:"wireframe",label:"Display: Wireframe",svgSource:_be},{value:"flat",label:"Display: Flat",svgSource:lmt},{value:"solid",label:"Display: Solid",svgSource:umt},{value:"rendered",label:"Display: Rendered",svgSource:cmt}]}]});return r.tapImmediate(Ln.Ticker.raf,()=>{t(r.getValue())})}},panes:[{class:"snapshot",mount:({paneId:t,node:e})=>{ybe.default.render(nmt.default.createElement(tmt,{paneId:t}),e);function n(){ybe.default.unmountComponentAtNode(e)}return n}}]},dmt=fmt;/*
object-assign
(c) Sindre Sorhus
@license MIT
*//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 *//** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Am.initialize(),Am.extend(dmt);Am.ui.hide();const lke=is.getProject("MedievalTownVideo",void 0),Sbe=lke.sheet("Main"),hmt={Home:[0,5],Castle:[6,12],Windmill:[12,18],Farm:[18,24]};function pmt(){const[t,e]=St.useState("Intro"),[n,r]=St.useState("Home"),i=St.useRef(),o=St.useRef(!1);return St.useEffect(()=>{lke.ready.then(()=>{if(t===n||o.current&&t==="Intro")return;o.current=!0;const l=hmt[n];l&&Sbe.sequence.play({range:l}).then(()=>{e(n)})})},[n]),vr.jsxs(vr.Fragment,{children:[vr.jsx(zit,{currentScreen:t,onScreenChange:r,isAnimating:t!==n}),vr.jsxs(t2e,{camera:{position:[5,5,10],fov:30,near:1},shadows:!0,gl:{preserveDrawingBuffer:!0},children:[vr.jsx(bet,{}),vr.jsxs(sat,{sheet:Sbe,children:[vr.jsx(hat,{position:[5,5,10],fov:30,near:1,makeDefault:!0,theatreKey:"CameraBook",lookAt:i}),vr.jsxs(RM.mesh,{theatreKey:"CameraTarget",visible:"editor",ref:i,children:[vr.jsx("octahedronGeometry",{args:[.1,0]}),vr.jsx("meshPhongMaterial",{color:"yellow"})]}),vr.jsx(Lot,{})]})]})]})}oY.createRoot(document.getElementById("root")).render(vr.jsx(eP.StrictMode,{children:vr.jsx(pmt,{})}))});export default mmt();
